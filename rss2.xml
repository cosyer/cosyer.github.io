<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>cosyer&#39;s Blog</title>
    <link>http://mydearest.cn/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>é™ˆå®‡çš„åšå®¢</description>
    <pubDate>Tue, 23 Jun 2020 17:27:17 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>XSSå­¦ä¹ &amp;å®è·µ</title>
      <link>http://mydearest.cn/2020/XSS%E5%AD%A6%E4%B9%A0&amp;%E5%AE%9E%E8%B7%B5.html</link>
      <guid>http://mydearest.cn/2020/XSS%E5%AD%A6%E4%B9%A0&amp;%E5%AE%9E%E8%B7%B5.html</guid>
      <pubDate>Tue, 23 Jun 2020 17:13:10 GMT</pubDate>
      <description>
      
        &lt;p&gt;&lt;code&gt;webå®‰å…¨&lt;/code&gt;ä¸€ç›´æ˜¯å¼€å‘ä¸­ä¸å¯å¿½è§†çš„ä¸€éƒ¨åˆ†ã€‚è€Œxssä½œä¸ºwebå¼€å‘ä¸­æœ€å¸¸è§çš„æ”»å‡»æ‰‹æ®µï¼Œé˜²èŒƒæ˜¯å¿…ç„¶çš„ã€‚åŸºäºwebæµè§ˆå™¨tricksï¼ŒJavaScriptçš„å‘å±•ï¼Œnpmç­‰å¼€æºé¡¹ç›®æ¼
æ´ï¼Œwebæ³¨å…¥ç­‰ä¼šè®©å¼€å‘è€…è¶Šæ¥è¶Šé˜²ä¸èƒœé˜²ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ’å…¥æ‰§è¡Œæ ‡ç­¾&quot;&gt;&lt;a href=&quot;#æ’å…¥æ‰§è¡Œæ ‡ç­¾&quot; class=&quot;headerlink&quot; title=&quot;æ’å…¥æ‰§è¡Œæ ‡ç­¾&quot;&gt;&lt;/a&gt;æ’å…¥æ‰§è¡Œæ ‡ç­¾&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;script&lt;/li&gt;
&lt;li&gt;img onerrorè§¦å‘&lt;/li&gt;
&lt;li&gt;iframe srcdocè§¦å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æ ‡ç­¾ç­‰æå‰é—­åˆ-æˆªæ–­&quot;&gt;&lt;a href=&quot;#æ ‡ç­¾ç­‰æå‰é—­åˆ-æˆªæ–­&quot; class=&quot;headerlink&quot; title=&quot;æ ‡ç­¾ç­‰æå‰é—­åˆ(æˆªæ–­)&quot;&gt;&lt;/a&gt;æ ‡ç­¾ç­‰æå‰é—­åˆ(æˆªæ–­)&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å¦‚åœ¨å¯Œæ–‡æœ¬, input, textarea, å¯ç¼–è¾‘divç­‰ï¼Œ&lt;a href=&quot;https://xss.haozi.me/#/0x01&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;0x01&lt;/a&gt;ï¼Œ&lt;a href=&quot;https://xss.haozi.me/#/0x02&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;0x02&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;styleæ ‡ç­¾&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;style&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&lt;span class=&quot;regexp&quot;&gt;/style &amp;gt;&amp;lt;script&amp;gt;alert(1)&amp;lt;/&lt;/span&gt;script&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&lt;span class=&quot;regexp&quot;&gt;/style&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ³¨é‡Šæå‰é—­åˆ&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;--!&amp;gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;alert(1)&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p><code>webå®‰å…¨</code>ä¸€ç›´æ˜¯å¼€å‘ä¸­ä¸å¯å¿½è§†çš„ä¸€éƒ¨åˆ†ã€‚è€Œxssä½œä¸ºwebå¼€å‘ä¸­æœ€å¸¸è§çš„æ”»å‡»æ‰‹æ®µï¼Œé˜²èŒƒæ˜¯å¿…ç„¶çš„ã€‚åŸºäºwebæµè§ˆå™¨tricksï¼ŒJavaScriptçš„å‘å±•ï¼Œnpmç­‰å¼€æºé¡¹ç›®æ¼æ´ï¼Œwebæ³¨å…¥ç­‰ä¼šè®©å¼€å‘è€…è¶Šæ¥è¶Šé˜²ä¸èƒœé˜²ã€‚</p><h2 id="æ’å…¥æ‰§è¡Œæ ‡ç­¾"><a href="#æ’å…¥æ‰§è¡Œæ ‡ç­¾" class="headerlink" title="æ’å…¥æ‰§è¡Œæ ‡ç­¾"></a>æ’å…¥æ‰§è¡Œæ ‡ç­¾</h2><ul><li>script</li><li>img onerrorè§¦å‘</li><li>iframe srcdocè§¦å‘</li></ul><h2 id="æ ‡ç­¾ç­‰æå‰é—­åˆ-æˆªæ–­"><a href="#æ ‡ç­¾ç­‰æå‰é—­åˆ-æˆªæ–­" class="headerlink" title="æ ‡ç­¾ç­‰æå‰é—­åˆ(æˆªæ–­)"></a>æ ‡ç­¾ç­‰æå‰é—­åˆ(æˆªæ–­)</h2><ul><li>å¦‚åœ¨å¯Œæ–‡æœ¬, input, textarea, å¯ç¼–è¾‘divç­‰ï¼Œ<a href="https://xss.haozi.me/#/0x01" target="_blank" rel="noopener">0x01</a>ï¼Œ<a href="https://xss.haozi.me/#/0x02" target="_blank" rel="noopener">0x02</a></li><li><p>styleæ ‡ç­¾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">&lt;<span class="regexp">/style &gt;&lt;script&gt;alert(1)&lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æ³¨é‡Šæå‰é—­åˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--!&gt;<span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">alert(1)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li></ul><hr><a id="more"></a><ul><li>input typeé‡å†™inputçš„typeï¼Œåœ¨typeä¹‹å‰å¯ä»¥é‡å†™ä¸ºimageï¼Œé€šè¿‡onerroræ³¨å…¥</li></ul><h2 id="ES6-tagæ ‡ç­¾"><a href="#ES6-tagæ ‡ç­¾" class="headerlink" title="ES6 tagæ ‡ç­¾"></a>ES6 tagæ ‡ç­¾</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert<span class="string">`1`</span>&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è½¬ä¹‰å­—ç¬¦ä»å¯æ‰§è¡Œ"><a href="#è½¬ä¹‰å­—ç¬¦ä»å¯æ‰§è¡Œ" class="headerlink" title="è½¬ä¹‰å­—ç¬¦ä»å¯æ‰§è¡Œ"></a>è½¬ä¹‰å­—ç¬¦ä»å¯æ‰§è¡Œ</h2><ul><li>scriptæ ‡ç­¾å¯æ‰§è¡Œ base64çš„htmlä»£ç ç‰‡æ®µ</li><li>onerrorå¯æ‰§è¡Œ è½¬ä¹‰ä¸º html 10è¿›åˆ¶ï¼Œ 16è¿›åˆ¶çš„ä»£ç ç‰‡æ®µ</li><li>urlè½¬ä¹‰ä¸º html 10è¿›åˆ¶ï¼Œ 16è¿›åˆ¶ ä»å¯æ‰§è¡Œ, urlçš„å®šä¹‰å¯è·å–å…¶ä»–åŸŸä¸‹çš„èµ„æºæ–‡ä»¶<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scheme:[<span class="comment">//[user:password@]host[:port]][/]path[?query][#fragment]</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="svgä¸é—­åˆä¹Ÿæ‰§è¡Œ"><a href="#svgä¸é—­åˆä¹Ÿæ‰§è¡Œ" class="headerlink" title="svgä¸é—­åˆä¹Ÿæ‰§è¡Œ"></a>svgä¸é—­åˆä¹Ÿæ‰§è¡Œ</h2><h2 id="æ­£åˆ™æ›¿æ¢ä¸é è°±"><a href="#æ­£åˆ™æ›¿æ¢ä¸é è°±" class="headerlink" title="æ­£åˆ™æ›¿æ¢ä¸é è°±"></a>æ­£åˆ™æ›¿æ¢ä¸é è°±</h2><ul><li>æ­£åˆ™æ›¿æ¢</li><li>æ­£åˆ™å‘½ä¸­</li><li>è¿½åŠ æ‰§è¡Œï¼Œæ­£åˆ™æ›¿æ¢å¤±æ•ˆ</li></ul><h2 id="é˜²æŠ¤"><a href="#é˜²æŠ¤" class="headerlink" title="é˜²æŠ¤"></a>é˜²æŠ¤</h2><ul><li>é…ç½®å®‰å…¨å¤´</li><li>xssç›‘æ§</li><li>æœåŠ¡ç«¯ç™½åå•è¿‡æ»¤</li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/XSS%E5%AD%A6%E4%B9%A0&amp;%E5%AE%9E%E8%B7%B5.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>windowså®‰è£…mysql</title>
      <link>http://mydearest.cn/2020/windows%E5%AE%89%E8%A3%85mysql.html</link>
      <guid>http://mydearest.cn/2020/windows%E5%AE%89%E8%A3%85mysql.html</guid>
      <pubDate>Tue, 23 Jun 2020 09:05:10 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;å®‰è£…åŒ…ä¸‹è½½&quot;&gt;&lt;a href=&quot;#å®‰è£…åŒ…ä¸‹è½½&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…åŒ…ä¸‹è½½&quot;&gt;&lt;/a&gt;å®‰è£…åŒ…ä¸‹è½½&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸‹è½½åœ°å€ï¼š&lt;a href=&quot;https://dev.mysql.com/downloads/mysql/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://dev.mysql.com/downloads/mysql/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mysqlå›½å†…é•œåƒï¼š&lt;a href=&quot;http://mirrors.sohu.com/mysql/MySQL-8.0/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://mirrors.sohu.com/mysql/MySQL-8.0/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹è½½å®Œæˆåï¼Œé€‰æ‹©ä¸€ä¸ªç£ç›˜å†…æ”¾ç½®å¹¶è§£å‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è®¾ç½®ç¯å¢ƒå˜é‡&quot;&gt;&lt;a href=&quot;#è®¾ç½®ç¯å¢ƒå˜é‡&quot; class=&quot;headerlink&quot; title=&quot;è®¾ç½®ç¯å¢ƒå˜é‡&quot;&gt;&lt;/a&gt;è®¾ç½®ç¯å¢ƒå˜é‡&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;å˜é‡åï¼šMYSQL_HOME&lt;/li&gt;
&lt;li&gt;å˜é‡å€¼ï¼šE:\mysql5.7.23&lt;/li&gt;
&lt;li&gt;pathé‡Œæ·»åŠ ï¼š%MYSQL_HOME%\bin&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;åˆå§‹åŒ–è®¾ç½®&quot;&gt;&lt;a href=&quot;#åˆå§‹åŒ–è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;åˆå§‹åŒ–è®¾ç½®&quot;&gt;&lt;/a&gt;åˆå§‹åŒ–è®¾ç½®&lt;/h2&gt;&lt;h3 id=&quot;åˆ›å»ºdata-Uploadsæ–‡ä»¶å¤¹&quot;&gt;&lt;a href=&quot;#åˆ›å»ºdata-Uploadsæ–‡ä»¶å¤¹&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºdata Uploadsæ–‡ä»¶å¤¹&quot;&gt;&lt;/a&gt;åˆ›å»ºdata Uploadsæ–‡ä»¶å¤¹&lt;/h3&gt;&lt;h3 id=&quot;my-initæ–‡ä»¶&quot;&gt;&lt;a href=&quot;#my-initæ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;my.initæ–‡ä»¶&quot;&gt;&lt;/a&gt;my.initæ–‡ä»¶&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[mysqld]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;port=&lt;span class=&quot;number&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;character_set_server=utf8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;basedir=E:\mysql5&lt;span class=&quot;number&quot;&gt;.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.23&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;datadir=E:\mysql5&lt;span class=&quot;number&quot;&gt;.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.23&lt;/span&gt;\data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;server-id=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sql_mode=NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lower_case_table_names=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;innodb_file_per_table = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log_timestamps=SYSTEM&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log-error   = error.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;slow_query_log = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;slow_query_log_file = slow.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;long_query_time = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log-bin = binlog&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;binlog_format = row&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;expire_logs_days = &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log_bin_trust_function_creators = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;secure-file-priv=E:\mysql5&lt;span class=&quot;number&quot;&gt;.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.23&lt;/span&gt;\Uploads&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[client]   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;-character-set=utf8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="å®‰è£…åŒ…ä¸‹è½½"><a href="#å®‰è£…åŒ…ä¸‹è½½" class="headerlink" title="å®‰è£…åŒ…ä¸‹è½½"></a>å®‰è£…åŒ…ä¸‹è½½</h2><ul><li><p>ä¸‹è½½åœ°å€ï¼š<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/</a></p></li><li><p>Mysqlå›½å†…é•œåƒï¼š<a href="http://mirrors.sohu.com/mysql/MySQL-8.0/" target="_blank" rel="noopener">http://mirrors.sohu.com/mysql/MySQL-8.0/</a></p></li></ul><p>ä¸‹è½½å®Œæˆåï¼Œé€‰æ‹©ä¸€ä¸ªç£ç›˜å†…æ”¾ç½®å¹¶è§£å‹ã€‚</p><h2 id="è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç¯å¢ƒå˜é‡</h2><ol><li>å˜é‡åï¼šMYSQL_HOME</li><li>å˜é‡å€¼ï¼šE:\mysql5.7.23</li><li>pathé‡Œæ·»åŠ ï¼š%MYSQL_HOME%\bin</li></ol><h2 id="åˆå§‹åŒ–è®¾ç½®"><a href="#åˆå§‹åŒ–è®¾ç½®" class="headerlink" title="åˆå§‹åŒ–è®¾ç½®"></a>åˆå§‹åŒ–è®¾ç½®</h2><h3 id="åˆ›å»ºdata-Uploadsæ–‡ä»¶å¤¹"><a href="#åˆ›å»ºdata-Uploadsæ–‡ä»¶å¤¹" class="headerlink" title="åˆ›å»ºdata Uploadsæ–‡ä»¶å¤¹"></a>åˆ›å»ºdata Uploadsæ–‡ä»¶å¤¹</h3><h3 id="my-initæ–‡ä»¶"><a href="#my-initæ–‡ä»¶" class="headerlink" title="my.initæ–‡ä»¶"></a>my.initæ–‡ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">port=<span class="number">3306</span></span><br><span class="line">character_set_server=utf8</span><br><span class="line">basedir=E:\mysql5<span class="number">.7</span><span class="number">.23</span></span><br><span class="line">datadir=E:\mysql5<span class="number">.7</span><span class="number">.23</span>\data</span><br><span class="line">server-id=<span class="number">1</span></span><br><span class="line">sql_mode=NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span><br><span class="line">lower_case_table_names=<span class="number">1</span></span><br><span class="line">innodb_file_per_table = <span class="number">1</span></span><br><span class="line">log_timestamps=SYSTEM</span><br><span class="line"></span><br><span class="line">log-error   = error.log</span><br><span class="line">slow_query_log = <span class="number">1</span></span><br><span class="line">slow_query_log_file = slow.log</span><br><span class="line">long_query_time = <span class="number">5</span></span><br><span class="line">log-bin = binlog</span><br><span class="line">binlog_format = row</span><br><span class="line">expire_logs_days = <span class="number">15</span></span><br><span class="line">log_bin_trust_function_creators = <span class="number">1</span></span><br><span class="line">secure-file-priv=E:\mysql5<span class="number">.7</span><span class="number">.23</span>\Uploads</span><br><span class="line"></span><br><span class="line">[client]   </span><br><span class="line"><span class="keyword">default</span>-character-set=utf8</span><br></pre></td></tr></table></figure><hr><a id="more"></a><h3 id="åˆå§‹åŒ–ç”Ÿæˆdataä¸‹æ–‡ä»¶-ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd"><a href="#åˆå§‹åŒ–ç”Ÿæˆdataä¸‹æ–‡ä»¶-ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd" class="headerlink" title="åˆå§‹åŒ–ç”Ÿæˆdataä¸‹æ–‡ä»¶(ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd)"></a>åˆå§‹åŒ–ç”Ÿæˆdataä¸‹æ–‡ä»¶(ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize-insecure</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…æœåŠ¡"><a href="#å®‰è£…æœåŠ¡" class="headerlink" title="å®‰è£…æœåŠ¡"></a>å®‰è£…æœåŠ¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --install mysql8</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨å’Œåœæ­¢"><a href="#å¯åŠ¨å’Œåœæ­¢" class="headerlink" title="å¯åŠ¨å’Œåœæ­¢"></a>å¯åŠ¨å’Œåœæ­¢</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net start mysql8 </span><br><span class="line">net stop mysql8</span><br></pre></td></tr></table></figure><h2 id="MySQLåˆå§‹åŒ–rootå¯†ç "><a href="#MySQLåˆå§‹åŒ–rootå¯†ç " class="headerlink" title="MySQLåˆå§‹åŒ–rootå¯†ç "></a>MySQLåˆå§‹åŒ–rootå¯†ç </h2><ul><li>mysqlé»˜è®¤rootç”¨æˆ·æ²¡æœ‰å¯†ç ï¼Œè¾“å…¥mysql â€“u root è¿›å…¥mysql</li></ul><ol><li><p>è¿›å…¥mysqlæ•°æ®åº“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br></pre></td></tr></table></figure></li><li><p>åˆå§‹åŒ–rootå¯†ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;update user set password=PASSWORD(<span class="string">'123456'</span>) where User=<span class="string">'root'</span>;</span><br></pre></td></tr></table></figure></li></ol><p><code>8.0+ç‰ˆæœ¬</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER <span class="string">'root'</span>@<span class="string">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span class="string">'123456'</span>;</span><br></pre></td></tr></table></figure></p><h2 id="rootå¯†ç å¿˜è®°è§£å†³æ–¹æ³•ï¼ˆWindowsç¯å¢ƒï¼‰"><a href="#rootå¯†ç å¿˜è®°è§£å†³æ–¹æ³•ï¼ˆWindowsç¯å¢ƒï¼‰" class="headerlink" title="rootå¯†ç å¿˜è®°è§£å†³æ–¹æ³•ï¼ˆWindowsç¯å¢ƒï¼‰"></a>rootå¯†ç å¿˜è®°è§£å†³æ–¹æ³•ï¼ˆWindowsç¯å¢ƒï¼‰</h2><ol><li><p>ç¡®ä¿MySQLæœåŠ¡åœæ­¢</p></li><li><p>æ‰“å¼€ç¬¬ä¸€ä¸ªcmdçª—å£ï¼Œè¿›å…¥MySQLå®‰è£…ç›®å½•ä¸‹çš„binç›®å½•</p></li><li><p>è·³è¿‡æƒé™å®‰å…¨æ£€æŸ¥ï¼ŒMySQLæœåŠ¡è¿è¡Œèµ·æ¥åï¼Œä¸ç”¨è¾“å…¥å¯†ç å°±èƒ½è¿›å…¥æ•°æ®åº“</p></li></ol><p>ä¾‹å¦‚ï¼ŒD:\mysql-5.5.35-win32\bin&gt;mysqld â€“defaults-file=â€D:\mysql-5.5.35-win32\my.iniâ€ â€“console â€“skip-grant-tables</p><ol><li>æ‰“å¼€ç¬¬äºŒä¸ªcmdçª—å£ï¼Œè¿æ¥MySQL</li></ol><ul><li><p>è¾“å…¥å‘½ä»¤ï¼šmysql -uroot -p</p></li><li><p>å‡ºç° Enter password: ç›´æ¥å›è½¦</p></li></ul><ol><li><p>ä½¿ç”¨å‘½ä»¤åˆ‡æ¢åˆ°mysqlæ•°æ®åº“ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨å‘½ä»¤æ›´æ”¹rootå¯†ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE user SET Password=PASSWORD(<span class="string">'123456'</span>) where USER=<span class="string">'root'</span>;</span><br></pre></td></tr></table></figure></li><li><p>åˆ·æ–°æƒé™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure></li><li><p>é€€å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit;</span><br></pre></td></tr></table></figure></li><li><p>å…³é—­ä¸Šé¢æ‰“å¼€çš„ä¸¤ä¸ªcmdçª—å£ï¼Œé‡æ–°å¯åŠ¨MySQLæœåŠ¡ã€‚</p></li></ol>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/windows%E5%AE%89%E8%A3%85mysql.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ã€Mac ç»ˆç«¯é…ç½®ã€‘iTerm2 + oh-my-zsh</title>
      <link>http://mydearest.cn/2020/Mac%20iTerm2%20+%20oh-my-zsh.html</link>
      <guid>http://mydearest.cn/2020/Mac%20iTerm2%20+%20oh-my-zsh.html</guid>
      <pubDate>Sun, 21 Jun 2020 15:41:55 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;å‰ç½®æ ¡éªŒ&quot;&gt;&lt;a href=&quot;#å‰ç½®æ ¡éªŒ&quot; class=&quot;headerlink&quot; title=&quot;å‰ç½®æ ¡éªŒ&quot;&gt;&lt;/a&gt;å‰ç½®æ ¡éªŒ&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 1ã€é»˜è®¤å·²å®‰è£… Homebrewã€iTerm2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 2ã€æŸ¥çœ‹æ˜¯å¦å®‰è£…äº†zshï¼ŒæŸ¥çœ‹æ˜¯å¦è¿”å› /usr/bin/zsh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat /etc/shells&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# è‹¥æœªå®‰è£…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;brew install zsh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# iTerm2 å¯åŠ¨é¡¹é…ç½®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chsh -s /bin/zsh      &lt;span class=&quot;comment&quot;&gt;# è®¾ç½®ä¸ºzsh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chsh -s /bin/bash     &lt;span class=&quot;comment&quot;&gt;# è®¾ç½®ä¸ºbashï¼ˆMacè‡ªå¸¦é»˜è®¤ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="å‰ç½®æ ¡éªŒ"><a href="#å‰ç½®æ ¡éªŒ" class="headerlink" title="å‰ç½®æ ¡éªŒ"></a>å‰ç½®æ ¡éªŒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€é»˜è®¤å·²å®‰è£… Homebrewã€iTerm2</span></span><br><span class="line"><span class="comment"># 2ã€æŸ¥çœ‹æ˜¯å¦å®‰è£…äº†zshï¼ŒæŸ¥çœ‹æ˜¯å¦è¿”å› /usr/bin/zsh</span></span><br><span class="line">cat /etc/shells</span><br><span class="line"><span class="comment"># è‹¥æœªå®‰è£…</span></span><br><span class="line">brew install zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># iTerm2 å¯åŠ¨é¡¹é…ç½®</span></span><br><span class="line">chsh -s /bin/zsh      <span class="comment"># è®¾ç½®ä¸ºzsh</span></span><br><span class="line">chsh -s /bin/bash     <span class="comment"># è®¾ç½®ä¸ºbashï¼ˆMacè‡ªå¸¦é»˜è®¤ï¼‰</span></span><br></pre></td></tr></table></figure><hr><a id="more"></a><h2 id="å®‰è£…-ob-my-zsh"><a href="#å®‰è£…-ob-my-zsh" class="headerlink" title="å®‰è£… ob-my-zsh"></a>å®‰è£… ob-my-zsh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–¹å¼ä¸€ï¼šwegtå®‰è£…</span></span><br><span class="line">wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹å¼äºŒï¼šcurl å®‰è£…</span></span><br><span class="line">sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨å®‰è£…</span></span><br><span class="line">git <span class="built_in">clone</span> git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh</span><br><span class="line">cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½</span></span><br><span class="line">uninstall_oh_my_zsh zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># zshé…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">~/.zshrc</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Powerline"><a href="#å®‰è£…-Powerline" class="headerlink" title="å®‰è£… Powerline"></a>å®‰è£… Powerline</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€æ£€æµ‹æ˜¯å¦å·²ç»å®‰è£…ï¼Œè‹¥æœ‰ç‰ˆæœ¬ä¿¡æ¯åˆ™å·²å®‰è£…</span></span><br><span class="line">pip show powerline-status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2ã€å°† powerline-status å®‰è£…åœ¨/usr/æ ¹ç›®å½•ä¸­</span></span><br><span class="line">pip install --user powerline-status</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸Šä¸€æ­¥è‹¥æ˜¾ç¤ºæ²¡æœ‰ pip,å…ˆå®‰è£…pip</span></span><br><span class="line">sudo easy_install pip</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®å­—ä½“"><a href="#è®¾ç½®å­—ä½“" class="headerlink" title="è®¾ç½®å­—ä½“"></a>è®¾ç½®å­—ä½“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€æ–°å»ºæ–‡ä»¶å¤¹(å¦‚~/Desktop/OpenSource)ï¼Œæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line"><span class="built_in">cd</span> ~/Desktop/OpenSource</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/powerline/fonts.git --depth=1</span><br><span class="line"><span class="comment"># 2ã€è¿›å…¥è„šæœ¬ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> fonts</span><br><span class="line"><span class="comment"># 3ã€æ‰§è¡Œè„šæœ¬</span></span><br><span class="line">./install.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥ iTerm2 -&gt; Preferences -&gt; Profiles -&gt; Text -&gt; Font -&gt; Change Font</span></span><br><span class="line"><span class="comment"># é€‰æ‹©Meslo LG S for Powerfine, å¸¸è§„ï¼Œ 12</span></span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®é…è‰²æ–¹æ¡ˆ"><a href="#è®¾ç½®é…è‰²æ–¹æ¡ˆ" class="headerlink" title="è®¾ç½®é…è‰²æ–¹æ¡ˆ"></a>è®¾ç½®é…è‰²æ–¹æ¡ˆ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›´æ¥ä¸‹è½½tar.zipåŒ…(åŒ…å«å…¨éƒ¨é…è‰²)</span></span><br><span class="line"><span class="comment"># è¿›å…¥ iTerm2 -&gt; Preferences -&gt; Profiles-&gt;Color </span></span><br><span class="line"><span class="comment"># é€‰æ‹© Color Presets-&gt;import é€‰æ‹©è§£å‹å¥½çš„ç›®å½•ä¸‹schemesç›®å½•ä¸­ç›¸åº”é…è‰²æ–¹æ¡ˆå¯¼å…¥</span></span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-oh-my-zsh-ä¸»é¢˜"><a href="#å®‰è£…-oh-my-zsh-ä¸»é¢˜" class="headerlink" title="å®‰è£… oh-my-zsh ä¸»é¢˜"></a>å®‰è£… oh-my-zsh ä¸»é¢˜</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½å®‰è£… agnoster ä¸»é¢˜ï¼Œå°†ä¸»é¢˜æ‹·è´åˆ°oh my zshçš„zshä¸­</span></span><br><span class="line"><span class="built_in">cd</span> ~/Desktop/OpenSource</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/fcamblor/oh-my-zsh-agnoster-fcamblor.git</span><br><span class="line"><span class="built_in">cd</span> oh-my-zsh-agnoster-fcamblor/</span><br><span class="line">./install</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°† ZSH_THEME å€¼æ”¹ä¸º agnosterï¼Œecs é€€å‡ºï¼Œ:wq ä¿å­˜</span></span><br><span class="line">vi ~/.zshrc</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ======================== é«˜äº®æ’ä»¶ ========================</span></span><br><span class="line"><span class="comment"># åœ¨ ~ ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ zsh-plugins(~/.zshrc é»˜è®¤ç›®å½•)</span></span><br><span class="line"><span class="built_in">cd</span> zsh-plugins</span><br><span class="line">git <span class="built_in">clone</span> git://github.com/zsh-users/zsh-syntax-highlighting.git</span><br><span class="line">vim .zshrc</span><br><span class="line"><span class="comment"># æ–‡æœ«æ·»åŠ ä»¥ä¸‹é…ç½®</span></span><br><span class="line"><span class="built_in">source</span> ~/zsh-pludins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh</span><br><span class="line"><span class="built_in">cd</span> ~/.oh-my-zsh/custom/plugins</span><br><span class="line">vim .zshrc</span><br><span class="line"><span class="comment"># æ–‡æœ«æ·»åŠ ä»¥ä¸‹é…ç½®</span></span><br><span class="line">plugins=(zsh-syntax-highlighting)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== è‡ªåŠ¨è¡¥é½æ’ä»¶ ========================</span></span><br><span class="line"><span class="built_in">cd</span> zsh-plugins</span><br><span class="line">http://mimosa-pudica.net/src/incr-0.2.zsh</span><br><span class="line"><span class="comment"># å°†æ–‡ä»¶æ”¾åˆ° ~/zsh-pludins/inrcä¸‹</span></span><br><span class="line">vim .zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.oh-my-zsh/plugins/incr/incr*.zsh</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Mac%20iTerm2%20+%20oh-my-zsh.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å…³äºnodeçš„é‚£äº›äº‹(åŸºç¡€ç¯‡)</title>
      <link>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E5%9F%BA%E7%A1%80%E7%AF%87).html</link>
      <guid>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E5%9F%BA%E7%A1%80%E7%AF%87).html</guid>
      <pubDate>Sun, 21 Jun 2020 15:41:55 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ&quot;&gt;&lt;/a&gt;ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;è«æ…Œï¼ŒNodeä¾æ—§æ˜¯ç¤¾åŒºçƒ­æ§çš„æœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œç¯å¢ƒï¼ŒDenoçš„å‡ºç°å…¶å®æœ¬è´¨ä¸Šæ˜¯å®Œå–„ç°é˜¶æ®µçš„Nodeï¼ˆæ–°è½®å­ï¼‰ï¼ŒåŒ…æ‹¬åŸç”Ÿæ”¯æŒTSã€å®‰å…¨æ€§ã€æ”¯æŒES Moduleæµè§ˆå™¨æ¨¡å—ã€ç­‰ç‰¹å¾ã€‚ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œè™½ç„¶æœ‰äº†
Denoï¼Œå°†æ¥å¯èƒ½å°±ä¸éœ€è¦ Node.jsï¼Œä½†æ˜¯æ–°äº‹ç‰©æ€»æ˜¯éœ€è¦ä¸æ–­æ¨æ¼”å’Œè€ƒéªŒåï¼Œæ‰€ä»¥è¿™ä¸€ç‚¹è€Œè¨€ï¼ŒNodeçŸ­æ—¶é—´å†…å¾ˆéš¾è¢«æ›¿æ¢ï¼Œæ¯•ç«ŸèƒŒåä¾é™„ç€å¼ºå¤§ç¤¾åŒºçš„æ”¯æ’‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;node-å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ&quot;&gt;&lt;a href=&quot;#node-å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;node å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ&quot;&gt;&lt;/a&gt;node å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;process.argvã€‚processæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒæä¾›å½“å‰ Node.js è¿›ç¨‹çš„æœ‰å…³ä¿¡æ¯ï¼Œè€Œprocess.argv å±æ€§åˆ™è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ä¿¡æ¯åŒ…æ‹¬å¯åŠ¨Node.jsè¿›ç¨‹æ—¶çš„å‘½ä»¤è¡Œå‚æ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;process.argv[0] : è¿”å›å¯åŠ¨Node.jsè¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„&lt;/li&gt;
&lt;li&gt;process.argv[1] : ä¸ºå½“å‰æ‰§è¡Œçš„JavaScriptæ–‡ä»¶è·¯å¾„&lt;/li&gt;
&lt;li&gt;process.argv.splice(2) : ç§»é™¤å‰ä¸¤è€…åï¼Œå‰©ä½™çš„å…ƒç´ ä¸ºå…¶ä»–å‘½ä»¤è¡Œå‚æ•°(ä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰éƒ¨åˆ†)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;script&quot;&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;serve&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;node test.js arg1 arg2 arg3&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// test.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;arguments&lt;/span&gt; = process.argv.splice(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// [arg1, arg2, arg3]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç»“åˆcommander&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commander.parse(process.argv)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ"><a href="#ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ" class="headerlink" title="ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ"></a>ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ</h2><blockquote><p>è«æ…Œï¼ŒNodeä¾æ—§æ˜¯ç¤¾åŒºçƒ­æ§çš„æœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œç¯å¢ƒï¼ŒDenoçš„å‡ºç°å…¶å®æœ¬è´¨ä¸Šæ˜¯å®Œå–„ç°é˜¶æ®µçš„Nodeï¼ˆæ–°è½®å­ï¼‰ï¼ŒåŒ…æ‹¬åŸç”Ÿæ”¯æŒTSã€å®‰å…¨æ€§ã€æ”¯æŒES Moduleæµè§ˆå™¨æ¨¡å—ã€ç­‰ç‰¹å¾ã€‚ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œè™½ç„¶æœ‰äº†Denoï¼Œå°†æ¥å¯èƒ½å°±ä¸éœ€è¦ Node.jsï¼Œä½†æ˜¯æ–°äº‹ç‰©æ€»æ˜¯éœ€è¦ä¸æ–­æ¨æ¼”å’Œè€ƒéªŒåï¼Œæ‰€ä»¥è¿™ä¸€ç‚¹è€Œè¨€ï¼ŒNodeçŸ­æ—¶é—´å†…å¾ˆéš¾è¢«æ›¿æ¢ï¼Œæ¯•ç«ŸèƒŒåä¾é™„ç€å¼ºå¤§ç¤¾åŒºçš„æ”¯æ’‘ã€‚</p></blockquote><h2 id="node-å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ"><a href="#node-å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ" class="headerlink" title="node å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ"></a>node å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ</h2><blockquote><p>process.argvã€‚processæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒæä¾›å½“å‰ Node.js è¿›ç¨‹çš„æœ‰å…³ä¿¡æ¯ï¼Œè€Œprocess.argv å±æ€§åˆ™è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ä¿¡æ¯åŒ…æ‹¬å¯åŠ¨Node.jsè¿›ç¨‹æ—¶çš„å‘½ä»¤è¡Œå‚æ•°ã€‚</p></blockquote><ul><li>process.argv[0] : è¿”å›å¯åŠ¨Node.jsè¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„</li><li>process.argv[1] : ä¸ºå½“å‰æ‰§è¡Œçš„JavaScriptæ–‡ä»¶è·¯å¾„</li><li>process.argv.splice(2) : ç§»é™¤å‰ä¸¤è€…åï¼Œå‰©ä½™çš„å…ƒç´ ä¸ºå…¶ä»–å‘½ä»¤è¡Œå‚æ•°(ä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰éƒ¨åˆ†)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"script"</span>: &#123;</span><br><span class="line">    <span class="string">"serve"</span>: <span class="string">"node test.js arg1 arg2 arg3"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">arguments</span> = process.argv.splice(<span class="number">2</span>) <span class="comment">// [arg1, arg2, arg3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“åˆcommander</span></span><br><span class="line">commander.parse(process.argv)</span><br></pre></td></tr></table></figure><hr><a id="more"></a><h2 id="nodeæœ‰å“ªäº›ç›¸å…³çš„æ–‡ä»¶è·¯å¾„ï¼Ÿ"><a href="#nodeæœ‰å“ªäº›ç›¸å…³çš„æ–‡ä»¶è·¯å¾„ï¼Ÿ" class="headerlink" title="nodeæœ‰å“ªäº›ç›¸å…³çš„æ–‡ä»¶è·¯å¾„ï¼Ÿ"></a>nodeæœ‰å“ªäº›ç›¸å…³çš„æ–‡ä»¶è·¯å¾„ï¼Ÿ</h2><blockquote><p>Node ä¸­çš„æ–‡ä»¶è·¯å¾„æœ‰ <strong>dirname, </strong>filename, process.cwd(), ./ æˆ–è€… ../</p></blockquote><ul><li>__dirname: æ€»æ˜¯è¿”å›è¢«æ‰§è¡Œçš„ js æ‰€åœ¨æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„</li><li>__filename: æ€»æ˜¯è¿”å›è¢«æ‰§è¡Œçš„ js çš„ç»å¯¹è·¯å¾„</li><li>process.cwd(): æ€»æ˜¯è¿”å›è¿è¡Œ node å‘½ä»¤æ—¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„</li></ul><h2 id="nodeç›¸å…³path-API-æœ‰å“ªäº›ï¼Ÿ"><a href="#nodeç›¸å…³path-API-æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="nodeç›¸å…³path API æœ‰å“ªäº›ï¼Ÿ"></a>nodeç›¸å…³path API æœ‰å“ªäº›ï¼Ÿ</h2><blockquote><p>path æ¨¡å—æä¾›äº†ä¸€äº›å®ç”¨å·¥å…·ï¼Œç”¨äºå¤„ç†æ–‡ä»¶å’Œç›®å½•çš„è·¯å¾„ï¼Œå¸¸ç”¨apiæœ‰ï¼špath.dirnameã€path.joinã€path.resolve å…¶ä»–çš„çœ‹æ–‡æ¡£ <a href="http://nodejs.cn/api/path.html" target="_blank" rel="noopener">Path API</a></p></blockquote><ul><li>path.dirname()ï¼š è¿”å› path çš„ç›®å½•å</li><li>path.join()ï¼šæ‰€æœ‰ç»™å®šçš„ path ç‰‡æ®µè¿æ¥åˆ°ä¸€èµ·ï¼Œç„¶åè§„èŒƒåŒ–ç”Ÿæˆçš„è·¯å¾„</li><li>path.resolve()ï¼šæ–¹æ³•ä¼šå°†è·¯å¾„æˆ–è·¯å¾„ç‰‡æ®µçš„åºåˆ—è§£æä¸ºç»å¯¹è·¯å¾„ï¼Œè§£æä¸ºç›¸å¯¹äºå½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„ï¼Œç›¸å½“äºcdå‘½ä»¤</li></ul><p>path.join(<strong>dirname, â€˜../lib/common.jsâ€™)å’Œ path.resolve(</strong>dirname, â€˜../lib/common.jsâ€™)è¿”å›çš„ç»“æœç›¸åŒï¼Œéš¾é“å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Ÿ</p><ol><li><p>joinæ˜¯æŠŠå„ä¸ªpathç‰‡æ®µè¿æ¥åœ¨ä¸€èµ·ï¼Œ resolveæŠŠ/å½“æˆæ ¹ç›®å½•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path.join(<span class="string">'/a'</span>, <span class="string">'/b'</span>) <span class="comment">// '/a/b'</span></span><br><span class="line">path.resolve(<span class="string">'/a'</span>, <span class="string">'/b'</span>) <span class="comment">//'/b'</span></span><br></pre></td></tr></table></figure></li><li><p>joinæ˜¯ç›´æ¥æ‹¼æ¥å­—æ®µï¼Œresolveæ˜¯è§£æè·¯å¾„å¹¶è¿”å›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path.join(<span class="string">"a"</span>,<span class="string">"b"</span>)  <span class="comment">// "a/b"</span></span><br><span class="line">path.resolve(<span class="string">"a"</span>, <span class="string">"b"</span>) <span class="comment">// "/Users/tree/Documents/infrastructure/KSDK/src/a/b"</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="nodeçš„æ–‡ä»¶è¯»å–æ€ä¹ˆåšçš„ï¼Ÿ"><a href="#nodeçš„æ–‡ä»¶è¯»å–æ€ä¹ˆåšçš„ï¼Ÿ" class="headerlink" title="nodeçš„æ–‡ä»¶è¯»å–æ€ä¹ˆåšçš„ï¼Ÿ"></a>nodeçš„æ–‡ä»¶è¯»å–æ€ä¹ˆåšçš„ï¼Ÿ</h2><blockquote><p>é€šè¿‡fsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—æä¾›çš„APIï¼Œä¹Ÿæ˜¯nodeä¸­é‡è¦çš„æ¨¡å—ä¹‹ä¸€ï¼Œfsæ¨¡å—ä¸»è¦ç”¨äºæ–‡ä»¶çš„è¯»å†™ã€ç§»åŠ¨ã€å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½åç­‰æ“ä½œã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fs.rename(<span class="string">'a'</span>, <span class="string">'b'</span>, (err)=&gt;&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        exec(<span class="string">'rm -rf a'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, out</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>â°éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨require(â€˜fsâ€™)è½½å…¥fsæ¨¡å—ï¼Œfsæ¨¡å—ä¸­æ‰€æœ‰æ–¹æ³•éƒ½æœ‰åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å½¢å¼,åˆšåˆšæˆ‘ä»¬å±•ç¤ºçš„renameæ˜¯å¼‚æ­¥æ–¹æ³•çš„è°ƒç”¨ï¼Œå› ä¸ºåœ¨ç¹å¿™çš„è¿›ç¨‹ä¸­ï¼Œåº”ä½¿ç”¨å¼‚æ­¥æ–¹æ³•ï¼Œ åŒæ­¥çš„ç‰ˆæœ¬ä¼šé˜»å¡æ•´ä¸ªè¿›ç¨‹ï¼ˆåœæ­¢æ‰€æœ‰çš„è¿æ¥ï¼‰ï¼Œå½“ç„¶fs.renameå¯¹åº”çš„åŒæ­¥æ–¹æ³•å°±æ˜¯fs.renameSync</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥çš„ä¾‹å­</span></span><br><span class="line"><span class="keyword">let</span> isExists = fs.existsSync(<span class="string">'dirname'</span>)</span><br><span class="line"><span class="keyword">if</span> (isExists) &#123;</span><br><span class="line">    process.exit(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ— è®ºåŒæ­¥å¼‚æ­¥å°½é‡å¯¹æŠ›å‡ºçš„å¼‚å¸¸åšç›¸åº”çš„å¤„ç†</span></span><br></pre></td></tr></table></figure><h2 id="nodeçš„urlæ¨¡å—æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ"><a href="#nodeçš„urlæ¨¡å—æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ" class="headerlink" title="nodeçš„urlæ¨¡å—æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ"></a>nodeçš„urlæ¨¡å—æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ</h2><blockquote><p>ç”¨æ¥å¯¹urlçš„å­—ç¬¦ä¸²è§£æã€urlç»„æˆç­‰åŠŸèƒ½ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªAPIã€‚url.parse()ã€url.format()</p></blockquote><ul><li>url.parseï¼šå¯ä»¥å°†ä¸€ä¸ªurlçš„å­—ç¬¦ä¸²è§£æå¹¶è¿”å›ä¸€ä¸ªurlçš„å¯¹è±¡</li><li>url.format:å°†ä¼ å…¥çš„urlå¯¹è±¡è§£ææˆä¸€ä¸ªurlå­—ç¬¦ä¸²å¹¶è¿”å›</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">url.parse(<span class="string">"https://baidu.com:8080/test/h?query=js#node"</span>)</span><br><span class="line"></span><br><span class="line">Url &#123;</span><br><span class="line">  protocol: <span class="string">'http:'</span>,</span><br><span class="line">  slashes: <span class="literal">true</span>,</span><br><span class="line">  auth: <span class="literal">null</span>,</span><br><span class="line">  host: <span class="string">'baidu.com:8080'</span>,</span><br><span class="line">  port: <span class="string">'8080'</span>,</span><br><span class="line">  hostname: <span class="string">'baidu.com'</span>,</span><br><span class="line">  hash: <span class="string">'#node'</span>,</span><br><span class="line">  search: <span class="string">'?query=js'</span>,</span><br><span class="line">  query: <span class="string">'query=js'</span>,</span><br><span class="line">  pathname: <span class="string">'/test/h'</span>,</span><br><span class="line">  path: <span class="string">'/test/h?query=js'</span>,</span><br><span class="line">  href: <span class="string">'http://baidu.com:8080/test/h?query=js#node'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="nodeçš„httpæ¨¡å—åˆ›å»ºæœåŠ¡ä¸Expressæˆ–Koaæ¡†æ¶æœ‰ä½•ä¸åŒ"><a href="#nodeçš„httpæ¨¡å—åˆ›å»ºæœåŠ¡ä¸Expressæˆ–Koaæ¡†æ¶æœ‰ä½•ä¸åŒ" class="headerlink" title="nodeçš„httpæ¨¡å—åˆ›å»ºæœåŠ¡ä¸Expressæˆ–Koaæ¡†æ¶æœ‰ä½•ä¸åŒ?"></a>nodeçš„httpæ¨¡å—åˆ›å»ºæœåŠ¡ä¸Expressæˆ–Koaæ¡†æ¶æœ‰ä½•ä¸åŒ?</h2><blockquote><p>expressæ˜¯ä¸€ä¸ªæœåŠ¡ç«¯æ¡†æ¶ï¼Œæ¡†æ¶ç®€å•å°è£…äº†nodeçš„httpæ¨¡å—ï¼Œexpressæ”¯æŒnodeåŸç”Ÿçš„å†™æ³•ï¼Œexpressä¸ä»…å°è£…å¥½æœåŠ¡å™¨ï¼Œè¿˜å°è£…äº†ä¸­é—´ä»¶ã€è·¯ç”±ç­‰ç‰¹å¾ï¼Œæ–¹ä¾¿å¼€å‘webæœåŠ¡å™¨ï¼Œæ¢å¥è¯è¯´express = httpæ¨¡å— + ä¸­é—´ä»¶ + è·¯ç”±</p></blockquote><h3 id="http"><a href="#http" class="headerlink" title="http"></a>http</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">       <span class="string">'content-type'</span>: <span class="string">'text/plain'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    res.write(<span class="string">'hello world'</span>)</span><br><span class="line">    res.end()</span><br><span class="line">&#125;)</span><br><span class="line">server.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure><h3 id="express"><a href="#express" class="headerlink" title="express"></a>express</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line">app.user(middleware)</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line">    res.send(<span class="string">'hello world'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">middleware</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="koa"><a href="#koa" class="headerlink" title="koa"></a>koa</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line">app.user(middleware)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">middleware</span>(<span class="params">ctx, next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Expresså’ŒKoaæ¡†æ¶ä¸­é—´ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"><a href="#Expresså’ŒKoaæ¡†æ¶ä¸­é—´ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ" class="headerlink" title="Expresså’ŒKoaæ¡†æ¶ä¸­é—´ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"></a>Expresså’ŒKoaæ¡†æ¶ä¸­é—´ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h2><blockquote><p>ä¸­é—´ä»¶ï¼š app.useæ–¹æ³•å°±æ˜¯å¾€ä¸­é—´ä»¶é˜Ÿåˆ—ä¸­å¡å…¥æ–°çš„ä¸­é—´ä»¶ï¼Œexpressä¸­é—´ä»¶å¤„ç†æ–¹å¼æ˜¯çº¿æ€§çš„ï¼Œnextè¿‡åç»§ç»­å¯»æ‰¾ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå½“ç„¶å¦‚æœæ²¡æœ‰è°ƒç”¨next()çš„è¯ï¼Œå°±ä¸ä¼šè°ƒç”¨ä¸‹ä¸€ä¸ªå‡½æ•°äº†ï¼Œè°ƒç”¨å°±ä¼šè¢«ç»ˆæ­¢ã€‚</p></blockquote><ul><li>express ä¸­é—´ä»¶ï¼šæ˜¯é€šè¿‡ next çš„æœºåˆ¶ï¼Œå³ä¸Šä¸€ä¸ªä¸­é—´ä»¶ä¼šé€šè¿‡ next è§¦å‘ä¸‹ä¸€ä¸ªä¸­é—´ä»¶</li><li>koa2 ä¸­é—´ä»¶ï¼šæ˜¯é€šè¿‡ async await å®ç°çš„ï¼Œä¸­é—´ä»¶æ‰§è¡Œé¡ºåºæ˜¯â€œæ´‹è‘±åœˆâ€æ¨¡å‹ï¼ˆæ¨èï¼‰</li></ul><h2 id="ä»€ä¹ˆæ˜¯æ¨¡ç‰ˆå¼•æ“ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ¨¡ç‰ˆå¼•æ“ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ¨¡ç‰ˆå¼•æ“ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ¨¡ç‰ˆå¼•æ“ï¼Ÿ</h2><blockquote><p>æ¨¡æ¿å¼•æ“æ˜¯ä¸€ä¸ªé€šè¿‡ç»“åˆé¡µé¢æ¨¡æ¿ã€è¦å±•ç¤ºçš„æ•°æ®ç”ŸæˆHTMLé¡µé¢çš„å·¥å…·ï¼Œæœ¬è´¨ä¸Šæ˜¯åç«¯æ¸²æŸ“ï¼ˆSSRï¼‰çš„éœ€æ±‚ï¼ŒåŠ ä¸ŠNodeæ¸²æŸ“é¡µé¢æœ¬èº«æ˜¯çº¯é™æ€çš„ï¼Œå½“æˆ‘ä»¬éœ€è¦é¡µé¢å¤šæ ·åŒ–ã€æ›´çµæ´»ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨æ¨¡æ¿å¼•æ“æ¥å¼ºåŒ–é¡µé¢ï¼Œæ›´å¥½çš„å‡¸æ˜¾æœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜åŠ¿ã€‚</p></blockquote><p>å¸¸è§ä¸»æµæ¨¡ç‰ˆå¼•æ“æœ‰ï¼š</p><ul><li>art-template <a href="http://aui.github.io/art-template/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a> ï¼šå·ç§°æ•ˆç‡æœ€é«˜çš„ï¼Œæ¨¡ç‰ˆå¼•æ“</li><li>ejs  <a href="https://ejs.co/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼šæ˜¯ä¸€ä¸ªJavaScriptæ¨¡æ¿åº“ï¼Œç”¨æ¥ä»JSONæ•°æ®ä¸­ç”ŸæˆHTMLå­—ç¬¦ä¸²ã€‚</li><li>pug <a href="https://pugjs.org/api/getting-started.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼šæ˜¯ä¸€æ¬¾å¥å£®ã€çµæ´»ã€åŠŸèƒ½ä¸°å¯Œçš„æ¨¡æ¿å¼•æ“ï¼Œä¸“é—¨ä¸º Node.js å¹³å°å¼€å‘</li></ul><p><a href="https://github.com/cosyer/node-learn" target="_blank" rel="noopener">Node.jså…¥é—¨æ•™ç¨‹</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E5%9F%BA%E7%A1%80%E7%AF%87).html#disqus_thread</comments>
    </item>
    
    <item>
      <title>react SSRæ•™ç¨‹</title>
      <link>http://mydearest.cn/2020/react%20SSR%E6%95%99%E7%A8%8B.html</link>
      <guid>http://mydearest.cn/2020/react%20SSR%E6%95%99%E7%A8%8B.html</guid>
      <pubDate>Wed, 10 Jun 2020 14:55:08 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡æ˜¯åŸºäºreact ssrçš„å…¥é—¨æ•™ç¨‹ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨è¿˜éœ€è¦åšæ›´å¤šçš„é…ç½®å’Œä¼˜åŒ–ï¼Œæ¯”è¾ƒé€‚åˆç¬¬ä¸€æ¬¡å°è¯•react ssrçš„å°ä¼™ä¼´ä»¬ã€‚æŠ€æœ¯æ¶‰åŠåˆ° koa2 + reactï¼Œæ¡ˆä¾‹ä½¿ç”¨create-react-appåˆ›å»ºã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“&quot;&gt;&lt;a href=&quot;#å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“&quot; class=&quot;headerlink&quot; title=&quot;å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“&quot;&gt;&lt;/a&gt;å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“&lt;/h2&gt;&lt;h3 id=&quot;å®¢æˆ·ç«¯æ¸²æŸ“&quot;&gt;&lt;a href=&quot;#å®¢æˆ·ç«¯æ¸²æŸ“&quot; class=&quot;headerlink&quot; title=&quot;å®¢æˆ·ç«¯æ¸²æŸ“&quot;&gt;&lt;/a&gt;å®¢æˆ·ç«¯æ¸²æŸ“&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œå®é™…ä¸Šå°±æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è¯·æ±‚é¡µé¢ï¼ŒæœåŠ¡ç«¯è¿”å›çš„æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ HTML é¡µé¢ï¼Œåœ¨è¿™ä¸ªé¡µé¢é‡Œï¼Œåªæœ‰å¾ˆå°‘çš„ä¸€äº› HTML æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ¸²æŸ“æ—¶ï¼Œé¡µé¢ä¸­æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„ç‚¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯ script æ ‡ç­¾ï¼Œå¯èƒ½ä¼šæœ‰å¥½å‡ ä¸ª script æ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾æ˜¯æ‰“åŒ…åçš„ js ä»£ç ï¼Œç”¨æ¥ç”Ÿæˆ DOM å…ƒç´ ï¼Œå‘é€è¯·æ±‚ï¼Œäº‹ä»¶ç»‘å®šç­‰ã€‚ä½†æ˜¯ï¼Œç”Ÿæˆçš„ DOM å…ƒç´ éœ€è¦æœ‰ä¸€ä¸ªåœ¨é¡µé¢ä¸Šå±•ç¤ºçš„å®¹å™¨ï¼Œæ‰€ä»¥å¦å¤–ä¸€ä¸ªç‚¹å°±æ˜¯å®¹å™¨ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ª id åä¸º root æˆ– app çš„ div æ ‡ç­¾ï¼Œç±»ä¼¼äºè¿™æ · &lt;code&gt;&amp;lt;div id=&amp;quot;root&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt; æˆ–&lt;code&gt;&amp;lt;div id=&amp;quot;app&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ¸²æŸ“çš„ç‰¹ç‚¹&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯åŠ è½½æ‰€æœ‰çš„ js èµ„æºï¼Œæ¸²æŸ“ DOM å…ƒç´ &lt;/li&gt;
&lt;li&gt;åœ¨æµè§ˆå™¨é¡µé¢ä¸Šçš„æ‰€æœ‰èµ„æºï¼Œéƒ½ç”±å®¢æˆ·ç«¯ä¸»åŠ¨å»è·å–ï¼ŒæœåŠ¡ç«¯åªè´Ÿè´£é™æ€èµ„æºçš„æä¾›å’Œ API æ¥å£ï¼Œä¸å†è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ï¼Œå¦‚æœé‡‡ç”¨ CDN çš„è¯ï¼ŒæœåŠ¡ç«¯ä»…ä»…éœ€è¦æä¾› API æ¥å£&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹: å‰åç«¯åˆ†ç¦»ï¼Œè´£ä»»åŒºåˆ†ï¼Œå‰ç«¯ä¸“æ³¨é¡µé¢çš„å¼€å‘ï¼Œåç«¯ä¸“æ³¨æ¥å£çš„å¼€å‘&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹: é¦–å±åŠ è½½èµ„æºå¤šï¼Œé¦–å±åŠ è½½æ—¶å“åº”æ…¢ã€‚é¡µé¢ä¸Šæ²¡æœ‰ DOM å…ƒç´ ï¼Œä¸åˆ©äº SEO ä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;æœåŠ¡ç«¯æ¸²æŸ“&quot;&gt;&lt;a href=&quot;#æœåŠ¡ç«¯æ¸²æŸ“&quot; class=&quot;headerlink&quot; title=&quot;æœåŠ¡ç«¯æ¸²æŸ“&quot;&gt;&lt;/a&gt;æœåŠ¡ç«¯æ¸²æŸ“&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±æ˜¯å®¢æˆ·ç«¯é¡µé¢ä¸Šçš„ HTML å…ƒç´ ï¼Œéƒ½è¦ç”±æœåŠ¡ç«¯è´Ÿè´£æ¸²æŸ“ã€‚æœåŠ¡ç«¯åˆ©ç”¨æ¨¡æ¿å¼•æ“ï¼ŒæŠŠæ•°æ®å¡«å……åˆ°æ¨¡æ¿ä¸­ï¼Œç”Ÿæˆ HTML å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆæŠŠ HTML å­—ç¬¦ä¸²è¿”å›åˆ°æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ° HTML å­—ç¬¦ä¸²ï¼Œé€šè¿‡ HTML å¼•æ“è§£æï¼Œæœ€ç»ˆç”Ÿæˆ DOM å…ƒç´ ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸Š&lt;/li&gt;
&lt;li&gt;æ¯”å¦‚ Node.js å¯ä»¥æ¸²æŸ“çš„æ¨¡æ¿å¼•æ“æœ‰ ejsï¼Œnunjucksï¼Œpug ç­‰ã€‚Java æœ€å¸¸è§çš„æ˜¯ JSP æ¨¡æ¿å¼•æ“ã€‚Python æœ€å¸¸è§çš„æ˜¯ Jinja2 æ¨¡æ¿å¼•æ“ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡ç«¯æ¸²æŸ“çš„ç‰¹ç‚¹&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹: é¡µé¢èµ„æºå¤§å¤šç”±æœåŠ¡ç«¯è´Ÿè´£å¤„ç†ï¼Œæ‰€ä»¥é¡µé¢åŠ è½½é€Ÿåº¦å¿«ï¼Œç¼©çŸ­é¦–å±åŠ è½½æ—¶é—´ã€‚æœ‰åˆ©äº SEO ä¼˜åŒ–ã€‚æ— éœ€å ç”¨å®¢æˆ·ç«¯èµ„æº&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹: ä¸åˆ©äºå‰åç«¯åˆ†ç¦»ï¼Œå¼€å‘æ•ˆç‡ä½ã€‚å ç”¨æœåŠ¡å™¨èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;åŒºåˆ†ä¸é€‰æ‹©&quot;&gt;&lt;a href=&quot;#åŒºåˆ†ä¸é€‰æ‹©&quot; class=&quot;headerlink&quot; title=&quot;åŒºåˆ†ä¸é€‰æ‹©&quot;&gt;&lt;/a&gt;åŒºåˆ†ä¸é€‰æ‹©&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“æœ¬è´¨çš„åŒºåˆ«å°±æ˜¯ï¼Œæ˜¯è°è´Ÿè´£ HTML é¡µé¢çš„æ‹¼æ¥ï¼Œé‚£ä¹ˆå°±æ˜¯è°æ¸²æŸ“çš„é¡µé¢&lt;/li&gt;
&lt;li&gt;å¦‚æœå¯¹é¦–å±åŠ è½½æ—¶é—´æœ‰éå¸¸é«˜çš„éœ€æ±‚ï¼Œæˆ–è€…æ˜¯éœ€è¦ SEO ä¼˜åŒ–ï¼Œé‚£ä¹ˆå°±é€‰æ‹©æœåŠ¡ç«¯æ¸²æŸ“&lt;/li&gt;
&lt;li&gt;å¦‚æœå¯¹é¦–å±åŠ è½½æ—¶é—´æ²¡æœ‰è¦æ±‚ï¼Œä¹Ÿä¸éœ€è¦åš SEO ä¼˜åŒ–ï¼Œç±»ä¼¼äºåšåå°ç®¡ç†ç³»åˆ—çš„ä¸šåŠ¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€‰æ‹©å®¢æˆ·ç«¯æ¸²æŸ“&lt;/li&gt;
&lt;li&gt;å…·ä½“é€‰æ‹©å®¢æˆ·ç«¯æ¸²æŸ“è¿˜æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ²¡æœ‰å¼ºåˆ¶çš„è¦æ±‚ï¼Œå…·ä½“è¦æ ¹æ®é¡¹ç›®çš„éœ€æ±‚æ¥åŒºåˆ†é€‰æ‹©&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯åŸºäºreact ssrçš„å…¥é—¨æ•™ç¨‹ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨è¿˜éœ€è¦åšæ›´å¤šçš„é…ç½®å’Œä¼˜åŒ–ï¼Œæ¯”è¾ƒé€‚åˆç¬¬ä¸€æ¬¡å°è¯•react ssrçš„å°ä¼™ä¼´ä»¬ã€‚æŠ€æœ¯æ¶‰åŠåˆ° koa2 + reactï¼Œæ¡ˆä¾‹ä½¿ç”¨create-react-appåˆ›å»ºã€‚</p><h2 id="å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“"><a href="#å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“"></a>å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“</h2><h3 id="å®¢æˆ·ç«¯æ¸²æŸ“"><a href="#å®¢æˆ·ç«¯æ¸²æŸ“" class="headerlink" title="å®¢æˆ·ç«¯æ¸²æŸ“"></a>å®¢æˆ·ç«¯æ¸²æŸ“</h3><ul><li>å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œå®é™…ä¸Šå°±æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è¯·æ±‚é¡µé¢ï¼ŒæœåŠ¡ç«¯è¿”å›çš„æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ HTML é¡µé¢ï¼Œåœ¨è¿™ä¸ªé¡µé¢é‡Œï¼Œåªæœ‰å¾ˆå°‘çš„ä¸€äº› HTML æ ‡ç­¾</li><li>å®¢æˆ·ç«¯æ¸²æŸ“æ—¶ï¼Œé¡µé¢ä¸­æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„ç‚¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯ script æ ‡ç­¾ï¼Œå¯èƒ½ä¼šæœ‰å¥½å‡ ä¸ª script æ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾æ˜¯æ‰“åŒ…åçš„ js ä»£ç ï¼Œç”¨æ¥ç”Ÿæˆ DOM å…ƒç´ ï¼Œå‘é€è¯·æ±‚ï¼Œäº‹ä»¶ç»‘å®šç­‰ã€‚ä½†æ˜¯ï¼Œç”Ÿæˆçš„ DOM å…ƒç´ éœ€è¦æœ‰ä¸€ä¸ªåœ¨é¡µé¢ä¸Šå±•ç¤ºçš„å®¹å™¨ï¼Œæ‰€ä»¥å¦å¤–ä¸€ä¸ªç‚¹å°±æ˜¯å®¹å™¨ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ª id åä¸º root æˆ– app çš„ div æ ‡ç­¾ï¼Œç±»ä¼¼äºè¿™æ · <code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code> æˆ–<code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code></li><li>å®¢æˆ·ç«¯æ¸²æŸ“çš„ç‰¹ç‚¹<ul><li>å®¢æˆ·ç«¯åŠ è½½æ‰€æœ‰çš„ js èµ„æºï¼Œæ¸²æŸ“ DOM å…ƒç´ </li><li>åœ¨æµè§ˆå™¨é¡µé¢ä¸Šçš„æ‰€æœ‰èµ„æºï¼Œéƒ½ç”±å®¢æˆ·ç«¯ä¸»åŠ¨å»è·å–ï¼ŒæœåŠ¡ç«¯åªè´Ÿè´£é™æ€èµ„æºçš„æä¾›å’Œ API æ¥å£ï¼Œä¸å†è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ï¼Œå¦‚æœé‡‡ç”¨ CDN çš„è¯ï¼ŒæœåŠ¡ç«¯ä»…ä»…éœ€è¦æä¾› API æ¥å£</li><li>ä¼˜ç‚¹: å‰åç«¯åˆ†ç¦»ï¼Œè´£ä»»åŒºåˆ†ï¼Œå‰ç«¯ä¸“æ³¨é¡µé¢çš„å¼€å‘ï¼Œåç«¯ä¸“æ³¨æ¥å£çš„å¼€å‘</li><li>ç¼ºç‚¹: é¦–å±åŠ è½½èµ„æºå¤šï¼Œé¦–å±åŠ è½½æ—¶å“åº”æ…¢ã€‚é¡µé¢ä¸Šæ²¡æœ‰ DOM å…ƒç´ ï¼Œä¸åˆ©äº SEO ä¼˜åŒ–</li></ul></li></ul><h3 id="æœåŠ¡ç«¯æ¸²æŸ“"><a href="#æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="æœåŠ¡ç«¯æ¸²æŸ“"></a>æœåŠ¡ç«¯æ¸²æŸ“</h3><ul><li>æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±æ˜¯å®¢æˆ·ç«¯é¡µé¢ä¸Šçš„ HTML å…ƒç´ ï¼Œéƒ½è¦ç”±æœåŠ¡ç«¯è´Ÿè´£æ¸²æŸ“ã€‚æœåŠ¡ç«¯åˆ©ç”¨æ¨¡æ¿å¼•æ“ï¼ŒæŠŠæ•°æ®å¡«å……åˆ°æ¨¡æ¿ä¸­ï¼Œç”Ÿæˆ HTML å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆæŠŠ HTML å­—ç¬¦ä¸²è¿”å›åˆ°æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ° HTML å­—ç¬¦ä¸²ï¼Œé€šè¿‡ HTML å¼•æ“è§£æï¼Œæœ€ç»ˆç”Ÿæˆ DOM å…ƒç´ ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸Š</li><li>æ¯”å¦‚ Node.js å¯ä»¥æ¸²æŸ“çš„æ¨¡æ¿å¼•æ“æœ‰ ejsï¼Œnunjucksï¼Œpug ç­‰ã€‚Java æœ€å¸¸è§çš„æ˜¯ JSP æ¨¡æ¿å¼•æ“ã€‚Python æœ€å¸¸è§çš„æ˜¯ Jinja2 æ¨¡æ¿å¼•æ“ã€‚</li><li>æœåŠ¡ç«¯æ¸²æŸ“çš„ç‰¹ç‚¹<ul><li>ä¼˜ç‚¹: é¡µé¢èµ„æºå¤§å¤šç”±æœåŠ¡ç«¯è´Ÿè´£å¤„ç†ï¼Œæ‰€ä»¥é¡µé¢åŠ è½½é€Ÿåº¦å¿«ï¼Œç¼©çŸ­é¦–å±åŠ è½½æ—¶é—´ã€‚æœ‰åˆ©äº SEO ä¼˜åŒ–ã€‚æ— éœ€å ç”¨å®¢æˆ·ç«¯èµ„æº</li><li>ç¼ºç‚¹: ä¸åˆ©äºå‰åç«¯åˆ†ç¦»ï¼Œå¼€å‘æ•ˆç‡ä½ã€‚å ç”¨æœåŠ¡å™¨èµ„æº</li></ul></li></ul><h3 id="åŒºåˆ†ä¸é€‰æ‹©"><a href="#åŒºåˆ†ä¸é€‰æ‹©" class="headerlink" title="åŒºåˆ†ä¸é€‰æ‹©"></a>åŒºåˆ†ä¸é€‰æ‹©</h3><ul><li>å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“æœ¬è´¨çš„åŒºåˆ«å°±æ˜¯ï¼Œæ˜¯è°è´Ÿè´£ HTML é¡µé¢çš„æ‹¼æ¥ï¼Œé‚£ä¹ˆå°±æ˜¯è°æ¸²æŸ“çš„é¡µé¢</li><li>å¦‚æœå¯¹é¦–å±åŠ è½½æ—¶é—´æœ‰éå¸¸é«˜çš„éœ€æ±‚ï¼Œæˆ–è€…æ˜¯éœ€è¦ SEO ä¼˜åŒ–ï¼Œé‚£ä¹ˆå°±é€‰æ‹©æœåŠ¡ç«¯æ¸²æŸ“</li><li>å¦‚æœå¯¹é¦–å±åŠ è½½æ—¶é—´æ²¡æœ‰è¦æ±‚ï¼Œä¹Ÿä¸éœ€è¦åš SEO ä¼˜åŒ–ï¼Œç±»ä¼¼äºåšåå°ç®¡ç†ç³»åˆ—çš„ä¸šåŠ¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€‰æ‹©å®¢æˆ·ç«¯æ¸²æŸ“</li><li>å…·ä½“é€‰æ‹©å®¢æˆ·ç«¯æ¸²æŸ“è¿˜æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ²¡æœ‰å¼ºåˆ¶çš„è¦æ±‚ï¼Œå…·ä½“è¦æ ¹æ®é¡¹ç›®çš„éœ€æ±‚æ¥åŒºåˆ†é€‰æ‹©</li></ul><hr><a id="more"></a><h2 id="SSR-ä»‹ç»"><a href="#SSR-ä»‹ç»" class="headerlink" title="SSR ä»‹ç»"></a>SSR ä»‹ç»</h2><p>Server Slide Renderingï¼Œç¼©å†™ä¸º <strong>ssr</strong> å³æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œè¿™ä¸ªè¦ä»SEOè¯´èµ·ï¼Œç›®å‰reactå•é¡µåº”ç”¨HTMLä»£ç æ˜¯ä¸‹é¢è¿™æ ·çš„<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"favicon.ico"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"theme-color"</span> <span class="attr">content</span>=<span class="string">"#000000"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>React App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span>You need to enable JavaScript to run this app.<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ol><li>å¦‚æœmain.js åŠ è½½æ¯”è¾ƒæ…¢ï¼Œä¼šå‡ºç°ç™½å±ä¸€é—ªçš„ç°è±¡ã€‚</li><li>ä¼ ç»Ÿçš„æœç´¢å¼•æ“çˆ¬è™«å› ä¸ºä¸èƒ½æŠ“å–JSç”Ÿæˆåçš„å†…å®¹ï¼Œé‡åˆ°å•é¡µwebé¡¹ç›®ï¼ŒæŠ“å–åˆ°çš„å†…å®¹å•¥ä¹Ÿæ²¡æœ‰ã€‚åœ¨SEOä¸Šä¼šåƒå¾ˆå¤šäºï¼Œå¾ˆéš¾æ’æœç´¢å¼•æ“åˆ°å‰é¢å»ã€‚React SSRï¼ˆreactæœåŠ¡å™¨æ¸²æŸ“ï¼‰æ­£å¥½è§£å†³äº†è¿™2ä¸ªé—®é¢˜ã€‚</li></ol><h2 id="React-SSRä»‹ç»"><a href="#React-SSRä»‹ç»" class="headerlink" title="React SSRä»‹ç»"></a>React SSRä»‹ç»</h2><p>è¿™é‡Œé€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å¸¦å¤§å®¶å…¥å‘ï¼å…ˆä½¿ç”¨create-react-appåˆ›å»ºä¸€ä¸ªreacté¡¹ç›®ã€‚å› ä¸ºè¦ä¿®æ”¹webpackï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨react-app-rewiredå¯åŠ¨é¡¹ç›®ã€‚æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªserverç›®å½•å­˜æ”¾æœåŠ¡ç«¯ä»£ç ï¼ŒæœåŠ¡ç«¯ä»£ç æˆ‘ä»¬è¿™é‡Œä½¿ç”¨koa2ã€‚</p><p>è¿™é‡Œå…ˆæ¥çœ‹çœ‹react ssræ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚</p><p><img src="http://cdn.mydearest.cn/blog/images/react-ssr.png" alt="å›¾ç‰‡æè¿°"></p><p>è¿™ä¸ªä¸šåŠ¡æµç¨‹å›¾æ¯”è¾ƒæ¸…æ™°äº†ï¼ŒæœåŠ¡ç«¯åªç”ŸæˆHTMLä»£ç ï¼Œå®é™…ä¸Šå‰ç«¯ä¼šç”Ÿæˆä¸€ä»½main.jsæä¾›ç»™æœåŠ¡ç«¯çš„HTMLä½¿ç”¨ã€‚è¿™å°±æ˜¯react ssrçš„å·¥ä½œæµç¨‹ã€‚æœ‰äº†è¿™ä¸ªå›¾ä¼šæ›´å¥½çš„ç†è§£ï¼Œå¦‚æœè¿™ä¸ªä¸šåŠ¡æ²¡ç†è§£æ¸…æ¥šï¼Œåé¢çš„ä¼°è®¡å¾ˆéš¾ç†è§£ã€‚</p><blockquote><p>reactæä¾›çš„SSRæ–¹æ³•æœ‰ä¸¤ä¸ªrenderToString å’Œ renderToStaticMarkupï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š</p></blockquote><ul><li>renderToString æ–¹æ³•æ¸²æŸ“çš„æ—¶å€™å¸¦æœ‰ data-reactid å±æ€§. åœ¨æµè§ˆå™¨è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œmain.jsèƒ½è¯†åˆ«åˆ°HTMLçš„å†…å®¹ï¼Œä¸ä¼šæ‰§è¡ŒReact.createElementäºŒæ¬¡åˆ›å»ºDOMã€‚</li><li>renderToStaticMarkup åˆ™æ²¡æœ‰ data-reactid å±æ€§ï¼Œé¡µé¢çœ‹ä¸Šå»å¹²å‡€ç‚¹ã€‚åœ¨æµè§ˆå™¨è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œmain.jsä¸èƒ½è¯†åˆ«åˆ°HTMLå†…å®¹ï¼Œä¼šæ‰§è¡Œmain.jsé‡Œé¢çš„React.createElementæ–¹æ³•é‡æ–°åˆ›å»ºDOMã€‚é€‚ç”¨äºçº¯é™æ€é¡µé¢ã€‚</li></ul><h2 id="å®ç°æµç¨‹"><a href="#å®ç°æµç¨‹" class="headerlink" title="å®ç°æµç¨‹"></a>å®ç°æµç¨‹</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"./App.css"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">"./logo.svg"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'å“ˆå“ˆå“ˆ~ æœåŠ¡å™¨æ¸²æŸ“æˆåŠŸäº†ï¼'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">        &lt;header className=<span class="string">"App-header"</span>&gt;</span><br><span class="line">          &lt;img src=&#123;logo&#125; className=<span class="string">"App-logo"</span> alt=<span class="string">"logo"</span> /&gt;</span><br><span class="line">          &lt;p&gt;</span><br><span class="line">            Edit &lt;code&gt;src/App.js&lt;<span class="regexp">/code&gt; and save to reload.</span></span><br><span class="line"><span class="regexp">          &lt;/</span>p&gt;</span><br><span class="line">          &lt;a</span><br><span class="line">            className=<span class="string">"App-link"</span></span><br><span class="line">            href=<span class="string">"https://reactjs.org"</span></span><br><span class="line">            target=<span class="string">"_blank"</span></span><br><span class="line">            rel=<span class="string">"noopener noreferrer"</span></span><br><span class="line">          &gt;</span><br><span class="line">            Learn React</span><br><span class="line">          &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>header&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®ä¸­æ–°å»ºserverç›®å½•ï¼Œç”¨äºå­˜æ”¾æœåŠ¡ç«¯ä»£ç ã€‚é¡¹ç›®ä¸­æˆ‘ä»¬ç”¨çš„ES6ï¼Œæ‰€ä»¥è¿˜è¦é…ç½®ä¸‹.babelrc</p><blockquote><p>.babelrc é…ç½®ï¼Œå› ä¸ºè¦ä½¿ç”¨åˆ°ES6<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"presets"</span>: [</span><br><span class="line">        <span class="string">"env"</span>,</span><br><span class="line">        <span class="string">"react"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"plugins"</span>: [</span><br><span class="line">        <span class="string">"transform-decorators-legacy"</span>,</span><br><span class="line">        <span class="string">"transform-runtime"</span>,</span><br><span class="line">        <span class="string">"react-hot-loader/babel"</span>,</span><br><span class="line">        <span class="string">"add-module-exports"</span>,</span><br><span class="line">        <span class="string">"transform-object-rest-spread"</span>,</span><br><span class="line">        <span class="string">"transform-class-properties"</span>,</span><br><span class="line">        [</span><br><span class="line">            <span class="string">"import"</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"libraryName"</span>: <span class="string">"antd"</span>,</span><br><span class="line">                <span class="attr">"style"</span>: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>index.js é¡¹ç›®å…¥å£åšä¸€äº›é¢„å¤„ç†ï¼Œä½¿ç”¨asset-require-hookè¿‡æ»¤æ‰ä¸€äº›ç±»ä¼¼ <figure class="highlight plain"><figcaption><span>logo from "./logo.svg";``` è¿™æ ·çš„èµ„æºä»£ç ã€‚å› ä¸ºæˆ‘ä»¬æœåŠ¡ç«¯åªéœ€è¦çº¯çš„HTMLä»£ç ï¼Œä¸è¿‡æ»¤æ‰ä¼šæŠ¥é”™ã€‚è¿™é‡Œçš„nameï¼Œæˆ‘ä»¬æ˜¯å»æ‰äº†hashå€¼çš„ã€‚</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```javascript</span><br><span class="line">require(&quot;asset-require-hook&quot;)(&#123;</span><br><span class="line">  extensions: [&quot;svg&quot;, &quot;css&quot;, &quot;less&quot;, &quot;jpg&quot;, &quot;png&quot;, &quot;gif&quot;],</span><br><span class="line">  name: &apos;/static/media/[name].[ext]&apos;</span><br><span class="line">&#125;);</span><br><span class="line">require(&quot;babel-core/register&quot;)();</span><br><span class="line">require(&quot;babel-polyfill&quot;);</span><br><span class="line">require(&quot;./app&quot;);</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>public/index.html htmlæ¨¡ç‰ˆä»£ç è¦åšä¸ªè°ƒæ•´ï¼Œ<figure class="highlight plain"><figcaption><span>è¿™ä¸ªå¯ä»¥æ˜¯ä»»ä½•å¯ä»¥æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼Œç­‰ä¸‹æœåŠ¡ç«¯ä¼šæ›¿æ¢è¿™æ®µå­—ç¬¦ä¸²ã€‚</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```html</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot; /&gt;</span><br><span class="line">    &lt;link rel=&quot;shortcut icon&quot; href=&quot;%PUBLIC_URL%/favicon.ico&quot; /&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;/&gt;</span><br><span class="line">    &lt;meta name=&quot;theme-color&quot; content=&quot;#000000&quot; /&gt;</span><br><span class="line">    &lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot; /&gt;</span><br><span class="line">    &lt;title&gt;React App&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;noscript&gt;You need to enable JavaScript to run this app.&lt;/noscript&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;&#123;&#123;root&#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>app.js æœåŠ¡ç«¯æ¸²æŸ“çš„ä¸»è¦ä»£ç ï¼ŒåŠ è½½App.jsï¼Œä½¿ç”¨renderToString ç”Ÿæˆhtmlä»£ç ï¼Œå»æ›¿æ¢æ‰ index.html ä¸­çš„ <figure class="highlight plain"><figcaption><span>éƒ¨åˆ†</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```javascript</span><br><span class="line">import App from &apos;../src/App&apos;;</span><br><span class="line">import Koa from &apos;koa&apos;;</span><br><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import Router from &apos;koa-router&apos;;</span><br><span class="line">import fs from &apos;fs&apos;;</span><br><span class="line">import koaStatic from &apos;koa-static&apos;;</span><br><span class="line">import path from &apos;path&apos;;</span><br><span class="line">import &#123; renderToString &#125; from &apos;react-dom/server&apos;;</span><br><span class="line"></span><br><span class="line">// é…ç½®æ–‡ä»¶</span><br><span class="line">const config = &#123;</span><br><span class="line">  port: 3030</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// å®ä¾‹åŒ– koa</span><br><span class="line">const app = new Koa();</span><br><span class="line"></span><br><span class="line">// é™æ€èµ„æº</span><br><span class="line">app.use(</span><br><span class="line">  koaStatic(path.join(__dirname, &apos;../build&apos;), &#123;</span><br><span class="line">    maxage: 365 * 24 * 60 * 1000,</span><br><span class="line">    index: &apos;root&apos; </span><br><span class="line">    // è¿™é‡Œé…ç½®ä¸è¦å†™æˆ&apos;index&apos;å°±å¯ä»¥äº†ï¼Œå› ä¸ºåœ¨è®¿é—®localhost:3030æ—¶ï¼Œä¸èƒ½è®©æœåŠ¡é»˜è®¤å»åŠ è½½index.htmlæ–‡ä»¶ï¼Œè¿™é‡Œå¾ˆå®¹æ˜“æ‰è¿›å‘ã€‚</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// è®¾ç½®è·¯ç”±</span><br><span class="line">app.use(</span><br><span class="line">  new Router()</span><br><span class="line">    .get(&apos;*&apos;, async (ctx, next) =&gt; &#123;</span><br><span class="line">      ctx.response.type = &apos;html&apos;; //æŒ‡å®šcontent type</span><br><span class="line">      let shtml = &apos;&apos;;</span><br><span class="line">      await new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">        fs.readFile(path.join(__dirname, &apos;../build/index.html&apos;), &apos;utfa8&apos;, function(err, data) &#123;</span><br><span class="line">          if (err) &#123;</span><br><span class="line">            reject();</span><br><span class="line">            return console.log(err);</span><br><span class="line">          &#125;</span><br><span class="line">          shtml = data;</span><br><span class="line">          resolve();</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">      // æ›¿æ¢æ‰ &#123;&#123;root&#125;&#125; ä¸ºæˆ‘ä»¬ç”Ÿæˆåçš„HTML</span><br><span class="line">      ctx.response.body = shtml.replace(&apos;&#123;&#123;root&#125;&#125;&apos;, renderToString(&lt;App /&gt;));</span><br><span class="line">    &#125;)</span><br><span class="line">    .routes()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">app.listen(config.port, function() &#123;</span><br><span class="line">  console.log(&apos;æœåŠ¡å™¨å¯åŠ¨ï¼Œç›‘å¬ portï¼š &apos; + config.port + &apos;  running~&apos;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>config-overrides.js å› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯create-react-appï¼Œè¿™é‡Œä½¿ç”¨react-app-rewiredå»æ”¹ä¸‹webpackçš„é…ç½®ã€‚å› ä¸ºæ‰§è¡Œ<strong>npm run build</strong>çš„æ—¶å€™ä¼šè‡ªåŠ¨ç»™èµ„æºåŠ äº†hashå€¼ï¼Œè€Œè¿™ä¸ªhashå€¼ï¼Œæˆ‘ä»¬åœ¨asset-require-hookçš„æ—¶å€™å»æ‰äº†hashå€¼ï¼Œé…ç½®é‡Œé¢éœ€è¦æ”¹ä¸‹ï¼Œä¸ç„¶ä¼šå‡ºç°å›¾ç‰‡ä¸æ˜¾ç¤ºçš„é—®é¢˜ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸€ä¸ªå‘ï¼Œè¦æ³¨æ„ä¸‹ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  webpack: <span class="function"><span class="keyword">function</span>(<span class="params">config, env</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...add your webpack config</span></span><br><span class="line">    <span class="comment">// console.log(JSON.stringify(config));</span></span><br><span class="line">    <span class="comment">// å»æ‰hashå€¼ï¼Œè§£å†³asset-require-hookèµ„æºé—®é¢˜</span></span><br><span class="line">    config.module.rules.forEach(<span class="function"><span class="params">d</span> =&gt;</span> &#123;</span><br><span class="line">      d.oneOf &amp;&amp;</span><br><span class="line">        d.oneOf.forEach(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (e &amp;&amp; e.options &amp;&amp; e.options.name) &#123;</span><br><span class="line">            e.options.name = e.options.name.replace(<span class="string">'[hash:8].'</span>, <span class="string">''</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œæ‰€æœ‰çš„ä»£ç å°±è¿™äº›äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•äº†ï¼Ÿæˆ‘ä»¬koa2è¯»å–çš„é™æ€èµ„æºæ˜¯ buildç›®å½•ä¸‹é¢çš„ã€‚å…ˆæ‰§è¡Œ<strong>npm run build</strong>æ‰“åŒ…é¡¹ç›®ï¼Œå†æ‰§è¡Œ<strong>node ./server</strong> å¯åŠ¨æœåŠ¡ç«¯é¡¹ç›®ã€‚çœ‹ä¸‹<a href="http://localhost:3030" target="_blank" rel="noopener">http://localhost:3030</a> é¡µé¢çš„HTMLä»£ç æ£€æŸ¥ä¸‹ï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/react-ssr-demo.png" alt="å›¾ç‰‡æè¿°"></p><p>æ²¡æœ‰<code></code>äº†ï¼ŒæœåŠ¡å™¨æ¸²æŸ“æˆåŠŸï¼</p><blockquote><p>æ³¨: è¿™ä¸ªé¡¹ç›®åªæ˜¯ç”¨æ¥å­¦ä¹  react çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè€Œéå®‰åˆ©å¤§å®¶ä¸€å®šè¦ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå› ä¸º react å’Œ vue çš„æœåŠ¡ç«¯æ¸²æŸ“å’Œæ™®é€šçš„æœåŠ¡ç«¯æ¸²æŸ“æœ‰å¾ˆå¤šçš„ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥å­¦ä¹ ä¸€ä¸‹ï¼Œæé«˜ä¸€ä¸‹è‡ªå·±çš„æ°´å¹³ã€‚</p></blockquote><h2 id="ä»£ç ä»“åº“åœ°å€"><a href="#ä»£ç ä»“åº“åœ°å€" class="headerlink" title="ä»£ç ä»“åº“åœ°å€"></a>ä»£ç ä»“åº“åœ°å€</h2><p><a href="https://github.com/cosyer/react-koa2-ssr" target="_blank" rel="noopener">react-koa2-ssr</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/react%20SSR%E6%95%99%E7%A8%8B.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Docker</title>
      <link>http://mydearest.cn/2020/Docker.html</link>
      <guid>http://mydearest.cn/2020/Docker.html</guid>
      <pubDate>Mon, 01 Jun 2020 08:31:45 GMT</pubDate>
      <description>
      
        &lt;p&gt;Dockerï¼Œæ˜¯ä¸€æ¬¾ç°åœ¨æœ€æµè¡Œçš„ è½¯ä»¶å®¹å™¨å¹³å°ï¼Œæä¾›äº†è½¯ä»¶è¿è¡Œæ—¶æ‰€ä¾èµ–çš„ç¯å¢ƒã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç‰©ç†æœº&quot;&gt;&lt;a href=&quot;#ç‰©ç†æœº&quot; class=&quot;headerlink&quot; title=&quot;ç‰©ç†æœº&quot;&gt;&lt;/a&gt;ç‰©ç†æœº&lt;/h2&gt;&lt;p&gt;ç¡¬ä»¶ç¯å¢ƒï¼ŒçœŸå®çš„ è®¡ç®—æœºå®ä½“ï¼ŒåŒ…å«äº†ä¾‹å¦‚ç‰©ç†å†…å­˜ï¼Œç¡¬ç›˜ç­‰ç­‰ç¡¬ä»¶ï¼›&lt;/p&gt;
&lt;h2 id=&quot;è™šæ‹Ÿæœº&quot;&gt;&lt;a href=&quot;#è™šæ‹Ÿæœº&quot; class=&quot;headerlink&quot; title=&quot;è™šæ‹Ÿæœº:&quot;&gt;&lt;/a&gt;è™šæ‹Ÿæœº:&lt;/h2&gt;&lt;p&gt;åœ¨ç‰©ç†æœºä¸Š æ¨¡æ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶ç¯å¢ƒå’Œæ“ä½œç³»ç»Ÿï¼Œåº”ç”¨è½¯ä»¶å¯ä»¥è¿è¡Œäºå…¶ä¸­ï¼Œå¹¶ä¸”æ¯«æ— æ„ŸçŸ¥ï¼Œæ˜¯ä¸€å¥—éš”ç¦»çš„å®Œæ•´ç¯å¢ƒã€‚æœ¬è´¨ä¸Šï¼Œå®ƒåªæ˜¯ç‰©ç†æœºä¸Šçš„ä¸€ä»½è¿è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ&lt;/h2&gt;&lt;h3 id=&quot;ç¯å¢ƒé…ç½®ä¸è¿ç§»&quot;&gt;&lt;a href=&quot;#ç¯å¢ƒé…ç½®ä¸è¿ç§»&quot; class=&quot;headerlink&quot; title=&quot;ç¯å¢ƒé…ç½®ä¸è¿ç§»&quot;&gt;&lt;/a&gt;ç¯å¢ƒé…ç½®ä¸è¿ç§»&lt;/h3&gt;&lt;p&gt;åœ¨è½¯ä»¶å¼€å‘å’Œè¿è¡Œä¸­ï¼Œç¯å¢ƒä¾èµ–ä¸€ç›´æ˜¯ä¸€ä¸ªå¾ˆå¤´ç–¼çš„éš¾é¢˜ï¼Œæ¯”å¦‚ä½ æƒ³è¿è¡Œ node åº”ç”¨ï¼Œé‚£è‡³å°‘ç¯å¢ƒå¾—å®‰è£… node å§ï¼Œè€Œä¸”ä¸åŒç‰ˆæœ¬ï¼Œä¸åŒç³»ç»Ÿéƒ½ä¼šå½±å“è¿è¡Œã€‚è§£å†³çš„åŠæ³•å°±æ˜¯æˆ‘ä»¬çš„åŒ…è£…åŒ…ä¸­ç›´æ¥åŒ…å«è¿è¡Œç¯å¢ƒçš„å®‰è£…ï¼Œè®©åŒä¸€ä»½ç¯å¢ƒå¯ä»¥å¿«é€Ÿå¤åˆ¶åˆ°ä»»æ„ä¸€å°ç‰©ç†æœºä¸Šã€‚&lt;/p&gt;
&lt;h3 id=&quot;èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»&quot;&gt;&lt;a href=&quot;#èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»&quot; class=&quot;headerlink&quot; title=&quot;èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»&quot;&gt;&lt;/a&gt;èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»&lt;/h3&gt;&lt;p&gt;é€šè¿‡ç¡¬ä»¶æ¨¡æ‹Ÿï¼Œå¹¶åŒ…å«ä¸€å¥—å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œåº”ç”¨å¯ä»¥ç‹¬ç«‹è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸­ï¼Œä¸å¤–ç•Œéš”ç¦»ã€‚å¹¶ä¸”å¯ä»¥åœ¨åŒä¸€å°ç‰©ç†æœºä¸Šï¼Œå¼€å¯å¤šä¸ªä¸åŒçš„è™šæ‹Ÿæœºå¯åŠ¨æœåŠ¡ï¼Œå³ä¸€å°æœåŠ¡å™¨ï¼Œæä¾›å¤šå¥—æœåŠ¡ï¼Œä¸”èµ„æºå®Œå…¨ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚ä¸ä»…èƒ½æ›´å¥½æé«˜èµ„æºåˆ©ç”¨ç‡ç‡ï¼Œé™ä½æˆæœ¬ï¼Œè€Œä¸”ä¹Ÿæœ‰åˆ©äºæœåŠ¡çš„ç¨³å®šæ€§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹&quot;&gt;&lt;a href=&quot;#ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹&quot;&gt;&lt;/a&gt;ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹&lt;/h3&gt;&lt;h4 id=&quot;èµ„æºå ç”¨å¤§&quot;&gt;&lt;a href=&quot;#èµ„æºå ç”¨å¤§&quot; class=&quot;headerlink&quot; title=&quot;èµ„æºå ç”¨å¤§&quot;&gt;&lt;/a&gt;èµ„æºå ç”¨å¤§&lt;/h4&gt;&lt;p&gt;ç”±äºè™šæ‹Ÿæœºæ˜¯æ¨¡æ‹Ÿå‡ºä¸€å¥—å®Œæ•´ç³»ç»Ÿï¼ŒåŒ…å«ä¼—å¤šç³»ç»Ÿçº§åˆ«çš„æ–‡ä»¶å’Œåº“ï¼Œè¿è¡Œä¹Ÿéœ€è¦å ç”¨ä¸€éƒ¨åˆ†èµ„æºï¼Œå•å•å¯åŠ¨ä¸€ä¸ªç©ºçš„è™šæ‹Ÿæœºï¼Œå¯èƒ½å°±è¦å ç”¨ 100+MB çš„å†…å­˜äº†ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å¯åŠ¨ç¼“æ…¢&quot;&gt;&lt;a href=&quot;#å¯åŠ¨ç¼“æ…¢&quot; class=&quot;headerlink&quot; title=&quot;å¯åŠ¨ç¼“æ…¢&quot;&gt;&lt;/a&gt;å¯åŠ¨ç¼“æ…¢&lt;/h4&gt;&lt;p&gt;åŒæ ·æ˜¯ç”±äºå®Œæ•´ç³»ç»Ÿï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å°±éœ€è¦è¿è¡Œå„ç§ç³»ç»Ÿåº”ç”¨å’Œæ­¥éª¤ï¼Œä¹Ÿå°±æ˜¯è·Ÿæˆ‘ä»¬å¹³æ—¶å¯åŠ¨ç”µè„‘ä¸€æ ·çš„è€—æ—¶ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å†—ä½™æ­¥éª¤å¤š&quot;&gt;&lt;a href=&quot;#å†—ä½™æ­¥éª¤å¤š&quot; class=&quot;headerlink&quot; title=&quot;å†—ä½™æ­¥éª¤å¤š&quot;&gt;&lt;/a&gt;å†—ä½™æ­¥éª¤å¤š&lt;/h4&gt;&lt;p&gt;ç³»ç»Ÿæœ‰è®¸å¤šå†…ç½®çš„ç³»ç»Ÿæ“ä½œï¼Œä¾‹å¦‚ç”¨æˆ·ç™»å½•ï¼Œç³»ç»Ÿæ£€æŸ¥ç­‰ç­‰ï¼Œæœ‰äº›åœºæ™¯å…¶å®æˆ‘ä»¬è¦çš„åªæ˜¯ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒï¼Œå…¶å®ä¹Ÿå°±æ˜¯è¯´ï¼Œè™šæ‹Ÿæœºå¯¹éƒ¨åˆ†éœ€æ±‚ç—›ç‚¹æ¥è¯´ï¼Œå…¶å®æ˜¯æœ‰ç‚¹è¿‡é‡çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Linux-å®¹å™¨&quot;&gt;&lt;a href=&quot;#Linux-å®¹å™¨&quot; class=&quot;headerlink&quot; title=&quot;Linux å®¹å™¨&quot;&gt;&lt;/a&gt;Linux å®¹å™¨&lt;/h2&gt;&lt;p&gt;Linux ä¸­çš„ä¸€é¡¹è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç§°ä¸º Linux å®¹å™¨æŠ€æœ¯(LXC)ã€‚å®ƒåœ¨è¿›ç¨‹å±‚é¢æ¨¡æ‹Ÿå‡ºä¸€å¥—éš”ç¦»çš„ç¯å¢ƒé…ç½®ï¼Œä½†å¹¶æ²¡æœ‰æ¨¡æ‹Ÿç¡¬ä»¶å’Œå®Œæ•´çš„æ“ä½œç³»ç»Ÿã€‚å› æ­¤å®ƒå®Œå…¨è§„é¿äº†ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹ï¼Œåœ¨å¯åŠ¨é€Ÿåº¦ï¼Œèµ„æºåˆ©ç”¨ä¸Šè¿œè¿œä¼˜äºè™šæ‹Ÿæœºï¼›&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>Dockerï¼Œæ˜¯ä¸€æ¬¾ç°åœ¨æœ€æµè¡Œçš„ è½¯ä»¶å®¹å™¨å¹³å°ï¼Œæä¾›äº†è½¯ä»¶è¿è¡Œæ—¶æ‰€ä¾èµ–çš„ç¯å¢ƒã€‚</p><h2 id="ç‰©ç†æœº"><a href="#ç‰©ç†æœº" class="headerlink" title="ç‰©ç†æœº"></a>ç‰©ç†æœº</h2><p>ç¡¬ä»¶ç¯å¢ƒï¼ŒçœŸå®çš„ è®¡ç®—æœºå®ä½“ï¼ŒåŒ…å«äº†ä¾‹å¦‚ç‰©ç†å†…å­˜ï¼Œç¡¬ç›˜ç­‰ç­‰ç¡¬ä»¶ï¼›</p><h2 id="è™šæ‹Ÿæœº"><a href="#è™šæ‹Ÿæœº" class="headerlink" title="è™šæ‹Ÿæœº:"></a>è™šæ‹Ÿæœº:</h2><p>åœ¨ç‰©ç†æœºä¸Š æ¨¡æ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶ç¯å¢ƒå’Œæ“ä½œç³»ç»Ÿï¼Œåº”ç”¨è½¯ä»¶å¯ä»¥è¿è¡Œäºå…¶ä¸­ï¼Œå¹¶ä¸”æ¯«æ— æ„ŸçŸ¥ï¼Œæ˜¯ä¸€å¥—éš”ç¦»çš„å®Œæ•´ç¯å¢ƒã€‚æœ¬è´¨ä¸Šï¼Œå®ƒåªæ˜¯ç‰©ç†æœºä¸Šçš„ä¸€ä»½è¿è¡Œæ–‡ä»¶ã€‚</p><h2 id="ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ</h2><h3 id="ç¯å¢ƒé…ç½®ä¸è¿ç§»"><a href="#ç¯å¢ƒé…ç½®ä¸è¿ç§»" class="headerlink" title="ç¯å¢ƒé…ç½®ä¸è¿ç§»"></a>ç¯å¢ƒé…ç½®ä¸è¿ç§»</h3><p>åœ¨è½¯ä»¶å¼€å‘å’Œè¿è¡Œä¸­ï¼Œç¯å¢ƒä¾èµ–ä¸€ç›´æ˜¯ä¸€ä¸ªå¾ˆå¤´ç–¼çš„éš¾é¢˜ï¼Œæ¯”å¦‚ä½ æƒ³è¿è¡Œ node åº”ç”¨ï¼Œé‚£è‡³å°‘ç¯å¢ƒå¾—å®‰è£… node å§ï¼Œè€Œä¸”ä¸åŒç‰ˆæœ¬ï¼Œä¸åŒç³»ç»Ÿéƒ½ä¼šå½±å“è¿è¡Œã€‚è§£å†³çš„åŠæ³•å°±æ˜¯æˆ‘ä»¬çš„åŒ…è£…åŒ…ä¸­ç›´æ¥åŒ…å«è¿è¡Œç¯å¢ƒçš„å®‰è£…ï¼Œè®©åŒä¸€ä»½ç¯å¢ƒå¯ä»¥å¿«é€Ÿå¤åˆ¶åˆ°ä»»æ„ä¸€å°ç‰©ç†æœºä¸Šã€‚</p><h3 id="èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»"><a href="#èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»" class="headerlink" title="èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»"></a>èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»</h3><p>é€šè¿‡ç¡¬ä»¶æ¨¡æ‹Ÿï¼Œå¹¶åŒ…å«ä¸€å¥—å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œåº”ç”¨å¯ä»¥ç‹¬ç«‹è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸­ï¼Œä¸å¤–ç•Œéš”ç¦»ã€‚å¹¶ä¸”å¯ä»¥åœ¨åŒä¸€å°ç‰©ç†æœºä¸Šï¼Œå¼€å¯å¤šä¸ªä¸åŒçš„è™šæ‹Ÿæœºå¯åŠ¨æœåŠ¡ï¼Œå³ä¸€å°æœåŠ¡å™¨ï¼Œæä¾›å¤šå¥—æœåŠ¡ï¼Œä¸”èµ„æºå®Œå…¨ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚ä¸ä»…èƒ½æ›´å¥½æé«˜èµ„æºåˆ©ç”¨ç‡ç‡ï¼Œé™ä½æˆæœ¬ï¼Œè€Œä¸”ä¹Ÿæœ‰åˆ©äºæœåŠ¡çš„ç¨³å®šæ€§ã€‚</p><h3 id="ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹"><a href="#ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹" class="headerlink" title="ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹"></a>ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹</h3><h4 id="èµ„æºå ç”¨å¤§"><a href="#èµ„æºå ç”¨å¤§" class="headerlink" title="èµ„æºå ç”¨å¤§"></a>èµ„æºå ç”¨å¤§</h4><p>ç”±äºè™šæ‹Ÿæœºæ˜¯æ¨¡æ‹Ÿå‡ºä¸€å¥—å®Œæ•´ç³»ç»Ÿï¼ŒåŒ…å«ä¼—å¤šç³»ç»Ÿçº§åˆ«çš„æ–‡ä»¶å’Œåº“ï¼Œè¿è¡Œä¹Ÿéœ€è¦å ç”¨ä¸€éƒ¨åˆ†èµ„æºï¼Œå•å•å¯åŠ¨ä¸€ä¸ªç©ºçš„è™šæ‹Ÿæœºï¼Œå¯èƒ½å°±è¦å ç”¨ 100+MB çš„å†…å­˜äº†ã€‚</p><h4 id="å¯åŠ¨ç¼“æ…¢"><a href="#å¯åŠ¨ç¼“æ…¢" class="headerlink" title="å¯åŠ¨ç¼“æ…¢"></a>å¯åŠ¨ç¼“æ…¢</h4><p>åŒæ ·æ˜¯ç”±äºå®Œæ•´ç³»ç»Ÿï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å°±éœ€è¦è¿è¡Œå„ç§ç³»ç»Ÿåº”ç”¨å’Œæ­¥éª¤ï¼Œä¹Ÿå°±æ˜¯è·Ÿæˆ‘ä»¬å¹³æ—¶å¯åŠ¨ç”µè„‘ä¸€æ ·çš„è€—æ—¶ã€‚</p><h4 id="å†—ä½™æ­¥éª¤å¤š"><a href="#å†—ä½™æ­¥éª¤å¤š" class="headerlink" title="å†—ä½™æ­¥éª¤å¤š"></a>å†—ä½™æ­¥éª¤å¤š</h4><p>ç³»ç»Ÿæœ‰è®¸å¤šå†…ç½®çš„ç³»ç»Ÿæ“ä½œï¼Œä¾‹å¦‚ç”¨æˆ·ç™»å½•ï¼Œç³»ç»Ÿæ£€æŸ¥ç­‰ç­‰ï¼Œæœ‰äº›åœºæ™¯å…¶å®æˆ‘ä»¬è¦çš„åªæ˜¯ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒï¼Œå…¶å®ä¹Ÿå°±æ˜¯è¯´ï¼Œè™šæ‹Ÿæœºå¯¹éƒ¨åˆ†éœ€æ±‚ç—›ç‚¹æ¥è¯´ï¼Œå…¶å®æ˜¯æœ‰ç‚¹è¿‡é‡çš„ã€‚</p><h2 id="Linux-å®¹å™¨"><a href="#Linux-å®¹å™¨" class="headerlink" title="Linux å®¹å™¨"></a>Linux å®¹å™¨</h2><p>Linux ä¸­çš„ä¸€é¡¹è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç§°ä¸º Linux å®¹å™¨æŠ€æœ¯(LXC)ã€‚å®ƒåœ¨è¿›ç¨‹å±‚é¢æ¨¡æ‹Ÿå‡ºä¸€å¥—éš”ç¦»çš„ç¯å¢ƒé…ç½®ï¼Œä½†å¹¶æ²¡æœ‰æ¨¡æ‹Ÿç¡¬ä»¶å’Œå®Œæ•´çš„æ“ä½œç³»ç»Ÿã€‚å› æ­¤å®ƒå®Œå…¨è§„é¿äº†ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹ï¼Œåœ¨å¯åŠ¨é€Ÿåº¦ï¼Œèµ„æºåˆ©ç”¨ä¸Šè¿œè¿œä¼˜äºè™šæ‹Ÿæœºï¼›</p><hr><a id="more"></a><h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><p>Docker å°±æ˜¯åŸºäº Linux å®¹å™¨çš„ä¸€ç§ä¸Šå±‚å°è£…ï¼Œæä¾›äº†æ›´ä¸ºç®€å•æ˜“ç”¨çš„ API ç”¨äºæ“ä½œ Dockerï¼Œå±äºä¸€ç§<code>å®¹å™¨è§£å†³æ–¹æ¡ˆ</code>ã€‚åŸºæœ¬æ¦‚å¿µ: åœ¨ Docker ä¸­ï¼Œæœ‰ä¸‰ä¸ªæ ¸å¿ƒçš„æ¦‚å¿µ:</p><h3 id="é•œåƒ-Image"><a href="#é•œåƒ-Image" class="headerlink" title="é•œåƒ (Image):"></a>é•œåƒ (Image):</h3><ol><li>ä»åŸç†ä¸Šè¯´ï¼Œé•œåƒå±äºä¸€ç§<code>root æ–‡ä»¶ç³»ç»Ÿ</code>ï¼ŒåŒ…å«äº†ä¸€äº›ç³»ç»Ÿæ–‡ä»¶å’Œç¯å¢ƒé…ç½®ç­‰ï¼Œå¯ä»¥å°†å…¶ç†è§£æˆä¸€å¥—<code>æœ€å°æ“ä½œç³»ç»Ÿ</code>ã€‚ä¸ºäº†è®©é•œåƒè½»é‡åŒ–å’Œå¯ç§»æ¤ï¼ŒDocker é‡‡ç”¨äº†<code>Union FS çš„åˆ†å±‚å­˜å‚¨æ¨¡å¼</code>ã€‚å°†æ–‡ä»¶ç³»ç»Ÿåˆ†æˆä¸€å±‚ä¸€å±‚çš„ç»“æ„ï¼Œé€æ­¥ä»åº•å±‚å¾€ä¸Šå±‚æ„å»ºï¼Œæ¯å±‚æ–‡ä»¶éƒ½å¯ä»¥è¿›è¡Œç»§æ‰¿å’Œå®šåˆ¶ã€‚è¿™é‡Œä»å‰ç«¯çš„è§’åº¦æ¥ç†è§£:<code>é•œåƒå°±ç±»ä¼¼äºä»£ç ä¸­çš„ classï¼Œå¯ä»¥é€šè¿‡ç»§æ‰¿ä¸ä¸Šå±‚å°è£…è¿›è¡Œå¤ç”¨</code>ã€‚</li><li>ä»å¤–å±‚ç³»ç»Ÿçœ‹æ¥ï¼Œä¸€ä¸ªé•œåƒå°±æ˜¯ä¸€ä¸ª Image<code>äºŒè¿›åˆ¶æ–‡ä»¶</code>ï¼Œå¯ä»¥ä»»æ„è¿ç§»ï¼Œåˆ é™¤ï¼Œæ·»åŠ ï¼›</li></ol><h3 id="å®¹å™¨-Container"><a href="#å®¹å™¨-Container" class="headerlink" title="å®¹å™¨ (Container):"></a>å®¹å™¨ (Container):</h3><ol><li>é•œåƒæ˜¯ä¸€ä»½é™æ€æ–‡ä»¶ç³»ç»Ÿï¼Œæ— æ³•è¿›è¡Œè¿è¡Œæ—¶æ“ä½œï¼Œå°±å¦‚classï¼Œå¦‚æœæˆ‘ä»¬ä¸è¿›è¡Œå®ä¾‹åŒ–æ—¶ï¼Œä¾¿æ— æ³•è¿›è¡Œæ“ä½œå’Œä½¿ç”¨ã€‚å› æ­¤<code>å®¹å™¨å¯ä»¥ç†è§£æˆé•œåƒçš„å®ä¾‹</code>ï¼Œå³<code>new é•œåƒ()</code>ï¼Œè¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥åˆ›å»ºã€ä¿®æ”¹ã€æ“ä½œå®¹å™¨ï¼›ä¸€æ—¦åˆ›å»ºåï¼Œå°±å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªè½»é‡çº§çš„æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥åœ¨å†…éƒ¨è¿›è¡Œå„ç§æ“ä½œï¼Œä¾‹å¦‚è¿è¡Œ node åº”ç”¨ï¼Œæ‹‰å– git ç­‰ï¼›</li><li>åŸºäºé•œåƒçš„åˆ†å±‚ç»“æ„ï¼Œå®¹å™¨æ˜¯<code>ä»¥é•œåƒä¸ºåŸºç¡€åº•å±‚</code>ï¼Œåœ¨ä¸Šé¢å°è£…äº†ä¸€å±‚<code>å®¹å™¨çš„å­˜å‚¨å±‚</code>ï¼›</li></ol><ul><li>å­˜å‚¨ç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸä¸å®¹å™¨ä¸€è‡´ï¼›</li><li>è¯¥å±‚å­˜å‚¨å±‚ä¼šéšç€å®¹å™¨çš„é”€æ¯è€Œé”€æ¯ï¼›</li><li>å°½é‡é¿å…å¾€å®¹å™¨å±‚å†™å…¥æ•°æ®ï¼›</li></ul><ol><li>å®¹å™¨ä¸­çš„æ•°æ®çš„æŒä¹…åŒ–ç®¡ç†ä¸»è¦ç”±ä¸¤ç§æ–¹å¼:</li></ol><ul><li>æ•°æ®å· (Volume): ä¸€ç§å¯ä»¥åœ¨å¤šä¸ªå®¹å™¨é—´å…±äº«çš„ç‰¹æ®Šç›®å½•ï¼Œå…¶å¤„äºå®¹å™¨å¤–å±‚ï¼Œå¹¶ä¸ä¼šéšç€å®¹å™¨é”€æ¯è€Œåˆ é™¤ï¼›</li><li>æŒ‚è½½ä¸»æœºç›®å½•: ç›´æ¥å°†ä¸€ä¸ªä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­è¿›è¡Œå†™å…¥ï¼›</li></ul><h3 id="ä»“åº“-Repository"><a href="#ä»“åº“-Repository" class="headerlink" title="ä»“åº“ (Repository):"></a>ä»“åº“ (Repository):</h3><ol><li>ä¸ºäº†ä¾¿äºé•œåƒçš„ä½¿ç”¨ï¼ŒDocker æä¾›äº†ç±»ä¼¼äº git çš„ä»“åº“æœºåˆ¶ï¼Œåœ¨ä»“åº“ä¸­åŒ…å«ç€å„ç§å„æ ·ç‰ˆæœ¬çš„é•œåƒã€‚å®˜æ–¹æœåŠ¡æ˜¯ Docker Hubï¼›</li><li>å¯ä»¥å¿«é€Ÿåœ°ä»ä»“åº“ä¸­æ‹‰å–å„ç§ç±»å‹çš„é•œåƒï¼Œä¹Ÿå¯ä»¥åŸºäºæŸäº›é•œåƒè¿›è¡Œè‡ªå®šä¹‰ï¼Œç”šè‡³å‘å¸ƒåˆ°ä»“åº“ä¾›ç¤¾åŒºä½¿ç”¨ï¼›</li></ol>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Docker.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Nginx</title>
      <link>http://mydearest.cn/2020/Nginx.html</link>
      <guid>http://mydearest.cn/2020/Nginx.html</guid>
      <pubDate>Mon, 01 Jun 2020 08:00:08 GMT</pubDate>
      <description>
      
        &lt;p&gt;å®šä¹‰ï¼šè½»é‡çº§ã€é«˜æ€§èƒ½çš„ Web æœåŠ¡å™¨ï¼Œåœ¨ç°ä»Šçš„å¤§å‹åº”ç”¨ã€ç½‘ç«™åŸºæœ¬éƒ½ç¦»ä¸å¼€ Nginxï¼Œå·²ç»æˆä¸ºäº†ä¸€é¡¹å¿…é€‰çš„æŠ€æœ¯ï¼›å…¶å®å¯ä»¥æŠŠå®ƒç†è§£æˆ å…¥å£ç½‘å…³ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ä½ å»é“¶è¡ŒåŠç†ä¸šåŠ¡æ—¶ï¼Œåˆšèµ°è¿›é“¶è¡Œï¼Œéœ€è¦åˆ°å…¥é—¨å¤„çš„æœºå™¨æ’é˜Ÿå–å·ï¼Œç„¶åæŒ‰æŒ‡ä»¤åˆ°å¯¹åº”çš„æŸœå°åŠç†ä¸šåŠ¡ï¼Œæˆ–è€…ä¹Ÿæœ‰å¯èƒ½å‘Šè¯‰ä½ ï¼Œä»Šå¤©ä¸èƒ½æ’å·äº†ï¼Œå›å®¶å§ï¼
è¿™æ ·ä¸€ä¸ªåœºæ™¯ä¸­ï¼Œå–å·æœºå™¨å°±æ˜¯ Nginx(å…¥å£ç½‘å…³)ã€‚ä¸€ä¸ªä¸ªæŸœå°å°±æ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡æœåŠ¡å™¨(åŠç†ä¸šåŠ¡)ï¼›é“¶è¡Œä¸­çš„ä¿é™©ç®±å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®åº“(å­˜å–æ•°æ®)ï¼›ğŸ¤£&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/nginx.png&quot; alt=&quot;nginx&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç‰¹ç‚¹&quot;&gt;&lt;a href=&quot;#ç‰¹ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ç‰¹ç‚¹&quot;&gt;&lt;/a&gt;ç‰¹ç‚¹&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;è½»é‡çº§ï¼Œé…ç½®æ–¹ä¾¿çµæ´»ï¼Œæ— ä¾µå…¥æ€§ï¼›&lt;/li&gt;
&lt;li&gt;å ç”¨å†…å­˜å°‘ï¼Œå¯åŠ¨å¿«ï¼Œæ€§èƒ½å¥½ï¼›&lt;/li&gt;
&lt;li&gt;é«˜å¹¶å‘ï¼Œäº‹ä»¶é©±åŠ¨ï¼Œå¼‚æ­¥ï¼›&lt;/li&gt;
&lt;li&gt;çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹é…ç½®çƒ­ç”Ÿæ•ˆï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å®šä¹‰ï¼šè½»é‡çº§ã€é«˜æ€§èƒ½çš„ Web æœåŠ¡å™¨ï¼Œåœ¨ç°ä»Šçš„å¤§å‹åº”ç”¨ã€ç½‘ç«™åŸºæœ¬éƒ½ç¦»ä¸å¼€ Nginxï¼Œå·²ç»æˆä¸ºäº†ä¸€é¡¹å¿…é€‰çš„æŠ€æœ¯ï¼›å…¶å®å¯ä»¥æŠŠå®ƒç†è§£æˆ å…¥å£ç½‘å…³ã€‚</p><blockquote><p>å½“ä½ å»é“¶è¡ŒåŠç†ä¸šåŠ¡æ—¶ï¼Œåˆšèµ°è¿›é“¶è¡Œï¼Œéœ€è¦åˆ°å…¥é—¨å¤„çš„æœºå™¨æ’é˜Ÿå–å·ï¼Œç„¶åæŒ‰æŒ‡ä»¤åˆ°å¯¹åº”çš„æŸœå°åŠç†ä¸šåŠ¡ï¼Œæˆ–è€…ä¹Ÿæœ‰å¯èƒ½å‘Šè¯‰ä½ ï¼Œä»Šå¤©ä¸èƒ½æ’å·äº†ï¼Œå›å®¶å§ï¼è¿™æ ·ä¸€ä¸ªåœºæ™¯ä¸­ï¼Œå–å·æœºå™¨å°±æ˜¯ Nginx(å…¥å£ç½‘å…³)ã€‚ä¸€ä¸ªä¸ªæŸœå°å°±æ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡æœåŠ¡å™¨(åŠç†ä¸šåŠ¡)ï¼›é“¶è¡Œä¸­çš„ä¿é™©ç®±å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®åº“(å­˜å–æ•°æ®)ï¼›ğŸ¤£</p></blockquote><p><img src="http://cdn.mydearest.cn/blog/images/nginx.png" alt="nginx"></p><h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><ol><li>è½»é‡çº§ï¼Œé…ç½®æ–¹ä¾¿çµæ´»ï¼Œæ— ä¾µå…¥æ€§ï¼›</li><li>å ç”¨å†…å­˜å°‘ï¼Œå¯åŠ¨å¿«ï¼Œæ€§èƒ½å¥½ï¼›</li><li>é«˜å¹¶å‘ï¼Œäº‹ä»¶é©±åŠ¨ï¼Œå¼‚æ­¥ï¼›</li><li>çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹é…ç½®çƒ­ç”Ÿæ•ˆï¼›</li></ol><hr><a id="more"></a><h2 id="æ¶æ„æ¨¡å‹"><a href="#æ¶æ„æ¨¡å‹" class="headerlink" title="æ¶æ„æ¨¡å‹"></a>æ¶æ„æ¨¡å‹</h2><ul><li><p>åŸºäº socket ä¸ Linux epoll (I/O äº‹ä»¶é€šçŸ¥æœºåˆ¶)ï¼Œå®ç°äº†é«˜å¹¶å‘ï¼›</p><ul><li>åŸºäº socket ä¸ Linux epoll (I/O äº‹ä»¶é€šçŸ¥æœºåˆ¶)ï¼Œå®ç°äº† é«˜å¹¶å‘ï¼›</li><li>ç£ç›˜ä¸è¶³çš„æƒ…å†µï¼Œå¯èƒ½ä¼šå¯¼è‡´é˜»å¡ï¼›</li></ul></li><li><p>Master-worker è¿›ç¨‹æ¨¡å¼</p><ul><li>Nginx å¯åŠ¨æ—¶ä¼šåœ¨å†…å­˜ä¸­å¸¸é©»ä¸€ä¸ª Master ä¸»è¿›ç¨‹<ul><li>è¯»å–é…ç½®æ–‡ä»¶</li><li>åˆ›å»ºã€ç»‘å®šã€å…³é—­ socket</li><li>å¯åŠ¨ã€ç»´æŠ¤ã€é…ç½® worker è¿›ç¨‹</li><li>ç¼–è¯‘è„šæœ¬ã€æ‰“å¼€æ—¥å¿—</li></ul></li><li>master è¿›ç¨‹ä¼šå¼€å¯é…ç½®æ•°é‡çš„ worker è¿›ç¨‹ï¼Œæ¯”å¦‚æ ¹æ® CPU æ ¸æ•°ç­‰<ul><li>åˆ©ç”¨ socket ç›‘å¬è¿æ¥ï¼Œä¸ä¼šæ–°å¼€è¿›ç¨‹æˆ–çº¿ç¨‹ï¼ŒèŠ‚çº¦äº†åˆ›å»ºä¸é”€æ¯è¿›ç¨‹çš„æˆæœ¬</li><li>æ£€æŸ¥ç½‘ç»œã€å­˜å‚¨ï¼ŒæŠŠæ–°è¿æ¥åŠ å…¥åˆ°è½®è¯¢é˜Ÿåˆ—ä¸­ï¼Œå¼‚æ­¥å¤„ç†</li><li>èƒ½æœ‰æ•ˆåˆ©ç”¨ cpu å¤šæ ¸ï¼Œå¹¶é¿å…äº†çº¿ç¨‹åˆ‡æ¢å’Œé”ç­‰å¾…</li></ul></li></ul></li><li>çƒ­éƒ¨ç½²æ¨¡å¼<ul><li>å½“æˆ‘ä»¬ä¿®æ”¹é…ç½®çƒ­é‡å¯åï¼Œmaster è¿›ç¨‹ä¼šä»¥æ–°çš„é…ç½®æ–°åˆ›å»º worker è¿›ç¨‹ï¼Œæ–°è¿æ¥ä¼šå…¨éƒ¨äº¤ç»™æ–°è¿›ç¨‹å¤„ç†</li><li>è€çš„ worker è¿›ç¨‹ä¼šåœ¨å¤„ç†å®Œä¹‹å‰çš„è¿æ¥åè¢« kill æ‰ï¼Œé€æ­¥å…¨æ›¿æ¢æˆæ–°é…ç½®çš„ worker è¿›ç¨‹</li></ul></li></ul><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><h3 id="å®˜ç½‘ä¸‹è½½"><a href="#å®˜ç½‘ä¸‹è½½" class="headerlink" title="å®˜ç½‘ä¸‹è½½"></a>å®˜ç½‘ä¸‹è½½</h3><h3 id="é…ç½®æ–‡ä»¶è·¯å¾„ï¼š-usr-local-etc-nginx-nginx-conf"><a href="#é…ç½®æ–‡ä»¶è·¯å¾„ï¼š-usr-local-etc-nginx-nginx-conf" class="headerlink" title="é…ç½®æ–‡ä»¶è·¯å¾„ï¼š /usr/local/etc/nginx/nginx.conf"></a>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š /usr/local/etc/nginx/nginx.conf</h3><h3 id="å¯åŠ¨-ç»ˆç«¯è¾“å…¥-nginxï¼Œè®¿é—®-localhost-8080-å°±èƒ½çœ‹åˆ°-Welcomeâ€¦"><a href="#å¯åŠ¨-ç»ˆç«¯è¾“å…¥-nginxï¼Œè®¿é—®-localhost-8080-å°±èƒ½çœ‹åˆ°-Welcomeâ€¦" class="headerlink" title="å¯åŠ¨: ç»ˆç«¯è¾“å…¥ nginxï¼Œè®¿é—® localhost:8080 å°±èƒ½çœ‹åˆ° Welcomeâ€¦"></a>å¯åŠ¨: ç»ˆç«¯è¾“å…¥ nginxï¼Œè®¿é—® localhost:8080 å°±èƒ½çœ‹åˆ° Welcomeâ€¦</h3><h3 id="åœæ­¢ä¸å¯åŠ¨"><a href="#åœæ­¢ä¸å¯åŠ¨" class="headerlink" title="åœæ­¢ä¸å¯åŠ¨"></a>åœæ­¢ä¸å¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx -s stop: <span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line">nginx -s reload <span class="comment"># çƒ­é‡å¯æœåŠ¡</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä»£ç†"><a href="#é…ç½®ä»£ç†" class="headerlink" title="é…ç½®ä»£ç†"></a>é…ç½®ä»£ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://xxx.xxx.xx.xx:3000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨åœºæ™¯"><a href="#å¸¸ç”¨åœºæ™¯" class="headerlink" title="å¸¸ç”¨åœºæ™¯"></a>å¸¸ç”¨åœºæ™¯</h2><h3 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h3><p>å…¶å® Nginx å¯ä»¥ç®—ä¸€å±‚ ä»£ç†æœåŠ¡å™¨ï¼Œå°†å®¢æˆ·ç«¯çš„è¯·æ±‚å¤„ç†ä¸€å±‚åï¼Œå†è½¬å‘åˆ°ä¸šåŠ¡æœåŠ¡å™¨ï¼Œè¿™é‡Œå¯ä»¥åˆ†æˆä¸¤ç§ç±»å‹ï¼Œå…¶å®å®è´¨å°±æ˜¯è¯·æ±‚çš„è½¬å‘ï¼Œä½¿ç”¨ Nginx éå¸¸åˆé€‚ã€é«˜æ•ˆï¼›</p><h3 id="æ­£å‘ä»£ç†"><a href="#æ­£å‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†"></a>æ­£å‘ä»£ç†</h3><ul><li>å³ç”¨æˆ·é€šè¿‡è®¿é—®è¿™å±‚æ­£å‘ä»£ç†æœåŠ¡å™¨ï¼Œå†ç”±ä»£ç†æœåŠ¡å™¨å»åˆ°åŸå§‹æœåŠ¡å™¨è¯·æ±‚å†…å®¹åï¼Œå†è¿”å›ç»™ç”¨æˆ·ï¼›</li><li>ä¾‹å¦‚æˆ‘ä»¬å¸¸ä½¿ç”¨çš„ VPN å°±æ˜¯ä¸€ç§å¸¸è§çš„æ­£å‘ä»£ç†æ¨¡å¼ã€‚é€šå¸¸æˆ‘ä»¬æ— æ³•ç›´æ¥è®¿é—®è°·æ­ŒæœåŠ¡å™¨ï¼Œä½†æ˜¯é€šè¿‡è®¿é—®ä¸€å°å›½å¤–çš„æœåŠ¡å™¨ï¼Œå†ç”±è¿™å°æœåŠ¡å™¨å»è¯·æ±‚è°·æ­Œè¿”å›ç»™ç”¨æˆ·ï¼Œç”¨æˆ·å³å¯è®¿é—®è°·æ­Œï¼›</li></ul><h4 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ol><li>ä»£ç†æœåŠ¡å™¨å±äº<code>å®¢æˆ·ç«¯å±‚</code>ï¼Œç§°ä¹‹ä¸ºæ­£å‘ä»£ç†ï¼›</li><li>ä»£ç†æœåŠ¡å™¨æ˜¯<code>ä¸ºç”¨æˆ·æœåŠ¡</code>ï¼Œå¯¹äºç”¨æˆ·æ˜¯é€æ˜çš„ï¼Œç”¨æˆ·çŸ¥é“è‡ªå·±è®¿é—®ä»£ç†æœåŠ¡å™¨ï¼›</li><li>å¯¹å†…å®¹æœåŠ¡å™¨æ¥è¯´æ˜¯éšè—çš„ï¼Œå†…å®¹æœåŠ¡å™¨å¹¶æ— æ³•åˆ†æ¸…è®¿é—®æ˜¯æ¥è‡ªç”¨æˆ·æˆ–è€…ä»£ç†ï¼›</li></ol><p><img src="http://cdn.mydearest.cn/blog/images/forward-agent.png" alt="forward-agent"></p><h3 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h3><ul><li>ç”¨æˆ·è®¿é—®å¤´æ¡çš„åå‘ä»£ç†ç½‘å…³ï¼Œé€šè¿‡ç½‘å…³çš„ä¸€å±‚å¤„ç†å’Œè°ƒåº¦åï¼Œå†ç”±ç½‘å…³å°†è®¿é—®è½¬å‘åˆ°å†…éƒ¨çš„æœåŠ¡å™¨ä¸Šï¼Œè¿”å›å†…å®¹ç»™ç”¨æˆ·ï¼›</li></ul><h4 id="ç‰¹ç‚¹-2"><a href="#ç‰¹ç‚¹-2" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ol><li>ä»£ç†æœåŠ¡å™¨å±äº<code>æœåŠ¡ç«¯å±‚</code>ï¼Œå› æ­¤ç§°ä¸ºåå‘ä»£ç†ã€‚é€šå¸¸ä»£ç†æœåŠ¡å™¨ä¸å†…éƒ¨å†…å®¹æœåŠ¡å™¨ä¼šéš¶å±äºåŒä¸€å†…ç½‘æˆ–è€…é›†ç¾¤ï¼›</li><li>ä»£ç†æœåŠ¡å™¨æ˜¯<code>ä¸ºå†…å®¹æœåŠ¡å™¨</code>æœåŠ¡çš„ï¼Œå¯¹ç”¨æˆ·æ˜¯éšè—çš„ï¼Œç”¨æˆ·ä¸æ¸…æ¥šè‡ªå·±è®¿é—®çš„å…·ä½“æ˜¯å“ªå°å†…éƒ¨æœåŠ¡å™¨ï¼›</li></ol><p><img src="http://cdn.mydearest.cn/blog/images/reverse-proxy.png" alt="reverse-proxy"></p><h4 id="åå‘ä»£ç†çš„å¥½å¤„"><a href="#åå‘ä»£ç†çš„å¥½å¤„" class="headerlink" title="åå‘ä»£ç†çš„å¥½å¤„:"></a>åå‘ä»£ç†çš„å¥½å¤„:</h4><ol><li><p>å®‰å…¨ä¸æƒé™:ç”¨æˆ·è®¿é—®å¿…é¡»é€šè¿‡åå‘ä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯ä¾¿å¯ä»¥åœ¨åšè¿™å±‚åšç»Ÿä¸€çš„è¯·æ±‚æ ¡éªŒï¼Œè¿‡æ»¤æ‹¦æˆªä¸åˆæ³•ã€å±é™©çš„è¯·æ±‚ï¼Œä»è€Œå°±èƒ½æ›´å¥½çš„ä¿è¯æœåŠ¡å™¨çš„å®‰å…¨ä¸ç¨³å®šï¼›</p></li><li><p>è´Ÿè½½å‡è¡¡: èƒ½æœ‰æ•ˆåˆ†é…æµé‡ï¼Œæœ€å¤§åŒ–é›†ç¾¤çš„ç¨³å®šæ€§ï¼Œä¿è¯ç”¨æˆ·çš„è®¿é—®è´¨é‡ï¼›</p></li></ol><h5 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h5><ul><li><p>è´Ÿè½½å‡è¡¡æ˜¯åŸºäºåå‘ä»£ç†ä¸‹å®ç°çš„ä¸€ç§ æµé‡åˆ†é… åŠŸèƒ½ï¼Œç›®çš„æ˜¯ä¸ºäº†è¾¾åˆ°æœåŠ¡å™¨èµ„æºçš„å……åˆ†åˆ©ç”¨ï¼Œä»¥åŠæ›´å¿«çš„è®¿é—®å“åº”ï¼›</p></li><li><p>å…¶å®å¾ˆå¥½ç†è§£ï¼Œè¿˜æ˜¯ä»¥ä¸Šé¢é“¶è¡Œçš„ä¾‹å­æ¥çœ‹: é€šè¿‡é—¨å£çš„å–å·å™¨ï¼Œç³»ç»Ÿå°±å¯ä»¥æ ¹æ®æ¯ä¸ªæŸœå°çš„ä¸šåŠ¡æ’é˜Ÿæƒ…å†µè¿›è¡Œç”¨æˆ·çš„åˆ†é…ï¼Œä½¿æ¯ä¸ªæŸœå°éƒ½ä¿æŒåœ¨ä¸€ä¸ªæ¯”è¾ƒé«˜æ•ˆçš„è¿ä½œçŠ¶æ€ï¼Œé¿å…å‡ºç°åˆ†é…ä¸å‡çš„æƒ…å†µï¼›</p></li><li><p>ç”±äºç”¨æˆ·å¹¶ä¸çŸ¥é“å†…éƒ¨æœåŠ¡å™¨ä¸­çš„é˜Ÿåˆ—æƒ…å†µï¼Œè€Œåå‘ä»£ç†æœåŠ¡å™¨æ˜¯æ¸…æ¥šçš„ï¼Œå› æ­¤é€šè¿‡Nginxï¼Œä¾¿èƒ½å¾ˆç®€å•åœ°å®ç°æµé‡çš„å‡è¡¡åˆ†é…ï¼›</p></li><li><p>Nginx å®ç°: Upstreamæ¨¡å—ï¼Œè¿™æ ·å½“ç”¨æˆ·è®¿é—® <a href="http://xxx" target="_blank" rel="noopener">http://xxx</a> æ—¶ï¼Œæµé‡ä¾¿ä¼šè¢«æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ†é…åˆ°upstreamä¸­çš„3å°æœåŠ¡å™¨ä¸Šï¼›</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    upstream xxx &#123;</span><br><span class="line">        server <span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>:<span class="number">3001</span>;</span><br><span class="line">        server <span class="number">2.2</span><span class="number">.2</span><span class="number">.2</span>:<span class="number">3001</span>;</span><br><span class="line">        server <span class="number">3.3</span><span class="number">.3</span><span class="number">.3</span>:<span class="number">3001</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen <span class="number">8080</span>;</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http:<span class="comment">//xxx;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>åˆ†é…çš„ç­–ç•¥</p><ul><li><p>åˆ†é…çš„æƒé‡(weight)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">upstream xxx &#123;</span><br><span class="line">  server <span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>:<span class="number">3001</span> weight=<span class="number">1</span>;</span><br><span class="line">  server <span class="number">2.2</span><span class="number">.2</span><span class="number">.2</span>:<span class="number">3001</span> weight=<span class="number">1</span>;</span><br><span class="line">  server <span class="number">3.3</span><span class="number">.3</span><span class="number">.3</span>:<span class="number">3001</span> weight=<span class="number">8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ—¶é—´é¡ºåº(é»˜è®¤): æŒ‰ç”¨æˆ·çš„è®¿é—®çš„é¡ºåºé€ä¸€çš„åˆ†é…åˆ°æ­£å¸¸è¿è¡Œçš„æœåŠ¡å™¨ä¸Šï¼›</p></li><li>è¿æ¥æ•°ä¼˜å…ˆ(least_conn): ä¼˜å…ˆå°†è®¿é—®åˆ†é…åˆ°åˆ—è¡¨ä¸­è¿æ¥æ•°é˜Ÿåˆ—æœ€çŸ­çš„æœåŠ¡å™¨ä¸Šï¼›</li><li>å“åº”æ—¶é—´ä¼˜å…ˆ(fair): ä¼˜å…ˆå°†è®¿é—®åˆ†é…åˆ°åˆ—è¡¨ä¸­è®¿é—®å“åº”æ—¶é—´æœ€çŸ­çš„æœåŠ¡å™¨ä¸Šï¼›</li><li>ip_hash: é€šè¿‡ ip_hash æŒ‡å®šï¼Œä½¿æ¯ä¸ª ip ç”¨æˆ·éƒ½è®¿é—®å›ºå®šçš„æœåŠ¡å™¨ä¸Šï¼Œæœ‰åˆ©äºç”¨æˆ·ç‰¹å¼‚æ€§æ•°æ®çš„ç¼“å­˜ï¼Œä¾‹å¦‚æœ¬åœ° session æœåŠ¡ç­‰</li><li>url_hash: é€šè¿‡ url_hash æŒ‡å®šï¼Œä½¿æ¯ä¸ª url éƒ½åˆ†é…åˆ°å›ºå®šçš„æœåŠ¡å™¨ä¸Šï¼Œæœ‰åˆ©äºç¼“å­˜ï¼›</li></ul></li></ul><h2 id="Nginx-å¯¹äºå‰ç«¯çš„ä½œç”¨"><a href="#Nginx-å¯¹äºå‰ç«¯çš„ä½œç”¨" class="headerlink" title="Nginx å¯¹äºå‰ç«¯çš„ä½œç”¨"></a>Nginx å¯¹äºå‰ç«¯çš„ä½œç”¨</h2><ol><li><p>å¿«é€Ÿé…ç½®é™æ€æœåŠ¡å™¨(å½“è®¿é—® localhost:80 æ—¶ï¼Œå°±ä¼šé»˜è®¤è®¿é—®åˆ° /Users/files/index.html)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen <span class="number">80</span>;                                                         </span><br><span class="line">server_name localhost;                                               </span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line">root   /Users/files;</span><br><span class="line">index  index.html;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è®¿é—®é™åˆ¶(å¯ä»¥åˆ¶å®šä¸€ç³»åˆ—çš„è§„åˆ™è¿›è¡Œè®¿é—®çš„æ§åˆ¶ï¼Œä¾‹å¦‚ç›´æ¥é€šè¿‡ ip é™åˆ¶)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å±è”½ 192.168.1.1 çš„è®¿é—®ï¼›</span></span><br><span class="line"><span class="comment"># å…è®¸ 192.168.1.2 ~ 10 çš„è®¿é—®ï¼›</span></span><br><span class="line">location / &#123;</span><br><span class="line">    deny  192.168.1.1;</span><br><span class="line">    allow 192.168.1.2/10;</span><br><span class="line">    deny  all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è§£å†³è·¨åŸŸ(å…¶å®è·¨åŸŸæ˜¯æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œè¿™æ„å‘³ç€åªè¦ä¸æ˜¯é€šè¿‡æµè§ˆå™¨ï¼Œå°±å¯ä»¥ç»•å¼€è·¨åŸŸçš„é—®é¢˜ã€‚æ‰€ä»¥åªè¦é€šè¿‡åœ¨åŒåŸŸä¸‹å¯åŠ¨ä¸€ä¸ª Nginx æœåŠ¡ï¼Œè½¬å‘è¯·æ±‚å³å¯)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">location ^~/api/ &#123;</span><br><span class="line"> <span class="comment"># é‡å†™è¯·æ±‚å¹¶ä»£ç†åˆ°å¯¹åº”åŸŸåä¸‹</span></span><br><span class="line">    rewrite ^/api/(.*)$ /<span class="variable">$1</span> <span class="built_in">break</span>;</span><br><span class="line">    proxy_pass https://www.cross-target.com/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å›¾ç‰‡å¤„ç†(é€šè¿‡ ngx_http_image_filter_module è¿™ä¸ªæ¨¡å—ï¼Œå¯ä»¥ä½œä¸ºä¸€å±‚å›¾ç‰‡æœåŠ¡å™¨çš„ä»£ç†ï¼Œåœ¨è®¿é—®çš„æ—¶å€™ å¯¹å›¾ç‰‡è¿›è¡Œç‰¹å®šçš„æ“ä½œï¼Œä¾‹å¦‚è£å‰ªï¼Œæ—‹è½¬ï¼Œå‹ç¼©ç­‰)</p></li><li><p>æœ¬åœ°ä»£ç†ï¼Œç»•è¿‡ç™½åå•é™åˆ¶</p></li></ol><ul><li>ä¾‹å¦‚æˆ‘ä»¬åœ¨æ¥å…¥ä¸€äº›ç¬¬ä¸‰æ–¹æœåŠ¡æ—¶ç»å¸¸ä¼šæœ‰ä¸€äº›åŸŸåç™½åå•çš„é™åˆ¶ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æœ¬åœ°é€šè¿‡localhostè¿›è¡Œå¼€å‘ï¼Œä¾¿æ— æ³•å®ŒæˆåŠŸèƒ½ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥åšä¸€å±‚æœ¬åœ°ä»£ç†ï¼Œä¾¿å¯ä»¥ç›´æ¥é€šè¿‡æŒ‡å®šåŸŸåè®¿é—®æœ¬åœ°å¼€å‘ç¯å¢ƒï¼›</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen <span class="number">80</span>;</span><br><span class="line">server_name www.toutiao.com;</span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line">    proxy_pass http:<span class="comment">//localhost:3000;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Nginx.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Hybridæ··åˆæ–¹æ¡ˆ</title>
      <link>http://mydearest.cn/2020/Hybrid.html</link>
      <guid>http://mydearest.cn/2020/Hybrid.html</guid>
      <pubDate>Mon, 01 Jun 2020 07:37:15 GMT</pubDate>
      <description>
      
        &lt;p&gt;éšç€ WebæŠ€æœ¯ å’Œ ç§»åŠ¨è®¾å¤‡ çš„å¿«é€Ÿå‘å±•ï¼Œåœ¨å„å®¶å¤§å‚ä¸­ï¼ŒHybrid æŠ€æœ¯å·²ç»æˆä¸ºä¸€ç§æœ€ä¸»æµæœ€ä¸å¯å–ä»£çš„æ¶æ„æ–¹æ¡ˆä¹‹ä¸€ã€‚ä¸€å¥—å¥½çš„ Hybrid æ¶æ„æ–¹æ¡ˆèƒ½è®© App æ—¢èƒ½æ‹¥æœ‰æè‡´çš„ä½“éªŒå’Œæ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ‹¥æœ‰WebæŠ€æœ¯çµæ´»çš„å¼€å‘æ¨¡å¼ã€è·¨å¹³å°èƒ½åŠ›ä»¥åŠçƒ­æ›´æ–°æœºåˆ¶ã€‚å› æ­¤ï¼Œç›¸å…³çš„ Hybrid é¢†åŸŸäººæ‰ä¹Ÿæ˜¯ååˆ†çš„åƒé¦™ï¼Œç²¾é€šHybrid æŠ€æœ¯å’Œç›¸å…³çš„å®æˆ˜ç»éªŒï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­ä¸€é¡¹å¤§å¤§çš„åŠ åˆ†é¡¹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ··åˆæ–¹æ¡ˆç®€æ&quot;&gt;&lt;a href=&quot;#æ··åˆæ–¹æ¡ˆç®€æ&quot; class=&quot;headerlink&quot; title=&quot;æ··åˆæ–¹æ¡ˆç®€æ&quot;&gt;&lt;/a&gt;æ··åˆæ–¹æ¡ˆç®€æ&lt;/h2&gt;&lt;p&gt;Hybrid Appï¼Œä¿—ç§° æ··åˆåº”ç”¨ï¼Œå³æ··åˆäº† NativeæŠ€æœ¯ ä¸ WebæŠ€æœ¯ è¿›è¡Œå¼€å‘çš„ç§»åŠ¨åº”ç”¨ã€‚ç°åœ¨æ¯”è¾ƒæµè¡Œçš„æ··åˆæ–¹æ¡ˆä¸»è¦æœ‰ä¸‰ç§ï¼Œä¸»è¦æ˜¯åœ¨UIæ¸²æŸ“æœºåˆ¶ä¸Šçš„ä¸åŒ:&lt;/p&gt;
&lt;h3 id=&quot;Webview-UI&quot;&gt;&lt;a href=&quot;#Webview-UI&quot; class=&quot;headerlink&quot; title=&quot;Webview UI&quot;&gt;&lt;/a&gt;Webview UI&lt;/h3&gt;&lt;h4 id=&quot;é€šè¿‡-JSBridge-å®Œæˆ-H5-ä¸-Native-çš„åŒå‘é€šè®¯ï¼Œå¹¶-åŸºäº-Webview-è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›&quot;&gt;&lt;a href=&quot;#é€šè¿‡-JSBridge-å®Œæˆ-H5-ä¸-Native-çš„åŒå‘é€šè®¯ï¼Œå¹¶-åŸºäº-Webview-è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡ JSBridge å®Œæˆ H5 ä¸ Native çš„åŒå‘é€šè®¯ï¼Œå¹¶ åŸºäº Webview è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›&quot;&gt;&lt;/a&gt;é€šè¿‡ JSBridge å®Œæˆ H5 ä¸ Native çš„åŒå‘é€šè®¯ï¼Œå¹¶ åŸºäº Webview è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›&lt;/h4&gt;&lt;h5 id=&quot;ä¼˜åŠ¿-ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›-æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›&quot;&gt;&lt;a href=&quot;#ä¼˜åŠ¿-ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›-æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŠ¿: ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›&quot;&gt;&lt;/a&gt;ä¼˜åŠ¿: ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›&lt;/h5&gt;&lt;h5 id=&quot;Webview-æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›&quot;&gt;&lt;a href=&quot;#Webview-æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›&quot; class=&quot;headerlink&quot; title=&quot;Webview æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›&quot;&gt;&lt;/a&gt;Webview æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›&lt;/h5&gt;&lt;h3 id=&quot;Native-UI&quot;&gt;&lt;a href=&quot;#Native-UI&quot; class=&quot;headerlink&quot; title=&quot;Native UI&quot;&gt;&lt;/a&gt;Native UI&lt;/h3&gt;&lt;h4 id=&quot;é€šè¿‡-JSBridge-èµ‹äºˆ-H5-åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†-JS-ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘-Virtual-DOM-ä¼ é€’è‡³-Native-å±‚ï¼Œå¹¶ä½¿ç”¨-åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚&quot;&gt;&lt;a href=&quot;#é€šè¿‡-JSBridge-èµ‹äºˆ-H5-åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†-JS-ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘-Virtual-DOM-ä¼ é€’è‡³-Native-å±‚ï¼Œå¹¶ä½¿ç”¨-åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡ JSBridge èµ‹äºˆ H5 åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°† JS ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘(Virtual DOM)ä¼ é€’è‡³ Native å±‚ï¼Œå¹¶ä½¿ç”¨ åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚&quot;&gt;&lt;/a&gt;é€šè¿‡ JSBridge èµ‹äºˆ H5 åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°† JS ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘(Virtual DOM)ä¼ é€’è‡³ Native å±‚ï¼Œå¹¶ä½¿ç”¨ åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚&lt;/h4&gt;&lt;h5 id=&quot;ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥-WebæŠ€æœ¯-å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›&quot;&gt;&lt;a href=&quot;#ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥-WebæŠ€æœ¯-å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥ WebæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›&quot;&gt;&lt;/a&gt;ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥ WebæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›&lt;/h5&gt;&lt;h5 id=&quot;ä¸Šæ‰‹-æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›&quot;&gt;&lt;a href=&quot;#ä¸Šæ‰‹-æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›&quot; class=&quot;headerlink&quot; title=&quot;ä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›&quot;&gt;&lt;/a&gt;ä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›&lt;/h5&gt;&lt;h3 id=&quot;å°ç¨‹åº&quot;&gt;&lt;a href=&quot;#å°ç¨‹åº&quot; class=&quot;headerlink&quot; title=&quot;å°ç¨‹åº&quot;&gt;&lt;/a&gt;å°ç¨‹åº&lt;/h3&gt;&lt;h4 id=&quot;é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„-JSBridgeï¼Œèµ‹äºˆäº†-Web-æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ-WebView-åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†-JSé€»è¾‘-ä¸-UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†-H5-ä¸-Native-æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›&quot;&gt;&lt;a href=&quot;#é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„-JSBridgeï¼Œèµ‹äºˆäº†-Web-æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ-WebView-åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†-JSé€»è¾‘-ä¸-UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†-H5-ä¸-Native-æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„ JSBridgeï¼Œèµ‹äºˆäº† Web æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ WebView åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº† JSé€»è¾‘ ä¸ UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº† H5 ä¸ Native æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›&quot;&gt;&lt;/a&gt;é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„ JSBridgeï¼Œèµ‹äºˆäº† Web æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ WebView åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº† JSé€»è¾‘ ä¸ UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº† H5 ä¸ Native æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›&lt;/h4&gt;&lt;h5 id=&quot;ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„-Webview-æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›&quot;&gt;&lt;a href=&quot;#ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„-Webview-æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„ Webview æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›&quot;&gt;&lt;/a&gt;ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„ Webview æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›&lt;/h5&gt;&lt;h5 id=&quot;åŠ£åŠ¿-éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š&quot;&gt;&lt;a href=&quot;#åŠ£åŠ¿-éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š&quot; class=&quot;headerlink&quot; title=&quot;åŠ£åŠ¿: éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š&quot;&gt;&lt;/a&gt;åŠ£åŠ¿: éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š&lt;/h5&gt;&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>éšç€ WebæŠ€æœ¯ å’Œ ç§»åŠ¨è®¾å¤‡ çš„å¿«é€Ÿå‘å±•ï¼Œåœ¨å„å®¶å¤§å‚ä¸­ï¼ŒHybrid æŠ€æœ¯å·²ç»æˆä¸ºä¸€ç§æœ€ä¸»æµæœ€ä¸å¯å–ä»£çš„æ¶æ„æ–¹æ¡ˆä¹‹ä¸€ã€‚ä¸€å¥—å¥½çš„ Hybrid æ¶æ„æ–¹æ¡ˆèƒ½è®© App æ—¢èƒ½æ‹¥æœ‰æè‡´çš„ä½“éªŒå’Œæ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ‹¥æœ‰WebæŠ€æœ¯çµæ´»çš„å¼€å‘æ¨¡å¼ã€è·¨å¹³å°èƒ½åŠ›ä»¥åŠçƒ­æ›´æ–°æœºåˆ¶ã€‚å› æ­¤ï¼Œç›¸å…³çš„ Hybrid é¢†åŸŸäººæ‰ä¹Ÿæ˜¯ååˆ†çš„åƒé¦™ï¼Œç²¾é€šHybrid æŠ€æœ¯å’Œç›¸å…³çš„å®æˆ˜ç»éªŒï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­ä¸€é¡¹å¤§å¤§çš„åŠ åˆ†é¡¹ã€‚</p><h2 id="æ··åˆæ–¹æ¡ˆç®€æ"><a href="#æ··åˆæ–¹æ¡ˆç®€æ" class="headerlink" title="æ··åˆæ–¹æ¡ˆç®€æ"></a>æ··åˆæ–¹æ¡ˆç®€æ</h2><p>Hybrid Appï¼Œä¿—ç§° æ··åˆåº”ç”¨ï¼Œå³æ··åˆäº† NativeæŠ€æœ¯ ä¸ WebæŠ€æœ¯ è¿›è¡Œå¼€å‘çš„ç§»åŠ¨åº”ç”¨ã€‚ç°åœ¨æ¯”è¾ƒæµè¡Œçš„æ··åˆæ–¹æ¡ˆä¸»è¦æœ‰ä¸‰ç§ï¼Œä¸»è¦æ˜¯åœ¨UIæ¸²æŸ“æœºåˆ¶ä¸Šçš„ä¸åŒ:</p><h3 id="Webview-UI"><a href="#Webview-UI" class="headerlink" title="Webview UI"></a>Webview UI</h3><h4 id="é€šè¿‡-JSBridge-å®Œæˆ-H5-ä¸-Native-çš„åŒå‘é€šè®¯ï¼Œå¹¶-åŸºäº-Webview-è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›"><a href="#é€šè¿‡-JSBridge-å®Œæˆ-H5-ä¸-Native-çš„åŒå‘é€šè®¯ï¼Œå¹¶-åŸºäº-Webview-è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›" class="headerlink" title="é€šè¿‡ JSBridge å®Œæˆ H5 ä¸ Native çš„åŒå‘é€šè®¯ï¼Œå¹¶ åŸºäº Webview è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›"></a>é€šè¿‡ JSBridge å®Œæˆ H5 ä¸ Native çš„åŒå‘é€šè®¯ï¼Œå¹¶ åŸºäº Webview è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›</h4><h5 id="ä¼˜åŠ¿-ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›-æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›"><a href="#ä¼˜åŠ¿-ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›-æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›" class="headerlink" title="ä¼˜åŠ¿: ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›"></a>ä¼˜åŠ¿: ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›</h5><h5 id="Webview-æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›"><a href="#Webview-æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›" class="headerlink" title="Webview æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›"></a>Webview æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›</h5><h3 id="Native-UI"><a href="#Native-UI" class="headerlink" title="Native UI"></a>Native UI</h3><h4 id="é€šè¿‡-JSBridge-èµ‹äºˆ-H5-åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†-JS-ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘-Virtual-DOM-ä¼ é€’è‡³-Native-å±‚ï¼Œå¹¶ä½¿ç”¨-åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚"><a href="#é€šè¿‡-JSBridge-èµ‹äºˆ-H5-åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†-JS-ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘-Virtual-DOM-ä¼ é€’è‡³-Native-å±‚ï¼Œå¹¶ä½¿ç”¨-åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚" class="headerlink" title="é€šè¿‡ JSBridge èµ‹äºˆ H5 åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°† JS ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘(Virtual DOM)ä¼ é€’è‡³ Native å±‚ï¼Œå¹¶ä½¿ç”¨ åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚"></a>é€šè¿‡ JSBridge èµ‹äºˆ H5 åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°† JS ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘(Virtual DOM)ä¼ é€’è‡³ Native å±‚ï¼Œå¹¶ä½¿ç”¨ åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚</h4><h5 id="ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥-WebæŠ€æœ¯-å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›"><a href="#ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥-WebæŠ€æœ¯-å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›" class="headerlink" title="ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥ WebæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›"></a>ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥ WebæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›</h5><h5 id="ä¸Šæ‰‹-æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›"><a href="#ä¸Šæ‰‹-æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›" class="headerlink" title="ä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›"></a>ä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›</h5><h3 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h3><h4 id="é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„-JSBridgeï¼Œèµ‹äºˆäº†-Web-æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ-WebView-åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†-JSé€»è¾‘-ä¸-UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†-H5-ä¸-Native-æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›"><a href="#é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„-JSBridgeï¼Œèµ‹äºˆäº†-Web-æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ-WebView-åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†-JSé€»è¾‘-ä¸-UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†-H5-ä¸-Native-æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›" class="headerlink" title="é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„ JSBridgeï¼Œèµ‹äºˆäº† Web æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ WebView åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº† JSé€»è¾‘ ä¸ UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº† H5 ä¸ Native æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›"></a>é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„ JSBridgeï¼Œèµ‹äºˆäº† Web æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ WebView åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº† JSé€»è¾‘ ä¸ UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº† H5 ä¸ Native æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›</h4><h5 id="ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„-Webview-æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›"><a href="#ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„-Webview-æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›" class="headerlink" title="ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„ Webview æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›"></a>ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„ Webview æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›</h5><h5 id="åŠ£åŠ¿-éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š"><a href="#åŠ£åŠ¿-éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š" class="headerlink" title="åŠ£åŠ¿: éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š"></a>åŠ£åŠ¿: éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š</h5><hr><a id="more"></a><h2 id="Webview"><a href="#Webview" class="headerlink" title="Webview"></a>Webview</h2><p>Webview æ˜¯ Native App ä¸­å†…ç½®çš„ä¸€æ¬¾åŸºäºWebkitå†…æ ¸çš„æµè§ˆå™¨ï¼Œä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆ:</p><ul><li>WebCore æ’ç‰ˆå¼•æ“</li><li>JSCore è§£æå¼•æ“</li></ul><p>åœ¨åŸç”Ÿå¼€å‘ SDK ä¸­ Webview è¢«å°è£…æˆäº†ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºä½œä¸º Webé¡µé¢ çš„å®¹å™¨ã€‚å› æ­¤ä½œä¸ºå®¿ä¸»çš„å®¢æˆ·ç«¯ä¸­æ‹¥æœ‰æ›´é«˜çš„æƒé™ï¼Œå¯ä»¥å¯¹ Webview ä¸­çš„Webé¡µé¢è¿›è¡Œé…ç½®å’Œå¼€å‘ã€‚HybridæŠ€æœ¯ä¸­åŒç«¯çš„äº¤äº’åŸç†ï¼Œä¾¿æ˜¯åŸºäº Webview çš„ä¸€äº› API å’Œç‰¹æ€§ã€‚</p><h2 id="äº¤äº’åŸç†"><a href="#äº¤äº’åŸç†" class="headerlink" title="äº¤äº’åŸç†"></a>äº¤äº’åŸç†</h2><p>HybridæŠ€æœ¯ä¸­æœ€æ ¸å¿ƒçš„ç‚¹å°±æ˜¯Nativeç«¯ä¸H5ç«¯ä¹‹é—´çš„åŒå‘é€šè®¯å±‚ï¼Œå…¶å®è¿™é‡Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬éœ€è¦ä¸€å¥—è·¨è¯­è¨€é€šè®¯æ–¹æ¡ˆï¼Œä¾¿æ˜¯æˆ‘ä»¬å¸¸å¬åˆ°çš„JSBridgeã€‚</p><h3 id="JavaScript-é€šçŸ¥-Native"><a href="#JavaScript-é€šçŸ¥-Native" class="headerlink" title="JavaScript é€šçŸ¥ Native"></a>JavaScript é€šçŸ¥ Native</h3><ol><li>APIæ³¨å…¥ï¼ŒNative ç›´æ¥åœ¨ JS ä¸Šä¸‹æ–‡ä¸­æŒ‚è½½æ•°æ®æˆ–è€…æ–¹æ³•</li></ol><p>å»¶è¿Ÿè¾ƒä½ï¼Œåœ¨å®‰å“4.1ä»¥ä¸‹å…·æœ‰å®‰å…¨æ€§é—®é¢˜ï¼Œé£é™©è¾ƒé«˜</p><ol><li>WebView URL Scheme è·³è½¬æ‹¦æˆª</li></ol><p>å…¼å®¹æ€§å¥½ï¼Œä½†å»¶è¿Ÿè¾ƒé«˜ï¼Œä¸”æœ‰é•¿åº¦é™åˆ¶</p><ol><li>WebView ä¸­çš„ prompt/console/alertæ‹¦æˆª(é€šå¸¸ä½¿ç”¨ prompt)</li></ol><h3 id="Native-é€šçŸ¥-Javascript"><a href="#Native-é€šçŸ¥-Javascript" class="headerlink" title="Native é€šçŸ¥ Javascript"></a>Native é€šçŸ¥ Javascript</h3><ol><li><p>IOS: stringByEvaluatingJavaScriptFromString</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift</span></span><br><span class="line">webview.stringByEvaluatingJavaScriptFromString(<span class="string">"alert('NativeCall')"</span>)</span><br></pre></td></tr></table></figure></li><li><p>Android: loadUrl (4.4-)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è°ƒç”¨jsä¸­çš„JSBridge.triggeræ–¹æ³•</span></span><br><span class="line"><span class="comment">// è¯¥æ–¹æ³•çš„å¼Šç«¯æ˜¯æ— æ³•è·å–å‡½æ•°è¿”å›å€¼ï¼›</span></span><br><span class="line">webView.loadUrl(<span class="string">"javascript:JSBridge.trigger('NativeCall')"</span>)</span><br></pre></td></tr></table></figure></li><li><p>Android: evaluateJavascript (4.4+)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4.4+åä½¿ç”¨è¯¥æ–¹æ³•ä¾¿å¯è°ƒç”¨å¹¶è·å–å‡½æ•°è¿”å›å€¼ï¼›</span></span><br><span class="line">mWebView.evaluateJavascriptï¼ˆ<span class="string">"javascript:JSBridge.trigger('NativeCall')"</span>, <span class="keyword">new</span> ValueCallback&lt;<span class="built_in">String</span>&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public <span class="keyword">void</span> onReceiveValue(<span class="built_in">String</span> value) &#123;</span><br><span class="line">        <span class="comment">//æ­¤å¤„ä¸º js è¿”å›çš„ç»“æœ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ¥å…¥æ–¹æ¡ˆ"><a href="#æ¥å…¥æ–¹æ¡ˆ" class="headerlink" title="æ¥å…¥æ–¹æ¡ˆ"></a>æ¥å…¥æ–¹æ¡ˆ</h2><p>æ•´å¥—æ–¹æ¡ˆéœ€è¦ Web ä¸ Native ä¸¤éƒ¨åˆ†å…±åŒæ¥å®Œæˆ:</p><ul><li>Native: è´Ÿè´£å®ç°URLæ‹¦æˆªä¸è§£æã€ç¯å¢ƒä¿¡æ¯çš„æ³¨å…¥ã€æ‹“å±•åŠŸèƒ½çš„æ˜ å°„ã€ç‰ˆæœ¬æ›´æ–°ç­‰åŠŸèƒ½ï¼›</li><li>JavaScirpt: è´Ÿè´£å®ç°åŠŸèƒ½åè®®çš„æ‹¼è£…ã€åè®®çš„å‘é€ã€å‚æ•°çš„ä¼ é€’ã€å›è°ƒç­‰ä¸€ç³»åˆ—åŸºç¡€åŠŸèƒ½ã€‚</li></ul><p>æ¥å…¥æ–¹å¼:</p><ul><li><p>åœ¨çº¿H5: ç›´æ¥å°†é¡¹ç›®éƒ¨ç½²äºçº¿ä¸ŠæœåŠ¡å™¨ï¼Œå¹¶ç”±å®¢æˆ·ç«¯åœ¨ HTML å¤´éƒ¨æ³¨å…¥å¯¹åº”çš„ Bridgeã€‚</p><ul><li>ä¼˜åŠ¿: æ¥å…¥/å¼€å‘æˆæœ¬ä½ï¼Œå¯¹ App çš„ä¾µå…¥å°ï¼›</li><li>åŠ£åŠ¿: é‡åº¦ä¾èµ–ç½‘ç»œï¼Œæ— æ³•ç¦»çº¿ä½¿ç”¨ï¼Œé¦–å±åŠ è½½æ…¢ï¼›</li></ul></li><li><p>å†…ç½®ç¦»çº¿åŒ…: å°†ä»£ç ç›´æ¥å†…ç½®äº App ä¸­ï¼Œå³æœ¬åœ°å­˜å‚¨ä¸­ï¼Œå¯ç”± H5 æˆ–è€… å®¢æˆ·ç«¯å¼•ç”¨ Bridgeã€‚</p><ul><li>ä¼˜åŠ¿: é¦–å±åŠ è½½å¿«ï¼Œå¯ç¦»çº¿åŒ–ä½¿ç”¨ï¼›</li><li>åŠ£åŠ¿: å¼€å‘ã€è°ƒè¯•æˆæœ¬å˜é«˜ï¼Œéœ€è¦å¤šç«¯åˆä½œï¼Œä¸”ä¼šå¢åŠ  App åŒ…ä½“ç§¯</li></ul></li></ul><h2 id="5-ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°"><a href="#5-ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°" class="headerlink" title="5. ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°"></a>5. ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°</h2><ul><li>Webview é¢„åŠ è½½: Webview çš„åˆå§‹åŒ–å…¶å®æŒºè€—æ—¶çš„ã€‚æˆ‘ä»¬æµ‹è¯•è¿‡ï¼Œå¤§æ¦‚åœ¨100~200msä¹‹é—´ï¼Œå› æ­¤å¦‚æœèƒ½å‰ç½®åšå¥½åˆå§‹åŒ–äºå†…å­˜ä¸­ï¼Œä¼šå¤§å¤§åŠ å¿«æ¸²æŸ“é€Ÿåº¦ã€‚</li><li>æ›´æ–°æœºåˆ¶: ä½¿ç”¨ç¦»çº¿åŒ…çš„æ—¶å€™ï¼Œä¾¿ä¼šæ¶‰åŠåˆ°æœ¬åœ°ç¦»çº¿ä»£ç çš„æ›´æ–°é—®é¢˜ï¼Œå› æ­¤éœ€è¦å»ºç«‹ä¸€å¥—äº‘ç«¯ä¸‹å‘åŒ…çš„æœºåˆ¶ï¼Œç”±å®¢æˆ·ç«¯ä¸‹è½½äº‘ç«¯æœ€æ–°ä»£ç åŒ… (zipåŒ…)ï¼Œå¹¶è§£å‹æ›¿æ¢æœ¬åœ°ä»£ç ã€‚<ul><li>å¢é‡æ›´æ–°: ç”±äºä¸‹å‘åŒ…æ˜¯ä¸€ä¸ªä¸‹è½½çš„è¿‡ç¨‹ï¼Œå› æ­¤åŒ…çš„ä½“ç§¯è¶Šå°ï¼Œä¸‹è½½é€Ÿåº¦è¶Šå¿«ï¼Œæµé‡æŸè€—è¶Šä½ã€‚åªæ‰“åŒ…æ”¹å˜çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸‹è½½åè¦†ç›–å¼æ›¿æ¢ï¼Œèƒ½å¤§å¤§å‡å°æ¯æ¬¡æ›´æ–°åŒ…çš„ä½“ç§¯ã€‚   </li><li>æ¡ä»¶åˆ†å‘: äº‘å¹³å°ä¸‹å‘æ›´æ–°åŒ…æ—¶ï¼Œå¯ä»¥é…åˆå®¢æˆ·ç«¯è®¾ç½®ä¸€ç³»åˆ—çš„æ¡ä»¶ä¸è§„åˆ™ï¼Œä»è€Œå®ç°ä»£ç çš„æ¡ä»¶æ›´æ–°:<ul><li>å• åœ°åŒº æ›´æ–°: ä¾‹å¦‚ä¸€ä¸ªåªæœ‰ä¸­å›½åœ°åŒºæ‰èƒ½æ›´æ–°çš„ç‰ˆæœ¬ï¼›</li><li>æŒ‰ è¯­è¨€ æ›´æ–°: ä¾‹å¦‚åªæœ‰ä¸­æ–‡ç‰ˆæœ¬ä¼šæ›´æ–°ï¼›</li><li>æŒ‰ App ç‰ˆæœ¬ æ›´æ–°: ä¾‹å¦‚åªæœ‰æœ€æ–°ç‰ˆæœ¬çš„ App æ‰ä¼šæ›´æ–°ï¼›</li><li>ç°åº¦ æ›´æ–°: åªæœ‰å°æ¯”ä¾‹ç”¨æˆ·ä¼šæ›´æ–°ï¼›</li><li>ABæµ‹è¯•: åªæœ‰å‘½ä¸­çš„ç”¨æˆ·ä¼šæ›´æ–°ï¼›</li></ul></li></ul></li><li><p>é™çº§æœºåˆ¶: å½“ç”¨æˆ·ä¸‹è½½æˆ–è§£å‹ä»£ç åŒ…å¤±è´¥æ—¶ï¼Œéœ€è¦æœ‰å¥—é™çº§æ–¹æ¡ˆï¼Œé€šå¸¸æœ‰ä¸¤ç§åšæ³•:</p><ul><li>æœ¬åœ°å†…ç½®: éšç€ App æ‰“åŒ…æ—¶å†…ç½®ä¸€ä»½çº¿ä¸Šæœ€æ–°å®Œæ•´ä»£ç åŒ…ï¼Œä¿è¯æœ¬åœ°ä»£ç æ–‡ä»¶çš„å­˜åœ¨ï¼Œèµ„æºåŠ è½½å‡ä½¿ç”¨æœ¬åœ°åŒ–è·¯å¾„ï¼›</li><li>åŸŸåæ‹¦æˆª: èµ„æºåŠ è½½ä½¿ç”¨çº¿ä¸ŠåŸŸåï¼Œé€šè¿‡æ‹¦æˆªåŸŸåæ˜ å°„åˆ°æœ¬åœ°è·¯å¾„ã€‚å½“æœ¬åœ°ä¸å­˜åœ¨æ—¶ï¼Œåˆ™è¯·æ±‚çº¿ä¸Šæ–‡ä»¶ï¼Œå½“å­˜åœ¨æ—¶ï¼Œç›´æ¥åŠ è½½ï¼›</li></ul></li><li><p>è·¨å¹³å°éƒ¨ç½²: Bridgeå±‚ å¯ä»¥åšä¸€å¥—æµè§ˆå™¨é€‚é…ï¼Œåœ¨ä¸€äº›æ— æ³•é€‚é…çš„åŠŸèƒ½ï¼Œåšå¥½é™çº§å¤„ç†ï¼Œä»è€Œä¿è¯ä»£ç åœ¨ä»»ä½•ç¯å¢ƒçš„å¯ç”¨æ€§ï¼Œä¸€å¥—ä»£ç å¯åŒæ—¶è¿è¡Œäº Appå†… ä¸ æ™®é€šæµè§ˆå™¨ï¼›-ç¯å¢ƒç³»ç»Ÿ: ä¸å®¢æˆ·ç«¯è¿›è¡Œç»Ÿä¸€é…åˆï¼Œæ­å»ºå‡º æ­£å¼ / é¢„ä¸Šçº¿ / æµ‹è¯• / å¼€å‘ç¯å¢ƒï¼Œèƒ½å¤§å¤§æé«˜é¡¹ç›®ç¨³å®šæ€§ä¸é—®é¢˜æ’æŸ¥ï¼›</p></li><li>å¼€å‘æ¨¡å¼:<ul><li>èƒ½è¿æ¥PC Chrome/safari è¿›è¡Œä»£ç è°ƒè¯•ï¼›</li><li>å…·æœ‰å¼€å‘è°ƒè¯•å…¥å£ï¼Œå¯ä»¥ä½¿ç”¨åŒæ ·çš„ Webview åŠ è½½å¼€å‘æ—¶çš„æœ¬åœ°ä»£ç ï¼›</li><li>å…·å¤‡æ—¥å¿—ç³»ç»Ÿï¼Œå¯ä»¥æŸ¥çœ‹ Log ä¿¡æ¯ï¼›</li></ul></li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Hybrid.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å¦‚ä½•åœ¨ create-react-app ä¸­ä½¿ç”¨ CSS Modules</title>
      <link>http://mydearest.cn/2020/%E5%A6%82%E4%BD%95%E5%9C%A8%20create-react-app%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20CSS%20Modules.html</link>
      <guid>http://mydearest.cn/2020/%E5%A6%82%E4%BD%95%E5%9C%A8%20create-react-app%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20CSS%20Modules.html</guid>
      <pubDate>Mon, 18 May 2020 03:17:50 GMT</pubDate>
      <description>
      
        &lt;p&gt;å…ˆç®€å•äº†è§£ä¸‹ä»€ä¹ˆæ˜¯ &lt;a href=&quot;https://github.com/css-modules/css-modules&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;CSS Modules&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A CSS Module is a CSS file in which all class names and animation names are scoped locally by default&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•ç‚¹è¯´ CSS Module æ˜¯å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„ css æ–‡ä»¶ã€‚æ—¢ç„¶æåˆ°äº†å±€éƒ¨ä½œç”¨åŸŸï¼Œé‚£ä¹ˆè‚¯å®šæœ‰å…¨å±€ä½œç”¨åŸŸï¼Œåœ¨ create-react-app ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥ css æ–‡ä»¶é€šå¸¸ä¸ºä»¥ä¸‹å½¢å¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/* index.css */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.color&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: red;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/* index.tsx */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React, &amp;#123; Component &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;./index.css&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Index&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å…ˆç®€å•äº†è§£ä¸‹ä»€ä¹ˆæ˜¯ <a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener">CSS Modules</a></p><blockquote><p>A CSS Module is a CSS file in which all class names and animation names are scoped locally by default</p></blockquote><p>ç®€å•ç‚¹è¯´ CSS Module æ˜¯å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„ css æ–‡ä»¶ã€‚æ—¢ç„¶æåˆ°äº†å±€éƒ¨ä½œç”¨åŸŸï¼Œé‚£ä¹ˆè‚¯å®šæœ‰å…¨å±€ä½œç”¨åŸŸï¼Œåœ¨ create-react-app ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥ css æ–‡ä»¶é€šå¸¸ä¸ºä»¥ä¸‹å½¢å¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* index.css */</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* index.tsx */</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./index.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><a id="more"></a><h2 id="å…¨å±€æ±¡æŸ“å’Œé”™è¯¯è¦†ç›–"><a href="#å…¨å±€æ±¡æŸ“å’Œé”™è¯¯è¦†ç›–" class="headerlink" title="å…¨å±€æ±¡æŸ“å’Œé”™è¯¯è¦†ç›–"></a>å…¨å±€æ±¡æŸ“å’Œé”™è¯¯è¦†ç›–</h2><p>è¿™ç§å¼•å…¥æ–¹æ³•å°±ä¼šå‡ºç°å…¨å±€æ±¡æŸ“çš„é—®é¢˜ï¼ŒCSS ä½¿ç”¨å…¨å±€é€‰æ‹©å™¨æœºåˆ¶æ¥è®¾ç½®æ ·å¼ï¼Œä¼˜ç‚¹æ˜¯æ–¹ä¾¿é‡å†™æ ·å¼ï¼Œç¼ºç‚¹æ˜¯æ‰€æœ‰çš„æ ·å¼éƒ½æ˜¯å…¨å±€ç”Ÿæ•ˆï¼Œæ ·å¼å¯èƒ½è¢«é”™è¯¯è¦†ç›–ã€‚å‡å®šä¸€ä¸ªé¡µé¢æœ‰ä»¥ä¸‹ä¸¤ä¸ªç»„ä»¶ï¼š</p><ul><li><p><header>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</header></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./header.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"color"</span>&gt;</span>Header color<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>header.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><content>, å†…å®¹å¦‚ä¸‹ï¼š</content></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./content.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"color"</span>&gt;</span>Content color<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>content.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>æˆ‘ä»¬æœŸå¾…åœ¨é¡µé¢ä¸Š Header color çš„å­—çš„é¢œè‰²ä¸º redï¼ŒContent color ä¸º greenï¼Œä½†å®é™…ä¸Šæ˜¯ä¸¤ä¸ªéƒ½ä¸º greenï¼Œè¿™å°±æ˜¯å› ä¸ºæˆ‘ä»¬ç›´æ¥å¼•å…¥ header.css å’Œ content.css åï¼Œæ ·å¼æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸï¼Œè€Œç›¸åŒçš„æ ·å¼åˆå¯èƒ½å‡ºç°é”™è¯¯åœ°è¦†ç›–ï¼Œå› æ­¤å°±å‡ºç°äº†ä¸Šé¢çš„æƒ…å†µã€‚</p><p>é¿å…è¿™ç§æƒ…å†µåœ¨ create-react-app çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ CSS Modulesï¼Œä½¿ç”¨æ–¹æ³•å°±æ˜¯å°†å¯¹åº”çš„ css æ–‡ä»¶åç§°å‘½åä¸º [name].module.css çš„å½¢å¼ï¼ˆä½¿ç”¨ less æˆ–è€… sass ç±»ä¼¼ï¼‰ï¼Œä»¥ Header ç»„ä»¶ä¸ºä¾‹ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* header.module.css */</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> headerStyle <span class="keyword">from</span> <span class="string">'./header.module.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;headerStyle.color&#125;</span>&gt;</span>Header color<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ · Header color çš„é¢œè‰²å°±ä¼šä¸º redã€‚</p><p>å®ƒçš„å®ç°è¿‡ç¨‹å°±æ˜¯åˆ©ç”¨ Webpack çš„ css-loader ç”Ÿæˆï¼ˆåŸºæœ¬ï¼‰å”¯ä¸€çš„ class åç§°ï¼Œåœ¨ create-react-app ä¸­ä¼šä»¥ [filename]_[classname]__[hash] çš„å‘½åè§„åˆ™æ¥ç”Ÿæˆ class åç§°ï¼Œä¾‹å¦‚ Header ç»„ä»¶ç”Ÿæˆåçš„ html å¦‚ä¸‹ï¼š<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header_color__2Oqjl"</span>&gt;</span>Header color<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨äº† CSS Modules åï¼Œå°±ç›¸å½“äºç»™æ¯ä¸ª class åå¤–åŠ åŠ äº†ä¸€ä¸ª :localï¼Œä»¥æ­¤æ¥å®ç°æ ·å¼çš„å±€éƒ¨åŒ–ï¼Œå¦‚æœä½ æƒ³åˆ‡æ¢åˆ°å…¨å±€æ¨¡å¼ï¼Œä½¿ç”¨å¯¹åº”çš„ :globalã€‚:local ä¸ :global çš„åŒºåˆ«æ˜¯ CSS Modules åªä¼šå¯¹ :local å—çš„ class æ ·å¼åšè§„åˆ™å¤„ç†ï¼Œ:global çš„æ ·å¼ç¼–è¯‘åä¸å˜ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä»¥ä¸Šä¸ä¸‹é¢ç­‰ä»· */</span></span><br><span class="line"><span class="selector-pseudo">:local(.color)</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®šä¹‰å…¨å±€æ ·å¼ */</span></span><br><span class="line"><span class="selector-pseudo">:global(.global-bg)</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="composeså¤„ç†å¤ç”¨"><a href="#composeså¤„ç†å¤ç”¨" class="headerlink" title="composeså¤„ç†å¤ç”¨"></a>composeså¤„ç†å¤ç”¨</h2><p>åœ¨å¼€å‘ä¸­ä¼šé‡åˆ°æ ·å¼çš„å¤ç”¨é—®é¢˜ï¼ŒCSS Modules åªæä¾›äº†å”¯ä¸€çš„æ–¹å¼æ¥å¤„ç†ï¼š<code>composes</code> ç»„åˆ:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åŸºç¡€æ ·å¼ */</span></span><br><span class="line"><span class="selector-class">.base</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#82D7F7</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">composes</span>: base;</span><br><span class="line">  <span class="comment">/* ç»„åˆå¤–éƒ¨æ–‡ä»¶ */</span></span><br><span class="line">  <span class="attribute">composes</span>: bold from <span class="string">'./content.module.css'</span>;</span><br><span class="line">  <span class="comment">/* active å…¶ä»–æ ·å¼ */</span></span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ active ä¸­ composes baseï¼Œç¼–è¯‘åä¼š active ä¼šå˜æˆä¸‰ä¸ª class<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"composes-demo_active__27azZ composes-demo_base__MLJCB content_bold__vgYTg"</span>&gt;</span>active<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨ create-react-app ä¸­ä½¿ç”¨ CSS Modules ä¼šé¢‘ç¹çš„è¾“å…¥ styles.<strong>ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://github.com/gajus/react-css-modules" target="_blank" rel="noopener">react-css-modules</a>æ¥é¿å…è¿™ç‚¹ï¼Œå®ƒé€šè¿‡é«˜é˜¶å‡½æ•°çš„å½¢å¼æ¥é¿å…é‡å¤è¾“å…¥ styles.</strong>ã€‚</p><p>æ —å­â†“<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> CSSModules <span class="keyword">from</span> <span class="string">'react-css-modules'</span>;</span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'./table.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Table</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    render () &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">styleName</span>=<span class="string">'table'</span>&gt;</span></span></span><br><span class="line">            &lt;div styleName='row'&gt;</span><br><span class="line">                &lt;div styleName='cell'&gt;A0&lt;/div&gt;</span><br><span class="line">                &lt;div styleName='cell'&gt;B0&lt;/div&gt;</span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> CSSModules(Table, styles);</span><br></pre></td></tr></table></figure></p><p>æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å‚è€ƒæ¨¡æ‹Ÿä¸‹<code>react-css-modules</code>çš„å®ç°ã€‚</p><p>æ€»çš„æ¥è¯´åœ¨ create-react-app ä¸­ä½¿ç”¨ CSS Modules è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ï¼Œå¦‚æœè¿˜æ²¡æœ‰åœ¨é¡¹ç›®ä¸­å°è¯•çš„è¯éå¸¸å€¼å¾—å»ä½¿ç”¨ CSS ModulesğŸ‘ğŸ‘ğŸ‘ã€‚</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%A6%82%E4%BD%95%E5%9C%A8%20create-react-app%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20CSS%20Modules.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>TypeScript ä¸­ï¼Œinterface å’Œ type çš„åŒºåˆ«</title>
      <link>http://mydearest.cn/2020/TypeScript%20%E4%B8%AD%EF%BC%8Cinterface%20%E5%92%8C%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB.html</link>
      <guid>http://mydearest.cn/2020/TypeScript%20%E4%B8%AD%EF%BC%8Cinterface%20%E5%92%8C%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB.html</guid>
      <pubDate>Mon, 18 May 2020 02:10:54 GMT</pubDate>
      <description>
      
        &lt;p&gt;åœ¨ &lt;code&gt;TypeScript&lt;/code&gt; ä¸­ï¼Œ&lt;code&gt;interface&lt;/code&gt; å’Œ &lt;code&gt;type&lt;/code&gt; ä¸»è¦ç”¨äºç±»å‹çš„å£°æ˜ï¼Œå®ƒä»¬çš„ç›¸åŒç‚¹ä»¥åŠåŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>åœ¨ <code>TypeScript</code> ä¸­ï¼Œ<code>interface</code> å’Œ <code>type</code> ä¸»è¦ç”¨äºç±»å‹çš„å£°æ˜ï¼Œå®ƒä»¬çš„ç›¸åŒç‚¹ä»¥åŠåŒºåˆ«å¦‚ä¸‹ï¼š</p><hr><a id="more"></a><h2 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h2><h3 id="éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°"><a href="#éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°" class="headerlink" title="éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°"></a>éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* interface */</span></span><br><span class="line">interface User &#123;</span><br><span class="line">  name: string</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface SetUser &#123;</span><br><span class="line">  (name: string, <span class="attr">age</span>: number): string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* type */</span></span><br><span class="line">type User = &#123;</span><br><span class="line">  name: string</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type SetUser = &#123;</span><br><span class="line">  (name: string, <span class="attr">age</span>: number): string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éƒ½å¯ä»¥è¿›è¡Œæ‹“å±•"><a href="#éƒ½å¯ä»¥è¿›è¡Œæ‹“å±•" class="headerlink" title="éƒ½å¯ä»¥è¿›è¡Œæ‹“å±•"></a>éƒ½å¯ä»¥è¿›è¡Œæ‹“å±•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* interface */</span></span><br><span class="line">interface User &#123;</span><br><span class="line">  name: string</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface ProUser extends User &#123;</span><br><span class="line">  email: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type VipUserType = &#123;</span><br><span class="line">  readonly vip: boolean</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* interface å’Œ type æ‹“å±•*/</span></span><br><span class="line">interface VipUserInterfce extends VipUserType &#123;</span><br><span class="line">  member: boolean</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* type */</span></span><br><span class="line">type User = &#123;</span><br><span class="line">  name: string</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type ProUser = User &amp; &#123;</span><br><span class="line">  email: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface VipUserInterface &#123;</span><br><span class="line">  readonly vip: boolean</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* type ä¸ interface æ‹“å±• */</span></span><br><span class="line">type VipUserType = VipUserInterface &amp; &#123;</span><br><span class="line">  member: boolean</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><h3 id="type-å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç±»å‹ï¼Œè€Œ-interface-ä¸å¯ä»¥"><a href="#type-å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç±»å‹ï¼Œè€Œ-interface-ä¸å¯ä»¥" class="headerlink" title="type å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç±»å‹ï¼Œè€Œ interface ä¸å¯ä»¥"></a>type å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç±»å‹ï¼Œè€Œ interface ä¸å¯ä»¥</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åŸºæœ¬ç±»å‹ */</span></span><br><span class="line">type Name = string</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è”åˆç±»å‹ */</span></span><br><span class="line">interface Dog &#123;&#125;</span><br><span class="line">interface Cat &#123;&#125;</span><br><span class="line"></span><br><span class="line">type Pet = Dog | Cat</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å…ƒç»„ç±»å‹ */</span></span><br><span class="line">type PetList = [Dog, Cat]</span><br></pre></td></tr></table></figure><h3 id="interface-å¯ä»¥è¿›è¡Œç±»å‹åˆå¹¶ï¼Œè€Œ-type-ä¸å¯ä»¥"><a href="#interface-å¯ä»¥è¿›è¡Œç±»å‹åˆå¹¶ï¼Œè€Œ-type-ä¸å¯ä»¥" class="headerlink" title="interface å¯ä»¥è¿›è¡Œç±»å‹åˆå¹¶ï¼Œè€Œ type ä¸å¯ä»¥"></a>interface å¯ä»¥è¿›è¡Œç±»å‹åˆå¹¶ï¼Œè€Œ type ä¸å¯ä»¥</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">interface Cloner &#123;</span><br><span class="line">  clone(animal: Animal): Animal</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Cloner &#123;</span><br><span class="line">  clone(animal: Sheep): Sheep</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Cloner &#123;</span><br><span class="line">  clone(animal: Dog): Dog</span><br><span class="line">  clone(animal: Cat): Cat</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸Šä¸‰ä¸ª interface ä¼šè¢«åˆå¹¶æˆä¸€ä¸ªå£°æ˜</span></span><br><span class="line">interface Cloner &#123;</span><br><span class="line">  clone(animal: Dog): Dog</span><br><span class="line">  clone(animal: Cat): Cat</span><br><span class="line">  clone(animal: Sheep): Sheep</span><br><span class="line">  clone(animal: Animal): Animal</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.typescriptlang.org/docs/handbook/declaration-merging.html" target="_blank" rel="noopener">å…³äº declaration-merging</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/TypeScript%20%E4%B8%AD%EF%BC%8Cinterface%20%E5%92%8C%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ä¼˜åŒ–</title>
      <link>http://mydearest.cn/2020/%E5%A4%A7%E6%96%87%E4%BB%B6%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0%E4%BC%98%E5%8C%96.html</link>
      <guid>http://mydearest.cn/2020/%E5%A4%A7%E6%96%87%E4%BB%B6%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0%E4%BC%98%E5%8C%96.html</guid>
      <pubDate>Sat, 16 May 2020 17:07:08 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šé‡åˆ°åœ¨ç½‘ç«™ä¸Šä¼  100 MB ä»¥ä¸Šçš„æ–‡ä»¶ç»å¸¸å¤±è´¥ï¼Œé‡è¯•ä¹Ÿè¦ç­‰è€åŠå¤©ã€‚é‚£ä¹ˆåº”è¯¥æ€ä¹ˆåšæ‰èƒ½å¿«é€Ÿä¸Šä¼ ï¼Œå°±ç®—å¤±è´¥äº†å†æ¬¡å‘é€ä¹Ÿèƒ½ä»ä¸Šæ¬¡ä¸­æ–­çš„åœ°æ–¹ç»§ç»­ä¸Šä¼ å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ•´ä½“æ€è·¯&quot;&gt;&lt;a href=&quot;#æ•´ä½“æ€è·¯&quot; class=&quot;headerlink&quot; title=&quot;æ•´ä½“æ€è·¯&quot;&gt;&lt;/a&gt;æ•´ä½“æ€è·¯&lt;/h2&gt;&lt;p&gt;ç¬¬ä¸€æ­¥æ˜¯ç»“åˆé¡¹ç›®èƒŒæ™¯ï¼Œè°ƒç ”æ¯”è¾ƒä¼˜åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚
æ–‡ä»¶ä¸Šä¼ å¤±è´¥æ˜¯è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œå¸¸ç”¨æ–¹æ¡ˆæ˜¯å°†ä¸€ä¸ªå¤§æ–‡ä»¶åˆ‡ç‰‡æˆå¤šä¸ªå°æ–‡ä»¶ï¼Œå¹¶è¡Œè¯·æ±‚æ¥å£è¿›è¡Œä¸Šä¼ ï¼Œæ‰€æœ‰è¯·æ±‚å¾—åˆ°å“åº”åï¼Œåœ¨æœåŠ¡å™¨ç«¯åˆå¹¶æ‰€æœ‰çš„åˆ†ç‰‡æ–‡ä»¶ã€‚å½“åˆ†ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œå¯ä»¥åœ¨é‡æ–°ä¸Šä¼ æ—¶è¿›è¡Œåˆ¤æ–­ï¼Œåªä¸Šä¼ ä¸Šæ¬¡å¤±è´¥çš„éƒ¨åˆ†ï¼Œå‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ï¼Œç¼“è§£æœåŠ¡å™¨å‹åŠ›ã€‚è¿™å°±æ˜¯åˆ†ç‰‡ä¸Šä¼ æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æµç¨‹å›¾å¦‚ä¸‹ï¼š
&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/upload-flow.png&quot; alt=&quot;upload-flow&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šé‡åˆ°åœ¨ç½‘ç«™ä¸Šä¼  100 MB ä»¥ä¸Šçš„æ–‡ä»¶ç»å¸¸å¤±è´¥ï¼Œé‡è¯•ä¹Ÿè¦ç­‰è€åŠå¤©ã€‚é‚£ä¹ˆåº”è¯¥æ€ä¹ˆåšæ‰èƒ½å¿«é€Ÿä¸Šä¼ ï¼Œå°±ç®—å¤±è´¥äº†å†æ¬¡å‘é€ä¹Ÿèƒ½ä»ä¸Šæ¬¡ä¸­æ–­çš„åœ°æ–¹ç»§ç»­ä¸Šä¼ å‘¢ï¼Ÿ</p></blockquote><h2 id="æ•´ä½“æ€è·¯"><a href="#æ•´ä½“æ€è·¯" class="headerlink" title="æ•´ä½“æ€è·¯"></a>æ•´ä½“æ€è·¯</h2><p>ç¬¬ä¸€æ­¥æ˜¯ç»“åˆé¡¹ç›®èƒŒæ™¯ï¼Œè°ƒç ”æ¯”è¾ƒä¼˜åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚æ–‡ä»¶ä¸Šä¼ å¤±è´¥æ˜¯è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œå¸¸ç”¨æ–¹æ¡ˆæ˜¯å°†ä¸€ä¸ªå¤§æ–‡ä»¶åˆ‡ç‰‡æˆå¤šä¸ªå°æ–‡ä»¶ï¼Œå¹¶è¡Œè¯·æ±‚æ¥å£è¿›è¡Œä¸Šä¼ ï¼Œæ‰€æœ‰è¯·æ±‚å¾—åˆ°å“åº”åï¼Œåœ¨æœåŠ¡å™¨ç«¯åˆå¹¶æ‰€æœ‰çš„åˆ†ç‰‡æ–‡ä»¶ã€‚å½“åˆ†ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œå¯ä»¥åœ¨é‡æ–°ä¸Šä¼ æ—¶è¿›è¡Œåˆ¤æ–­ï¼Œåªä¸Šä¼ ä¸Šæ¬¡å¤±è´¥çš„éƒ¨åˆ†ï¼Œå‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ï¼Œç¼“è§£æœåŠ¡å™¨å‹åŠ›ã€‚è¿™å°±æ˜¯åˆ†ç‰‡ä¸Šä¼ æ–‡ä»¶ã€‚</p><p>æµç¨‹å›¾å¦‚ä¸‹ï¼š<img src="http://cdn.mydearest.cn/blog/images/upload-flow.png" alt="upload-flow"></p><hr><a id="more"></a><h3 id="æ–‡ä»¶-MD5-åŠ å¯†"><a href="#æ–‡ä»¶-MD5-åŠ å¯†" class="headerlink" title="æ–‡ä»¶ MD5 åŠ å¯†"></a>æ–‡ä»¶ MD5 åŠ å¯†</h3><ul><li>MD5 æ˜¯æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼Œå¯ä»¥åˆ©ç”¨æ–‡ä»¶çš„ MD5 æŸ¥è¯¢æ–‡ä»¶çš„ä¸Šä¼ çŠ¶æ€ã€‚</li></ul><p>æ ¹æ®æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶åç§°ã€æœ€åä¿®æ”¹æ—¶é—´ç­‰ä¿¡æ¯ï¼Œé€šè¿‡ <a href="https://www.npmjs.com/package/spark-md5" target="_blank" rel="noopener">spark-md5</a> ç”Ÿæˆæ–‡ä»¶çš„ MD5ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¤§è§„æ ¼æ–‡ä»¶éœ€è¦åˆ†ç‰‡è¯»å–æ–‡ä»¶ï¼Œå°†è¯»å–çš„æ–‡ä»¶å†…å®¹æ·»åŠ åˆ° é€šè¿‡ <a href="https://www.npmjs.com/package/spark-md5" target="_blank" rel="noopener">spark-md5</a> çš„ hash è®¡ç®—ä¸­ï¼Œç›´åˆ°æ–‡ä»¶è¯»å–å®Œæ¯•ï¼Œæœ€åè¿”å›æœ€ç»ˆçš„ hash ç åˆ° callback å›è°ƒå‡½æ•°é‡Œé¢ã€‚è¿™é‡Œå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ æ–‡ä»¶è¯»å–çš„è¿›åº¦æ¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">md5File</span>(<span class="params">file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> blobSlice =</span><br><span class="line">            File.prototype.slice ||</span><br><span class="line">            File.prototype.mozSlice ||</span><br><span class="line">            File.prototype.webkitSlice,</span><br><span class="line">        chunkSize = file.size / <span class="number">100</span>, <span class="comment">// åˆ†æˆ100ä»½</span></span><br><span class="line">        chunks = <span class="number">100</span>,</span><br><span class="line">        currentChunk = <span class="number">0</span>,</span><br><span class="line">        spark = <span class="keyword">new</span> SparkMD5.ArrayBuffer(),</span><br><span class="line">        fileReader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">        fileReader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"read chunk nr"</span>, currentChunk + <span class="number">1</span>, <span class="string">"of"</span>, chunks);</span><br><span class="line">        spark.append(e.target.result); <span class="comment">// Append array buffer</span></span><br><span class="line">        currentChunk++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (currentChunk &lt; chunks) &#123;</span><br><span class="line">            loadNext();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> cur = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"finished loading"</span>);</span><br><span class="line">            <span class="comment">// alert(spark.end() + '---' + (cur - pre)); // Compute hash</span></span><br><span class="line">            <span class="keyword">let</span> result = spark.end();</span><br><span class="line">            resolve(result);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        fileReader.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.warn(<span class="string">"oops, something went wrong."</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">loadNext</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> start = currentChunk * chunkSize,</span><br><span class="line">            end =</span><br><span class="line">            start + chunkSize &gt;= file.size ? file.size : start + chunkSize;</span><br><span class="line"></span><br><span class="line">        fileReader.readAsArrayBuffer(blobSlice.call(file, start, end));</span><br><span class="line">        $(<span class="string">"#checkProcessStyle"</span>).css(&#123;</span><br><span class="line">            width: currentChunk + <span class="number">1</span> + <span class="string">"%"</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">        $(<span class="string">"#checkProcessValue"</span>).html(currentChunk + <span class="number">1</span> + <span class="string">"%"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        loadNext();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€"><a href="#æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€" class="headerlink" title="æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€"></a>æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€</h3><p>å‰ç«¯å¾—åˆ°æ–‡ä»¶çš„ MD5 åï¼Œä»åå°æŸ¥è¯¢æ˜¯å¦å­˜åœ¨åç§°ä¸º MD5 çš„æ–‡ä»¶å¤¹ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ—å‡ºæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œå¾—åˆ°å·²ä¸Šä¼ çš„åˆ‡ç‰‡åˆ—è¡¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å·²ä¸Šä¼ çš„åˆ‡ç‰‡åˆ—è¡¨ä¸ºç©ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¡éªŒæ–‡ä»¶çš„MD5</span></span><br><span class="line">checkFileMD5 (file, fileName, fileMd5Value, onError) &#123;</span><br><span class="line">  <span class="keyword">const</span> fileSize = file.size</span><br><span class="line">  <span class="keyword">const</span> &#123; chunkSize, uploadProgress &#125; = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">this</span>.chunks = <span class="built_in">Math</span>.ceil(fileSize / chunkSize)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="keyword">async</span> (resolve, reject) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> params = &#123;</span><br><span class="line">      fileName: fileName,</span><br><span class="line">      fileMd5Value: fileMd5Value,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> &#123; ok, data &#125; = <span class="keyword">await</span> services.checkFile(params)</span><br><span class="line">    <span class="keyword">if</span> (ok) &#123;</span><br><span class="line">      <span class="keyword">this</span>.hasUploaded = data.chunkList.length</span><br><span class="line">      uploadProgress(file)</span><br><span class="line">      resolve(data)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      reject(ok)</span><br><span class="line">      onError()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶åˆ†ç‰‡"><a href="#æ–‡ä»¶åˆ†ç‰‡" class="headerlink" title="æ–‡ä»¶åˆ†ç‰‡"></a>æ–‡ä»¶åˆ†ç‰‡</h3><p>æ–‡ä»¶ä¸Šä¼ ä¼˜åŒ–çš„æ ¸å¿ƒå°±æ˜¯æ–‡ä»¶åˆ†ç‰‡ï¼ŒBlob å¯¹è±¡ä¸­çš„ slice æ–¹æ³•å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œåˆ‡å‰²ï¼ŒFile å¯¹è±¡æ˜¯ç»§æ‰¿ Blob å¯¹è±¡çš„ï¼Œå› æ­¤ File å¯¹è±¡ä¹Ÿæœ‰ slice æ–¹æ³•ã€‚å®šä¹‰æ¯ä¸€ä¸ªåˆ†ç‰‡æ–‡ä»¶çš„å¤§å°å˜é‡ä¸º chunkSizeï¼Œé€šè¿‡æ–‡ä»¶å¤§å° FileSize å’Œåˆ†ç‰‡å¤§å° chunkSize å¾—åˆ°åˆ†ç‰‡æ•°é‡ chunksï¼Œä½¿ç”¨ for å¾ªç¯å’Œ file.slice() æ–¹æ³•å¯¹æ–‡ä»¶è¿›è¡Œåˆ†ç‰‡ï¼Œåºå·ä¸º 0 - nï¼Œå’Œå·²ä¸Šä¼ çš„åˆ‡ç‰‡åˆ—è¡¨åšæ¯”å¯¹ï¼Œå¾—åˆ°æ‰€æœ‰æœªä¸Šä¼ çš„åˆ†ç‰‡ï¼Œpush åˆ°è¯·æ±‚åˆ—è¡¨ requestListã€‚</p><p><img src="http://cdn.mydearest.cn/blog/images/chunk.png" alt="chunk"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> checkAndUploadChunk (file, fileMd5Value, chunkList) &#123;</span><br><span class="line">  <span class="keyword">let</span> &#123; chunks, upload &#125; = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">const</span> requestList = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; chunks; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> exit = chunkList.indexOf(i + <span class="string">''</span>) &gt; <span class="number">-1</span></span><br><span class="line">    <span class="comment">// å¦‚æœå·²ç»å­˜åœ¨, åˆ™ä¸ç”¨å†ä¸Šä¼ å½“å‰å—</span></span><br><span class="line">    <span class="keyword">if</span> (!exit) &#123;</span><br><span class="line">      requestList.push(upload(i, fileMd5Value, file))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(&#123; requestList &#125;)</span><br><span class="line">  <span class="keyword">const</span> result =</span><br><span class="line">    requestList.length &gt; <span class="number">0</span></span><br><span class="line">      ? <span class="keyword">await</span> <span class="built_in">Promise</span>.all(requestList)</span><br><span class="line">        .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(&#123; result &#125;)</span><br><span class="line">          <span class="keyword">return</span> result.every(<span class="function"><span class="params">i</span> =&gt;</span> i.ok)</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> err</span><br><span class="line">        &#125;)</span><br><span class="line">      : <span class="literal">true</span></span><br><span class="line">  <span class="built_in">console</span>.log(&#123; result &#125;)</span><br><span class="line">  <span class="keyword">return</span> result === <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸Šä¼ åˆ†ç‰‡"><a href="#ä¸Šä¼ åˆ†ç‰‡" class="headerlink" title="ä¸Šä¼ åˆ†ç‰‡"></a>ä¸Šä¼ åˆ†ç‰‡</h3><p>è°ƒç”¨ <code>Promise.all</code> å¹¶å‘ä¸Šä¼ æ‰€æœ‰çš„åˆ‡ç‰‡ï¼Œå°†åˆ‡ç‰‡åºå·ã€åˆ‡ç‰‡æ–‡ä»¶ã€æ–‡ä»¶ <code>MD5</code> ä¼ ç»™åå°ã€‚åå°æ¥æ”¶åˆ°ä¸Šä¼ è¯·æ±‚åï¼Œé¦–å…ˆæŸ¥çœ‹åç§°ä¸ºæ–‡ä»¶ MD5 çš„æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œç„¶åé€šè¿‡ <code>fs-extra</code> çš„ rename æ–¹æ³•ï¼Œå°†åˆ‡ç‰‡ä»ä¸´æ—¶è·¯å¾„ç§»åŠ¨åˆ‡ç‰‡æ–‡ä»¶å¤¹ä¸­ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/file-chunk.png" alt="file-chunk"></p><p>å½“å…¨éƒ¨åˆ†ç‰‡ä¸Šä¼ æˆåŠŸï¼Œé€šçŸ¥æœåŠ¡ç«¯è¿›è¡Œåˆå¹¶ï¼Œå½“æœ‰ä¸€ä¸ªåˆ†ç‰‡ä¸Šä¼ å¤±è´¥æ—¶ï¼Œæç¤ºâ€œä¸Šä¼ å¤±è´¥â€ã€‚åœ¨é‡æ–°ä¸Šä¼ æ—¶ï¼Œé€šè¿‡æ–‡ä»¶ MD5 å¾—åˆ°æ–‡ä»¶çš„ä¸Šä¼ çŠ¶æ€ï¼Œå½“æœåŠ¡å™¨å·²ç»æœ‰è¯¥ MD5 å¯¹åº”çš„åˆ‡ç‰‡æ—¶ï¼Œä»£è¡¨è¯¥åˆ‡ç‰‡å·²ç»ä¸Šä¼ è¿‡ï¼Œæ— éœ€å†æ¬¡ä¸Šä¼ ï¼Œå½“æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯¥ MD5 å¯¹åº”çš„åˆ‡ç‰‡æ—¶ï¼Œä»£è¡¨è¯¥åˆ‡ç‰‡éœ€è¦ä¸Šä¼ ï¼Œç”¨æˆ·åªéœ€ä¸Šä¼ è¿™éƒ¨åˆ†åˆ‡ç‰‡ï¼Œå°±å¯ä»¥å®Œæ•´ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶ï¼Œè¿™å°±æ˜¯æ–‡ä»¶çš„æ–­ç‚¹ç»­ä¼ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸Šä¼ chunk</span></span><br><span class="line">upload (i, fileMd5Value, file) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; uploadProgress, chunks &#125; = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; chunkSize &#125; = <span class="keyword">this</span></span><br><span class="line">    <span class="comment">// æ„é€ ä¸€ä¸ªè¡¨å•ï¼ŒFormDataæ˜¯HTML5æ–°å¢çš„</span></span><br><span class="line">    <span class="keyword">let</span> end =</span><br><span class="line">      (i + <span class="number">1</span>) * chunkSize &gt;= file.size ? file.size : (i + <span class="number">1</span>) * chunkSize</span><br><span class="line">    <span class="keyword">let</span> form = <span class="keyword">new</span> FormData()</span><br><span class="line">    form.append(<span class="string">'data'</span>, file.slice(i * chunkSize, end)) <span class="comment">// fileå¯¹è±¡çš„sliceæ–¹æ³•ç”¨äºåˆ‡å‡ºæ–‡ä»¶çš„ä¸€éƒ¨åˆ†</span></span><br><span class="line">    form.append(<span class="string">'total'</span>, chunks) <span class="comment">// æ€»ç‰‡æ•°</span></span><br><span class="line">    form.append(<span class="string">'index'</span>, i) <span class="comment">// å½“å‰æ˜¯ç¬¬å‡ ç‰‡</span></span><br><span class="line">    form.append(<span class="string">'fileMd5Value'</span>, fileMd5Value)</span><br><span class="line">    services</span><br><span class="line">      .uploadLarge(form)</span><br><span class="line">      .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (data.ok) &#123;</span><br><span class="line">          <span class="keyword">this</span>.hasUploaded++</span><br><span class="line">          uploadProgress(file)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(&#123; data &#125;)</span><br><span class="line">        resolve(data)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸Šä¼ è¿›åº¦"><a href="#ä¸Šä¼ è¿›åº¦" class="headerlink" title="ä¸Šä¼ è¿›åº¦"></a>ä¸Šä¼ è¿›åº¦</h3><p>è™½ç„¶åˆ†ç‰‡æ‰¹é‡ä¸Šä¼ æ¯”å¤§æ–‡ä»¶å•æ¬¡ä¸Šä¼ ä¼šå¿«å¾ˆå¤šï¼Œä¹Ÿè¿˜æ˜¯æœ‰ä¸€æ®µåŠ è½½æ—¶é—´ï¼Œè¿™æ—¶åº”è¯¥åŠ ä¸Šä¸Šä¼ è¿›åº¦çš„æç¤ºï¼Œå®æ—¶æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ è¿›åº¦ã€‚åŸç”Ÿ Javascript çš„ XMLHttpRequest æœ‰æä¾› progress äº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶ä¼šè¿”å›æ–‡ä»¶å·²ä¸Šä¼ çš„å¤§å°å’Œæ€»å¤§å°ã€‚é¡¹ç›®ä½¿ç”¨ <a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener">axios</a> å¯¹ ajax è¿›è¡Œå°è£…ï¼Œå¯ä»¥åœ¨ config ä¸­å¢åŠ  <code>onUploadProgress</code> æ–¹æ³•ï¼Œç›‘å¬æ–‡ä»¶ä¸Šä¼ è¿›åº¦ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  onUploadProgress: <span class="function"><span class="params">progressEvent</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> complete = (progressEvent.loaded / progressEvent.total * <span class="number">100</span> | <span class="number">0</span>) + <span class="string">'%'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">services.uploadChunk(form, config)</span><br></pre></td></tr></table></figure><h3 id="åˆå¹¶åˆ†ç‰‡"><a href="#åˆå¹¶åˆ†ç‰‡" class="headerlink" title="åˆå¹¶åˆ†ç‰‡"></a>åˆå¹¶åˆ†ç‰‡</h3><p>ä¸Šä¼ å®Œæ‰€æœ‰æ–‡ä»¶åˆ†ç‰‡åï¼Œå‰ç«¯ä¸»åŠ¨é€šçŸ¥æœåŠ¡ç«¯è¿›è¡Œåˆå¹¶ï¼ŒæœåŠ¡ç«¯æ¥å—åˆ°è¿™ä¸ªè¯·æ±‚æ—¶ä¸»åŠ¨åˆå¹¶åˆ‡ç‰‡ï¼Œé€šè¿‡æ–‡ä»¶ MD5 åœ¨æœåŠ¡å™¨çš„æ–‡ä»¶ä¸Šä¼ è·¯å¾„ä¸­æ‰¾åˆ°åŒåæ–‡ä»¶å¤¹ã€‚ä»ä¸Šæ–‡å¯çŸ¥ï¼Œæ–‡ä»¶åˆ†ç‰‡æ˜¯æŒ‰ç…§åˆ†ç‰‡åºå·å‘½åçš„ï¼Œè€Œåˆ†ç‰‡ä¸Šä¼ æ¥å£æ˜¯å¼‚æ­¥çš„ï¼Œæ— æ³•ä¿è¯æœåŠ¡å™¨æ¥æ”¶åˆ°çš„åˆ‡ç‰‡æ˜¯æŒ‰ç…§è¯·æ±‚é¡ºåºæ‹¼æ¥ã€‚æ‰€ä»¥åº”è¯¥åœ¨åˆå¹¶æ–‡ä»¶å¤¹é‡Œçš„åˆ†ç‰‡æ–‡ä»¶å‰ï¼Œæ ¹æ®æ–‡ä»¶åè¿›è¡Œæ’åºï¼Œç„¶åå†é€šè¿‡ <code>concat-files</code> åˆå¹¶åˆ†ç‰‡æ–‡ä»¶ï¼Œå¾—åˆ°ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ã€‚è‡³æ­¤å¤§æ–‡ä»¶ä¸Šä¼ å°±å®Œæˆäº†ã€‚</p><p><img src="http://cdn.mydearest.cn/blog/images/file-merge.png" alt="file-merge"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// node</span></span><br><span class="line"><span class="comment">// åˆå¹¶æ–‡ä»¶</span></span><br><span class="line">exports.merge = &#123;</span><br><span class="line">  validate: &#123;</span><br><span class="line">    query: &#123;</span><br><span class="line">      fileName: Joi.string()</span><br><span class="line">        .trim()</span><br><span class="line">        .required()</span><br><span class="line">        .description(<span class="string">'æ–‡ä»¶åç§°'</span>),</span><br><span class="line">      md5: Joi.string()</span><br><span class="line">        .trim()</span><br><span class="line">        .required()</span><br><span class="line">        .description(<span class="string">'æ–‡ä»¶md5'</span>),</span><br><span class="line">      size: Joi.string()</span><br><span class="line">        .trim()</span><br><span class="line">        .required()</span><br><span class="line">        .description(<span class="string">'æ–‡ä»¶å¤§å°'</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  permission: &#123;</span><br><span class="line">    roles: [<span class="string">'user'</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">async</span> handler (ctx) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; fileName, md5, size &#125; = ctx.request.query</span><br><span class="line">    <span class="keyword">let</span> &#123; name, <span class="attr">base</span>: filename, ext &#125; = path.parse(fileName)</span><br><span class="line">    <span class="keyword">const</span> newFileName = randomFilename(name, ext)</span><br><span class="line">    <span class="keyword">await</span> mergeFiles(path.join(uploadDir, md5), uploadDir, newFileName, size)</span><br><span class="line">      .then(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> file = &#123;</span><br><span class="line">          key: newFileName,</span><br><span class="line">          name: filename,</span><br><span class="line">          mime_type: mime.getType(<span class="string">`<span class="subst">$&#123;uploadDir&#125;</span>/<span class="subst">$&#123;newFileName&#125;</span>`</span>),</span><br><span class="line">          ext,</span><br><span class="line">          path: <span class="string">`<span class="subst">$&#123;uploadDir&#125;</span>/<span class="subst">$&#123;newFileName&#125;</span>`</span>,</span><br><span class="line">          provider: <span class="string">'oss'</span>,</span><br><span class="line">          size,</span><br><span class="line">          owner: ctx.state.user.id,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> key = <span class="built_in">encodeURIComponent</span>(file.key)</span><br><span class="line">          .replace(<span class="regexp">/%/g</span>, <span class="string">''</span>)</span><br><span class="line">          .slice(<span class="number">-100</span>)</span><br><span class="line">        file.url = <span class="keyword">await</span> uploadLocalFileToOss(file.path, key)</span><br><span class="line">        file.url = getFileUrl(file)</span><br><span class="line">        <span class="keyword">const</span> f = <span class="keyword">await</span> File.create(omit(file, <span class="string">'path'</span>))</span><br><span class="line">        <span class="keyword">const</span> files = []</span><br><span class="line">        files.push(f)</span><br><span class="line">        ctx.body = invokeMap(files, <span class="string">'toJSON'</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> Boom.badData(<span class="string">'å¤§æ–‡ä»¶åˆ†ç‰‡åˆå¹¶å¤±è´¥ï¼Œè¯·ç¨å€™é‡è¯•~'</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»“åº“ä»£ç "><a href="#ä»“åº“ä»£ç " class="headerlink" title="ä»“åº“ä»£ç "></a>ä»“åº“ä»£ç </h2><p><a href="https://github.com/cosyer/nodeFileUploadDemo" target="_blank" rel="noopener">nodeFileUploadDemo</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡è®²è¿°äº†å¤§è§„æ ¼æ–‡ä»¶ä¸Šä¼ ä¼˜åŒ–çš„ä¸€äº›åšæ³•ï¼Œæ€»ç»“ä¸ºä»¥ä¸‹ 4 ç‚¹ï¼š</p><ol><li><code>Blob.slice</code> å°†æ–‡ä»¶åˆ‡ç‰‡ï¼Œå¹¶å‘ä¸Šä¼ å¤šä¸ªåˆ‡ç‰‡ï¼Œæ‰€æœ‰åˆ‡ç‰‡ä¸Šä¼ åå‘ŠçŸ¥æœåŠ¡å™¨åˆå¹¶ï¼Œå®ç°å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ï¼›</li><li>åŸç”Ÿ XMLHttpRequest çš„ <code>onprogress</code> å¯¹åˆ‡ç‰‡ä¸Šä¼ è¿›åº¦çš„ç›‘å¬ï¼Œå®æ—¶è·å–æ–‡ä»¶ä¸Šä¼ è¿›åº¦ï¼›</li><li><code>spark-md5</code>æ ¹æ®æ–‡ä»¶å†…å®¹ç®—å‡ºæ–‡ä»¶ MD5ï¼Œå¾—åˆ°æ–‡ä»¶å”¯ä¸€æ ‡è¯†ï¼Œä¸æ–‡ä»¶ä¸Šä¼ çŠ¶æ€ç»‘å®šï¼›</li><li>åˆ†ç‰‡ä¸Šä¼ å‰é€šè¿‡æ–‡ä»¶ MD5 æŸ¥è¯¢å·²ä¸Šä¼ åˆ‡ç‰‡åˆ—è¡¨ï¼Œä¸Šä¼ æ—¶åªä¸Šä¼ æœªä¸Šä¼ è¿‡çš„åˆ‡ç‰‡ï¼Œå®ç°æ–­ç‚¹ç»­ä¼ ã€‚</li></ol>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%A4%A7%E6%96%87%E4%BB%B6%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0%E4%BC%98%E5%8C%96.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>30åˆ†é’Ÿç²¾é€šReact Hooks</title>
      <link>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html</link>
      <guid>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html</guid>
      <pubDate>Tue, 12 May 2020 03:40:08 GMT</pubDate>
      <description>
      
        &lt;p&gt;å®ƒæ¥äº†ï¼Œå®ƒæ¥äº†ï¼Œ16.8ç‰ˆæœ¬&lt;code&gt;hooks&lt;/code&gt;æˆåŠŸåŠ å…¥(&lt;em&gt;^â–½^&lt;/em&gt;)&lt;/p&gt;
&lt;p&gt;ä½ è¿˜åœ¨ä¸ºè¯¥ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼ˆFunctionï¼‰è¿˜æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆClassï¼‰è€Œçƒ¦æ¼å—ï¼Ÿ
â€”â€” æ‹¥æœ‰äº†hooksï¼Œä½ å†ä¹Ÿä¸éœ€è¦å†™Classäº†ï¼Œä½ çš„æ‰€æœ‰ç»„ä»¶éƒ½å°†æ˜¯Functionã€‚&lt;/p&gt;
&lt;p&gt;ä½ è¿˜åœ¨ä¸ºæä¸æ¸…ä½¿ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°è€Œæ—¥å¤œéš¾çœ å—ï¼Ÿ
â€”â€” æ‹¥æœ‰äº†Hooksï¼Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å¯ä»¥å…ˆä¸¢ä¸€è¾¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åœ¨è¿˜åœ¨ä¸ºç»„ä»¶ä¸­çš„thisæŒ‡å‘è€Œæ™•å¤´è½¬å‘å—ï¼Ÿ
â€”â€” æ—¢ç„¶Classéƒ½ä¸¢æ‰äº†ï¼Œå“ªé‡Œè¿˜æœ‰thisï¼Ÿä½ çš„äººç”Ÿç¬¬ä¸€æ¬¡ä¸å†éœ€è¦é¢å¯¹thisã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å®ƒæ¥äº†ï¼Œå®ƒæ¥äº†ï¼Œ16.8ç‰ˆæœ¬<code>hooks</code>æˆåŠŸåŠ å…¥(<em>^â–½^</em>)</p><p>ä½ è¿˜åœ¨ä¸ºè¯¥ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼ˆFunctionï¼‰è¿˜æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆClassï¼‰è€Œçƒ¦æ¼å—ï¼Ÿâ€”â€” æ‹¥æœ‰äº†hooksï¼Œä½ å†ä¹Ÿä¸éœ€è¦å†™Classäº†ï¼Œä½ çš„æ‰€æœ‰ç»„ä»¶éƒ½å°†æ˜¯Functionã€‚</p><p>ä½ è¿˜åœ¨ä¸ºæä¸æ¸…ä½¿ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°è€Œæ—¥å¤œéš¾çœ å—ï¼Ÿâ€”â€” æ‹¥æœ‰äº†Hooksï¼Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å¯ä»¥å…ˆä¸¢ä¸€è¾¹äº†ã€‚</p><p>ä½ åœ¨è¿˜åœ¨ä¸ºç»„ä»¶ä¸­çš„thisæŒ‡å‘è€Œæ™•å¤´è½¬å‘å—ï¼Ÿâ€”â€” æ—¢ç„¶Classéƒ½ä¸¢æ‰äº†ï¼Œå“ªé‡Œè¿˜æœ‰thisï¼Ÿä½ çš„äººç”Ÿç¬¬ä¸€æ¬¡ä¸å†éœ€è¦é¢å¯¹thisã€‚</p><hr><a id="more"></a><h2 id="Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ"><a href="#Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ" class="headerlink" title="Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ"></a>Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ</h2><p><strong><em>æƒ³è¦å¤ç”¨ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶å¤ªéº»çƒ¦äº†ï¼</em></strong>æˆ‘ä»¬éƒ½çŸ¥é“reactçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå°†ä¸€ä¸ªé¡µé¢æ‹†æˆä¸€å †ç‹¬ç«‹çš„ï¼Œå¯å¤ç”¨çš„ç»„ä»¶ï¼Œå¹¶ä¸”ç”¨è‡ªä¸Šè€Œä¸‹çš„å•å‘æ•°æ®æµçš„å½¢å¼å°†è¿™äº›ç»„ä»¶ä¸²è”èµ·æ¥ã€‚ä½†å‡å¦‚ä½ åœ¨å¤§å‹çš„å·¥ä½œé¡¹ç›®ä¸­ç”¨reactï¼Œä½ ä¼šå‘ç°ä½ çš„é¡¹ç›®ä¸­å®é™…ä¸Šå¾ˆå¤šreactç»„ä»¶å†—é•¿ä¸”éš¾ä»¥å¤ç”¨ã€‚å°¤å…¶æ˜¯é‚£äº›å†™æˆclassçš„ç»„ä»¶ï¼Œå®ƒä»¬æœ¬èº«åŒ…å«äº†çŠ¶æ€ï¼ˆstateï¼‰ï¼Œæ‰€ä»¥å¤ç”¨è¿™ç±»ç»„ä»¶å°±å˜å¾—å¾ˆéº»çƒ¦ã€‚</p><p>é‚£ä¹‹å‰ï¼Œå®˜æ–¹æ¨èæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼š<a href="https://reactjs.org/docs/render-props.html" target="_blank" rel="noopener">æ¸²æŸ“å±æ€§ï¼ˆRender Propsï¼‰</a>å’Œ<a href="https://reactjs.org/docs/higher-order-components.html" target="_blank" rel="noopener">é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Componentsï¼‰</a>ã€‚</p><h3 id="æ¸²æŸ“å±æ€§"><a href="#æ¸²æŸ“å±æ€§" class="headerlink" title="æ¸²æŸ“å±æ€§"></a>æ¸²æŸ“å±æ€§</h3><p>æ¸²æŸ“å±æ€§æŒ‡çš„æ˜¯ä½¿ç”¨ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„propæ¥ä¼ é€’éœ€è¦åŠ¨æ€æ¸²æŸ“çš„nodesæˆ–ç»„ä»¶ã€‚å¦‚ä¸‹é¢çš„ä»£ç å¯ä»¥çœ‹åˆ°DataProviderç»„ä»¶åŒ…å«äº†æ‰€æœ‰è·ŸçŠ¶æ€ç›¸å…³çš„ä»£ç ï¼Œè€ŒCatç»„ä»¶åˆ™å¯ä»¥æ˜¯ä¸€ä¸ªå•çº¯çš„å±•ç¤ºå‹ç»„ä»¶ï¼Œè¿™æ ·ä¸€æ¥DataProviderå°±å¯ä»¥å•ç‹¬å¤ç”¨äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Cat <span class="keyword">from</span> <span class="string">'components/cat'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataProvider</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">target</span>: <span class="string">'Zac'</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;<span class="keyword">this</span>.props.render(<span class="keyword">this</span>.state)&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;DataProvider render=&#123;data =&gt; (</span></span><br><span class="line"><span class="regexp">  &lt;Cat target=&#123;data.target&#125; /</span>&gt;</span><br><span class="line">)&#125;/&gt;</span><br></pre></td></tr></table></figure><p>è™½ç„¶è¿™ä¸ªæ¨¡å¼å«Render Propsï¼Œä½†ä¸æ˜¯è¯´éç”¨ä¸€ä¸ªå«renderçš„propsä¸å¯ï¼Œä¹ æƒ¯ä¸Šå¤§å®¶æ›´å¸¸å†™æˆä¸‹é¢è¿™ç§ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;DataProvider&gt;</span><br><span class="line">  &#123;data =&gt; (</span><br><span class="line">    &lt;Cat target=&#123;data.target&#125; /&gt;</span><br><span class="line">  )&#125;</span><br><span class="line">&lt;<span class="regexp">/DataProvider&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="å…¶ä»–ğŸŒ°"><a href="#å…¶ä»–ğŸŒ°" class="headerlink" title="å…¶ä»–ğŸŒ°"></a>å…¶ä»–ğŸŒ°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GithubProfile</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">PureComponent</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  state: IStates = &#123;</span><br><span class="line">    profile: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">          profile: res</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">        &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">        &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">        &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå…¶å®ƒé¡µé¢ä¹Ÿæœ‰ç›¸åŒçš„éœ€æ±‚ï¼Œæˆ–è€…æ•°æ®ä¸€æ ·ï¼Œä»…ä»… UI ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿå…¶å®è¿™ä¸ªé—®é¢˜ç›®çš„å¾ˆç®€å•ï¼Œé‚£å°±æ˜¯ï¼šå¦‚ä½•å®ç°ä»£ç å¤ç”¨ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Render Props</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Profile</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props:IProps) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      profile: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">          profile: res</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">React.Fragment</span>&gt;</span>&#123;this.props.children(profile)&#125;<span class="tag">&lt;/<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure></p><p>å®šä¹‰ props æ¸²æŸ“å‡½æ•°ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProfileRenderProps</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">PureComponent</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Profile&gt;</span><br><span class="line">        &#123;(profile:any) =&gt; (</span><br><span class="line">          &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">            &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">            &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">            &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>div&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;<span class="regexp">/Profile&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>å›è°ƒåœ°ç‹±</li></ul><h3 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h3><p>è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç»è¿‡ä¸€ç³»åˆ—åŠ å·¥åï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚</p><p>çœ‹ä¸ªæ —å­<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> withUser = <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> user = sessionStorage.getItem(<span class="string">"user"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">props</span> =&gt;</span> &lt;WrappedComponent user=&#123;user&#125; &#123;...props&#125; /&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UserPage = <span class="function"><span class="params">props</span> =&gt;</span> (</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"user-container"</span>&gt;</span><br><span class="line">    &lt;p&gt;My name is &#123;props.user&#125;!<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default withUser(UserPage);</span></span><br></pre></td></tr></table></figure></p><p><code>withUser</code>å‡½æ•°å°±æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å…·æœ‰äº†å®ƒæä¾›çš„è·å–ç”¨æˆ·ä¿¡æ¯çš„åŠŸèƒ½ã€‚ä½†æ˜¯è¿™ä¸¤ç§æ¨¡å¼ä¼šå¢åŠ ä»£ç çš„å±‚çº§å…³ç³»ï¼Œè€Œhooksç®€æ´å¤šäº†ï¼Œæ²¡æœ‰å¤šä½™çš„å±‚çº§åµŒå¥—ï¼ŒæŠŠå„ç§æƒ³è¦çš„åŠŸèƒ½å†™æˆä¸€ä¸ªä¸€ä¸ªå¯å¤ç”¨çš„è‡ªå®šä¹‰hookï¼Œå½“ä½ çš„ç»„ä»¶æƒ³ç”¨ä»€ä¹ˆåŠŸèƒ½æ—¶ï¼Œç›´æ¥åœ¨ç»„ä»¶é‡Œè°ƒç”¨è¿™ä¸ªhookå³å¯ã€‚</p><p><strong><em>ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œçš„é€»è¾‘å¤ªä¹±äº†å§ï¼</em></strong>æˆ‘ä»¬é€šå¸¸å¸Œæœ›ä¸€ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹æƒ…ï¼Œä½†æˆ‘ä»¬çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œé€šå¸¸åŒæ—¶åšäº†å¾ˆå¤šäº‹æƒ…ã€‚æ¯”å¦‚æˆ‘ä»¬éœ€è¦åœ¨componentDidMountä¸­å‘èµ·ajaxè¯·æ±‚è·å–æ•°æ®ï¼Œç»‘å®šä¸€äº›äº‹ä»¶ç›‘å¬ç­‰ç­‰ã€‚åŒæ—¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦åœ¨componentDidUpdateåšä¸€éåŒæ ·çš„äº‹æƒ…ã€‚å½“é¡¹ç›®å˜å¤æ‚åï¼Œè¿™ä¸€å—çš„ä»£ç ä¹Ÿå˜å¾—ä¸é‚£ä¹ˆç›´è§‚ã€‚</p><p><strong><em>classçœŸçš„å¤ªè®©äººå›°æƒ‘äº†ï¼</em></strong>æˆ‘ä»¬ç”¨classæ¥åˆ›å»ºreactç»„ä»¶æ—¶ï¼Œè¿˜æœ‰ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œå°±æ˜¯thisçš„æŒ‡å‘é—®é¢˜ã€‚ä¸ºäº†ä¿è¯thisçš„æŒ‡å‘æ­£ç¡®ï¼Œæˆ‘ä»¬è¦ç»å¸¸å†™è¿™æ ·çš„ä»£ç ï¼š<code>this.handleClick = this.handleClick.bind(this)</code>ï¼Œæˆ–è€…æ˜¯è¿™æ ·çš„ä»£ç ï¼š<code>&lt;button onClick={() =&gt; this.handleClick(e)}&gt;</code>ã€‚ä¸€æ—¦æˆ‘ä»¬ä¸å°å¿ƒå¿˜äº†ç»‘å®šthisï¼Œå„ç§bugå°±éšä¹‹è€Œæ¥ï¼Œå¾ˆéº»çƒ¦ã€‚</p><p>è¿˜æœ‰å°±æ˜¯æ— çŠ¶æ€ç»„ä»¶å› ä¸ºéœ€æ±‚çš„å˜åŠ¨éœ€è¦æœ‰è‡ªå·±çš„stateï¼Œåˆå¾—å¾ˆéº»çƒ¦çš„æ”¹æˆclassç»„ä»¶ã€‚</p><p>åœ¨ React 16.8 ä¹‹å‰ function æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>function ç»„ä»¶ä¸å¾—ä¸è¿”å›ä¸€äº› UI ä¿¡æ¯ï¼Œå³ JSX ä»£ç </li><li><p>function ç»„ä»¶å†…éƒ¨ä¸èƒ½æ‹¥æœ‰ state</p></li><li><p>Hooks è®©å‡½æ•°å¼ç»„ä»¶æ‹¥æœ‰ç±»ç»„ä»¶ä¸€æ ·çš„åŠŸèƒ½ï¼Œstate ï¼Œlifecycle ä»¥åŠ contextã€‚</p></li><li>Hooks ä¸æ˜¯ React çš„æ–°åŠŸèƒ½ï¼Œå¯ä»¥å°†å®ƒç†è§£ä¸ºä¸€ä¸ªâ€œé’©å­â€ï¼Œå¯ä»¥è®©ä½ åœ¨ä¸å†™ç±»ç»„ä»¶çš„æƒ…å†µä¸‹â€œå‹¾ä½â€React çš„æ‰€æœ‰åŠŸèƒ½ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withGithubProfile</span></span><br><span class="line"><span class="keyword">const</span> withGithubProfile = <span class="function">(<span class="params">WrappedComponent:any</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props:IProps) &#123;</span><br><span class="line">      <span class="keyword">super</span>(props)</span><br><span class="line">      <span class="keyword">this</span>.state = &#123;</span><br><span class="line">        profile: &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">      fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">        .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> response.json()</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            profile: res</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> <span class="attr">profile</span>=<span class="string">&#123;profile&#125;</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure><p>å¼•å…¥é«˜é˜¶ç»„ä»¶ï¼Œä½¿ç”¨å…¶profile<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GithubProfileHoc</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.props</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">        &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">        &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;followers: &#123;profile.followers&#125;&lt;/</span>div&gt;</span><br><span class="line">        &lt;div&gt;following: &#123;profile.following&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> WithGithubProfile(GithubProfileHoc)</span><br></pre></td></tr></table></figure></p><h4 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>ä½¿ç”¨å¤šä¸ªé«˜é˜¶ç»„ä»¶æ—¶ï¼Œæ— æ³•ç¡®å®š props æ¥æº</li><li>ç›¸åŒçš„ props ä¼šå­˜åœ¨è¦†ç›–çš„æƒ…å†µ</li><li>å¢åŠ è°ƒè¯•éš¾åº¦</li></ul><h2 id="State-Hooks"><a href="#State-Hooks" class="headerlink" title="State Hooks"></a>State Hooks</h2><h3 id="çŠ¶æ€ç»„ä»¶"><a href="#çŠ¶æ€ç»„ä»¶" class="headerlink" title="çŠ¶æ€ç»„ä»¶"></a>çŠ¶æ€ç»„ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;p&gt;You clicked &#123;<span class="keyword">this</span>.state.count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123;() =&gt; this.setState(&#123; count: this.state.count + 1 &#125;)&#125;&gt;</span></span><br><span class="line"><span class="regexp">          Click me</span></span><br><span class="line"><span class="regexp">        &lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="hooksæ”¹é€ "><a href="#hooksæ”¹é€ " class="headerlink" title="hooksæ”¹é€ "></a>hooksæ”¹é€ </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>æ˜¯ä¸æ˜¯ç®€å•å¤šäº†ï¼å¯ä»¥çœ‹åˆ°ï¼ŒExampleå˜æˆäº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†è¿™ä¸ªå‡½æ•°å´æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ˆcountï¼‰ï¼ŒåŒæ—¶å®ƒè¿˜å¯ä»¥æ›´æ–°è‡ªå·±çš„çŠ¶æ€ï¼ˆsetCountï¼‰ã€‚</p><p>é™¤äº†<code>useState</code>è¿™ä¸ªhookå¤–ï¼Œè¿˜æœ‰å¾ˆå¤šåˆ«çš„hookï¼Œæ¯”å¦‚<code>useEffect</code>æä¾›äº†ç±»ä¼¼äº<code>componentDidMount</code>ç­‰ç”Ÿå‘½å‘¨æœŸé’©å­çš„åŠŸèƒ½ï¼Œ<code>useContext</code>æä¾›äº†ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰çš„åŠŸèƒ½ç­‰ç­‰ã€‚</p><p><code>useState</code>æ˜¯reactè‡ªå¸¦çš„ä¸€ä¸ªhookå‡½æ•°ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ç”¨æ¥å£°æ˜çŠ¶æ€å˜é‡ã€‚useStateè¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯æˆ‘ä»¬çš„çŠ¶æ€åˆå§‹å€¼ï¼ˆinitial stateï¼‰ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„ç¬¬[0]é¡¹æ˜¯å½“å‰çš„çŠ¶æ€å€¼ï¼Œç¬¬[1]é¡¹æ˜¯å¯ä»¥æ”¹å˜çŠ¶æ€å€¼çš„æ–¹æ³•å‡½æ•°ã€‚</p><p>å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨setCountå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯ä¿®æ”¹è¿‡çš„æ–°çŠ¶æ€å€¼ã€‚æ¥ä¸‹æ¥çš„äº‹æƒ…å°±äº¤ç»™reactäº†ï¼Œreactå°†ä¼šé‡æ–°æ¸²æŸ“æˆ‘ä»¬çš„Exampleç»„ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯æ›´æ–°åçš„æ–°çš„çŠ¶æ€ï¼Œå³count=1ã€‚Exampleæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œä¸ºä»€ä¹ˆå®ƒå¯ä»¥è®°ä½ä¹‹å‰çš„çŠ¶æ€ï¼ŸExampleå‡½æ•°æ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œéƒ½æ˜¯æ‹¿çš„ä¸Šä¸€æ¬¡æ‰§è¡Œå®Œçš„çŠ¶æ€å€¼ä½œä¸ºåˆå§‹å€¼ï¼Ÿ</p><h3 id="ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼"><a href="#ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼" class="headerlink" title="ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼"></a>ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleWithManyStates</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [age, setAge] = useState(<span class="number">42</span>);</span><br><span class="line">  <span class="keyword">const</span> [fruit, setFruit] = useState(<span class="string">'banana'</span>);</span><br><span class="line">  <span class="keyword">const</span> [todos, setTodos] = useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>useState</code>æ¥æ”¶çš„åˆå§‹å€¼æ²¡æœ‰è§„å®šä¸€å®šè¦æ˜¯<code>string/number/boolean</code>è¿™ç§ç®€å•æ•°æ®ç±»å‹ï¼Œå®ƒå®Œå…¨å¯ä»¥æ¥æ”¶å¯¹è±¡æˆ–è€…æ•°ç»„ä½œä¸ºå‚æ•°ã€‚å”¯ä¸€éœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œä¹‹å‰æˆ‘ä»¬çš„<code>this.setState</code>åšçš„æ˜¯åˆå¹¶çŠ¶æ€åè¿”å›ä¸€ä¸ªæ–°çŠ¶æ€ï¼Œè€Œ<code>useState</code>æ˜¯ç›´æ¥æ›¿æ¢è€çŠ¶æ€åè¿”å›æ–°çŠ¶æ€ã€‚æœ€åï¼Œreactä¹Ÿç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>useReducer</code>çš„hookï¼Œå¦‚æœä½ æ›´å–œæ¬¢reduxå¼çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆçš„è¯ã€‚</p><p>ä»<code>ExampleWithManyStates</code>å‡½æ•°æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>useState</code>æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ï¼Œç›¸äº’ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ã€‚å…¶å®æˆ‘ä»¬çœ‹hookçš„â€œå½¢æ€â€ï¼Œæœ‰ç‚¹ç±»ä¼¼ä¹‹å‰è¢«å®˜æ–¹å¦å®šæ‰çš„<code>Mixins</code>è¿™ç§æ–¹æ¡ˆï¼Œéƒ½æ˜¯æä¾›ä¸€ç§â€œæ’æ‹”å¼çš„åŠŸèƒ½æ³¨å…¥â€çš„èƒ½åŠ›ã€‚è€Œ<code>Mixins</code>ä¹‹æ‰€ä»¥è¢«å¦å®šï¼Œæ˜¯å› ä¸º<code>Mixins</code>æœºåˆ¶æ˜¯è®©å¤šä¸ªMixinså…±äº«ä¸€ä¸ªå¯¹è±¡çš„æ•°æ®ç©ºé—´ï¼Œè¿™æ ·å°±å¾ˆéš¾ç¡®ä¿ä¸åŒ<code>Mixins</code>ä¾èµ–çš„çŠ¶æ€ä¸å‘ç”Ÿå†²çªã€‚ä¸åŒç»„ä»¶è°ƒç”¨åŒä¸€ä¸ªhookä¹Ÿèƒ½ä¿è¯å„è‡ªçŠ¶æ€çš„ç‹¬ç«‹æ€§ï¼Œè¿™å°±æ˜¯ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«ã€‚</p><h3 id="reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ"><a href="#reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ" class="headerlink" title="reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ"></a>reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ</h3><p>çœ‹ä¸Šé¢ç»™å‡ºçš„<code>ExampleWithManyStates</code>ä¾‹å­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†ä¸‰æ¬¡<code>useState</code>ï¼Œæ¯æ¬¡æˆ‘ä»¬ä¼ çš„å‚æ•°åªæ˜¯ä¸€ä¸ªå€¼ï¼ˆå¦‚42ï¼Œâ€˜bananaâ€™ï¼‰ï¼Œæˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰å‘Šè¯‰reactè¿™äº›å€¼å¯¹åº”çš„keyæ˜¯å“ªä¸ªï¼Œé‚£reactæ˜¯æ€ä¹ˆä¿è¯è¿™ä¸‰ä¸ªuseStateæ‰¾åˆ°å®ƒå¯¹åº”çš„stateå‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//å°†ageåˆå§‹åŒ–ä¸º42</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//å°†fruitåˆå§‹åŒ–ä¸ºbanana</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒæ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡ageçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°42ç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡fruitçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°bananaç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯ï¼Œreactæ˜¯æ ¹æ®<code>useState</code>å‡ºç°çš„é¡ºåºæ¥å®šçš„ã€‚æˆ‘ä»¬å…·ä½“æ¥çœ‹ä¸€ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> showFruit = <span class="literal">true</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleWithManyStates</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [age, setAge] = useState(<span class="number">42</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(showFruit) &#123;</span><br><span class="line">    <span class="keyword">const</span> [fruit, setFruit] = useState(<span class="string">'banana'</span>);</span><br><span class="line">    showFruit = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">const</span> [todos, setTodos] = useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//å°†ageåˆå§‹åŒ–ä¸º42</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//å°†fruitåˆå§‹åŒ–ä¸ºbanana</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒæ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡ageçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°42ç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line"><span class="comment">// useState('banana');  </span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//è¯»å–åˆ°çš„å´æ˜¯çŠ¶æ€å˜é‡fruitçš„å€¼ï¼Œå¯¼è‡´æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥reactè§„å®šæˆ‘ä»¬å¿…é¡»æŠŠhookså†™åœ¨å‡½æ•°çš„æœ€å¤–å±‚ï¼Œä¸èƒ½å†™åœ¨ifelseç­‰æ¡ä»¶è¯­å¥å½“ä¸­ï¼Œæ¥ç¡®ä¿hooksçš„æ‰§è¡Œé¡ºåºä¸€è‡´ã€‚</p><h2 id="Effect-Hooks"><a href="#Effect-Hooks" class="headerlink" title="Effect Hooks"></a>Effect Hooks</h2><p>åŒæ ·æ˜¯ä¸Šä¸ªæ —å­ï¼Œä¿ºä»¬å¢åŠ ä¸€ä¸ªæ–°åŠŸèƒ½ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç±»ä¼¼äºcomponentDidMount å’Œ componentDidUpdate:</span></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°æ–‡æ¡£çš„æ ‡é¢˜</span></span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å†™çš„æœ‰çŠ¶æ€ç»„ä»¶ï¼Œé€šå¸¸ä¼šäº§ç”Ÿå¾ˆå¤šçš„å‰¯ä½œç”¨ï¼ˆside effectï¼‰ï¼Œæ¯”å¦‚å‘èµ·ajaxè¯·æ±‚è·å–æ•°æ®ï¼Œæ·»åŠ ä¸€äº›ç›‘å¬çš„æ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œï¼Œæ‰‹åŠ¨ä¿®æ”¹domç­‰ç­‰ã€‚æˆ‘ä»¬ä¹‹å‰éƒ½æŠŠè¿™äº›å‰¯ä½œç”¨çš„å‡½æ•°å†™åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°é’©å­é‡Œï¼Œæ¯”å¦‚<code>componentDidMount</code>ï¼Œ<code>componentDidUpdate</code>å’Œ<code>componentWillUnmount</code>ã€‚è€Œç°åœ¨çš„useEffectå°±ç›¸å½“ä¸è¿™äº›å£°æ˜å‘¨æœŸå‡½æ•°é’©å­çš„é›†åˆä½“ã€‚å®ƒä»¥ä¸€æŠµä¸‰ï¼Œå‰å®³äº†ï¼</p><p>åŒæ—¶ï¼Œç”±äºå‰æ–‡æ‰€è¯´hookså¯ä»¥åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œç›¸äº’ç‹¬ç«‹ã€‚æ‰€ä»¥æˆ‘ä»¬åˆç†çš„åšæ³•æ˜¯ï¼Œç»™æ¯ä¸€ä¸ªå‰¯ä½œç”¨ä¸€ä¸ªå•ç‹¬çš„useEffecté’©å­ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™äº›å‰¯ä½œç”¨ä¸å†ä¸€è‚¡è„‘å †åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œï¼Œä»£ç å˜å¾—æ›´åŠ æ¸…æ™°ã€‚</p><h3 id="useEffectåšäº†ä»€ä¹ˆï¼Ÿ"><a href="#useEffectåšäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="useEffectåšäº†ä»€ä¹ˆï¼Ÿ"></a>useEffectåšäº†ä»€ä¹ˆï¼Ÿ</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡countï¼Œå°†å®ƒçš„åˆå§‹å€¼è®¾ä¸º0ã€‚ç„¶åæˆ‘ä»¬å‘Šè¯‰reactï¼Œæˆ‘ä»¬çš„è¿™ä¸ªç»„ä»¶æœ‰ä¸€ä¸ªå‰¯ä½œç”¨ã€‚æˆ‘ä»¬ç»™<code>useEffect hook</code>ä¼ äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°å°±æ˜¯æˆ‘ä»¬çš„å‰¯ä½œç”¨ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬çš„å‰¯ä½œç”¨æ˜¯è°ƒç”¨<code>browser API</code>æ¥ä¿®æ”¹æ–‡æ¡£æ ‡é¢˜ã€‚å½“reactè¦æ¸²æŸ“æˆ‘ä»¬çš„ç»„ä»¶æ—¶ï¼Œå®ƒä¼šå…ˆè®°ä½æˆ‘ä»¬ç”¨åˆ°çš„å‰¯ä½œç”¨ã€‚ç­‰reactæ›´æ–°äº†DOMä¹‹åï¼Œå®ƒå†ä¾æ¬¡æ‰§è¡Œæˆ‘ä»¬å®šä¹‰çš„å‰¯ä½œç”¨å‡½æ•°ã€‚</p><p>è¿™é‡Œè¦æ³¨æ„ï¼š</p><ol><li><p>reacté¦–æ¬¡æ¸²æŸ“å’Œä¹‹åçš„æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šè°ƒç”¨ä¸€éä¼ ç»™useEffectçš„å‡½æ•°ã€‚è€Œä¹‹å‰æˆ‘ä»¬è¦ç”¨ä¸¤ä¸ªå£°æ˜å‘¨æœŸå‡½æ•°æ¥åˆ†åˆ«è¡¨ç¤ºé¦–æ¬¡æ¸²æŸ“<code>componentDidMount</code>ï¼Œå’Œä¹‹åçš„æ›´æ–°å¯¼è‡´çš„é‡æ–°æ¸²æŸ“<code>componentDidUpdate</code>ã€‚</p></li><li><p><code>useEffect</code>ä¸­å®šä¹‰çš„å‰¯ä½œç”¨å‡½æ•°çš„æ‰§è¡Œä¸ä¼šé˜»ç¢æµè§ˆå™¨æ›´æ–°è§†å›¾ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›å‡½æ•°æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œè€Œä¹‹å‰çš„<code>componentDidMount</code>æˆ–<code>componentDidUpdate</code>ä¸­çš„ä»£ç åˆ™æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚è¿™ç§å®‰æ’å¯¹å¤§å¤šæ•°å‰¯ä½œç”¨è¯´éƒ½æ˜¯åˆç†çš„ï¼Œä½†æœ‰çš„æƒ…å†µé™¤å¤–ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦å…ˆæ ¹æ®DOMè®¡ç®—å‡ºæŸä¸ªå…ƒç´ çš„å°ºå¯¸å†é‡æ–°æ¸²æŸ“ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¸Œæœ›è¿™æ¬¡é‡æ–°æ¸²æŸ“æ˜¯åŒæ­¥å‘ç”Ÿçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šåœ¨æµè§ˆå™¨çœŸçš„å»ç»˜åˆ¶è¿™ä¸ªé¡µé¢å‰å‘ç”Ÿã€‚</p></li></ol><h3 id="useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ"><a href="#useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ" class="headerlink" title="useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ"></a>useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ</h3><p>è¿™ç§åœºæ™¯å¾ˆå¸¸è§ï¼Œå½“æˆ‘ä»¬åœ¨<code>componentDidMount</code>é‡Œæ·»åŠ äº†ä¸€ä¸ªæ³¨å†Œï¼Œæˆ‘ä»¬å¾—åœ¨<code>componentWillUnmount</code>ä¸­ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶è¢«æ³¨é”€ä¹‹å‰æ¸…é™¤æ‰æˆ‘ä»¬æ·»åŠ çš„æ³¨å†Œï¼Œå¦åˆ™å†…å­˜æ³„æ¼çš„é—®é¢˜å°±å‡ºç°äº†ã€‚</p><p>æ€ä¹ˆæ¸…é™¤å‘¢ï¼Ÿè®©æˆ‘ä»¬ä¼ ç»™<code>useEffect</code>çš„å‰¯ä½œç”¨å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å³å¯ã€‚è¿™ä¸ªæ–°çš„å‡½æ•°å°†ä¼šåœ¨ç»„ä»¶ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“ä¹‹åæ‰§è¡Œã€‚è¿™ç§æ¨¡å¼åœ¨ä¸€äº›pubsubæ¨¡å¼çš„å®ç°ä¸­å¾ˆå¸¸è§ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    <span class="comment">// ä¸€å®šæ³¨æ„ä¸‹è¿™ä¸ªé¡ºåºï¼šå‘Šè¯‰reactåœ¨ä¸‹æ¬¡é‡æ–°æ¸²æŸ“ç»„ä»¶ä¹‹åï¼ŒåŒæ—¶æ˜¯ä¸‹æ¬¡è°ƒç”¨ChatAPI.subscribeToFriendStatusä¹‹å‰æ‰§è¡Œcleanup</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">cleanup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Loading...'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œæœ‰ä¸€ä¸ªç‚¹éœ€è¦é‡è§†ï¼è¿™ç§è§£ç»‘çš„æ¨¡å¼è·Ÿ<code>componentWillUnmount</code>ä¸ä¸€æ ·ã€‚<code>componentWillUnmount</code>åªä¼šåœ¨ç»„ä»¶è¢«é”€æ¯å‰æ‰§è¡Œä¸€æ¬¡è€Œå·²ï¼Œè€ŒuseEffecté‡Œçš„å‡½æ•°ï¼Œæ¯æ¬¡ç»„ä»¶æ¸²æŸ“åéƒ½ä¼šæ‰§è¡Œä¸€éï¼ŒåŒ…æ‹¬å‰¯ä½œç”¨å‡½æ•°è¿”å›çš„è¿™ä¸ªæ¸…ç†å‡½æ•°ä¹Ÿä¼šé‡æ–°æ‰§è¡Œä¸€éã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼š</p><h3 id="ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ</h3><p>æˆ‘ä»¬å…ˆçœ‹ä»¥å‰çš„æ¨¡å¼ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  ChatAPI.subscribeToFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentWillUnmount() &#123;</span><br><span class="line">  ChatAPI.unsubscribeFromFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬åœ¨<code>componentDidMount</code>æ³¨å†Œï¼Œå†åœ¨<code>componentWillUnmount</code>æ¸…é™¤æ³¨å†Œã€‚ä½†å‡å¦‚è¿™æ—¶å€™props.friend.idå˜äº†æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬ä¸å¾—ä¸å†æ·»åŠ ä¸€ä¸ªcomponentDidUpdateæ¥å¤„ç†è¿™ç§æƒ…å†µï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">componentDidUpdate(prevProps) &#123;</span><br><span class="line">  <span class="comment">// å…ˆæŠŠä¸Šä¸€ä¸ªfriend.idè§£ç»‘</span></span><br><span class="line">  ChatAPI.unsubscribeFromFriendStatus(</span><br><span class="line">    prevProps.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">  <span class="comment">// å†é‡æ–°æ³¨å†Œæ–°ä½†friend.id</span></span><br><span class="line">  ChatAPI.subscribeToFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¾ˆç¹çï¼Œè€Œæˆ‘ä»¬ä½†<code>useEffect</code>åˆ™æ²¡è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒåœ¨æ¯æ¬¡ç»„ä»¶æ›´æ–°åéƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€éã€‚æ‰€ä»¥ä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.é¡µé¢é¦–æ¬¡æ¸²æŸ“</span><br><span class="line">2.æ›¿friend.id=1çš„æœ‹å‹æ³¨å†Œ</span><br><span class="line"></span><br><span class="line">3.çªç„¶friend.idå˜æˆäº†2</span><br><span class="line">4.é¡µé¢é‡æ–°æ¸²æŸ“</span><br><span class="line">5.æ¸…é™¤friend.id=1çš„ç»‘å®š</span><br><span class="line">6.æ›¿friend.id=2çš„æœ‹å‹æ³¨å†Œ</span><br></pre></td></tr></table></figure></p><h3 id="æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ"><a href="#æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ" class="headerlink" title="æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ"></a>æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ</h3><p>æŒ‰ç…§ä¸Šä¸€èŠ‚çš„æ€è·¯ï¼Œæ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½è¦æ‰§è¡Œä¸€éè¿™äº›å‰¯ä½œç”¨å‡½æ•°ï¼Œæ˜¾ç„¶æ˜¯ä¸ç»æµçš„ã€‚æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„è®¡ç®—å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦ç»™useEffectä¼ ç¬¬äºŒä¸ªå‚æ•°å³å¯ã€‚ç”¨ç¬¬äºŒä¸ªå‚æ•°æ¥å‘Šè¯‰reactåªæœ‰å½“è¿™ä¸ªå‚æ•°çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰æ‰§è¡Œæˆ‘ä»¬ä¼ çš„å‰¯ä½œç”¨å‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">&#125;, [count]); <span class="comment">// åªæœ‰å½“countçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°æ‰§è¡Œ`document.title`è¿™ä¸€å¥</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ç¬¬äºŒä¸ªå‚æ•°ä¼ ä¸€ä¸ªç©ºæ•°ç»„[]æ—¶ï¼Œå…¶å®å°±ç›¸å½“äºåªåœ¨é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯<code>componentDidMount</code>åŠ <code>componentWillUnmount</code>çš„æ¨¡å¼ã€‚ä¸è¿‡è¿™ç§ç”¨æ³•å¯èƒ½å¸¦æ¥bugï¼Œå°‘ç”¨ã€‚</p><h2 id="æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect-Hooks"><a href="#æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect-Hooks" class="headerlink" title="æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect Hooks?"></a>æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect Hooks?</h2><p>ä¸ºä»€ä¹ˆè¦è‡ªå·±å»å†™ä¸€ä¸ªEffect Hooks? è¿™æ ·æˆ‘ä»¬æ‰èƒ½æŠŠå¯ä»¥å¤ç”¨çš„é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œå˜æˆä¸€ä¸ªä¸ªå¯ä»¥éšæ„æ’æ‹”çš„â€œæ’é”€â€ï¼Œå“ªä¸ªç»„ä»¶è¦ç”¨æ¥ï¼Œæˆ‘å°±æ’è¿›å“ªä¸ªç»„ä»¶é‡Œï¼Œso easyï¼çœ‹ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œä½ å°±æ˜ç™½äº†ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æŠŠä¸Šé¢å†™çš„FriendStatusç»„ä»¶ä¸­åˆ¤æ–­æœ‹å‹æ˜¯å¦åœ¨çº¿çš„åŠŸèƒ½æŠ½å‡ºæ¥ï¼Œæ–°å»ºä¸€ä¸ªuseFriendStatusçš„hookä¸“é—¨ç”¨æ¥åˆ¤æ–­æŸä¸ªidæ˜¯å¦åœ¨çº¿ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params">friendID</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶å€™FriendStatusç»„ä»¶å°±å¯ä»¥ç®€å†™ä¸ºï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Loading...'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å‡å¦‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åˆæœ‰ä¸€ä¸ªæœ‹å‹åˆ—è¡¨ä¹Ÿéœ€è¦æ˜¾ç¤ºæ˜¯å¦åœ¨çº¿çš„ä¿¡æ¯ä¹Ÿå¯ä»¥å¤ç”¨ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendListItem</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;li style=&#123;&#123; <span class="attr">color</span>: isOnline ? <span class="string">'green'</span> : <span class="string">'black'</span> &#125;&#125;&gt;</span><br><span class="line">      &#123;props.friend.name&#125;</span><br><span class="line">    &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>funky!!!</p><p>æ¯”å¦‚è¿˜æœ‰</p><h3 id="useProfile-ä½¿ç”¨-Hooks-å®ç°-API-è¯·æ±‚"><a href="#useProfile-ä½¿ç”¨-Hooks-å®ç°-API-è¯·æ±‚" class="headerlink" title="useProfile ä½¿ç”¨ Hooks å®ç° API è¯·æ±‚"></a>useProfile ä½¿ç”¨ Hooks å®ç° API è¯·æ±‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// useProfile</span></span><br><span class="line"><span class="keyword">const</span> useProfile = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [profile, setProfile] = useState(&#123;&#125; <span class="keyword">as</span> TProfile)</span><br><span class="line">  <span class="keyword">const</span> [loading, setLoading] = useState(<span class="literal">false</span>)</span><br><span class="line">  <span class="keyword">const</span> [isError, setIsError] = useState(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setLoading(<span class="literal">true</span>)</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/gaearon'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        setProfile(res <span class="keyword">as</span> TProfile)</span><br><span class="line">        setIsError(<span class="literal">false</span>)</span><br><span class="line">        setLoading(<span class="literal">false</span>)</span><br><span class="line">      &#125;).catch(<span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">        setIsError(<span class="literal">true</span>)</span><br><span class="line">        setLoading(<span class="literal">false</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; profile, loading,isError &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>useProfile</code> Hooksï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UseProfilePage = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; profile, loading, isError &#125; = useProfile()</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;React.Fragment&gt;</span><br><span class="line">      &#123;isError ? (</span><br><span class="line">        &lt;div&gt;Network <span class="built_in">Error</span>...&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      ) : (</span></span><br><span class="line"><span class="regexp">        &lt;div className="profile"&gt;</span></span><br><span class="line"><span class="regexp">          &#123;loading ? (</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;loading profile...&lt;/</span>div&gt;</span><br><span class="line">          ) : (</span><br><span class="line">            &lt;React.Fragment&gt;</span><br><span class="line">              &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">              &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">              &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">              &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>React.Fragment&gt;</span><br><span class="line">          )&#125;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      )&#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>React.Fragment&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="useInput-ä½¿ç”¨-Hooks-å®ç°-input-è¾“å…¥é€»è¾‘"><a href="#useInput-ä½¿ç”¨-Hooks-å®ç°-input-è¾“å…¥é€»è¾‘" class="headerlink" title="useInput ä½¿ç”¨ Hooks å®ç° input è¾“å…¥é€»è¾‘"></a>useInput ä½¿ç”¨ Hooks å®ç° input è¾“å…¥é€»è¾‘</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> useInput = <span class="function">(<span class="params">initialValue:string</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(initialValue)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleChange = <span class="function">(<span class="params">e:any</span>) =&gt;</span> &#123;</span><br><span class="line">    setValue(e.target.value)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    value,</span><br><span class="line">    onChange: handleChange</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> useInputDemo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> value = useInput(<span class="string">'KuangPF'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"use-input"</span>&gt;</span><br><span class="line">      &lt;p&gt;current name: &#123;value.value&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;input &#123;...value&#125; /</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h2><p><code>useContext</code> æ˜¯ä¸ºäº†åœ¨ function ç»„ä»¶ä¸­ä½¿ç”¨ç±»ç»„ä»¶çš„ <a href="https://reactjs.org/docs/context.html" target="_blank" rel="noopener">context</a> APIï¼Œä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ª contextï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> local = <span class="string">'ğŸ‡¨ğŸ‡³'</span></span><br><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(local)</span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨ <code>useContext hook</code> ä½¿ç”¨ contextï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseContextDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> local = useContext(ThemeContext)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;local: &#123;local&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// render: ğŸ‡¨ğŸ‡³</span></span><br></pre></td></tr></table></figure></p><p>åœ¨ class ç»„ä»¶ä¸­ï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹ context çš„å€¼ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ Provider æä¾› value å€¼ï¼ŒåŒæ ·ï¼Œåœ¨ function ç»„ä»¶ä¸­ä¹Ÿå¯ä»¥ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(<span class="string">'ğŸ‡¨ğŸ‡³'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Context</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> local = useContext(ThemeContext)</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>local: &#123;local&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ThemeContext.Provider value=&#123;<span class="string">'ğŸ‡ºğŸ‡¸'</span>&#125;&gt;</span><br><span class="line">      &lt;Context /&gt;</span><br><span class="line">    &lt;<span class="regexp">/ThemeContext.Provider&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ render: ğŸ‡ºğŸ‡¸</span></span><br></pre></td></tr></table></figure></p><h2 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h2><p><code>useReducer</code> æ˜¯ <code>useState</code> çš„ä¸€ç§ä»£æ›¿æ–¹æ¡ˆï¼Œç”¨äº state ä¹‹é—´æœ‰ä¾èµ–å…³ç³»æˆ–è€…æ¯”è¾ƒå¤æ‚çš„åœºæ™¯ã€‚<code>useReducer</code> æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>reducerï¼š(state, action) =&gt; newState</li><li>initialArgï¼š åˆå§‹åŒ–å‚æ•°</li><li>Initï¼š æƒ°æ€§åˆå§‹åŒ–,è¿”å›åˆå§‹åŒ–æ•°æ®</li></ul><p>è¿”å›å½“å‰ state ä»¥åŠé…å¥—çš„ dispatch æ–¹æ³•ã€‚é¦–å…ˆçœ‹ä¸‹ <code>useReducer</code> å¤„ç†ç®€å•çš„ stateï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseReducerDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, dispatch] = useReducer(<span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> state + <span class="number">1</span></span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          dispatch()</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        add</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>è¿™ä¸ªä¾‹å­å’Œä½¿ç”¨ <code>useState</code> ä¸€æ ·ï¼Œéƒ½è¾¾åˆ°äº†è®¡æ•°çš„æ•ˆæœã€‚ è¯¥ä¾‹å­ä¸­ï¼Œ<code>useReducer</code> åˆå§‹åŒ–äº† count å€¼ä¸º 0ï¼Œä¼ å…¥çš„ reducer å¾ˆç®€å•ï¼Œå½“æ¥æ”¶åˆ°ä¸€ä¸ª dispatch æ—¶ï¼Œå°† count çš„å€¼å¢åŠ  1ã€‚</p><h3 id="å¤„ç†-state-æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯"><a href="#å¤„ç†-state-æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯" class="headerlink" title="å¤„ç† state æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯"></a>å¤„ç† state æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [frozen, setFrozen] = useState(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> increase = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (frozen) &#123;</span><br><span class="line">        <span class="keyword">return</span> prevCount</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> prevCount + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    increase()</span><br><span class="line">    setFrozen(<span class="literal">true</span>)</span><br><span class="line">    increase()</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>count &#123;count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// render 1</span></span><br></pre></td></tr></table></figure><p>åŸå› åœ¨äº function ç»„ä»¶çš„æ›´æ–°æœºåˆ¶ï¼Œå½“å¼•å…¥ hooks ä»¥åï¼Œfunction ç»„ä»¶ä¹Ÿæ‹¥æœ‰äº† state çš„åŠŸèƒ½ï¼Œå½“æˆ‘ä»¬ setState æ—¶ï¼ŒUI ä¼šé‡æ–°æ¸²æŸ“ï¼Œä½†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­<strong>function ç»„ä»¶ä¸­ï¼Œstate ä»¥åŠ props éƒ½æ˜¯é™æ€å€¼ï¼Œä¸å­˜åœ¨å¼•ç”¨ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç†è§£ä¸º state å’Œ props æ˜¯ä¸€ä¸ª capture valueï¼Œæ¯æ¬¡æ¸²æŸ“çš„ state å’Œ props éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚</strong></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”±äº useEffect ä¼ å…¥çš„ä¾èµ–ä¸º []ï¼Œå³è¯¥å‰¯ä½œç”¨åªä¼šåœ¨ UI ç¬¬ä¸€æ¬¡æ¸²æŸ“ç»“æŸåæ‰§è¡Œä¸€æ¬¡ã€‚è€Œåœ¨è¿™æ¬¡ render ä¸­ï¼Œcount çš„å€¼ä¸º 0ï¼Œ frozen å€¼ä¸º falseï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æ‰§è¡Œ increase æ—¶ï¼Œfrozen å€¼ä¾ç„¶ä¸º falseï¼Œ setCount è¿”å›çš„ prevCount ä¸º 1 ï¼Œç„¶åå¢åŠ  1ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæœ€å render çš„ç»“æœä¸º 2ï¼Œè€Œä¸æ˜¯ 1ã€‚</p><p>å¯¹äº state æœ‰ç›¸äº’ä¾èµ–çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>useReducer</code> æ¥å¤„ç†ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> INCREASE = <span class="string">'INCREASE'</span></span><br><span class="line"><span class="keyword">const</span> SET_FROZEN = <span class="string">'SET_FROZEN'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">  count: <span class="number">0</span>,</span><br><span class="line">  frozen: <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> reducer = <span class="function">(<span class="params">state: any, action: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">      <span class="keyword">case</span> INCREASE:</span><br><span class="line">        <span class="keyword">if</span> (state.frozen) &#123;</span><br><span class="line">          <span class="keyword">return</span> state</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          ...state,</span><br><span class="line">          count: state.count + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> SET_FROZEN:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          ...state,</span><br><span class="line">          frozen: action.frozen</span><br><span class="line">        &#125;</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> state</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> [state, dispath] = useReducer(reducer, initialState)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: INCREASE &#125;)</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: SET_FROZEN, <span class="attr">frozen</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: INCREASE &#125;)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>current count: &#123;state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="å¦‚ä½•ç”¨useStateå®ç°useReducer"><a href="#å¦‚ä½•ç”¨useStateå®ç°useReducer" class="headerlink" title="å¦‚ä½•ç”¨useStateå®ç°useReducer"></a>å¦‚ä½•ç”¨useStateå®ç°useReducer</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = useState(&#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">    frozen: <span class="literal">false</span>,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> increase = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (prevState.frozen) &#123;</span><br><span class="line">        <span class="keyword">return</span> prevState;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...prevState,</span><br><span class="line">        count: state.count + <span class="number">1</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> setFrozen = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...prevState,</span><br><span class="line">        frozen: <span class="literal">true</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    increase();</span><br><span class="line">    setFrozen();</span><br><span class="line">    increase();</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>current count: &#123;state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>;</span><br><span class="line">  <span class="comment">// renderï¼š1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>useReducer</code> å’Œ <code>useState</code> ç›¸æ¯”ï¼Œä¼˜åŠ¿åœ¨äºå¯ä»¥å°†ä½¿ç”¨ reducer å°†ä¸€äº›é€»è¾‘è¿›è¡ŒæŠ½ç¦»ï¼Œè¿›è¡Œé›†ä¸­åŒ–ç®¡ç†ã€‚</p><h2 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h2><p><code>useCallback</code> å¯ä»¥ç†è§£ä¸ºå°†å‡½æ•°è¿›è¡Œäº†ç¼“å­˜ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°å’Œä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œåªæœ‰å½“ä¾èµ–æ•°ç»„ä¸­çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¯¥å›è°ƒå‡½æ•°æ‰ä¼šæ›´æ–°ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseCallbackDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleResize = useCallback(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`the current count is: <span class="subst">$&#123;count&#125;</span>`</span>)</span><br><span class="line">  &#125;, [count])</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, handleResize)</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">window</span>.removeEventListener(<span class="string">'resize'</span>, handleResize)</span><br><span class="line">  &#125;, [handleResize])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        onClick=&#123;() =&gt; &#123;</span><br><span class="line">          setCount(count + <span class="number">1</span>)</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        click</span><br><span class="line">      &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;current count: &#123;count&#125;&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>è¯¥ä¾‹å­ä¸­ï¼Œå½“æ”¹å˜ count åï¼Œç„¶åæ”¹å˜æµè§ˆå™¨çª—å£å¤§å°ï¼Œå¯ä»¥è·å–åˆ°æœ€æ–°çš„ count ã€‚å¦‚æœä¼ å…¥çš„ä¾èµ–ä¸º []ï¼ŒhandleResize ä¸ä¼šæ›´æ–°ï¼Œåˆ™æ”¹å˜æµè§ˆå™¨çª—å£æ—¶ï¼Œ count çš„å€¼å§‹ç»ˆä¸º 0 ã€‚</p><h2 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h2><p><code>useMemo</code> å¯¹å€¼è¿›è¡Œäº†ç¼“å­˜ï¼Œä¸ <code>useCallback</code> ç±»ä¼¼ï¼Œæ¥æ”¶ä¸€ä¸ªåˆ›å»ºå€¼çš„å‡½æ•°å’Œä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œå®ƒä»…ä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®— memoized å€¼ï¼Œè¿™ç§ä¼˜åŒ–æœ‰åŠ©äºé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseMemoDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(<span class="string">''</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> useMemoChild = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> &lt;Child count=&#123;count&#125; /&gt;, [count])</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;&#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          setCount(count + 1)</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        click</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">      &lt;br /&gt;</span><br><span class="line">      &lt;input value=&#123;value&#125; onChange=&#123;e =&gt; setValue(e.target.value)&#125; /&gt;</span><br><span class="line">      &#123;useMemoChild&#125;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function Child(&#123; count &#125;: &#123; count: number &#125;) &#123;</span></span><br><span class="line"><span class="regexp">  console.log('child render')</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;Fragment&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;useMemo hooks&lt;/</span>p&gt;</span><br><span class="line">      &lt;p&gt;child count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>Fragment&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥ä¾‹å­ä¸­ï¼ŒUseMemoDemo ç»„ä»¶å¼•ç”¨äº† Child ç»„ä»¶ï¼Œåœ¨ UseMemoDemo ç»„ä»¶ä¸­ï¼Œå®šä¹‰äº† count å’Œ value ä¸¤ä¸ª stateï¼Œå¦‚æœä¸ä½¿ç”¨ <code>useMemo</code>ï¼Œé‚£ä¹ˆæ¯å½“ UseMemoDemo ä¸­ input å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒChild ç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ã€‚ä½† Child ç»„ä»¶ UI åªå’Œ count æœ‰å…³ï¼Œé‚£ä¹ˆè¿™æ ·å°±ä¼šé€ æˆ Child ç»„ä»¶æ— æ•ˆæ›´æ–°ï¼Œå› æ­¤å°±å¼•å…¥äº† <code>useMemo</code>ï¼Œå°† count ä½œä¸ºä¾èµ–ä¼ å…¥ï¼Œè¿™æ ·åªæœ‰å½“ count å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œ Child ç»„ä»¶æ‰ä¼šé‡æ–°æ¸²æŸ“ã€‚</p><h2 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h2><p><code>useRef</code> è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ .current å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•° ï¼ˆinitialValueï¼‰ã€‚è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚åœ¨ function ç»„ä»¶ä¸­ï¼Œ ä½¿ç”¨ <code>useRef</code> ä¸»è¦å¯ä»¥å®Œæˆä»¥ä¸‹ä¸¤ä»¶äº‹ï¼š</p><ol><li>è·å– dom ç»“æ„</li><li>ä¿å­˜å˜é‡</li></ol><p>å…ˆçœ‹ä¸€ä¸ªè·å– dom èŠ‚ç‚¹, ç‚¹å‡» button æ—¶ï¼Œinput èšç„¦ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseRefDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef(<span class="literal">null</span> <span class="keyword">as</span> any)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleFocusInput = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    inputRef.current.focus()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input ref=&#123;inputRef&#125; /&gt;</span><br><span class="line">      &lt;button onClick=&#123;handleFocusInput&#125;&gt;click focus&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å®˜æ–¹demo<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>)</span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;Click me&lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœæˆ‘ä»¬ 3s ç‚¹å¤šæ¬¡ç‚¹å‡» buttonï¼Œé‚£ä¹ˆæ§åˆ¶å°è¾“å‡ºçš„ç»“æœä¼šæ˜¯ 0,1,2,3â€¦ï¼Œ è¿™æ˜¯ç”±äºæ¯æ¬¡æ¸²æŸ“æ—¶ count çš„å€¼éƒ½æ˜¯å›ºå®šçš„ã€‚ä½†ç±»ä¼¼çš„é€»è¾‘åœ¨ class ç»„ä»¶ä¸­è¡¨ç°ä¸ä¸€æ ·ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">componentDidUpdate() &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;<span class="keyword">this</span>.state.count&#125;</span> times`</span>);</span><br><span class="line">  &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨ class ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬åœ¨ 3s å†…å¤šæ¬¡ç‚¹å‡» buttonï¼Œæœ€ååœ¨æ§åˆ¶å°è¾“å‡ºçš„ç»“æœæ˜¯æœ€åä¸€æ¬¡ count æ›´æ–°çš„å€¼ã€‚è€Œåœ¨ function ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>useRef</code>å®ç°è¿™ä¸ªæ•ˆæœ <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useRefDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> countRef = useRef(count)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    countRef.current = count</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;countRef.current&#125;</span> times`</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;, [count])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          setCount(count + 1)</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        click</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>useRef è¿”å›çš„å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ï¼Œæ¯æ¬¡æ¸²æŸ“æ—¶è¿”å›çš„æ˜¯åŒä¸€ä¸ªrefå¯¹è±¡ï¼Œå› æ­¤ countRef.current å§‹ç»ˆæ˜¯æœ€æ–°çš„ count å€¼ã€‚</p><h2 id="useImperativeHandle"><a href="#useImperativeHandle" class="headerlink" title="useImperativeHandle"></a>useImperativeHandle</h2><p><code>useImperativeHandle</code> å¯ä»¥è®©ä½ åœ¨ä½¿ç”¨ ref æ—¶ï¼Œè‡ªå®šä¹‰æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”å½“é¿å…ä½¿ç”¨ ref è¿™æ ·çš„å‘½ä»¤å¼ä»£ç ã€‚<code>useImperativeHandle</code> åº”å½“ä¸ <code>forwardRef</code> ä¸€èµ·ä½¿ç”¨ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyInput</span>(<span class="params">props, ref</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef(<span class="literal">null</span> <span class="keyword">as</span> any)</span><br><span class="line">  useImperativeHandle(ref, () =&gt; (&#123;</span><br><span class="line">    focus: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      inputRef.current.focus()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;))</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">const FancyInputRef = forwardRef(FancyInput)</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">const useImperativeHandleDemo = () =&gt; &#123;</span></span><br><span class="line"><span class="xml">  const inputRef = useRef(null as any)</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">  useEffect(() =&gt; &#123;</span></span><br><span class="line"><span class="xml">    inputRef.current.focus()</span></span><br><span class="line"><span class="xml">  &#125;)</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line">  return &lt;FancyInputRef ref=&#123;inputRef&#125; /&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h2><p>å…¶å‡½æ•°ç­¾å ä¸ <code>useEffect</code> ç›¸åŒï¼Œä½†å®ƒä¼šåœ¨æ‰€æœ‰çš„ DOM å˜æ›´ä¹‹ååŒæ­¥è°ƒç”¨ effectã€‚å¯ä»¥ä½¿ç”¨å®ƒæ¥è¯»å– DOM å¸ƒå±€å¹¶åŒæ­¥è§¦å‘é‡æ¸²æŸ“ã€‚åœ¨æµè§ˆå™¨æ‰§è¡Œç»˜åˆ¶ä¹‹å‰ï¼Œ<code>useLayoutEffect</code> å†…éƒ¨çš„æ›´æ–°è®¡åˆ’å°†è¢«åŒæ­¥åˆ·æ–°ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> BlinkyRender = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value === <span class="number">0</span>) &#123;</span><br><span class="line">      setValue(<span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">200</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, [value]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;() =&gt; setValue(<span class="number">0</span>)&#125;&gt;value: &#123;value&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure></p><p>å½“æˆ‘ä»¬å¿«é€Ÿç‚¹å‡»æ—¶ï¼Œvalue ä¼šå‘ç”Ÿéšæœºå˜åŒ–ï¼Œä½† <code>useEffect</code> æ˜¯ UI å·²ç»æ¸²æŸ“åˆ°å±å¹•ä¸Šä»¥åæ‰ä¼šæ‰§è¡Œï¼Œvalue ä¼šå…ˆæ¸²æŸ“ä¸º 0ï¼Œç„¶ååœ¨æ¸²æŸ“æˆéšæœºæ•°ï¼Œå› æ­¤å±å¹•ä¼šå‡ºç°é—ªçƒã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">useLayoutEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (value === <span class="number">0</span>) &#123;</span><br><span class="line">    setValue(<span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [value]);</span><br></pre></td></tr></table></figure></p><p>ç›¸æ¯”ä½¿ç”¨ <code>useEffect</code>ï¼Œå½“ç‚¹å‡» divï¼Œvalue æ›´æ–°ä¸º 0ï¼Œæ­¤æ—¶é¡µé¢å¹¶ä¸ä¼šæ¸²æŸ“ï¼Œè€Œæ˜¯ç­‰å¾… useLayoutEffect å†…éƒ¨çŠ¶æ€ä¿®æ”¹åï¼Œæ‰ä¼šå»æ›´æ–°é¡µé¢ï¼Œæ‰€ä»¥é¡µé¢ä¸ä¼šé—ªçƒã€‚</p><h2 id="useDebugValue"><a href="#useDebugValue" class="headerlink" title="useDebugValue"></a>useDebugValue</h2><p><code>useDebugValue</code> å¯ç”¨äºåœ¨ React å¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ hook çš„æ ‡ç­¾ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline] = useState(<span class="literal">null</span>)</span><br><span class="line">  useDebugValue(isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;isOnline&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ ¼å¼åŒ–å€¼çš„æ˜¾ç¤ºå¯èƒ½æ˜¯ä¸€é¡¹å¼€é”€å¾ˆå¤§çš„æ“ä½œï¼Œå› æ­¤ï¼Œ<code>useDebugValue</code> æ¥å—ä¸€ä¸ªæ ¼å¼åŒ–å‡½æ•°ä½œä¸ºå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¯¥å‡½æ•°åªæœ‰åœ¨ Hook è¢«æ£€æŸ¥ï¼ˆæ‰“å¼€ React å¼€å‘è€…å·¥å…·ï¼‰æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚å®ƒæ¥å— debug å€¼ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”ä¼šè¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„æ˜¾ç¤ºå€¼ã€‚ä¾‹å¦‚ï¼Œ ä¸€ä¸ªè¿”å› Date å€¼çš„è‡ªå®šä¹‰ Hook å¯ä»¥é€šè¿‡æ ¼å¼åŒ–å‡½æ•°æ¥é¿å…ä¸å¿…è¦çš„ toDateString å‡½æ•°è°ƒç”¨:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(date, date =&gt; date.toDateString());</span><br></pre></td></tr></table></figure></p><h2 id="ä»“åº“ä»£ç "><a href="#ä»“åº“ä»£ç " class="headerlink" title="ä»“åº“ä»£ç "></a>ä»“åº“ä»£ç </h2><p><a href="https://github.com/cosyer/react-hooks-demo" target="_blank" rel="noopener">react-hooks-demo</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ç¯‡æ–‡ç« å°† React Hooks è¯­æ³•è¿›è¡Œäº†ç®€å•ä»‹ç»ï¼ŒHooks åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå¦‚æœçœ‹å®Œæ–‡ç« è¿˜ä¸æ˜¯å¾ˆç†è§£çš„è¯ï¼Œå»ºè®®æŠŠè¿™äº› demo è‡ªå·±å†æ‰‹åŠ¨å®ç°ä¸€éï¼Œè¿™æ ·æ”¶è·ä¼šæ›´å¤šã€‚å¦‚æœæ–‡ç« å†…å®¹æœ‰å“ªäº›æè¿°é”™è¯¯æˆ–è€…ä¸æ¸…çš„åœ°æ–¹ï¼Œæ¬¢è¿å„ä½çº æ­£å¹¶ä¸€èµ·äº¤æµã€‚ğŸ‘ğŸ‘ğŸ‘</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>é¢è¯•é—®é¢˜é›†é”¦</title>
      <link>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html</link>
      <guid>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html</guid>
      <pubDate>Tue, 12 May 2020 01:23:30 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot;&gt;&lt;a href=&quot;#è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot;&gt;&lt;/a&gt;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å›ç­”æç¤ºï¼š&lt;/strong&gt; ä¸€èˆ¬äººå›ç­”è¿™ä¸ªé—®é¢˜è¿‡äºå¹³å¸¸ï¼Œåªè¯´å§“åã€å¹´é¾„ã€å·¥ä½œç»éªŒï¼Œè¿™äº›åœ¨ç®€å†ä¸Šéƒ½æœ‰ã€‚å…¶å®ï¼Œä¼ä¸šæœ€å¸Œæœ›çŸ¥é“çš„æ˜¯æ±‚èŒè€…èƒ½å¦èƒœä»»å·¥ä½œï¼ŒåŒ…æ‹¬ï¼šæœ€å¼ºçš„æŠ€èƒ½ã€æœ€æ·±å…¥ç ”ç©¶çš„çŸ¥è¯†é¢†åŸŸã€ä¸ªæ€§ä¸­æœ€ç§¯æçš„éƒ¨åˆ†ã€åšè¿‡çš„æœ€æˆåŠŸçš„äº‹ï¼Œä¸»è¦çš„æˆå°±ç­‰ï¼Œè¦çªå‡ºç§¯æçš„ä¸ªæ€§å’Œåšäº‹çš„èƒ½åŠ›ï¼Œè¯´çš„åˆæƒ…åˆç†ä¼ä¸šæ‰ä¼šç›¸ä¿¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å›ç­”æç¤ºï¼š&lt;/strong&gt; æ²‰ç€å†·é™ã€æ¡ç†æ¸…æ¥šã€ç«‹åœºåšå®šã€ä¹äºåŠ©äººç­‰ï¼ŒåŠ ä¸Šä¾‹å­å¦‚ï¼šæˆ‘åœ¨XXç»è¿‡ä¸€åˆ°ä¸¤å¹´çš„åŸ¹è®­åŠé¡¹ç›®å®æˆ˜ï¼ŒåŠ ä¸Šå®ä¹ å·¥ä½œï¼Œæˆ‘æƒ³æˆ‘é€‚åˆè¿™ä»½å·¥ä½œã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ&quot;&gt;&lt;a href=&quot;#è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ&quot;&gt;&lt;/a&gt;è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å›ç­”æç¤ºï¼š&lt;/strong&gt; è¿™ä¸ªé—®é¢˜ä¼ä¸šé—®çš„æ¦‚ç‡å¾ˆå¤§ï¼Œé€šå¸¸ä¸å¸Œæœ›å¬åˆ°ç›´æ¥å›ç­”çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆç­‰ï¼Œå¦‚æœæ±‚èŒè€…è¯´è‡ªå·±å°å¿ƒçœ¼ã€éå¸¸æ‡’ã€å·¥ä½œæ•ˆç‡ä½ï¼Œä¼ä¸šè‚¯å®šä¸ä¼šå½•ç”¨ä½ ã€‚è¦ä»è‡ªå·±çš„ä¼˜ç‚¹è¯´èµ·ï¼Œä¸­é—´åŠ ä¸€äº›å°ç¼ºç‚¹ï¼Œæœ€åå†æŠŠé—®ç­”è½¬å›åˆ°ä¼˜ç‚¹ä¸Šï¼Œçªå‡ºä¼˜ç‚¹çš„éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»"><a href="#è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»" class="headerlink" title="è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»"></a>è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¸€èˆ¬äººå›ç­”è¿™ä¸ªé—®é¢˜è¿‡äºå¹³å¸¸ï¼Œåªè¯´å§“åã€å¹´é¾„ã€å·¥ä½œç»éªŒï¼Œè¿™äº›åœ¨ç®€å†ä¸Šéƒ½æœ‰ã€‚å…¶å®ï¼Œä¼ä¸šæœ€å¸Œæœ›çŸ¥é“çš„æ˜¯æ±‚èŒè€…èƒ½å¦èƒœä»»å·¥ä½œï¼ŒåŒ…æ‹¬ï¼šæœ€å¼ºçš„æŠ€èƒ½ã€æœ€æ·±å…¥ç ”ç©¶çš„çŸ¥è¯†é¢†åŸŸã€ä¸ªæ€§ä¸­æœ€ç§¯æçš„éƒ¨åˆ†ã€åšè¿‡çš„æœ€æˆåŠŸçš„äº‹ï¼Œä¸»è¦çš„æˆå°±ç­‰ï¼Œè¦çªå‡ºç§¯æçš„ä¸ªæ€§å’Œåšäº‹çš„èƒ½åŠ›ï¼Œè¯´çš„åˆæƒ…åˆç†ä¼ä¸šæ‰ä¼šç›¸ä¿¡ã€‚</p><h2 id="ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æ²‰ç€å†·é™ã€æ¡ç†æ¸…æ¥šã€ç«‹åœºåšå®šã€ä¹äºåŠ©äººç­‰ï¼ŒåŠ ä¸Šä¾‹å­å¦‚ï¼šæˆ‘åœ¨XXç»è¿‡ä¸€åˆ°ä¸¤å¹´çš„åŸ¹è®­åŠé¡¹ç›®å®æˆ˜ï¼ŒåŠ ä¸Šå®ä¹ å·¥ä½œï¼Œæˆ‘æƒ³æˆ‘é€‚åˆè¿™ä»½å·¥ä½œã€‚</p><h2 id="è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ"><a href="#è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ"></a>è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™ä¸ªé—®é¢˜ä¼ä¸šé—®çš„æ¦‚ç‡å¾ˆå¤§ï¼Œé€šå¸¸ä¸å¸Œæœ›å¬åˆ°ç›´æ¥å›ç­”çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆç­‰ï¼Œå¦‚æœæ±‚èŒè€…è¯´è‡ªå·±å°å¿ƒçœ¼ã€éå¸¸æ‡’ã€å·¥ä½œæ•ˆç‡ä½ï¼Œä¼ä¸šè‚¯å®šä¸ä¼šå½•ç”¨ä½ ã€‚è¦ä»è‡ªå·±çš„ä¼˜ç‚¹è¯´èµ·ï¼Œä¸­é—´åŠ ä¸€äº›å°ç¼ºç‚¹ï¼Œæœ€åå†æŠŠé—®ç­”è½¬å›åˆ°ä¼˜ç‚¹ä¸Šï¼Œçªå‡ºä¼˜ç‚¹çš„éƒ¨åˆ†ã€‚</p><hr><a id="more"></a><h2 id="è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ"><a href="#è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ"></a>è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å®é™…ä¸Šå¥½å¤šå…¬å¸é—®è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸è¯æ˜ä¸€å®šè¦åŠ ç­ï¼Œåªæ˜¯æƒ³æµ‹è¯•ä½ æ˜¯å¦æ„¿æ„ä¸ºå…¬å¸å¥‰çŒ®ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å¦‚æœæ˜¯å·¥ä½œéœ€è¦æˆ‘ä¼šä¹‰ä¸å®¹è¾åŠ ç­ï¼Œæˆ‘ç°åœ¨å•èº«ï¼Œæ²¡æœ‰ä»»ä½•å®¶åº­è´Ÿæ‹…ï¼Œå¯ä»¥å…¨èº«å¿ƒçš„æŠ•å…¥å·¥ä½œã€‚ä½†åŒæ—¶ï¼Œæˆ‘ä¹Ÿä¼šæé«˜å·¥ä½œæ•ˆç‡ï¼Œå‡å°‘ä¸å¿…è¦çš„åŠ ç­ã€‚</p><h2 id="è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ"><a href="#è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ"></a>è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¦‚æœä½ å¯¹è–ªèµ„çš„è¦æ±‚å¤ªä½ï¼Œé‚£æ˜¾ç„¶è´¬ä½è‡ªå·±çš„èƒ½åŠ›ï¼›å¦‚æœä½ å¯¹è–ªèµ„çš„è¦æ±‚å¤ªé«˜ï¼Œé‚£åˆä¼šæ˜¾å¾—ä½ åˆ†é‡è¿‡é‡ï¼Œå…¬å¸å—ç”¨ä¸èµ·ã€‚ä¸€äº›é›‡ä¸»é€šå¸¸éƒ½äº‹å…ˆå¯¹æ±‚è˜çš„èŒä½å®šä¸‹å¼€æ”¯é¢„ç®—ï¼Œå› è€Œä»–ä»¬ç¬¬ä¸€æ¬¡æå‡ºçš„ä»·é’±å¾€å¾€æ˜¯ä»–ä»¬æ‰€èƒ½ç»™äºˆçš„æœ€é«˜ä»·é’±ï¼Œä»–ä»¬é—®ä½ åªä¸è¿‡æƒ³è¯å®ä¸€ä¸‹è¿™ç¬”é’±æ˜¯å¦è¶³ä»¥å¼•èµ·ä½ å¯¹è¯¥å·¥ä½œçš„å…´è¶£ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong></p><p>â‘ æˆ‘å¯¹å·¥èµ„æ²¡æœ‰ç¡¬æ€§è¦æ±‚ï¼Œæˆ‘ç›¸ä¿¡è´µå…¬å¸ä¼šå‹å–„åˆç†ã€‚æˆ‘æ³¨é‡çš„æ˜¯æ‰¾åˆ°å·¥ä½œæœºä¼šï¼Œæ‰€ä»¥åªè¦æ¡ä»¶å…¬å¹³ï¼Œæˆ‘åˆ™ä¸ä¼šè®¡è¾ƒå¤ªå¤šã€‚</p><p>â‘¡æˆ‘å—è¿‡ç³»ç»Ÿçš„è½¯ä»¶ç¼–ç¨‹çš„è®­ç»ƒï¼Œä¸éœ€è¦è¿›è¡Œå¤§é‡çš„åŸ¹è®­ï¼Œè€Œä¸”æˆ‘æœ¬äººä¹Ÿå¯¹ç¼–ç¨‹ç‰¹åˆ«æ„Ÿå…´è¶£ã€‚å› æ­¤ï¼Œæˆ‘å¸Œæœ›å…¬å¸èƒ½æ ¹æ®æˆ‘çš„æƒ…å†µå’Œå¸‚åœºæ ‡å‡†çš„æ°´å¹³ï¼Œç»™æˆ‘åˆç†çš„è–ªæ°´ã€‚</p><p>â‘¢å¦‚æœä½ å¿…é¡»è‡ªå·±è¯´å‡ºå…·ä½“æ•°ç›®ï¼Œè¯·ä¸è¦è¯´ä¸€ä¸ªå®½æ³›çš„èŒƒå›´ï¼Œé‚£æ ·ä½ å°†åªèƒ½å¾—åˆ°æœ€ä½é™åº¦çš„æ•°å­—ã€‚æœ€å¥½ç»™å‡ºä¸€ä¸ªå…·ä½“çš„æ•°å­—ï¼Œè¿™æ ·è¡¨æ˜ä½ å·²ç»å¯¹å½“ä»Šçš„äººæ‰å¸‚åœºåšäº†è°ƒæŸ¥ï¼ŒçŸ¥é“åƒè‡ªå·±è¿™æ ·å­¦å†çš„é›‡å‘˜æœ‰ä»€ä¹ˆæ ·çš„ä»·å€¼ã€‚</p><h2 id="åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ"><a href="#åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ" class="headerlink" title="åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ"></a>åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯æ¯ä¸€ä¸ªåº”è˜è€…éƒ½ä¸å¸Œæœ›è¢«é—®åˆ°çš„é—®é¢˜ï¼Œä½†æ˜¯å‡ ä¹æ¯ä¸ªäººéƒ½ä¼šè¢«é—®åˆ°ï¼Œæ¯”è¾ƒå¤šçš„ç­”æ¡ˆæ˜¯â€œç®¡ç†è€…â€ã€‚å½“ç„¶ï¼Œè¯´å‡ºå…¶ä»–ä¸€äº›ä½ æ„Ÿå…´è¶£çš„èŒä½ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚è¦çŸ¥é“ï¼Œè€ƒå®˜æ€»æ˜¯å–œæ¬¢æœ‰è¿›å–å¿ƒçš„åº”è˜è€…ï¼Œæ­¤æ—¶å¦‚æœè¯´â€œä¸çŸ¥é“â€ï¼Œæˆ–è®¸å°±ä¼šä½¿ä½ ä¸§å¤±ä¸€ä¸ªå¥½æœºä¼šã€‚æœ€æ™®é€šçš„å›ç­”åº”è¯¥æ˜¯â€œæˆ‘å‡†å¤‡åœ¨æŠ€æœ¯é¢†åŸŸæœ‰æ‰€ä½œä¸ºâ€æˆ–â€œæˆ‘å¸Œæœ›èƒ½æŒ‰ç…§å…¬å¸çš„ç®¡ç†æ€è·¯å‘å±•â€ã€‚</p><h2 id="ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·"><a href="#ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·" class="headerlink" title="ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·?"></a>ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æƒ³ä»ä¾§é¢äº†è§£ä¸€ä¸‹ä½ çš„æ€§æ ¼åŠä¸äººç›¸å¤„çš„é—®é¢˜ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong></p><p>â‘ æˆ‘æœ‹å‹éƒ½è¯´æˆ‘æ˜¯ä¸€ä¸ªå¯ä»¥ä¿¡èµ–çš„äººã€‚å› ä¸ºï¼Œæˆ‘ä¸€æ—¦ç­”åº”åˆ«äººçš„äº‹æƒ…ï¼Œå°±ä¸€å®šä¼šåšåˆ°ã€‚å¦‚æœæˆ‘åšä¸åˆ°ï¼Œæˆ‘å°±ä¸ä¼šè½»æ˜“è®¸è¯ºã€‚</p><p>â‘¡æˆ‘è§‰çš„æˆ‘æ˜¯ä¸€ä¸ªæ¯”è¾ƒéšå’Œçš„äººï¼Œä¸ä¸åŒçš„äººéƒ½å¯ä»¥å‹å¥½ç›¸å¤„ã€‚åœ¨æˆ‘ä¸äººç›¸å¤„æ—¶ï¼Œæˆ‘æ€»æ˜¯èƒ½ç«™åœ¨åˆ«äººçš„è§’åº¦è€ƒè™‘é—®é¢˜ã€‚</p><h2 id="ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—"><a href="#ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—" class="headerlink" title="ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—?"></a>ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šçš„è¿™ä¸ªé—®é¢˜çœ‹ä¸Šå»å¯æœ‰å¯æ— ï¼Œå…¶å®å¾ˆå…³é”®ï¼Œä¼ä¸šä¸å–œæ¬¢è¯´â€œæ²¡é—®é¢˜â€çš„äººï¼Œå› ä¸ºå…¶å¾ˆæ³¨é‡å‘˜å·¥çš„ä¸ªæ€§å’Œåˆ›æ–°èƒ½åŠ›ã€‚ä¼ä¸šä¸å–œæ¬¢æ±‚èŒè€…é—®ä¸ªäººç¦åˆ©ä¹‹ç±»çš„é—®é¢˜ï¼Œå¦‚æœæœ‰äººè¿™æ ·é—®ï¼šè´µå…¬å¸å¯¹æ–°å…¥å…¬å¸çš„å‘˜å·¥æœ‰æ²¡æœ‰ä»€ä¹ˆåŸ¹è®­é¡¹ç›®ï¼Œæˆ‘å¯ä»¥å‚åŠ å—ï¼Ÿæˆ–è€…è¯´è´µå…¬å¸çš„æ™‹å‡æœºåˆ¶æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿä¼ä¸šå°†å¾ˆæ¬¢è¿ï¼Œå› ä¸ºä½“ç°å‡ºä½ å¯¹å­¦ä¹ çš„çƒ­æƒ…å’Œå¯¹å…¬å¸çš„å¿ è¯šåº¦ä»¥åŠä½ çš„ä¸Šè¿›å¿ƒã€‚</p><h2 id="å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ"><a href="#å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ" class="headerlink" title="å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ?"></a>å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å·¥ä½œä¸€æ®µæ—¶é—´å‘ç°å·¥ä½œä¸é€‚åˆï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p><p>â‘ å¦‚æœä½ ç¡®å®çƒ­çˆ±è¿™ä¸ªèŒä¸šï¼Œé‚£å°±è¦ä¸æ–­å­¦ä¹ ï¼Œè™šå¿ƒå‘é¢†å¯¼å’ŒåŒäº‹å­¦ä¹ ä¸šåŠ¡çŸ¥è¯†å’Œå¤„äº‹ç»éªŒï¼Œäº†è§£è¿™ä¸ªèŒä¸šçš„ç²¾ç¥å†…æ¶µå’ŒèŒä¸šè¦æ±‚ï¼ŒåŠ›äº‰å‡å°‘å·®è·ï¼›</p><p>â‘¡ä½ è§‰å¾—è¿™ä¸ªèŒä¸šå¯æœ‰å¯æ— ï¼Œé‚£è¿˜æ˜¯è¶æ—©æ¢ä¸ªèŒä¸šï¼Œå»å‘ç°é€‚åˆä½ çš„ï¼Œä½ çƒ­çˆ±çš„èŒä¸šï¼Œé‚£æ ·ä½ çš„å‘å±•å‰é€”ä¹Ÿä¼šå¤§ç‚¹ï¼Œå¯¹å•ä½å’Œä¸ªäººéƒ½æœ‰å¥½å¤„ã€‚</p><h2 id="å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ"><a href="#å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ" class="headerlink" title="å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ?"></a>å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ åŸåˆ™ä¸Šæˆ‘ä¼šå°Šé‡å’Œæœä»é¢†å¯¼çš„å·¥ä½œå®‰æ’ï¼ŒåŒæ—¶ç§åº•ä¸‹æ‰¾æœºä¼šä»¥è¯·æ•™çš„å£å»ï¼Œå©‰è½¬åœ°è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ï¼Œçœ‹çœ‹é¢†å¯¼æ˜¯å¦èƒ½æ”¹å˜æƒ³æ³•ã€‚</p><p>â‘¡å¦‚æœé¢†å¯¼æ²¡æœ‰é‡‡çº³æˆ‘çš„å»ºè®®ï¼Œæˆ‘ä¹ŸåŒæ ·ä¼šæŒ‰é¢†å¯¼çš„è¦æ±‚è®¤çœŸåœ°å»å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p><p>â‘¢è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå‡å¦‚é¢†å¯¼è¦æ±‚çš„æ–¹å¼è¿èƒŒåŸåˆ™ï¼Œæˆ‘ä¼šåšå†³æå‡ºåå¯¹æ„è§ï¼Œå¦‚é¢†å¯¼ä»å›ºæ‰§å·±è§ï¼Œæˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°å†å‘ä¸Šçº§é¢†å¯¼åæ˜ ã€‚</p><h2 id="å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš"><a href="#å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš" class="headerlink" title="å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš?"></a>å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æˆ‘æœ¬æ„æ˜¯ä¸ºå…¬å¸åŠªåŠ›å·¥ä½œï¼Œå¦‚æœé€ æˆç»æµæŸå¤±ï¼Œæˆ‘è®¤ä¸ºé¦–è¦çš„é—®é¢˜æ˜¯æƒ³æ–¹è®¾æ³•å»å¼¥è¡¥æˆ–æŒ½å›ç»æµæŸå¤±ã€‚å¦‚æœæˆ‘æ— èƒ½åŠ›è´Ÿè´£ï¼Œå¸Œæœ›å•ä½å¸®åŠ©è§£å†³ã€‚</p><p>â‘¡åˆ†æ¸…è´£ä»»ï¼Œå„è´Ÿå…¶è´£ï¼Œå¦‚æœæ˜¯æˆ‘çš„è´£ä»»ï¼Œæˆ‘ç”˜æ„¿å—ç½šï¼›å¦‚æœæ˜¯ä¸€ä¸ªæˆ‘è´Ÿè´£çš„å›¢é˜Ÿä¸­åˆ«äººçš„å¤±è¯¯ï¼Œä¹Ÿä¸èƒ½å¹¸ç¾ä¹ç¥¸ï¼Œä½œä¸ºä¸€ä¸ªå›¢é˜Ÿï¼Œéœ€è¦äº’ç›¸ææºå…±åŒæˆå·¥ä½œï¼Œå®‰æ…°åŒäº‹å¹¶ä¸”å¸®åŠ©åŒäº‹æŸ¥æ‰¾åŸå› æ€»ç»“ç»éªŒã€‚</p><p>â‘¢ä¸ªäººçš„ä¸€ç”Ÿä¸å¯èƒ½ä¸çŠ¯é”™è¯¯ï¼Œé‡è¦çš„æ˜¯èƒ½ä»è‡ªå·±çš„æˆ–è€…æ˜¯åˆ«äººçš„é”™è¯¯ä¸­å¸å–ç»éªŒæ•™è®­ï¼Œè¦æ£€è®¨è‡ªå·±çš„å·¥ä½œæ–¹æ³•ã€åˆ†æé—®é¢˜çš„æ·±åº¦å’ŒåŠ›åº¦ã€‚</p><h2 id="è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•"><a href="#è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•" class="headerlink" title="è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•?"></a>è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æ­£å¸¸çš„â€œè·³æ§½â€èƒ½å¤Ÿä¿ƒè¿›äººæ‰åˆç†æµåŠ¨ï¼Œåº”è¯¥æ”¯æŒã€‚</p><p>â‘¡é¢‘ç¹çš„è·³æ§½å¯¹å•ä½å’Œä¸ªäººåŒæ–¹éƒ½ä¸åˆ©ï¼Œåº”è¯¥åå¯¹ã€‚</p><p>##å’ŒåŒäº‹ã€ä¸Šå¸éš¾ä»¥ç›¸å¤„ï¼Œä½ æ€ä¹ˆåŠ?<strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æˆ‘ä¼šæœä»é¢†å¯¼çš„æŒ‡æŒ¥ï¼Œé…åˆåŒäº‹çš„å·¥ä½œã€‚</p><p>â‘¡æˆ‘ä¼šä»è‡ªèº«æ‰¾åŸå› ï¼Œä»”ç»†åˆ†ææ˜¯ä¸æ˜¯è‡ªå·±å·¥ä½œåšå¾—ä¸å¥½ã€‚è¿˜è¦çœ‹çœ‹æ˜¯ä¸æ˜¯ä¸ºäººå¤„ä¸–æ–¹é¢åšå¾—ä¸å¥½ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯æˆ‘ä¼šåŠªåŠ›æ”¹æ­£ã€‚</p><p>â‘¢å¦‚æœæˆ‘æ‰¾ä¸åˆ°åŸå› ï¼Œæˆ‘ä¼šæ‰¾æœºä¼šè·Ÿä»–ä»¬æ²Ÿé€šï¼Œè¯·ä»–ä»¬æŒ‡å‡ºæˆ‘çš„ä¸è¶³ï¼ŒåŠæ—¶æ”¹æ­£ã€‚</p><p>â‘£ä½œä¸ºä¼˜ç§€çš„å‘˜å·¥ï¼Œåº”è¯¥æ—¶åˆ»ä»¥å¤§å±€ä¸ºé‡ï¼Œå³ä½¿åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œé¢†å¯¼å’ŒåŒäº‹å¯¹æˆ‘ä¸ç†è§£ï¼Œæˆ‘ä¹Ÿä¼šåšå¥½æœ¬èŒå·¥ä½œï¼Œè™šå¿ƒå‘ä»–ä»¬å­¦ä¹ ï¼Œæˆ‘ç›¸ä¿¡ï¼Œä»–ä»¬ä¼šçœ‹è§æˆ‘çš„åŠªåŠ›ã€‚</p><p>##ä¸Šçº§é¢†å¯¼æŠ¢äº†ä½ çš„åŠŸåŠ³æ€ä¹ˆåŠ?<strong>å›ç­”æ ·æœ¬ï¼š</strong> é¦–å…ˆæˆ‘ä¸ä¼šæ‰¾é‚£ä½ä¸Šçº§é¢†å¯¼è¯´æ˜è¿™äº‹ï¼Œæˆ‘ä¼šä¸»åŠ¨æ‰¾æˆ‘çš„ä¸»ç®¡é¢†å¯¼æ¥æ²Ÿé€šï¼Œå› ä¸ºæ²Ÿé€šæ˜¯è§£å†³äººé™…å…³ç³»çš„æœ€å¥½åŠæ³•ï¼Œä½†ç»“æœä¼šæœ‰ä¸¤ç§ï¼š</p><p>â‘ æˆ‘çš„ä¸»ç®¡é¢†å¯¼è®¤è¯†åˆ°è‡ªå·±çš„é”™è¯¯ï¼Œæˆ‘æƒ³æˆ‘ä¼šè§†å…·ä½“æƒ…å†µå†³å®šæ˜¯å¦åŸè°…ä»–ã€‚</p><p>â‘¡ä»–æ›´åŠ å˜æœ¬åŠ å‰çš„æ¥å¨èƒæˆ‘ï¼Œé‚£æˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°æ‰¾æˆ‘çš„ä¸Šçº§é¢†å¯¼åæ˜ æ­¤äº‹ï¼Œå› ä¸ºä»–è¿™æ ·åšä¼šé€ æˆè´Ÿé¢å½±å“ï¼Œå¯¹ä»Šåçš„å·¥ä½œä¸åˆ©ã€‚</p><h2 id="åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ"><a href="#åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ" class="headerlink" title="åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ?"></a>åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æ£€è®¨ä¸€ä¸‹è‡ªå·±æ˜¯ä¸æ˜¯å¯¹å·¥ä½œçš„çƒ­å¿ƒåº¦è¶…è¿‡åŒäº‹é—´äº¤å¾€çš„çƒ­å¿ƒäº†ï¼ŒåŠ å¼ºåŒäº‹é—´çš„äº¤å¾€åŠå…±åŒçš„å…´è¶£çˆ±å¥½ã€‚</p><p>â‘¡å·¥ä½œä¸­ï¼Œåˆ‡å‹¿ä¼¤å®³åˆ«äººçš„è‡ªå°Šå¿ƒã€‚</p><p>â‘¢ä¸åœ¨é¢†å¯¼å‰æ‹¨å¼„æ˜¯éã€‚</p><h2 id="ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹"><a href="#ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹" class="headerlink" title="ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹?"></a>ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è‡ªè´¹å‚åŠ ï¼Œå°±æ˜¯XXçš„åŸ¹è®­è¯¾ç¨‹ï¼ˆå¯ä»¥å¤šè°ˆè°ˆè‡ªå·±å­¦çš„æŠ€æœ¯ï¼‰ã€‚</p><h2 id="ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘"><a href="#ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘" class="headerlink" title="ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘?"></a>ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åœ¨å»å…¬å¸é¢è¯•å‰ä¸Šç½‘æŸ¥ä¸€ä¸‹è¯¥å…¬å¸ä¸»è¥ä¸šåŠ¡ã€‚å¯ç±»ä¼¼å›ç­”ï¼šè´µå…¬å¸æœ‰æ„æ”¹å˜ç­–ç•¥ï¼ŒåŠ å¼ºä¸å›½å¤–å¤§å‚çš„OEMåˆä½œï¼Œè‡ªæœ‰å“ç‰Œçš„éƒ¨åˆ†åˆ™é€è¿‡æµ·å¤–ç»é”€å•†ã€‚</p><h2 id="ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ"><a href="#ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ?"></a>ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯´å’Œä½ è¦åº”è˜çš„èŒä½ç›¸å…³çš„æŠ€æœ¯ï¼Œè¡¨ç°ä¸€ä¸‹è‡ªå·±çš„çƒ­è¯šæ²¡æœ‰ä»€ä¹ˆåå¤„ã€‚</p><h2 id="è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº"><a href="#è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº" class="headerlink" title="è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº?"></a>è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯æƒ³çŸ¥é“é¢è¯•è€…å¯¹è¿™ä»½å·¥ä½œçš„çƒ­å¿±åŠç†è§£åº¦ï¼Œå¹¶ç­›é€‰å› ä¸€æ—¶å…´èµ·è€Œæ¥åº”è¯•çš„äººï¼Œå¦‚æœæ˜¯æ— ç»éªŒè€…ï¼Œå¯ä»¥å¼ºè°ƒâ€œå°±ç®—èŒç§ä¸åŒï¼Œä¹Ÿå¸Œæœ›æœ‰æœºä¼šå‘æŒ¥ä¹‹å‰çš„ç»éªŒâ€ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å› ä¸ºæˆ‘å¾ˆçƒ­çˆ±è¿™ä¸ªå·¥ä½œï¼Œå¾ˆæƒ³ä»äº‹è¿™æ–¹é¢çš„å·¥ä½œã€‚</p><h2 id="ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢"><a href="#ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢" class="headerlink" title="ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢?"></a>ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å‡å¦‚ä½ å¯ä»¥çš„è¯ï¼Œè¯•ç€å‘Šè¯‰ä»–ä»¬ä½ å¯ä»¥å‡ä½ä»–ä»¬çš„è´¹ç”¨â€œæˆ‘å·²ç»æ¥å—è¿‡XXè¿‘ä¸¤å¹´ä¸“ä¸šçš„åŸ¹è®­ï¼Œç«‹åˆ»å°±å¯ä»¥ä¸Šå²—å·¥ä½œâ€ã€‚</p><p>â‘¡ä¼ä¸šå¾ˆæƒ³çŸ¥é“æœªæ¥çš„å‘˜å·¥èƒ½ä¸ºä¼ä¸šåšä»€ä¹ˆï¼Œæ±‚èŒè€…åº”å†æ¬¡é‡å¤è‡ªå·±çš„ä¼˜åŠ¿ï¼Œç„¶åè¡¨ç¤ºï¼šâ€œå°±æˆ‘çš„èƒ½åŠ›ï¼Œæˆ‘å¯ä»¥åšä¸€ä¸ªä¼˜ç§€çš„å‘˜å·¥åœ¨ç»„ç»‡ä¸­å‘æŒ¥èƒ½åŠ›ï¼Œç»™ç»„ç»‡å¸¦æ¥é«˜æ•ˆç‡å’Œæ›´å¤šçš„æ”¶ç›Šâ€ã€‚ä¼ä¸šå–œæ¬¢æ±‚èŒè€…å°±ç”³è¯·çš„èŒä½è¡¨æ˜è‡ªå·±çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ç”³è¯·è¥é”€ä¹‹ç±»çš„èŒä½ï¼Œå¯ä»¥è¯´ï¼šâ€œæˆ‘å¯ä»¥å¼€å‘å¤§é‡çš„æ–°å®¢æˆ·ï¼ŒåŒæ—¶ï¼Œå¯¹è€å®¢æˆ·åšæ›´å…¨é¢å‘¨åˆ°çš„æœåŠ¡ï¼Œå¼€å‘è€å®¢æˆ·çš„æ–°éœ€æ±‚å’Œæ¶ˆè´¹ã€‚â€ ç­‰ç­‰ã€‚</p><h2 id="æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯"><a href="#æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯" class="headerlink" title="æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯?"></a>æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æˆ‘ç»å¸¸ç”¨çš„ä¸‰ä¸ªè¯æ˜¯ï¼šé€‚åº”èƒ½åŠ›å¼ºï¼Œæœ‰è´£ä»»å¿ƒå’Œåšäº‹æœ‰å§‹ç»ˆï¼Œå¹¶ç»“åˆå…·ä½“ä¾‹å­å‘ä¸»è€ƒå®˜è§£é‡Šã€‚</p><h2 id="ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†"><a href="#ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†" class="headerlink" title="ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†?"></a>ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯•ç€åˆ—å‡ºå››ä¸ªä¼˜ç‚¹å’Œä¸€ä¸ªéå¸¸éå¸¸éå¸¸å°çš„ç¼ºç‚¹ï¼ˆå¯ä»¥æŠ±æ€¨ä¸€ä¸‹è®¾æ–½ï¼Œæ²¡æœ‰æ˜ç¡®è´£ä»»äººçš„ç¼ºç‚¹æ˜¯ä¸ä¼šæœ‰äººä»‹æ„çš„ï¼‰ã€‚</p><h2 id="ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½"><a href="#ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½" class="headerlink" title="ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½?"></a>ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯ä»¥æŠŠå²—ä½èŒè´£å’Œä»»åŠ¡åŠå·¥ä½œæ€åº¦é˜è¿°ä¸‹ã€‚</p><h2 id="å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹"><a href="#å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹" class="headerlink" title="å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹?"></a>å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åœ¨å›ç­”é¢è¯•å®˜è¿™ä¸ªé—®é¢˜æ—¶ä¸èƒ½å¤ªç›´æ¥å°±æŠŠè‡ªå·±å¿ƒç†çš„è¯è¯´å‡ºæ¥ï¼Œå°¤å…¶æ˜¯è–ªèµ„æ–¹é¢çš„é—®é¢˜ï¼Œä¸è¿‡ä¸€äº›æ— ä¼¤å¤§é›…çš„å›ç­”æ˜¯ä¸é”™çš„è€ƒè™‘ï¼Œå¦‚äº¤é€šæ–¹ä¾¿ï¼Œå·¥ä½œæ€§è´¨åŠå†…å®¹é¢‡èƒ½ç¬¦åˆè‡ªå·±çš„å…´è¶£ç­‰ç­‰éƒ½æ˜¯ä¸é”™çš„ç­”æ¡ˆï¼Œä¸è¿‡å¦‚æœè¿™æ—¶è‡ªå·±èƒ½ä»”ç»†æ€è€ƒå‡ºè¿™ä»½å·¥ä½œçš„ä¸ä¼—ä¸åŒä¹‹å¤„ï¼Œç›¸ä¿¡åœ¨é¢è¯•ä¸Šä¼šå¤§å¤§åŠ åˆ†ã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦ç¦»èŒ"><a href="#ä¸ºä»€ä¹ˆè¦ç¦»èŒ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç¦»èŒ?"></a>ä¸ºä»€ä¹ˆè¦ç¦»èŒ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å›ç­”è¿™ä¸ªé—®é¢˜æ—¶ä¸€å®šè¦å°å¿ƒï¼Œå°±ç®—åœ¨å‰ä¸€ä¸ªå·¥ä½œå—åˆ°å†å¤§çš„å§”å±ˆï¼Œå¯¹å…¬å¸æœ‰å¤šå°‘çš„æ€¨è¨€éƒ½åƒä¸‡ä¸è¦è¡¨ç°å‡ºæ¥ï¼Œå°¤å…¶è¦é¿å…å¯¹å…¬å¸æœ¬èº«ä¸»ç®¡çš„æ‰¹è¯„ï¼Œé¿å…é¢è¯•å®˜çš„è´Ÿé¢æƒ…ç»ªåŠå°è±¡ã€‚å»ºè®®æ­¤æ—¶æœ€å¥½çš„å›ç­”æ–¹å¼æ˜¯å°†é—®é¢˜å½’å’åœ¨è‡ªå·±èº«ä¸Šï¼Œä¾‹å¦‚è§‰å¾—å·¥ä½œæ²¡æœ‰å­¦ä¹ å‘å±•çš„ç©ºé—´ï¼Œè‡ªå·±æƒ³åœ¨é¢è¯•å·¥ä½œçš„ç›¸å…³äº§ä¸šä¸­å¤šåŠ å­¦ä¹ ï¼Œæˆ–æ˜¯å‰ä¸€ä»½å·¥ä½œä¸è‡ªå·±çš„ç”Ÿæ¶¯è§„åˆ’ä¸åˆç­‰ç­‰ï¼Œå›ç­”çš„ç­”æ¡ˆæœ€å¥½æ˜¯ç§¯ææ­£é¢çš„ã€‚</p><p>â‘¡æˆ‘å¸Œæœ›èƒ½è·å¾—ä¸€ä»½æ›´å¥½çš„å·¥ä½œï¼Œå¦‚æœæœºä¼šæ¥ä¸´ï¼Œæˆ‘ä¼šæŠ“ä½ã€‚æˆ‘è§‰å¾—ç›®å‰çš„å·¥ä½œï¼Œå·²ç»è¾¾åˆ°é¡¶å³°ï¼Œå³æ²¡æœ‰å‡è¿æœºä¼šã€‚</p><h2 id="è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•"><a href="#è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•" class="headerlink" title="è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•?"></a>è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šå¯¹è¿™ä¸ªé—®é¢˜å¾ˆæ„Ÿå…´è¶£ï¼Œåªæœ‰æœ‰å¤‡è€Œæ¥çš„æ±‚èŒè€…èƒ½å¤Ÿè¿‡å…³ã€‚æ±‚èŒè€…å¯ä»¥ç›´æ¥åœ¨ç½‘ä¸ŠæŸ¥æ‰¾å¯¹ä½ æ‰€ç”³è¯·çš„è¡Œä¸šéƒ¨é—¨çš„ä¿¡æ¯ï¼Œåªæœ‰æ·±å…¥äº†è§£æ‰èƒ½äº§ç”Ÿç‹¬ç‰¹çš„è§è§£ã€‚ä¼ä¸šè®¤ä¸ºæœ€èªæ˜çš„æ±‚èŒè€…æ˜¯å¯¹æ‰€é¢è¯•çš„å…¬å¸é¢„å…ˆäº†è§£å¾ˆå¤šï¼ŒåŒ…æ‹¬å…¬å¸å„ä¸ªéƒ¨é—¨ï¼Œå‘å±•æƒ…å†µï¼Œåœ¨é¢è¯•å›ç­”é—®é¢˜çš„æ—¶å€™å¯ä»¥æåˆ°æ‰€äº†è§£çš„æƒ…å†µï¼Œä¼ä¸šæ¬¢è¿è¿›å…¥ä¼ä¸šçš„äººæ˜¯â€œçŸ¥å·±â€ï¼Œè€Œä¸æ˜¯â€œç›²äººâ€ã€‚</p><h2 id="å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨"><a href="#å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨" class="headerlink" title="å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨?"></a>å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯é¢è¯•è€…ç”¨æ¥è¯„æ–­æ±‚èŒè€…æ˜¯å¦å¯¹è‡ªå·±æœ‰ä¸€å®šç¨‹åº¦çš„æœŸæœ›ã€å¯¹è¿™ä»½å·¥ä½œæ˜¯å¦äº†è§£çš„é—®é¢˜ã€‚ å¯¹äºå·¥ä½œæœ‰ç¡®å®å­¦ä¹ ç›®æ ‡çš„äººé€šå¸¸å­¦ä¹ è¾ƒå¿«ï¼Œå¯¹äºæ–°å·¥ä½œè‡ªç„¶è¾ƒå®¹æ˜“è¿›å…¥çŠ¶å†µï¼Œè¿™æ—¶å»ºè®®ä½ ï¼Œæœ€å¥½é’ˆå¯¹å·¥ä½œçš„æ€§è´¨æ‰¾å‡ºä¸€ä¸ªç¡®å®çš„ç­”æ¡ˆï¼Œå¦‚ä¸šåŠ¡å‘˜çš„å·¥ä½œå¯ä»¥è¿™æ ·å›ç­”ï¼šâ€œæˆ‘çš„ç›®æ ‡æ˜¯èƒ½æˆä¸ºä¸€ä¸ªè¶…çº§ä¸šåŠ¡å‘˜ï¼Œå°†å…¬å¸çš„äº§å“å¹¿æ³›çš„æ¨é”€å‡ºå»ï¼Œè¾¾åˆ°æœ€å¥½çš„ä¸šç»©æˆæ•ˆï¼›ä¸ºè¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä¸€å®šä¼šåŠªåŠ›å­¦ä¹ ï¼Œè€Œæˆ‘ç›¸ä¿¡ä»¥æˆ‘è®¤çœŸè´Ÿè´£çš„æ€åº¦ï¼Œä¸€å®šå¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®æ ‡ã€‚â€ å…¶ä»–ç±»çš„å·¥ä½œä¹Ÿå¯ä»¥æ¯”ç…§è¿™ä¸ªæ–¹å¼å›ç­”ï¼Œåªè¦åœ¨ç›®æ ‡æ–¹é¢ç¨å¾®ä¿®æ”¹ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><h2 id="è°ˆè°ˆä½ çš„å®¶åº­"><a href="#è°ˆè°ˆä½ çš„å®¶åº­" class="headerlink" title="è°ˆè°ˆä½ çš„å®¶åº­?"></a>è°ˆè°ˆä½ çš„å®¶åº­?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šé¢è¯•æ—¶è¯¢é—®å®¶åº­é—®é¢˜ä¸æ˜¯éè¦çŸ¥é“æ±‚èŒè€…å®¶åº­çš„æƒ…å†µï¼Œè€Œæ˜¯è¦äº†è§£å®¶åº­èƒŒæ™¯å¯¹æ±‚èŒè€…çš„å¡‘é€ å’Œå½±å“ã€‚ä¼ä¸šå¸Œæœ›å¬åˆ°çš„é‡ç‚¹ä¹Ÿåœ¨äºå®¶åº­å¯¹æ±‚èŒè€…çš„ç§¯æå½±å“ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æˆ‘å¾ˆçˆ±æˆ‘çš„å®¶åº­ï¼Œæˆ‘ä»¬å®¶ä¸€å‘å¾ˆå’Œç¦ï¼Œè™½ç„¶æˆ‘çš„çˆ¶äº²å’Œæ¯äº²éƒ½æ˜¯æ™®é€šäººï¼Œä½†æ˜¯ä»å°ï¼Œæˆ‘å°±çœ‹åˆ°æˆ‘çˆ¶äº²èµ·æ—©è´ªé»‘ï¼Œæ¯å¤©å·¥ä½œç‰¹åˆ«å‹¤åŠ³ï¼Œä»–çš„è¡ŒåŠ¨æ— å½¢ä¸­åŸ¹å…»äº†æˆ‘è®¤çœŸè´Ÿè´£çš„æ€åº¦å’Œå‹¤åŠ³çš„ç²¾ç¥ã€‚æˆ‘æ¯äº²ä¸ºäººå–„è‰¯ï¼Œå¯¹äººçƒ­æƒ…ï¼Œç‰¹åˆ«ä¹äºåŠ©äººï¼Œæ‰€ä»¥åœ¨å•ä½äººç¼˜å¾ˆå¥½ï¼Œå¥¹çš„ä¸€è¨€ä¸€è¡Œä¹Ÿä¸€ç›´åœ¨æ•™å¯¼æˆ‘åšäººçš„é“ç†ã€‚</p><h2 id="ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ"><a href="#ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ" class="headerlink" title="ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ?"></a>ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šå–œæ¬¢é—®æ±‚èŒè€…å¼±ç‚¹ï¼Œä½†ç²¾æ˜çš„æ±‚èŒè€…ä¸€èˆ¬ä¸ç›´æ¥å›ç­”ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ç»§ç»­é‡å¤è‡ªå·±çš„ä¼˜åŠ¿ï¼Œç„¶åè¯´ï¼šâ€œå¯¹äºè¿™ä¸ªèŒä½å’Œæˆ‘çš„èƒ½åŠ›æ¥è¯´ï¼Œæˆ‘ç›¸ä¿¡è‡ªå·±æ˜¯å¯ä»¥èƒœä»»çš„ï¼Œåªæ˜¯ç¼ºä¹ç»éªŒï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥è¿›å…¥å…¬å¸ä»¥åä»¥æœ€çŸ­çš„æ—¶é—´æ¥è§£å†³ï¼Œæˆ‘çš„å­¦ä¹ èƒ½åŠ›å¾ˆå¼ºï¼Œæˆ‘ç›¸ä¿¡å¯ä»¥å¾ˆå¿«èå…¥å…¬å¸çš„ä¼ä¸šæ–‡åŒ–ï¼Œè¿›å…¥å·¥ä½œçŠ¶æ€ã€‚</p><h2 id="ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº"><a href="#ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº" class="headerlink" title="ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº?"></a>ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯šå®ã€ä¸æ­»æ¿è€Œä¸”å®¹æ˜“ç›¸å¤„çš„äººã€æœ‰å®é™…è¡ŒåŠ¨çš„äººï¼ŒåŠ ä¸Šå…·ä½“ä¾‹å­ã€‚</p><h2 id="ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„"><a href="#ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„" class="headerlink" title="ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„?"></a>ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ æ²‰é»˜æ˜¯é‡‘ï¼Œä¸å¿…è¯´ä»€ä¹ˆï¼Œå¦åˆ™æƒ…å†µæ›´ç³Ÿï¼Œä¸è¿‡æˆ‘ä¼šæ¥å—å»ºè®¾æ€§çš„æ‰¹è¯„ã€‚</p><p>â‘¡æˆ‘ä¼šç­‰å¤§å®¶å†·é™ä¸‹æ¥å†è®¨è®ºã€‚</p><h2 id="æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥"><a href="#æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥" class="headerlink" title="æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥?"></a>æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¤§æ„ï¼šæˆ‘ä»¬ç”Ÿæ¥éƒ½ä¸æ˜¯åå…¨åç¾çš„ï¼Œæˆ‘ç›¸ä¿¡æˆ‘æœ‰ç¬¬äºŒä¸ªæœºä¼šæ”¹æ­£æˆ‘çš„é”™è¯¯ã€‚</p><h2 id="ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ"><a href="#ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ" class="headerlink" title="ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ?"></a>ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¸ºè´µå…¬å¸ç«­åŠ›æ•ˆåŠ³ï¼Œå°½æˆ‘æ‰€èƒ½ï¼Œå®Œæˆä¸€ä¸ªé¡¹ç›®ã€‚</p><h2 id="çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ"><a href="#çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ" class="headerlink" title="çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ?"></a>çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯¹æˆ‘æ¥è¯´ï¼Œèƒ½åœ¨è¿™ä¸ªé¢†åŸŸæ‰¾åˆ°å·¥ä½œæ˜¯æœ€é‡è¦çš„ï¼Œèƒ½åœ¨è´µå…¬å¸ä»»èŒå¯¹æˆ‘è¯´æœ€é‡è¦ã€‚</p><h2 id="ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ"><a href="#ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ" class="headerlink" title="ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ?"></a>ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä½ è¦æ ¼å¤–å°å¿ƒï¼Œå¦‚æœä½ å·²ç»å¯¹è¯¥å•ä½ä½œäº†ç ”ç©¶ï¼Œä½ å¯ä»¥å›ç­”ä¸€äº›è¯¦ç»†çš„åŸå› ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ å…¬å¸æœ¬èº«é«˜æŠ€æœ¯å¼€å‘ç¯å¢ƒå¾ˆå¸å¼•æˆ‘æˆ‘åŒå…¬å¸å‡ºç”Ÿåœ¨åŒæ ·çš„æ—¶ä»£ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿè¿›å…¥ä¸€å®¶ä¸æˆ‘å…±åŒæˆé•¿çš„å…¬å¸ã€‚</p><p>â‘¡ä½ ä»¬å…¬å¸ä¸€ç›´éƒ½ç¨³å®šå‘å±•ï¼Œåœ¨è¿‘å‡ å¹´æ¥åœ¨å¸‚åœºä¸Šæœ‰ç«äº‰åŠ›ã€‚æˆ‘è®¤ä¸ºè´µå…¬å¸èƒ½å¤Ÿç»™æˆ‘æä¾›ä¸€ä¸ªä¸ä¼—ä¸åŒçš„å‘å±•é“è·¯ã€‚</p><h2 id="ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—"><a href="#ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—" class="headerlink" title="ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—?"></a>ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯é¢è¯•ä¸­æœ€é™©æ¶çš„é—®é¢˜ï¼Œå…¶å®æ˜¯è€ƒå®˜å¸ƒä¸‹çš„ä¸€ä¸ªé™·é˜±ï¼ŒæˆåŠŸè§£å†³çŸ›ç›¾æ˜¯ä¸€ä¸ªåä½œå›¢ä½“ä¸­æˆå‘˜æ‰€å¿…å¤‡çš„èƒ½åŠ›ã€‚å‡å¦‚ä½ å·¥ä½œåœ¨ä¸€ä¸ªæœåŠ¡è¡Œä¸šï¼Œè¿™ä¸ªé—®é¢˜ç®€ç›´æˆäº†æœ€é‡è¦çš„ä¸ªç¯èŠ‚ã€‚ä½ æ˜¯å¦èƒ½è·å¾—è¿™ä»½å·¥ä½œï¼Œå°†å–å†³äºè¿™ä¸ªé—®é¢˜çš„å›ç­”ã€‚è€ƒå®˜å¸Œæœ›çœ‹åˆ°ä½ æ˜¯æˆç†Ÿä¸”ä¹äºå¥‰çŒ®çš„ã€‚ä»–ä»¬é€šè¿‡è¿™ä¸ªé—®é¢˜äº†è§£ä½ çš„æˆç†Ÿåº¦å’Œå¤„ä¸–èƒ½åŠ›ã€‚åœ¨æ²¡æœ‰å¤–ç•Œå¹²æ¶‰çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å¦¥åçš„æ–¹å¼æ¥è§£å†³æ‰æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚</p><h2 id="ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²"><a href="#ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²" class="headerlink" title="ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²?"></a>ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯è€ƒå®˜ç»™ä½ çš„ä¸€ä¸ªæœºä¼šï¼Œè®©ä½ å±•ç¤ºè‡ªå·±æŠŠæ¡å‘½è¿çš„èƒ½åŠ›ã€‚è¿™ä¼šä½“ç°ä½ æ½œåœ¨çš„é¢†å¯¼èƒ½åŠ›ä»¥åŠä½ è¢«æå‡çš„å¯èƒ½æ€§ã€‚å‡å¦‚ä½ åº”è˜äºä¸€ä¸ªæœåŠ¡æ€§è´¨çš„å•ä½ï¼Œä½ å¾ˆå¯èƒ½ä¼šè¢«é‚€è¯·èšé¤ã€‚è®°ä½ï¼šä½ çš„å‰é€”å–å†³äºä½ çš„çŸ¥è¯†ã€ä½ çš„ç¤¾äº¤èƒ½åŠ›å’Œç»¼åˆè¡¨ç°ã€‚</p><h2 id="å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾"><a href="#å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾" class="headerlink" title="å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾?"></a>å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ ä¸å®œç›´æ¥è¯´å‡ºå…·ä½“çš„å›°éš¾ï¼Œå¦åˆ™å¯èƒ½ä»¤å¯¹æ–¹æ€€ç–‘åº”è˜è€…ä¸è¡Œã€‚</p><p>â‘¡å¯ä»¥å°è¯•è¿‚å›æˆ˜æœ¯ï¼Œè¯´å‡ºåº”è˜è€…å¯¹å›°éš¾æ‰€æŒæœ‰çš„æ€åº¦å·¥ä½œä¸­å‡ºç°ä¸€äº›å›°éš¾æ˜¯æ­£å¸¸çš„ï¼Œä¹Ÿæ˜¯éš¾å…çš„ï¼Œä½†æ˜¯åªè¦æœ‰åšå¿ä¸æ‹”çš„æ¯…åŠ›ã€è‰¯å¥½çš„åˆä½œç²¾ç¥ä»¥åŠäº‹å‰å‘¨å¯†è€Œå……åˆ†çš„å‡†å¤‡ï¼Œä»»ä½•å›°éš¾éƒ½æ˜¯å¯ä»¥å…‹æœã€‚</p><h2 id="å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ"><a href="#å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ" class="headerlink" title="å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ?"></a>å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å¦‚æœåº”è˜è€…å¯¹äºåº”è˜çš„èŒä½ç¼ºä¹è¶³å¤Ÿçš„äº†è§£ï¼Œæœ€å¥½ä¸è¦ç›´æ¥è¯´å‡ºè‡ªå·±å¼€å±•å·¥ä½œçš„å…·ä½“åŠæ³•ã€‚</p><p>â‘¡å¯ä»¥å°è¯•é‡‡ç”¨è¿‚å›æˆ˜æœ¯æ¥å›ç­”ï¼Œå¦‚â€œé¦–å…ˆå¬å–é¢†å¯¼çš„æŒ‡ç¤ºå’Œè¦æ±‚ï¼Œç„¶åå°±æœ‰å…³æƒ…å†µè¿›è¡Œäº†è§£å’Œç†Ÿæ‚‰ï¼Œæ¥ä¸‹æ¥åˆ¶å®šä¸€ä»½è¿‘æœŸçš„å·¥ä½œè®¡åˆ’å¹¶æŠ¥é¢†å¯¼æ‰¹å‡†ï¼Œæœ€åæ ¹æ®è®¡åˆ’å¼€å±•å·¥ä½œã€‚â€ã€‚</p><h2 id="ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹"><a href="#ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹" class="headerlink" title="ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹?"></a>ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ é€šè¿‡åº”è˜è€…å¯¹ä¸Šçº§çš„â€œå¸Œæœ›â€å¯ä»¥åˆ¤æ–­å‡ºåº”è˜è€…å¯¹è‡ªæˆ‘è¦æ±‚çš„æ„è¯†ï¼Œè¿™æ—¢ä¸Šä¸€ä¸ªé™·é˜±ï¼Œåˆæ˜¯ä¸€æ¬¡æœºä¼šã€‚</p><p>â‘¡æœ€å¥½å›é¿å¯¹ä¸Šçº§å…·ä½“çš„å¸Œæœ›ï¼Œå¤šè°ˆå¯¹è‡ªå·±çš„è¦æ±‚ã€‚å¦‚â€œåšä¸ºåˆšæ­¥å…¥ç¤¾ä¼šçš„æ–°äººï¼Œæˆ‘åº”è¯¥å¤šè¦æ±‚è‡ªå·±å°½å¿«ç†Ÿæ‚‰ç¯å¢ƒã€é€‚åº”ç¯å¢ƒï¼Œè€Œä¸åº”è¯¥å¯¹ç¯å¢ƒæå‡ºä»€ä¹ˆè¦æ±‚ï¼Œåªè¦èƒ½å‘æŒ¥æˆ‘çš„ä¸“é•¿å°±å¯ä»¥äº†ã€‚</p><h2 id="ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ"><a href="#ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ" class="headerlink" title="ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ?"></a>ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å¦‚æœæ‹›è˜å•ä½å¯¹åº”å±Šæ¯•ä¸šç”Ÿçš„åº”è˜è€…æå‡ºè¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜æ‹›è˜å…¬å¸å¹¶ä¸çœŸæ­£åœ¨ä¹ç»éªŒï¼Œå…³é”®çœ‹åº”è˜è€…æ€æ ·å›ç­”ã€‚</p><p>â‘¡å¯¹è¿™ä¸ªé—®é¢˜çš„å›ç­”æœ€å¥½è¦ä½“ç°å‡ºåº”è˜è€…çš„è¯šæ³ã€æœºæ™ºã€æœæ•¢åŠæ•¬ä¸šã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ä½œä¸ºåº”å±Šæ¯•ä¸šç”Ÿï¼Œåœ¨å·¥ä½œç»éªŒæ–¹é¢çš„ç¡®ä¼šæœ‰æ‰€æ¬ ç¼ºï¼Œå› æ­¤åœ¨è¯»ä¹¦æœŸé—´æˆ‘ä¸€ç›´åˆ©ç”¨å„ç§æœºä¼šåœ¨è¿™ä¸ªè¡Œä¸šé‡Œåšå…¼èŒã€‚æˆ‘ä¹Ÿå‘ç°ï¼Œå®é™…å·¥ä½œè¿œæ¯”ä¹¦æœ¬çŸ¥è¯†ä¸°å¯Œã€å¤æ‚ã€‚ä½†æˆ‘æœ‰è¾ƒå¼ºçš„è´£ä»»å¿ƒã€é€‚åº”èƒ½åŠ›å’Œå­¦ä¹ èƒ½åŠ›ï¼Œè€Œä¸”æ¯”è¾ƒå‹¤å¥‹ï¼Œæ‰€ä»¥åœ¨å…¼èŒä¸­å‡èƒ½åœ†æ»¡å®Œæˆå„é¡¹å·¥ä½œï¼Œä»ä¸­è·å–çš„ç»éªŒä¹Ÿä»¤æˆ‘å—ç›Šéæµ…ã€‚è¯·è´µå…¬å¸æ”¾å¿ƒï¼Œå­¦æ ¡æ‰€å­¦åŠå…¼èŒçš„å·¥ä½œç»éªŒä½¿æˆ‘ä¸€å®šèƒ½èƒœä»»è¿™ä¸ªèŒä½ã€‚</p><h2 id="ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©"><a href="#ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©" class="headerlink" title="ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©?"></a>ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æ¯ä¸ªå…¬å¸éƒ½åœ¨ä¸æ–­å˜åŒ–å‘å±•çš„è¿‡ç¨‹ä¸­ï¼Œä½ å½“ç„¶å¸Œæœ›ä½ çš„å‘˜å·¥ä¹Ÿæ˜¯è¿™æ ·ã€‚ä½ å¸Œæœ›å¾—åˆ°é‚£äº›å¸Œæœ›å¹¶æ¬¢è¿å˜åŒ–çš„äººï¼Œå› ä¸ºè¿™äº›æ˜ç™½ï¼Œä¸ºäº†å…¬å¸çš„å‘å±•ï¼Œå˜åŒ–æ˜¯å…¬å¸æ—¥å¸¸ç”Ÿæ´»ä¸­é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è¿™æ ·çš„å‘˜å·¥å¾€å¾€å¾ˆå®¹æ˜“é€‚åº”å…¬å¸çš„å˜åŒ–ï¼Œå¹¶ä¼šå¯¹å˜åŒ–åšå‡ºç§¯æçš„å“åº”ã€‚</p><h2 id="å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—"><a href="#å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—" class="headerlink" title="å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—?"></a>å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ç°åœ¨çš„ç¤¾ä¼šæ˜¯ä¸€ä¸ªç«äº‰çš„ç¤¾ä¼šï¼Œä»è¿™æ¬¡é¢è¯•ä¸­ä¹Ÿå¯çœ‹å‡ºè¿™ä¸€ç‚¹ï¼Œæœ‰ç«äº‰å°±å¿…ç„¶æœ‰ä¼˜åŠ£ï¼Œæœ‰æˆåŠŸå¿…å®šå°±ä¼šæœ‰å¤±è´¥ã€‚å¾€å¾€æˆåŠŸçš„èƒŒåæœ‰è®¸å¤šçš„å›°éš¾å’ŒæŒ«æŠ˜ï¼Œå¦‚æœè¿™æ¬¡å¤±è´¥äº†ä¹Ÿä»…ä»…æ˜¯ä¸€æ¬¡è€Œå·²ï¼Œåªæœ‰ç»è¿‡ç»éªŒç»å†çš„ç§¯ç´¯æ‰èƒ½å¡‘é€ å‡ºä¸€ä¸ªå®Œå…¨çš„æˆåŠŸè€…ã€‚æˆ‘ä¼šä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥æ­£ç¡®çœ‹å¾…è¿™æ¬¡å¤±è´¥ï¼šâ‘ è¦æ•¢äºé¢å¯¹ï¼Œé¢å¯¹è¿™æ¬¡å¤±è´¥ä¸æ°”é¦ï¼Œæ¥å—å·²ç»å¤±å»äº†è¿™æ¬¡æœºä¼šå°±ä¸ä¼šå›å¤´è¿™ä¸ªç°å®ï¼Œä»å¿ƒç†æ„å¿—å’Œç°å‡ºå¯¹è¿™æ¬¡å¤±è´¥çš„æŠµæŠ—åŠ›ã€‚è¦æœ‰è‡ªä¿¡ï¼Œç›¸ä¿¡è‡ªå·±ç»å†äº†è¿™æ¬¡ä¹‹åç»è¿‡åŠªåŠ›ä¸€å®šèƒ½è¡Œï¼Œèƒ½å¤Ÿè¶…è¶Šè‡ªæˆ‘ã€‚â‘¡å–„äºåæ€ï¼Œå¯¹äºè¿™æ¬¡é¢è¯•ç»éªŒè¦è®¤çœŸæ€»ç»“ï¼Œæ€è€ƒå‰–æï¼Œèƒ½å¤Ÿä»è‡ªèº«çš„è§’åº¦æ‰¾å·®è·æ­£ç¡®å¯¹è‡ªå·±ï¼Œå®äº‹æ±‚æ˜¯åœ°è¯„ä»·è‡ªå·±ï¼Œè¾©è¯çš„çœ‹å¾…è‡ªå·±çš„é•¿çŸ­å¾—å¤±ï¼Œåšä¸€ä¸ªæ˜ç™½äººã€‚â‘¢èµ°å‡ºé˜´å½±ï¼Œå…‹æœè¿™ä¸€æ¬¡å¤±è´¥å¸¦ç»™è‡ªå·±çš„å¿ƒç†å‹åŠ›ï¼Œæ—¶åˆ»ç‰¢è®°è‡ªå·±å¼±ç‚¹ï¼Œé˜²æ‚£äºæœªç„¶ï¼ŒåŠ å¼ºå­¦ä¹ ï¼Œæé«˜è‡ªèº«ç´ è´¨ã€‚â‘£è®¤çœŸå·¥ä½œï¼Œå›åˆ°åŸå•ä½å²—ä½ä¸Šåï¼Œè¦å®å®åœ¨åœ¨ã€è¸è¸å®å®åœ°å·¥ä½œï¼Œä¸‰åå…­è¡Œè¡Œè¡Œå‡ºçŠ¶å…ƒï¼Œäº‰å–åœ¨æœ¬å²—ä½ä¸Šåšå‡ºä¸€å®šçš„æˆç»©ã€‚â‘¤å†æ¥å†å‰ï¼Œä»¥åå¦‚æœæœ‰æœºä¼šæˆ‘ä»ç„¶åå†æ¬¡å‚åŠ ç«äº‰ã€‚</p><h2 id="æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…"><a href="#æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…" class="headerlink" title="æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…?"></a>æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ›¾ç»æ¥è§¦è¿‡ä¸€ä¸ªå®¢æˆ·ï¼ŒåŸæœ¬å°±æœ‰è€³é—»ä»–ä»¥æŒ‘å‰”å‡ºåï¼Œæ‰€ä»¥äº‹å‰çš„å‡†å¤‡åŠŸå¤«åšå¾—ååˆ†å……åˆ†ï¼Œä¹ŸæŠ•å…¥äº†ç›¸å½“å¤šçš„æ—¶é—´ä¸ç²¾åŠ›ï¼Œæœ€åå®¢æˆ·è™½ç„¶å¹¶æ²¡æœ‰ç…§å•å…¨æ”¶ï¼Œä½†æ˜¯æ¥å—çš„ç¨‹åº¦å·²ç»å‡ºä¹æˆ‘ä»¬æ„æ–™ä¹‹å¤–äº†ã€‚åŸä»¥ä¸ºä»æ­¤å¯ä»¥åˆä½œæ„‰å¿«ï¼Œå´å¾—çŸ¥å®¢æˆ·æœ€åå› ä¸ºé¢„ç®—å…³ç³»é€‰æ‹©äº†å¦ä¸€å®¶ä»£ç†å•†ï¼Œä¹‹å‰çš„åŠªåŠ›å› è€Œä»˜è¯¸æµæ°´ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯ä»è¿™æ¬¡çš„ç»éªŒå­¦åˆ°å¾ˆå¤šï¼Œå¦‚å¯¹è¯¥äº§ä¸šçš„äº†è§£ï¼Œæ•´ä¸ªteamçš„é»˜å¥‘ä¹Ÿæ›´å¥½äº†ã€‚</p><h2 id="æƒ³è¿‡åˆ›ä¸šå—"><a href="#æƒ³è¿‡åˆ›ä¸šå—" class="headerlink" title="æƒ³è¿‡åˆ›ä¸šå—?"></a>æƒ³è¿‡åˆ›ä¸šå—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™ä¸ªé—®é¢˜å¯ä»¥æ˜¾ç¤ºä½ çš„å†²åŠ²ï¼Œä½†å¦‚æœä½ çš„å›ç­”æ˜¯â€œæœ‰â€çš„è¯ï¼Œåƒä¸‡å°å¿ƒï¼Œä¸‹ä¸€ä¸ªé—®é¢˜å¯èƒ½å°±æ˜¯ï¼šé‚£ä¹ˆä¸ºä»€ä¹ˆä½ ä¸è¿™æ ·åšå‘¢?</p><h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ "><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ " class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ ?"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åˆ«è¿‡åº¦å¹å˜˜è‡ªå·±çš„èƒ½åŠ›ï¼Œæˆ–ä¿¡å£å¼€æ²³åœ°ä¹±å¼€æ”¯ç¥¨ï¼Œä¾‹å¦‚ä¸€å®šä¼šä¸ºè¯¥å…¬å¸å¸¦æ¥å¤šå°‘é’±çš„ä¸šåŠ¡ç­‰ï¼Œè¿™æ ·å¾ˆå®¹æ˜“ç»™äººä¸€ç§çˆ±è¯´å¤§è¯ã€ä¸åˆ‡å®é™…çš„æ„Ÿè§‰ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ ¹æ®æˆ‘å¯¹è´µå…¬å¸çš„äº†è§£ï¼Œä»¥åŠæˆ‘åœ¨è¿™ä»½å·¥ä½œä¸Šæ‰€ç´¯ç§¯çš„ä¸“ä¸šã€ç»éªŒåŠäººè„‰ï¼Œç›¸ä¿¡æ­£æ˜¯è´µå…¬å¸æ‰€æ‰¾å¯»çš„äººæ‰ã€‚è€Œæˆ‘åœ¨å·¥ä½œæ€åº¦ã€EQä¸Šï¼Œä¹Ÿæœ‰åœ†èã€æˆç†Ÿçš„ä¸€é¢ï¼Œå’Œä¸»ç®¡ã€åŒäº‹éƒ½èƒ½åˆä½œæ„‰å¿«ã€‚</p><h2 id="é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸"><a href="#é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸" class="headerlink" title="é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸?"></a>é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯ç›¸å½“å¤šå…¬å¸ä¼šé—®çš„é—®é¢˜ï¼Œå…¶ç”¨æ„æ˜¯è¦æ¦‚ç•¥çŸ¥é“åº”å¾è€…çš„æ±‚èŒå¿—å‘ï¼Œæ‰€ä»¥è¿™å¹¶éç»å¯¹æ˜¯è´Ÿé¢ç­”æ¡ˆï¼Œå°±ç®—ä¸ä¾¿è¯´å‡ºå…¬å¸åç§°ï¼Œä¹Ÿåº”å›ç­”â€œé”€å”®åŒç§äº§å“çš„å…¬å¸â€ï¼Œå¦‚æœåº”è˜çš„å…¶ä»–å…¬å¸æ˜¯ä¸åŒä¸šç•Œï¼Œå®¹æ˜“è®©äººäº§ç”Ÿæ— æ³•ä¿¡ä»»çš„æ„Ÿè§‰ã€‚</p><h2 id="ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡"><a href="#ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡" class="headerlink" title="ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡?"></a>ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ˜¯å¦æ¯•ä¸šäºåç‰Œé™¢æ ¡ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯æœ‰èƒ½åŠ›å®Œæˆæ‚¨äº¤ç»™æˆ‘çš„å·¥ä½œï¼Œæˆ‘æ¥å—äº†XXçš„èŒä¸šåŸ¹è®­ï¼ŒæŒæ¡çš„æŠ€èƒ½å®Œå…¨å¯ä»¥èƒœä»»è´µå…¬å¸ç°åœ¨å·¥ä½œï¼Œè€Œä¸”æˆ‘æ¯”ä¸€äº›åç‰Œé™¢æ ¡çš„åº”å±Šæ¯•ä¸šç”Ÿçš„åŠ¨æ‰‹èƒ½åŠ›è¿˜è¦å¼ºï¼Œæˆ‘æƒ³æˆ‘æ›´é€‚åˆè´µå…¬å¸è¿™ä¸ªèŒä½ã€‚</p><h2 id="æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›"><a href="#æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›" class="headerlink" title="æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›?"></a>æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å­¦å†æˆ‘æƒ³åªè¦æ˜¯å¤§å­¦ä¸“ç§‘çš„å­¦å†ï¼Œå°±è¡¨æ˜è§‰å¾—æˆ‘å…·å¤‡äº†æ ¹æœ¬çš„å­¦ä¹ èƒ½åŠ›ã€‚å‰©ä¸‹çš„ï¼Œä½ æ˜¯å­¦å£«ä¹Ÿå¥½ï¼Œè¿˜æ˜¯åšå£«ä¹Ÿå¥½ï¼Œå¯¹äºè¿™ä¸€ç‚¹çš„è®¨è®ºï¼Œä¸æ˜¯çœ‹ä½ å­¦äº†å¤šå°‘çŸ¥è¯†ï¼Œè€Œæ˜¯çœ‹ä½ åœ¨è¿™ä¸ªé¢†åŸŸä¸Šå‘æŒ¥äº†ä»€ä¹ˆï¼Œä¹Ÿå°±æ˜¯æ‰€è¯´çš„èƒ½åŠ›é—®é¢˜ã€‚ä¸€ä¸ªäººå·¥ä½œèƒ½åŠ›çš„é«˜ä½ç›´æ¥å†³å®šå…¶èŒåœºå‘½è¿ï¼Œè€Œå­¦å†çš„é«˜ä½åªæ˜¯è¿›å…¥ä¸€ä¸ªä¼ä¸šçš„æ•²é—¨ç –ï¼Œå¦‚æœå…¬å¸æŠŠå­¦å†å¡åœ¨åšå£«ä¸Šæˆ‘å°±æ— æ³•è¿›å…¥è´µå…¬å¸ï¼Œå½“ç„¶è¿™ä¸ä¸€å®šåªæ˜¯æˆ‘ä¸ªäººçš„æŸå¤±ï¼Œå¦‚æœä¸€ä¸ªä¸“ç§‘ç”Ÿéƒ½èƒ½å®Œæˆçš„å·¥ä½œï¼Œæ‚¨åˆä½•å¿…éè¦æ‹›è˜ä¸€ä½åšå£«ç”Ÿå‘¢?</p><h2 id="è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ"><a href="#è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ" class="headerlink" title="è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ?"></a>è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ åŠå…¬å®¤é‡Œæ¯ä¸ªäººéƒ½æœ‰å„è‡ªçš„å²—ä½ä¸èŒè´£ï¼Œä¸å¾—æ“…ç¦»å²—ä½ã€‚</p><p>â‘¡æ ¹æ®é¢†å¯¼æŒ‡ç¤ºå’Œå·¥ä½œå®‰æ’ï¼Œåˆ¶å®šå·¥ä½œè®¡åˆ’ï¼Œæå‰é¢„å¤‡ï¼Œå¹¶æŒ‰è®¡åˆ’å®Œæˆã€‚</p><p>â‘¢å¤šè¯·ç¤ºå¹¶åŠæ—¶æ±‡æŠ¥ï¼Œé‡åˆ°ä¸æ˜ç™½çš„è¦è™šå¿ƒè¯·æ•™ã€‚â‘£æŠ“é—´éš™æ—¶é—´ï¼Œå¤šå­¦ä¹ ï¼ŒåŠªåŠ›æé«˜è‡ªå·±çš„æ”¿æ²»ç´ è´¨å’Œä¸šåŠ¡æ°´å¹³ã€‚</p><h2 id="è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸"><a href="#è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸" class="headerlink" title="è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸?"></a>è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å›ç­”å‰ä¸å¦¨å…ˆè¯¢é—®å…¬å¸å¯¹è¿™é¡¹èŒåŠ¡çš„è´£ä»»è®¤å®šåŠå½’å±ï¼Œå› ä¸ºæ¯ä¸€å®¶å…¬å¸çš„çŠ¶å†µä¸å°½ç›¸åŒï¼Œä»¥å…è¯´äº†ä¸€å †ç†æƒ³æŠ±è´Ÿå´å‘ç°ç‰›å¤´ä¸å¯¹é©¬å˜´ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å¸Œæœ›èƒ½å€Ÿæ­¤å‘æŒ¥æˆ‘çš„æ‰€å­¦åŠä¸“é•¿ï¼ŒåŒæ—¶ä¹Ÿå¸æ”¶è´µå…¬å¸åœ¨è¿™æ–¹é¢çš„ç»éªŒï¼Œå°±å…¬å¸ã€æˆ‘ä¸ªäººè€Œè¨€ï¼Œç¼”é€ åŒèµ¢çš„å±€é¢ã€‚</p><h2 id="ä½•æ—¶å¯ä»¥åˆ°èŒ"><a href="#ä½•æ—¶å¯ä»¥åˆ°èŒ" class="headerlink" title="ä½•æ—¶å¯ä»¥åˆ°èŒ?"></a>ä½•æ—¶å¯ä»¥åˆ°èŒ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¤§å¤šæ•°ä¼ä¸šä¼šå…³å¿ƒå°±èŒæ—¶é—´ï¼Œæœ€å¥½æ˜¯å›ç­”ï¼šâ€œå¦‚æœè¢«å½•ç”¨çš„è¯ï¼Œåˆ°èŒæ—¥å¯ä»¥æŒ‰å…¬å¸è§„å®šä¸Šç­â€ï¼Œä½†æ˜¯å¦‚æœè¿˜æœªè¾å»ä¸Šä¸€ä¸ªå·¥ä½œã€ä¸Šç­æ—¶é—´åˆå¤ªè¿‘ï¼Œä¼¼ä¹æœ‰äº›å¼ºäººæ‰€éš¾ï¼Œå› ä¸ºäº¤æ¥è‡³å°‘è¦ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œåº”è¿›ä¸€æ­¥è¯´æ˜åŸå› ï¼Œå½•å–å…¬å¸åº”è¯¥ä¼šé€šèçš„ã€‚</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ä¸‰æ å¸ƒå±€æ€»ç»“ï¼ˆå·¦å³å›ºå®šå®½åº¦ ä¸­é—´è‡ªé€‚åº”ï¼‰</title>
      <link>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html</link>
      <guid>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html</guid>
      <pubDate>Fri, 08 May 2020 16:15:34 GMT</pubDate>
      <description>
      
        &lt;p&gt;åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€(å…¶å®æ˜¯ä¸€å›äº‹)éƒ½æ˜¯å®ç°çš„ä¸‰æ å¸ƒå±€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æµ®åŠ¨å¸ƒå±€-float-margin&quot;&gt;&lt;a href=&quot;#æµ®åŠ¨å¸ƒå±€-float-margin&quot; class=&quot;headerlink&quot; title=&quot;æµ®åŠ¨å¸ƒå±€(float + margin)&quot;&gt;&lt;/a&gt;æµ®åŠ¨å¸ƒå±€(float + margin)&lt;/h2&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;div class=&quot;container&quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;left&quot;&amp;gt;Left&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;lt;!&lt;span class=&quot;selector-tag&quot;&gt;--&lt;/span&gt; å³æ éƒ¨åˆ†è¦å†™åœ¨ä¸­é—´å†…å®¹ä¹‹å‰ &lt;span class=&quot;selector-tag&quot;&gt;--&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;right&quot;&amp;gt;Right&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;main&quot;&amp;gt;Main&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;html&lt;/span&gt;,&lt;span class=&quot;selector-class&quot;&gt;.container&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*å·¦è¾¹æ å·¦æµ®åŠ¨*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.left&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;float&lt;/span&gt;:left;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#333&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*ä¸­é—´æ è‡ªé€‚åº”*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.main&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: red;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*å³è¾¹æ å³æµ®åŠ¨*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.right&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;float&lt;/span&gt;:right;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#333&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå¿«æ· ç®€å• å…¼å®¹æ€§è¾ƒå¥½&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹: æœ‰å±€é™æ€§ è„±ç¦»æ–‡æ¡£æµ éœ€è¦æ¸…é™¤æµ®åŠ¨ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€(å…¶å®æ˜¯ä¸€å›äº‹)éƒ½æ˜¯å®ç°çš„ä¸‰æ å¸ƒå±€ã€‚</p><h2 id="æµ®åŠ¨å¸ƒå±€-float-margin"><a href="#æµ®åŠ¨å¸ƒå±€-float-margin" class="headerlink" title="æµ®åŠ¨å¸ƒå±€(float + margin)"></a>æµ®åŠ¨å¸ƒå±€(float + margin)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">     &lt;!<span class="selector-tag">--</span> å³æ éƒ¨åˆ†è¦å†™åœ¨ä¸­é—´å†…å®¹ä¹‹å‰ <span class="selector-tag">--</span>&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>,<span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å·¦è¾¹æ å·¦æµ®åŠ¨*/</span></span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ä¸­é—´æ è‡ªé€‚åº”*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å³è¾¹æ å³æµ®åŠ¨*/</span></span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:right;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#333</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå¿«æ· ç®€å• å…¼å®¹æ€§è¾ƒå¥½</li><li>ç¼ºç‚¹: æœ‰å±€é™æ€§ è„±ç¦»æ–‡æ¡£æµ éœ€è¦æ¸…é™¤æµ®åŠ¨ç­‰</li></ul><hr><a id="more"></a><h2 id="ç»å¯¹å¸ƒå±€-position"><a href="#ç»å¯¹å¸ƒå±€-position" class="headerlink" title="ç»å¯¹å¸ƒå±€(position)"></a>ç»å¯¹å¸ƒå±€(position)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>,<span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å·¦å³è¿›è¡Œç»å¯¹å®šä½*/</span></span><br><span class="line"><span class="selector-class">.left</span>,<span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ä¸­é—´ç”¨marginç©ºå‡ºå·¦å³å…ƒç´ æ‰€å çš„ç©ºé—´*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*æˆ–è€…ä¸­é—´ä¹Ÿè¿›è¡Œç»å¯¹å®šä½*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šç®€å•ç²—æš´</li><li>ç¼ºç‚¹: è„±ç¦»æ–‡æ¡£æµ é«˜åº¦æœªçŸ¥ä¼šå‡ºç°é—®é¢˜ å¯ç”¨æ€§å·®</li></ul><h2 id="å¼¹æ€§ç›’å­å¸ƒå±€-flex"><a href="#å¼¹æ€§ç›’å­å¸ƒå±€-flex" class="headerlink" title="å¼¹æ€§ç›’å­å¸ƒå±€(flex)"></a>å¼¹æ€§ç›’å­å¸ƒå±€(flex)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šæ¯”è¾ƒå®Œç¾ ç§»åŠ¨ç«¯é¦–é€‰</li><li>ç¼ºç‚¹: ä¸å…¼å®¹ ie9 åŠä»¥ä¸‹</li></ul><h2 id="è¡¨æ ¼å¸ƒå±€-table"><a href="#è¡¨æ ¼å¸ƒå±€-table" class="headerlink" title="è¡¨æ ¼å¸ƒå±€(table)"></a>è¡¨æ ¼å¸ƒå±€(table)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¾ˆå¥½ï¼ˆie8 åŠä»¥ä¸Šï¼‰ çˆ¶å…ƒç´ é«˜åº¦ä¼šè¢«å­å…ƒç´ æ’‘å¼€ï¼ˆä¸æ‹…å¿ƒé«˜åº¦å¡Œé™·ï¼‰</li><li>ç¼ºç‚¹: seo ä¸å‹å¥½ å½“å…¶ä¸­ä¸€ä¸ªå•å…ƒæ ¼é«˜åº¦è¶…å‡ºçš„æ—¶å€™ï¼Œå…¶ä»–çš„å•å…ƒæ ¼ä¹Ÿæ˜¯ä¼šè·Ÿç€ä¸€èµ·å˜é«˜çš„</li></ul><h2 id="ç½‘æ ¼å¸ƒå±€-Grid"><a href="#ç½‘æ ¼å¸ƒå±€-Grid" class="headerlink" title="ç½‘æ ¼å¸ƒå±€(Grid)"></a>ç½‘æ ¼å¸ƒå±€(Grid)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">100px</span>;  <span class="comment">/*è®¾ç½®è¡Œé«˜*/</span></span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">200px</span> auto <span class="number">200px</span>;  <span class="comment">/*è®¾ç½®åˆ—æ•°å±æ€§*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šç®€å•å¼ºå¤§ è§£å†³äºŒç»´å¸ƒå±€é—®é¢˜</li><li>ç¼ºç‚¹: ä¸å…¼å®¹ ie9 åŠä»¥ä¸‹</li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>HTML5ä¸­çš„Web Notificationæ¡Œé¢é€šçŸ¥</title>
      <link>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html</link>
      <guid>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html</guid>
      <pubDate>Wed, 06 May 2020 06:27:55 GMT</pubDate>
      <description>
      
        &lt;p&gt;Web Notifications æŠ€æœ¯ä½¿é¡µé¢å¯ä»¥å‘å‡ºé€šçŸ¥ï¼Œé€šçŸ¥å°†è¢«æ˜¾ç¤ºåœ¨é¡µé¢ä¹‹å¤–çš„ç³»ç»Ÿå±‚é¢ä¸Šã€‚èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒï¼Œå³ä½¿ç”¨æˆ·å¿™äºå…¶ä»–å·¥ä½œæ—¶ä¹Ÿå¯ä»¥æ”¶åˆ°æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯é€šçŸ¥ï¼Œä¾‹å¦‚ä¸€ä¸ªæ–°é‚®ä»¶çš„æé†’ï¼Œæˆ–è€…ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤æ”¶åˆ°çš„æ¶ˆæ¯æé†’ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PSï¼šé™¤äº†IEå¤–ï¼Œå„å¤§ç°ä»£æµè§ˆå™¨éƒ½å¯¹è¿™ä¸ªæ¡Œé¢æ¨é€æœ‰äº†åŸºæœ¬çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>Web Notifications æŠ€æœ¯ä½¿é¡µé¢å¯ä»¥å‘å‡ºé€šçŸ¥ï¼Œé€šçŸ¥å°†è¢«æ˜¾ç¤ºåœ¨é¡µé¢ä¹‹å¤–çš„ç³»ç»Ÿå±‚é¢ä¸Šã€‚èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒï¼Œå³ä½¿ç”¨æˆ·å¿™äºå…¶ä»–å·¥ä½œæ—¶ä¹Ÿå¯ä»¥æ”¶åˆ°æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯é€šçŸ¥ï¼Œä¾‹å¦‚ä¸€ä¸ªæ–°é‚®ä»¶çš„æé†’ï¼Œæˆ–è€…ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤æ”¶åˆ°çš„æ¶ˆæ¯æé†’ç­‰ç­‰ã€‚</p><blockquote><p>PSï¼šé™¤äº†IEå¤–ï¼Œå„å¤§ç°ä»£æµè§ˆå™¨éƒ½å¯¹è¿™ä¸ªæ¡Œé¢æ¨é€æœ‰äº†åŸºæœ¬çš„æ”¯æŒã€‚</p></blockquote><hr><a id="more"></a><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>è¦åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯é€šçŸ¥ï¼Œéå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨ window å¯¹è±¡ä¸‹é¢çš„Notificationç±»å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="keyword">new</span> Notification(<span class="string">"æ¡Œé¢æ¨é€"</span>, &#123;</span><br><span class="line">icon: <span class="string">'img/icon.png'</span>,</span><br><span class="line">body: <span class="string">'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€æ¡æ¡Œé¢é€šçŸ¥ã€‚'</span>,</span><br><span class="line">    image:<span class="string">'img/1.jpg'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><blockquote><p>PSï¼šæ¶ˆæ¯é€šçŸ¥åªæœ‰é€šè¿‡WebæœåŠ¡è®¿é—®è¯¥é¡µé¢æ—¶æ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœç›´æ¥åŒå‡»æ‰“å¼€æœ¬åœ°æ–‡ä»¶ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ çš„æ–‡ä»¶éœ€è¦ä½¿ç”¨æœåŠ¡å™¨çš„å½¢å¼æ‰“å¼€ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°æ–‡ä»¶ã€‚</p></blockquote><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myNotification = <span class="keyword">new</span> Notification(title, options);</span><br></pre></td></tr></table></figure><ul><li><p>titleï¼šå®šä¹‰ä¸€ä¸ªé€šçŸ¥çš„æ ‡é¢˜ï¼Œå½“å®ƒè¢«è§¦å‘æ—¶ï¼Œå®ƒå°†æ˜¾ç¤ºåœ¨é€šçŸ¥çª—å£çš„é¡¶éƒ¨ã€‚</p></li><li><p>optionsï¼ˆå¯é€‰ï¼‰å¯¹è±¡åŒ…å«åº”ç”¨äºé€šçŸ¥çš„ä»»ä½•è‡ªå®šä¹‰è®¾ç½®é€‰é¡¹ã€‚</p></li></ul><p>å¸¸ç”¨çš„é€‰é¡¹æœ‰ï¼š</p><ul><li><p>body: é€šçŸ¥çš„æ­£æ–‡ï¼Œå°†æ˜¾ç¤ºåœ¨æ ‡é¢˜ä¸‹æ–¹ã€‚</p></li><li><p>tag: ç±»ä¼¼æ¯ä¸ªé€šçŸ¥çš„IDï¼Œä»¥ä¾¿åœ¨å¿…è¦çš„æ—¶å€™å¯¹é€šçŸ¥è¿›è¡Œåˆ·æ–°ã€æ›¿æ¢æˆ–ç§»é™¤ã€‚</p></li><li><p>icon: æ˜¾ç¤ºé€šçŸ¥çš„å›¾æ ‡</p></li><li><p>image: åœ¨é€šçŸ¥æ­£æ–‡ä¸­æ˜¾ç¤ºçš„å›¾åƒçš„URLã€‚</p></li><li><p>data: æ‚¨æƒ³è¦ä¸é€šçŸ¥ç›¸å…³è”çš„ä»»æ„æ•°æ®ã€‚è¿™å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ã€‚</p></li><li><p>renotify: ä¸€ä¸ª Boolean æŒ‡å®šåœ¨æ–°é€šçŸ¥æ›¿æ¢æ—§é€šçŸ¥åæ˜¯å¦åº”é€šçŸ¥ç”¨æˆ·ã€‚é»˜è®¤å€¼ä¸ºfalseï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä¸ä¼šè¢«é€šçŸ¥ã€‚</p></li><li><p>requireInteraction: è¡¨ç¤ºé€šçŸ¥åº”ä¿æŒæœ‰æ•ˆï¼Œç›´åˆ°ç”¨æˆ·ç‚¹å‡»æˆ–å…³é—­å®ƒï¼Œè€Œä¸æ˜¯è‡ªåŠ¨å…³é—­ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p></li></ul><p>å½“è¿™æ®µä»£ç æ‰§è¡Œæ—¶ï¼Œæµè§ˆå™¨ä¼šè¯¢é—®ç”¨æˆ·ï¼Œæ˜¯å¦å…è®¸è¯¥ç«™ç‚¹æ˜¾ç¤ºæ¶ˆæ¯é€šçŸ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/notification.png" alt="notification"></p><p>åªæœ‰ç”¨æˆ·ç‚¹å‡»äº†å…è®¸ï¼Œæˆæƒäº†é€šçŸ¥ï¼Œé€šçŸ¥æ‰ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥ã€‚</p><h2 id="æˆæƒ"><a href="#æˆæƒ" class="headerlink" title="æˆæƒ"></a>æˆæƒ</h2><p><strong>å¦‚ä½•è·å–åˆ°ç”¨æˆ·ç‚¹å‡»çš„æ˜¯â€œå…è®¸â€è¿˜æ˜¯â€œé˜»æ­¢â€å‘¢ï¼Ÿ</strong></p><p>windowçš„ Notificationå®ä¾‹æœ‰ä¸€ä¸ª requestPermission å‡½æ•°ç”¨æ¥è·å–ç”¨æˆ·çš„æˆæƒçŠ¶æ€ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥æ˜¯å¦å…·æœ‰æƒé™æ˜¾ç¤ºé€šçŸ¥</span></span><br><span class="line"><span class="comment">// å¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬å°±ç”³è¯·æƒé™</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.Notification &amp;&amp; Notification.permission !== <span class="string">"granted"</span>) &#123;</span><br><span class="line">    Notification.requestPermission(<span class="function"><span class="keyword">function</span> (<span class="params">status</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// statusæ˜¯æˆæƒçŠ¶æ€ã€‚</span></span><br><span class="line">    <span class="comment">// å¦‚æœç”¨æˆ·ç‚¹å‡»çš„å…è®¸ï¼Œåˆ™statusä¸º'granted'</span></span><br><span class="line">    <span class="comment">// å¦‚æœç”¨æˆ·ç‚¹å‡»çš„ç¦æ­¢ï¼Œåˆ™statusä¸º'denied'</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿™å°†ä½¿æˆ‘ä»¬èƒ½åœ¨ Chrome/Safari ä¸­ä½¿ç”¨ Notification.permission</span></span><br><span class="line">    <span class="keyword">if</span> (Notification.permission !== status) &#123;</span><br><span class="line">            Notification.permission = status;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>æ³¨æ„ï¼šå¦‚æœç”¨æˆ·ç‚¹å‡»äº†æˆæƒå³ä¸Šè§’çš„å…³é—­æŒ‰é’®ï¼Œåˆ™statusçš„å€¼ä¸ºdefaultã€‚</p></blockquote><p>ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ status çš„å€¼æ˜¯å¦ä¸ºgrantedï¼Œæ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºé€šçŸ¥ã€‚</p><h2 id="é€šçŸ¥äº‹ä»¶"><a href="#é€šçŸ¥äº‹ä»¶" class="headerlink" title="é€šçŸ¥äº‹ä»¶"></a>é€šçŸ¥äº‹ä»¶</h2><p>ä½†æ˜¯å•çº¯çš„æ˜¾ç¤ºä¸€ä¸ªæ¶ˆæ¯æ¡†æ˜¯æ²¡æœ‰ä»»ä½•å¸å¼•åŠ›çš„ï¼Œæ‰€ä»¥æ¶ˆæ¯é€šçŸ¥åº”è¯¥å…·æœ‰ä¸€å®šçš„äº¤äº’æ€§ï¼Œåœ¨æ˜¾ç¤ºæ¶ˆæ¯çš„å‰å‰ååéƒ½åº”è¯¥æœ‰äº‹ä»¶çš„å‚ä¸ã€‚</p><p>Notificationä¸€å¼€å§‹å°±åˆ¶å®šå¥½äº†ä¸€ç³»åˆ—äº‹ä»¶å‡½æ•°ï¼Œå¼€å‘è€…å¯ä»¥å¾ˆæ–¹é¢çš„ä½¿ç”¨è¿™äº›å‡½æ•°å¤„ç†ç”¨æˆ·äº¤äº’ï¼š</p><p>æœ‰ï¼šonshow,onclick,onerror,oncloseã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="keyword">new</span> Notification(<span class="string">"æ¡Œé¢æ¨é€"</span>, &#123;</span><br><span class="line">icon: <span class="string">'img/icon.png'</span>,</span><br><span class="line">body: <span class="string">'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€æ¡æ¡Œé¢é€šçŸ¥ã€‚'</span></span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//onshowå‡½æ•°åœ¨æ¶ˆæ¯æ¡†æ˜¾ç¤ºæ—¶è§¦å‘</span></span><br><span class="line"><span class="comment">//å¯ä»¥åšä¸€äº›æ•°æ®è®°å½•åŠå®šæ—¶å…³é—­æ¶ˆæ¯æ¡†ç­‰</span></span><br><span class="line">n.onshow = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'æ˜¾ç¤ºæ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">//5ç§’åå…³é—­æ¶ˆæ¯æ¡†</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">n.close();</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ¶ˆæ¯æ¡†è¢«ç‚¹å‡»æ—¶è¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">//å¯ä»¥æ‰“å¼€ç›¸å…³çš„è§†å›¾ï¼ŒåŒæ—¶å…³é—­è¯¥æ¶ˆæ¯æ¡†ç­‰æ“ä½œ</span></span><br><span class="line">n.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'ç‚¹å‡»æ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">// æ‰“å¼€ç›¸å…³çš„è§†å›¾</span></span><br><span class="line">n.close();</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å½“æœ‰é”™è¯¯å‘ç”Ÿæ—¶ä¼šonerrorå‡½æ•°ä¼šè¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">//å¦‚æœæ²¡æœ‰grantedæˆæƒï¼Œåˆ›å»ºNotificationå¯¹è±¡å®ä¾‹æ—¶ï¼Œä¹Ÿä¼šæ‰§è¡Œonerrorå‡½æ•°</span></span><br><span class="line">n.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'æ¶ˆæ¯æ¡†é”™è¯¯'</span>);</span><br><span class="line"><span class="comment">// åšäº›å…¶ä»–çš„äº‹</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//ä¸€ä¸ªæ¶ˆæ¯æ¡†å…³é—­æ—¶oncloseå‡½æ•°ä¼šè¢«è°ƒç”¨</span></span><br><span class="line">n.onclose = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'å…³é—­æ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">//åšäº›å…¶ä»–çš„äº‹</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="é¡¹ç›®å®ä¾‹"><a href="#é¡¹ç›®å®ä¾‹" class="headerlink" title="é¡¹ç›®å®ä¾‹"></a>é¡¹ç›®å®ä¾‹</h2><p><a href="https://github.com/cosyer/pwa-tour" target="_blank" rel="noopener">pwaç‰ˆæ—…æ¸¸ç«™ç‚¹H5</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>jsäºŒè¿›åˆ¶å’Œä½è¿ç®—</title>
      <link>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html</link>
      <guid>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html</guid>
      <pubDate>Wed, 06 May 2020 06:27:55 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot;&gt;&lt;a href=&quot;#js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot; class=&quot;headerlink&quot; title=&quot;js äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot;&gt;&lt;/a&gt;js äºŒè¿›åˆ¶ä¸ä½è¿ç®—&lt;/h1&gt;&lt;p&gt;ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„æ˜¯ä»¥åè¿›åˆ¶ä¸ºå•ä½ï¼Œè¿›ä½æ˜¯æ»¡ 10 è¿› 1ï¼Œè€Œè®¡ç®—æœºæ˜¯ç”¨äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆå°±æ˜¯æ»¡ 2 è¿› 1 å–½ï¼Œä¸ºä»€ä¹ˆé‡‡ç”¨äºŒè¿›åˆ¶å‘¢ï¼Ÿç®€å•è¯´ä¸‹ï¼ŒTaçš„ç”±æ¥å…¶å®æ˜¯æ ¹æ®ç”µè·¯çš„å¼€å…³é—­åˆï¼Œç”µè·¯åªæœ‰ 0 å’Œ 1ï¼Œå…·ä½“çš„è¯¦æƒ…è¿™é‡Œä¸å¤šåšè§£é‡Šäº†ï¼Œå¯ä»¥è‡ªè¡Œç™¾ç§‘^_^ã€‚javascript é‡‡ç”¨æœ‰ç¬¦å· 32 ä½çš„ 2 è¿›åˆ¶ï¼Œå¯è¡¨ç¤º 4294967295 ä¸ªæ•´æ•°(å«æ­£è´Ÿ)ï¼ŒèŒƒå›´æ˜¯ -2147483648(2 çš„ 32 æ¬¡æ–¹) ~ 2147483647ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot;&gt;&lt;/a&gt;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&lt;/h2&gt;&lt;p&gt;åœ¨è®¡ç®—æœºä¸­è§„å®šæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œ0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚æ­£æ•°è¡¨ç¤ºæ˜¯åŸç ï¼Œè´Ÿæ•°æ˜¯åŸç çš„è¡¥ç ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åŸç &quot;&gt;&lt;a href=&quot;#åŸç &quot; class=&quot;headerlink&quot; title=&quot;åŸç &quot;&gt;&lt;/a&gt;åŸç &lt;/h3&gt;&lt;p&gt;é™¤å»ç¬¦å·ä½ï¼Œå…¶ä»– 32 ä½éƒ½ä¸ºæ­£ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹ï¼š00000000000000000000000000001010 åŸç  00000000000000000000000000001010ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åç &quot;&gt;&lt;a href=&quot;#åç &quot; class=&quot;headerlink&quot; title=&quot;åç &quot;&gt;&lt;/a&gt;åç &lt;/h3&gt;&lt;p&gt;æ‰€è°“åç ï¼Œé™¤ç¬¦å·ä½å¤–ï¼Œå…¶ä»–ä½ 0 å˜ 1ï¼Œ1 å˜ 0ã€‚
ä¾‹ï¼š1010 åç  1101&lt;/p&gt;
&lt;h3 id=&quot;è¡¥ç &quot;&gt;&lt;a href=&quot;#è¡¥ç &quot; class=&quot;headerlink&quot; title=&quot;è¡¥ç &quot;&gt;&lt;/a&gt;è¡¥ç &lt;/h3&gt;&lt;p&gt;æ‰€è°“è¡¥ç ï¼Œå°±åƒæ˜¯å°å­¦å­¦è¿‡çš„ 10 è¿›åˆ¶è¡¥æ•°ï¼Œä¸¾ä¸ªä¾‹å­å°±å¾ˆå¥½ç†è§£ï¼Œ3 çš„è¡¥æ•°æ˜¯å¤šå°‘ï¼Ÿæ˜¯ 7ã€‚4 çš„è¡¥æ•°æ˜¯ 6ï¼Œè¡¥æ•°å°±æ˜¯ 10 å‡å»è¿™ä¸ªæ•°ã€‚åœ¨äºŒè¿›åˆ¶çš„è¡¥ç å°±æ˜¯ç›¸åŠ ç­‰äº 0ï¼Œäº’ä¸ºç›¸åæ•°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0 çš„è¡¥ç 
0 çš„åŸç ã€åç ã€è¡¥ç å‡ä¸º 0&lt;/li&gt;
&lt;li&gt;æ­£æ•°çš„è¡¥ç 
åŸç &lt;/li&gt;
&lt;li&gt;è´Ÿæ•°çš„è¡¥ç 
åŸç é™¤ç¬¦å·ä½å¤–çš„æ‰€æœ‰ä½å–å+1ã€‚å¦‚ä½•æ¨å‡ºæ¥çš„ï¼Œçœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼ŒæŒºæœ‰æ„æ€ã€‚&lt;a href=&quot;https://blog.csdn.net/wenxinwukui234/article/details/42119265&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç‚¹å‡»æŸ¥çœ‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—"><a href="#js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—" class="headerlink" title="js äºŒè¿›åˆ¶ä¸ä½è¿ç®—"></a>js äºŒè¿›åˆ¶ä¸ä½è¿ç®—</h1><p>ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„æ˜¯ä»¥åè¿›åˆ¶ä¸ºå•ä½ï¼Œè¿›ä½æ˜¯æ»¡ 10 è¿› 1ï¼Œè€Œè®¡ç®—æœºæ˜¯ç”¨äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆå°±æ˜¯æ»¡ 2 è¿› 1 å–½ï¼Œä¸ºä»€ä¹ˆé‡‡ç”¨äºŒè¿›åˆ¶å‘¢ï¼Ÿç®€å•è¯´ä¸‹ï¼ŒTaçš„ç”±æ¥å…¶å®æ˜¯æ ¹æ®ç”µè·¯çš„å¼€å…³é—­åˆï¼Œç”µè·¯åªæœ‰ 0 å’Œ 1ï¼Œå…·ä½“çš„è¯¦æƒ…è¿™é‡Œä¸å¤šåšè§£é‡Šäº†ï¼Œå¯ä»¥è‡ªè¡Œç™¾ç§‘^_^ã€‚javascript é‡‡ç”¨æœ‰ç¬¦å· 32 ä½çš„ 2 è¿›åˆ¶ï¼Œå¯è¡¨ç¤º 4294967295 ä¸ªæ•´æ•°(å«æ­£è´Ÿ)ï¼ŒèŒƒå›´æ˜¯ -2147483648(2 çš„ 32 æ¬¡æ–¹) ~ 2147483647ã€‚</p><h2 id="å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ"><a href="#å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ" class="headerlink" title="å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ"></a>å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ</h2><p>åœ¨è®¡ç®—æœºä¸­è§„å®šæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œ0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚æ­£æ•°è¡¨ç¤ºæ˜¯åŸç ï¼Œè´Ÿæ•°æ˜¯åŸç çš„è¡¥ç ã€‚</p><h3 id="åŸç "><a href="#åŸç " class="headerlink" title="åŸç "></a>åŸç </h3><p>é™¤å»ç¬¦å·ä½ï¼Œå…¶ä»– 32 ä½éƒ½ä¸ºæ­£ã€‚</p><p>ä¾‹ï¼š00000000000000000000000000001010 åŸç  00000000000000000000000000001010ã€‚</p><h3 id="åç "><a href="#åç " class="headerlink" title="åç "></a>åç </h3><p>æ‰€è°“åç ï¼Œé™¤ç¬¦å·ä½å¤–ï¼Œå…¶ä»–ä½ 0 å˜ 1ï¼Œ1 å˜ 0ã€‚ä¾‹ï¼š1010 åç  1101</p><h3 id="è¡¥ç "><a href="#è¡¥ç " class="headerlink" title="è¡¥ç "></a>è¡¥ç </h3><p>æ‰€è°“è¡¥ç ï¼Œå°±åƒæ˜¯å°å­¦å­¦è¿‡çš„ 10 è¿›åˆ¶è¡¥æ•°ï¼Œä¸¾ä¸ªä¾‹å­å°±å¾ˆå¥½ç†è§£ï¼Œ3 çš„è¡¥æ•°æ˜¯å¤šå°‘ï¼Ÿæ˜¯ 7ã€‚4 çš„è¡¥æ•°æ˜¯ 6ï¼Œè¡¥æ•°å°±æ˜¯ 10 å‡å»è¿™ä¸ªæ•°ã€‚åœ¨äºŒè¿›åˆ¶çš„è¡¥ç å°±æ˜¯ç›¸åŠ ç­‰äº 0ï¼Œäº’ä¸ºç›¸åæ•°ã€‚</p><ul><li>0 çš„è¡¥ç 0 çš„åŸç ã€åç ã€è¡¥ç å‡ä¸º 0</li><li>æ­£æ•°çš„è¡¥ç åŸç </li><li>è´Ÿæ•°çš„è¡¥ç åŸç é™¤ç¬¦å·ä½å¤–çš„æ‰€æœ‰ä½å–å+1ã€‚å¦‚ä½•æ¨å‡ºæ¥çš„ï¼Œçœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼ŒæŒºæœ‰æ„æ€ã€‚<a href="https://blog.csdn.net/wenxinwukui234/article/details/42119265" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹</a></li></ul><hr><a id="more"></a><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><h3 id="æŒ‰ä½ä¸ï¼ˆANDï¼‰-amp"><a href="#æŒ‰ä½ä¸ï¼ˆANDï¼‰-amp" class="headerlink" title="æŒ‰ä½ä¸ï¼ˆANDï¼‰ &amp;"></a>æŒ‰ä½ä¸ï¼ˆANDï¼‰ &amp;</h3><p>æè¿°ï¼ša &amp; b å¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œåªæœ‰ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½éƒ½æ˜¯ 1 æ—¶ï¼Œç»“æœæ‰ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 &amp; 3 = 2    0000 0010&amp; 0000 0011â€”â€”â€”â€”â€”â€”â€”    0000 0010</p><h4 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯:"></a>åº”ç”¨åœºæ™¯:</h4><p>åˆ¤æ–­å¥‡å¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(num &amp; <span class="number">1</span>) <span class="comment">// 1 æ˜¯å¥‡æ•°  0æ˜¯å¶æ•°</span></span><br></pre></td></tr></table></figure><p><strong>æƒé™è®¾ç½®ï¼šè§£æƒé™</strong></p><p>å› ä¸ºå¥‡æ•°çš„æœ€åä¸€ä½æ°¸è¿œæ˜¯ 1ã€‚ä¸¾ä¾‹ï¼šnum æ˜¯ 30000 00110000 0001â€”â€”â€”â€”â€”0000 0001</p><h3 id="æŒ‰ä½æˆ–ï¼ˆORï¼‰"><a href="#æŒ‰ä½æˆ–ï¼ˆORï¼‰" class="headerlink" title="æŒ‰ä½æˆ–ï¼ˆORï¼‰|"></a>æŒ‰ä½æˆ–ï¼ˆORï¼‰|</h3><p>æè¿°ï¼šå¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½è‡³å°‘æœ‰ä¸€ä¸ª 1 æ—¶ï¼Œç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 | 3 = 3   0000 0010 | 0000 0011â€”â€”â€”â€”â€”â€”â€”    0000 0011</p><h4 id="åº”ç”¨åœºæ™¯ï¼š"><a href="#åº”ç”¨åœºæ™¯ï¼š" class="headerlink" title="åº”ç”¨åœºæ™¯ï¼š"></a>åº”ç”¨åœºæ™¯ï¼š</h4><p><strong>å°æ•°å–æ•´</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n | <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">3.2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><p><strong>æƒé™</strong></p><p>å‡è®¾æˆ‘ä»¬è¯»çš„æƒé™æ˜¯ 1 å†™çš„æƒé™æ˜¯ 2ï¼Œå¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶æ‹¥æœ‰è¯»å’Œå†™ä¸¤ç§æƒé™ï¼Œæ­£å¸¸æ¥åˆ†é…å°±æ˜¯ç”¨ä¸€ä¸ªæ•°ç»„[1,2]ï¼Œé‚£ä¹ˆç”¨æˆ–è¿ç®—ç¬¦å¦‚ä½•åˆ†é…å‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Permission</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.instance = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">this</span>.permissions = &#123;</span><br><span class="line">      r: <span class="number">1</span>, <span class="comment">// è¯»</span></span><br><span class="line">      w: <span class="number">2</span>, <span class="comment">// å†™</span></span><br><span class="line">      e: <span class="number">4</span> <span class="comment">// æ‰§è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  getR() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r &#125;</span><br><span class="line">  getW() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.w &#125;</span><br><span class="line">  getE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  </span><br><span class="line">  getRW() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.w &#125;</span><br><span class="line">  getRE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  getWE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.w | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  </span><br><span class="line">  getRWE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.w | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  getAll() &#123; <span class="keyword">return</span> <span class="built_in">Object</span>.values(<span class="keyword">this</span>.permissions).reduce((p1, p2, i) =p1 | p2) &#125;</span><br><span class="line">  </span><br><span class="line">  isR(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.r) &#125;</span><br><span class="line">  isW(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.w) &#125;</span><br><span class="line">  isE(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.e) &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> getInstance() &#123;</span><br><span class="line">    !<span class="keyword">this</span>.instance &amp;&amp; (<span class="keyword">this</span>.instance = <span class="keyword">new</span> Permission())</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.instance</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> per = Permission.getInstance()</span><br><span class="line">per.getRW() <span class="comment">// è¯»å†™æƒé™ï¼š3</span></span><br><span class="line">per.getAll() <span class="comment">// æ‰€æœ‰æƒé™ï¼š7</span></span><br><span class="line">per.isR(<span class="number">3</span>) <span class="comment">// true æ˜¯å¦æœ‰è¯»çš„æƒé™</span></span><br><span class="line">per.isW(<span class="number">5</span>) <span class="comment">// false æ˜¯å¦æœ‰å†™çš„æƒé™</span></span><br><span class="line">per.isE(<span class="number">5</span>) <span class="comment">// true æ˜¯å¦æœ‰æ‰§è¡Œçš„æƒé™</span></span><br></pre></td></tr></table></figure><p>æ³¨ï¼šåŸºæœ¬è¿ç®—è¿‡ç¨‹1 | 2 =&gt;  0000 0001| 0000 0010â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”0000 0011=3</p><h3 id="æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰"><a href="#æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰" class="headerlink" title="æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰^"></a>æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰^</h3><p>æè¿°ï¼šå¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½æœ‰ä¸”åªæœ‰ä¸€ä¸ª 1 æ—¶ï¼Œç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 ^ 3   0000 0010^ 0000 0011â€”â€”â€”â€”â€”â€”    0000 0001</p><h4 id="åº”ç”¨åœºæ™¯-1"><a href="#åº”ç”¨åœºæ™¯-1" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><p>å˜é‡äº¤æ¢æˆ‘ä»¬ä¼šç”¨åˆ°ä¸¤ä¸ªå˜é‡çš„å€¼è¿›è¡Œäº¤æ¢ï¼Œæ¯”å¦‚å†’æ³¡æ’åºçš„ä¸¤ä¸¤å¯¹æ¯”ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§å°±äº¤æ¢ä½ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span></span><br><span class="line"><span class="keyword">var</span> temp = a</span><br><span class="line"><span class="keyword">var</span> a = b</span><br><span class="line"><span class="keyword">var</span> b = temp</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å£°æ˜ç¬¬ä¸‰ä¸ªå˜é‡æ¥å®ç°äº¤æ¢ã€‚é‚£ä¹ˆï¼Œç”¨æŒ‰ä½å¼‚æˆ–å¯ä»¥è¿™ä¹ˆåšï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span></span><br><span class="line">a ^= b</span><br><span class="line">b ^= a</span><br><span class="line">a ^= b</span><br></pre></td></tr></table></figure><p>åˆ†è§£ä¸€ä¸‹ä¸Šé¢çš„ï¼ša += 1 å’Œ a ^= b è¡¨è¾¾å¼è§„åˆ™æ˜¯ä¸€æ ·çš„æ‰€ä»¥ a ^= b =a = a ^ bï¼Œ çœ‹ä¸‹é¢è¿ç®—è¿‡ç¨‹ï¼š    0000 0001 ^ 0000 0010â€”â€”â€”â€”â€”â€”    0000 0011æ­¤æ—¶ï¼Œa å°±å˜æˆäº† 3ã€‚b ^= a =b = b ^ a    0000 0010 ^ 0000 0011â€”â€”â€”â€”â€”â€”    0000 0001æ­¤æ—¶ï¼Œb å˜æˆäº† 1ã€‚é‡å¤ç¬¬ä¸€æ­¥ï¼š    0000 0011 ^ 0000 0001â€”â€”â€”â€”â€”â€”    0000 0010æ­¤æ—¶ï¼Œa å˜æˆäº† 2ã€‚æœ€ç»ˆ a=2,b=1 å®ç°äº†å˜é‡çš„äº¤æ¢ã€‚å¥½å¤„æ˜¯å°‘å£°æ˜äº†ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ•ˆç‡ä¸Šï¼Œäº²æµ‹ç»“æœ å¼‚æˆ–è¿ç®—äº¤æ¢å¹¶ä¸æ¯”ç¬¬ä¸‰å˜é‡çš„æ•ˆç‡é«˜(æµ‹è¯•äº¤æ¢ 100 æ¬¡)ã€‚</p><h2 id="æŒ‰ä½éï¼ˆNOTï¼‰"><a href="#æŒ‰ä½éï¼ˆNOTï¼‰" class="headerlink" title="æŒ‰ä½éï¼ˆNOTï¼‰~"></a>æŒ‰ä½éï¼ˆNOTï¼‰~</h2><p>æè¿°ï¼šåè½¬æ“ä½œæ•°çš„æ¯”ç‰¹ä½ï¼Œå³ 0 å˜æˆ 1ï¼Œ1 å˜æˆ 0ã€‚çœ‹åˆ°è¿™ä¸ªå¯èƒ½ä¼šæƒ³åˆ°ä¸Šé¢æ‰€è¯´çš„åç ï¼Œè¿™ä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ï¼Œåç æ˜¯<strong>æŒ‰ç…§æœ‰ç¬¦å·å’Œæ— ç¬¦å·ç®—çš„</strong>,å–åæ˜¯ä¸ç®¡æœ‰æ²¡æœ‰ç¬¦å·å…¨éƒ¨ 0 å˜ 1,1 å˜ 0 çš„</p><h3 id="åº”ç”¨åœºæ™¯-2"><a href="#åº”ç”¨åœºæ™¯-2" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p><strong>å°æ•°å–æ•´</strong>è¿˜æœ‰ä¸€ä¸ªç‰¹å¾æ˜¯å–åæ˜¯ä¸èƒ½ç”¨äºæµ®ç‚¹å‹ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥å‘ä¸‹å–æ•´ï¼Œæ•ˆæœå’Œ Math.floor()ä¸€æ ·ï¼Œ~~æ•ˆç‡è¦é«˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> ~~n</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">3.2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h2 id="å·¦ç§»ï¼ˆLeft-shiftï¼‰-lt-lt"><a href="#å·¦ç§»ï¼ˆLeft-shiftï¼‰-lt-lt" class="headerlink" title="å·¦ç§»ï¼ˆLeft shiftï¼‰&lt;&lt;"></a>å·¦ç§»ï¼ˆLeft shiftï¼‰&lt;&lt;</h2><p>æè¿°ï¼ša &lt;&lt; b ,å°† a çš„äºŒè¿›åˆ¶å½¢å¼å‘å·¦ç§» b (&lt; 32) æ¯”ç‰¹ä½ï¼Œå³è¾¹ç”¨ 0 å¡«å……ã€‚(æ‘˜è‡ª MDN)ä¸¾ä¾‹ï¼š3 &lt;&lt; 40000 0011 å‘å·¦ç§»åŠ¨ 4 ä½ =0011 0000å¯çŸ¥ï¼Œå·¦ç§»æ•°æ˜¯è¶Šæ¥è¶Šå¤§çš„ã€‚<strong>ç§»åŠ¨è¿ç®—ç¬¦è¿ç®—æ•ˆç‡è¾ƒé«˜</strong></p><h3 id="åº”ç”¨åœºæ™¯-3"><a href="#åº”ç”¨åœºæ™¯-3" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>x ä¹˜ä»¥ y çš„ n æ¬¡æ–¹ï¼š<strong>x &lt;&lt; y</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;&lt; <span class="number">3</span> =<span class="number">0000</span> <span class="number">1000</span> åŒ–æˆ<span class="number">10</span>è¿›åˆ¶ =<span class="number">1</span> * <span class="number">2</span>çš„<span class="number">3</span>æ¬¡æ–¹ =<span class="number">8</span></span><br></pre></td></tr></table></figure><p>2 è¿›åˆ¶åŒ–æˆ 10 è¿›åˆ¶ å°±æ˜¯ 2 çš„ n æ¬¡æ–¹ ä¹˜ä»¥ å½“å‰ä½ã€‚</p><h2 id="æœ‰ç¬¦å·å³ç§»-a-gt-b"><a href="#æœ‰ç¬¦å·å³ç§»-a-gt-b" class="headerlink" title="æœ‰ç¬¦å·å³ç§» a &gt;b"></a>æœ‰ç¬¦å·å³ç§» a &gt;b</h2><p>æè¿°ï¼šå°† a çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§» b (&lt; 32) ä½ï¼Œä¸¢å¼ƒè¢«ç§»å‡ºçš„ä½ã€‚è¯¥æ“ä½œç¬¦ä¼šå°†ç¬¬ä¸€ä¸ªæ“ä½œæ•°å‘å³ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ã€‚å‘å³è¢«ç§»å‡ºçš„ä½è¢«ä¸¢å¼ƒï¼Œæ‹·è´æœ€å·¦ä¾§çš„ä½ä»¥å¡«å……å·¦ä¾§ã€‚ç”±äºæ–°çš„æœ€å·¦ä¾§çš„ä½æ€»æ˜¯å’Œä»¥å‰ç›¸åŒï¼Œç¬¦å·ä½æ²¡æœ‰è¢«æ”¹å˜ã€‚æ‰€ä»¥è¢«ç§°ä½œâ€œç¬¦å·ä¼ æ’­â€ã€‚ä¸¾ä¾‹ï¼šæ­£æ•°å³ç§»ï¼š4 &gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span></span><br><span class="line">&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">   <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span></span><br></pre></td></tr></table></figure><p>æ­£æ•°å³ç§»ï¼Œä¸å¤Ÿçš„ä½æ•°ç”¨ç¬¦å·ä½ 0 è¡¥å…¨ï¼Œå¯ä»¥å‘ç°è§„å¾‹ï¼Œç»“æœæ˜¯ 4 / (2 çš„ 2 æ¬¡æ–¹) =å½“å‰ä½/(2 çš„ç§»ä½çš„ä½æ•°çš„æ¬¡æ–¹)</p><p>è´Ÿæ•°å³ç§»ï¼š-3 &gt;4</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0011</span> çš„è¡¥ç æ˜¯=&gt;</span><br><span class="line">   <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1101</span> å‘å³ç§»åŠ¨<span class="number">4</span>ä½ï¼Œå³è¾¹èˆå»ï¼Œå·¦ä¾§ç”¨ç¬¦å·ä½è¡¥é½</span><br><span class="line">&gt;                                      <span class="number">4</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">   <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> è¡¥ç æ˜¯=&gt;</span><br><span class="line">   <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span> æ‰€ä»¥,æœ€ç»ˆæ˜¯<span class="number">-1</span></span><br></pre></td></tr></table></figure><h2 id="æ— ç¬¦å·å³ç§»-a-gt-gt-b"><a href="#æ— ç¬¦å·å³ç§»-a-gt-gt-b" class="headerlink" title="æ— ç¬¦å·å³ç§» a &gt;&gt;b"></a>æ— ç¬¦å·å³ç§» a &gt;&gt;b</h2><p>æè¿°ï¼šå°† a çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§» b (&lt; 32) ä½ï¼Œä¸¢å¼ƒè¢«ç§»å‡ºçš„ä½ï¼Œå¹¶ä½¿ç”¨ 0 åœ¨å·¦ä¾§å¡«å……ã€‚æ­£æ•°å³ç§»ï¼š4 &gt;&gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span></span><br><span class="line">&gt;&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç° 4 &gt;&gt;2 å’Œ 4 &gt;2 ç»“æœéƒ½æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºéè´Ÿæ•°æ¥è¯´ï¼Œæœ‰æ— ç¬¦å·å³ç§»ç»“æœéƒ½æ˜¯ç›¸åŒã€‚è´Ÿæ•°å³ç§»ï¼š-4 &gt;&gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span> è¡¥ç =&gt;</span><br><span class="line">    <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1100</span></span><br><span class="line">&gt;&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    <span class="number">0011</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span></span><br><span class="line">    åŒ–æˆ<span class="number">10</span>è¿›åˆ¶=<span class="number">2</span>^<span class="number">29.</span>.<span class="number">.2</span>^<span class="number">1</span>+<span class="number">1</span> = <span class="number">1073741823</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p><strong>ä½è¿ç®— ä¼˜åŠ¿ï¼šä¹˜é™¤ï¼Œå–æ¨¡ï¼Œè¿ç®—æ•ˆç‡é«˜ åŠ£åŠ¿ï¼šå¯è¯»æ€§è¾ƒä½ï¼Œå¯¹åˆå­¦è€…æœ‰éš¾åº¦ï¼Œå·¥ä½œä¸­åº”å½“æŒ‰éœ€æ‰€å–ï¼Œä¸åº”ä¸ºç‚«æŠ€æ»¥ç”¨ã€‚</strong> å¥½å¤šæºç éƒ½æœ‰ç”¨åˆ°ä½è¿ç®—ï¼ˆexpressã€koaã€koa-bodyï¼‰ï¼Œç°åœ¨å­¦ä¹ äº†ä½è¿ç®—ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸æ‹…å¿ƒè¯»ä¸æ‡‚æºç äº†ï¼</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å‰ç«¯åŠ¨ç”»çš„å®ç°æ–¹å¼æ€»ç»“</title>
      <link>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html</link>
      <guid>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html</guid>
      <pubDate>Wed, 29 Apr 2020 16:48:40 GMT</pubDate>
      <description>
      
        &lt;p&gt;é€šå¸¸åœ¨å‰ç«¯ä¸­ï¼Œå®ç°åŠ¨ç”»çš„æ–¹æ¡ˆä¸»è¦æœ‰6ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;js ç›´æ¥å®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SVGï¼ˆå¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CSS3 transition&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CSS3 animation&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CanvasåŠ¨ç”»&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;requestAnimationFrame&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>é€šå¸¸åœ¨å‰ç«¯ä¸­ï¼Œå®ç°åŠ¨ç”»çš„æ–¹æ¡ˆä¸»è¦æœ‰6ç§ï¼š</p><ul><li><p>js ç›´æ¥å®ç°</p></li><li><p>SVGï¼ˆå¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢</p></li><li><p>CSS3 transition</p></li><li><p>CSS3 animation</p></li><li><p>CanvasåŠ¨ç”»</p></li><li><p>requestAnimationFrame</p></li></ul><hr><a id="more"></a><h2 id="js-ç›´æ¥å®ç°åŠ¨ç”»"><a href="#js-ç›´æ¥å®ç°åŠ¨ç”»" class="headerlink" title="js ç›´æ¥å®ç°åŠ¨ç”»"></a>js ç›´æ¥å®ç°åŠ¨ç”»</h2><blockquote><p>å…¶ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡setIntervalæˆ–setTimeoutæ–¹æ³•çš„å›è°ƒå‡½æ•°æ¥æŒç»­è°ƒç”¨æ”¹å˜æŸä¸ªå…ƒç´ çš„CSSæ ·å¼ä»¥è¾¾åˆ°å…ƒç´ æ ·å¼å˜åŒ–çš„æ•ˆæœã€‚</p></blockquote><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#rect</span> &#123;</span></span><br><span class="line"><span class="undefined">            width: 200px;</span></span><br><span class="line"><span class="undefined">            height: 200px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"rect"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">'rect'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(left&lt;<span class="built_in">window</span>.innerWidth<span class="number">-200</span>)&#123;</span></span><br><span class="line"><span class="javascript">                elem.style.marginLeft = left+<span class="string">'px'</span>;</span></span><br><span class="line"><span class="undefined">                left ++;</span></span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                clearInterval(timer);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;,16);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ç¼ºç‚¹ï¼šjs å®ç°åŠ¨ç”»é€šå¸¸ä¼šå¯¼è‡´é¡µé¢é¢‘ç¹æ€§é‡æ’é‡ç»˜ï¼Œæ¶ˆè€—æ€§èƒ½ï¼Œä¸€èˆ¬åº”è¯¥åœ¨æ¡Œé¢ç«¯æµè§ˆå™¨ã€‚åœ¨ç§»åŠ¨ç«¯ä¸Šä½¿ç”¨ä¼šæœ‰æ˜æ˜¾çš„å¡é¡¿ã€‚</li></ul><h3 id="Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms"><a href="#Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms" class="headerlink" title="Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms"></a>Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms</h3><p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®çš„setIntervalæ—¶é—´é—´éš”æ˜¯16msã€‚ä¸€èˆ¬è®¤ä¸ºäººçœ¼èƒ½è¾¨è¯†çš„æµç•…åŠ¨ç”»ä¸ºæ¯ç§’60å¸§ï¼Œè¿™é‡Œ16msæ¯”(1000ms/60)å¸§ç•¥å°ä¸€äº›ï¼Œä½†æ˜¯ä¸€èˆ¬å¯ä»ä¸ºè¯¥åŠ¨ç”»æ˜¯æµç•…çš„ã€‚ </p><p>åœ¨å¾ˆå¤šç§»åŠ¨ç«¯åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œä¸€èˆ¬ä½¿ç”¨16msæ¥è¿›è¡ŒèŠ‚æµå¤„ç†è¿ç»­è§¦å‘çš„æµè§ˆå™¨äº‹ä»¶ã€‚ä¾‹å¦‚å¯¹touchmoveã€scrolläº‹ä»¶è¿›è¡ŒèŠ‚æµç­‰ã€‚é€šè¿‡è¿™ç§æ–¹å¼å‡å°‘æŒç»­äº‹ä»¶çš„è§¦å‘é¢‘ç‡ï¼Œå¯ä»¥å¤§å¤§æå‡åŠ¨ç”»çš„æµç•…æ€§ã€‚</p><h2 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h2><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    *&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"400"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">version</span>=<span class="string">"1.1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">width</span>=<span class="string">"100"</span> <span class="attr">height</span>=<span class="string">"100"</span> <span class="attr">fill</span>=<span class="string">"rgb(255,0,0);"</span> <span class="attr">stroke</span>=<span class="string">""</span> <span class="attr">stroke-width</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span> <span class="attr">attributeName</span>=<span class="string">"x"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">to</span>=<span class="string">"100"</span> <span class="attr">begin</span>=<span class="string">"4s"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animate</span> <span class="attr">attributeName</span>=<span class="string">"x"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">from</span>=<span class="string">"0"</span> <span class="attr">to</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animate</span> <span class="attr">attributeName</span>=<span class="string">"y"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">from</span>=<span class="string">"0"</span> <span class="attr">to</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animateTransform</span> <span class="attr">attributeName</span>=<span class="string">"transform"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">type</span>=<span class="string">"scale"</span> <span class="attr">from</span>=<span class="string">"1"</span> <span class="attr">to</span>=<span class="string">"2"</span> <span class="attr">repeatCount</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animateMotion</span> <span class="attr">path</span>=<span class="string">"M10,80 q100,120 120,20 q140,-50 160,0"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">repeatCount</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rect</span>&gt;</span>     </span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ä¼˜ç¼ºç‚¹</li></ul><p>SVGçš„ä¸€å¤§ä¼˜åŠ¿æ˜¯å«æœ‰è¾ƒä¸ºä¸°å¯Œçš„åŠ¨ç”»åŠŸèƒ½ï¼ŒåŸç”Ÿç»˜åˆ¶å„ç§å›¾å½¢ã€æ»¤é•œå’ŒåŠ¨ç”»ï¼Œå¹¶ä¸”èƒ½è¢«jsè°ƒç”¨ã€‚htmlæ˜¯å¯¹domçš„æ¸²æŸ“ï¼Œé‚£ä¹ˆsvgå°±æ˜¯å¯¹å›¾å½¢çš„æ¸²æŸ“ã€‚ ä½†æ˜¯ï¼Œå¦ä¸€æ–¹é¢å…ƒç´ è¾ƒå¤šä¸”å¤æ‚çš„åŠ¨ç”»ä½¿ç”¨svgæ¸²æŸ“ä¼šæ¯”è¾ƒæ…¢ï¼Œè€Œä¸”SVGæ ¼å¼çš„åŠ¨ç”»ç»˜åˆ¶æ–¹å¼å¿…é¡»è®©å†…å®¹åµŒå…¥åˆ°HTMLä¸­ä½¿ç”¨ã€‚CSS3çš„å‡ºç°è®©svgçš„åº”ç”¨å˜å¾—ç›¸å¯¹å°‘äº†ã€‚</p><h2 id="CSS3-transition"><a href="#CSS3-transition" class="headerlink" title="CSS3 transition"></a>CSS3 transition</h2><p>transitionæ˜¯è¿‡åº¦åŠ¨ç”»ã€‚ä½†æ˜¯transitionå¹¶ä¸èƒ½å®ç°ç‹¬ç«‹çš„åŠ¨ç”»ï¼Œåªèƒ½åœ¨æŸä¸ªæ ‡ç­¾å…ƒç´ æ ·å¼æˆ–çŠ¶æ€æ”¹å˜æ—¶è¿›è¡Œå¹³æ»‘çš„åŠ¨ç”»æ•ˆæœè¿‡æ¸¡ï¼Œè€Œä¸æ˜¯é©¬ä¸Šæ”¹å˜ã€‚</p><h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><p>åœ¨ç§»åŠ¨ç«¯å¼€å‘ä¸­ï¼Œç›´æ¥ä½¿ç”¨transitionåŠ¨ç”»ä¼šè®©é¡µé¢å˜æ…¢ç”šè‡³å¡é¡¿ã€‚æ‰€ä»¥æˆ‘ä»¬é€šå¸¸æ·»åŠ transform:translate3D(0,0,0)æˆ–transform:translateZ(0)æ¥å¼€å¯ç§»åŠ¨ç«¯åŠ¨ç”»çš„GPUåŠ é€Ÿï¼Œè®©åŠ¨ç”»è¿‡ç¨‹æ›´åŠ æµç•…ã€‚</p><h2 id="CSS3-animation"><a href="#CSS3-animation" class="headerlink" title="CSS3 animation"></a>CSS3 animation</h2><p>animation ç®—æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„CSS3åŠ¨ç”»ã€‚é€šè¿‡å¯¹å…³é”®å¸§å’Œå¾ªç¯æ¬¡æ•°çš„æ§åˆ¶ï¼Œé¡µé¢æ ‡ç­¾å…ƒç´ ä¼šæ ¹æ®è®¾å®šå¥½çš„æ ·å¼æ”¹å˜è¿›è¡Œå¹³æ»‘è¿‡æ¸¡ã€‚è€Œä¸”å…³é”®å¸§çŠ¶æ€çš„æ§åˆ¶æ˜¯é€šè¿‡ç™¾åˆ†æ¯”æ¥æ§åˆ¶çš„ã€‚</p><ul><li>ä¼˜ç‚¹CSS3æœ€å¤§çš„ä¼˜åŠ¿æ˜¯æ‘†è„±äº†jsçš„æ§åˆ¶ï¼Œå¹¶ä¸”èƒ½åˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿä»¥åŠå®ç°å¤æ‚åŠ¨ç”»æ•ˆæœã€‚</li></ul><h2 id="CanvasåŠ¨ç”»"><a href="#CanvasåŠ¨ç”»" class="headerlink" title="CanvasåŠ¨ç”»"></a>CanvasåŠ¨ç”»</h2><blockquote><p>canvasä½œä¸ºH5æ–°å¢å…ƒç´ ï¼Œæ˜¯å€ŸåŠ©Web APIæ¥å®ç°åŠ¨ç”»çš„ã€‚</p></blockquote><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    *&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"700"</span> <span class="attr">height</span>=<span class="string">"550"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// é€šè¿‡getContext()è·å–å…ƒç´ çš„ç»˜åˆ¶å¯¹è±¡ï¼Œé€šè¿‡clearRectä¸æ–­æ¸…ç©ºç”»å¸ƒå¹¶åœ¨æ–°çš„ä½ç½®ä¸Šä½¿ç”¨fillStyleç»˜åˆ¶æ–°çŸ©å½¢å†…å®¹å®ç°é¡µé¢åŠ¨ç”»æ•ˆæœ</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">            ctx.clearRect(0,0,700,550);</span></span><br><span class="line"><span class="undefined">            ctx.beginPath();</span></span><br><span class="line"><span class="javascript">            ctx.fillStyle = <span class="string">"#ccc"</span>;</span></span><br><span class="line"><span class="undefined">            ctx.fillRect(left,0,100,100);</span></span><br><span class="line"><span class="undefined">            ctx.stroke();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(left&gt;<span class="number">700</span>)&#123;</span></span><br><span class="line"><span class="undefined">                clearInterval(timer);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            left += 1;</span></span><br><span class="line"><span class="undefined">        &#125;,16);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ä¼˜ç‚¹Canvasä¸»è¦ä¼˜åŠ¿æ˜¯å¯ä»¥åº”å¯¹é¡µé¢ä¸­å¤šä¸ªåŠ¨ç”»å…ƒç´ æ¸²æŸ“è¾ƒæ…¢çš„æƒ…å†µï¼Œå®Œå…¨é€šè¿‡javascriptæ¥æ¸²æŸ“æ§åˆ¶åŠ¨ç”»çš„æ‰§è¡Œã€‚å¯ç”¨äºå®ç°è¾ƒå¤æ‚åŠ¨ç”»ã€‚</li></ul><h2 id="requestAnimationFrame"><a href="#requestAnimationFrame" class="headerlink" title="requestAnimationFrame"></a>requestAnimationFrame</h2><p>requestAnimationFrameæ˜¯å¦ä¸€ç§Web APIï¼ŒåŸç†ä¸setTimeoutå’ŒsetIntervalç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡javascriptæŒç»­å¾ªç¯çš„æ–¹æ³•è°ƒç”¨æ¥è§¦å‘åŠ¨ç”»åŠ¨ä½œã€‚ä½†æ˜¯requestAnimationFrameæ˜¯æµè§ˆå™¨é’ˆå¯¹åŠ¨ç”»ä¸“é—¨ä¼˜åŒ–å½¢æˆçš„APiï¼Œåœ¨æ€§èƒ½ä¸Šæ¯”å¦ä¸¤è€…è¦å¥½ã€‚</p><p>æ —å­ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        * &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        div &#123;</span></span><br><span class="line"><span class="undefined">            width: 200px;</span></span><br><span class="line"><span class="undefined">            height: 200px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"rect"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.requestAnimationFrame = <span class="built_in">window</span>.requestAnimationFrame || <span class="built_in">window</span>.mozRequestAnimationFrame || <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.msRequestAnimationFrame;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">"rect"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//è‡ªåŠ¨æ‰§è¡ŒæŒç»­æ€§å›è°ƒ</span></span></span><br><span class="line"><span class="undefined">    requestAnimationFrame(step);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//æŒç»­è¯¥æ”¹å˜å…ƒç´ ä½ç½®</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">step</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(left&lt;<span class="built_in">window</span>.innerWidth<span class="number">-200</span>)&#123;</span></span><br><span class="line"><span class="undefined">            left+=1;</span></span><br><span class="line"><span class="javascript">            elem.style.marginLeft = left+<span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">            requestAnimationFrame(step);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¤æ‚çš„åŠ¨ç”»æ˜¯é€šè¿‡ä¸€ä¸ªä¸ªç®€å•çš„åŠ¨ç”»ç»„åˆå®ç°çš„ã€‚åŸºäºå…¼å®¹æ€§é—®é¢˜ï¼Œé€šå¸¸åœ¨é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬åœ¨</p><ul><li>æ¡Œé¢ç«¯æµè§ˆå™¨æ¨èä½¿ç”¨javascriptç›´æ¥å®ç°åŠ¨ç”»æˆ–SVGæ–¹å¼ï¼›</li><li>ç§»åŠ¨ç«¯å¯ä»¥è€ƒè™‘ä½¿ç”¨CSS3 transitionã€CSS3 animationã€Canvasæˆ–requestAnimationFrameæ–¹å¼**ã€‚</li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>TARå‘½ä»¤è¯¦è§£</title>
      <link>http://mydearest.cn/2020/TAR%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3.html</link>
      <guid>http://mydearest.cn/2020/TAR%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3.html</guid>
      <pubDate>Tue, 28 Apr 2020 17:18:26 GMT</pubDate>
      <description>
      
        &lt;p&gt;åœ¨Linuxä¸­ï¼Œå‹ç¼©ä¸è§£å‹ç”¨å¾—æœ€å¤šçš„æ˜¯ &lt;code&gt;tar&lt;/code&gt; å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;-c: å»ºç«‹å‹ç¼©æ¡£æ¡ˆ
-xï¼šè§£å‹
-tï¼šæŸ¥çœ‹å†…å®¹
-rï¼šå‘å‹ç¼©å½’æ¡£æ–‡ä»¶æœ«å°¾è¿½åŠ æ–‡ä»¶
-uï¼šæ›´æ–°åŸå‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šäº”ä¸ªæ˜¯ç‹¬ç«‹çš„å‘½ä»¤å‚æ•°ï¼Œå‹ç¼©è§£å‹éƒ½è¦ç”¨åˆ°å…¶ä¸­ä¸€ä¸ªï¼Œå¯ä»¥å’Œåˆ«çš„å‘½ä»¤è¿ç”¨ä½†åªèƒ½ç”¨å…¶ä¸­ä¸€ä¸ªã€‚ä¸‹é¢çš„å‚æ•°æ˜¯æ ¹æ®éœ€è¦åœ¨å‹ç¼©æˆ–è§£å‹æ¡£æ¡ˆæ—¶å¯é€‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;-zï¼šæœ‰gzipå±æ€§çš„  gz
-jï¼šæœ‰bz2å±æ€§çš„   bz2&lt;/p&gt;
&lt;p&gt;-J ï¼šæœ‰xzå±æ€§çš„   xz
-Zï¼šæœ‰compresså±æ€§çš„
-vï¼šæ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹
-Oï¼šå°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„å‚æ•°-fæ˜¯å¿…é¡»çš„&lt;/p&gt;
&lt;p&gt;-f: ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œåˆ‡è®°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œåé¢åªèƒ½æ¥æ¡£æ¡ˆåã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>åœ¨Linuxä¸­ï¼Œå‹ç¼©ä¸è§£å‹ç”¨å¾—æœ€å¤šçš„æ˜¯ <code>tar</code> å‘½ä»¤ã€‚</p><p>-c: å»ºç«‹å‹ç¼©æ¡£æ¡ˆ-xï¼šè§£å‹-tï¼šæŸ¥çœ‹å†…å®¹-rï¼šå‘å‹ç¼©å½’æ¡£æ–‡ä»¶æœ«å°¾è¿½åŠ æ–‡ä»¶-uï¼šæ›´æ–°åŸå‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶</p><p>ä»¥ä¸Šäº”ä¸ªæ˜¯ç‹¬ç«‹çš„å‘½ä»¤å‚æ•°ï¼Œå‹ç¼©è§£å‹éƒ½è¦ç”¨åˆ°å…¶ä¸­ä¸€ä¸ªï¼Œå¯ä»¥å’Œåˆ«çš„å‘½ä»¤è¿ç”¨ä½†åªèƒ½ç”¨å…¶ä¸­ä¸€ä¸ªã€‚ä¸‹é¢çš„å‚æ•°æ˜¯æ ¹æ®éœ€è¦åœ¨å‹ç¼©æˆ–è§£å‹æ¡£æ¡ˆæ—¶å¯é€‰çš„ã€‚</p><p>-zï¼šæœ‰gzipå±æ€§çš„  gz-jï¼šæœ‰bz2å±æ€§çš„   bz2</p><p>-J ï¼šæœ‰xzå±æ€§çš„   xz-Zï¼šæœ‰compresså±æ€§çš„-vï¼šæ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹-Oï¼šå°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º</p><p>ä¸‹é¢çš„å‚æ•°-fæ˜¯å¿…é¡»çš„</p><p>-f: ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œåˆ‡è®°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œåé¢åªèƒ½æ¥æ¡£æ¡ˆåã€‚</p><hr><a id="more"></a><h2 id="æ —å­ğŸŒ°"><a href="#æ —å­ğŸŒ°" class="headerlink" title="æ —å­ğŸŒ°"></a>æ —å­ğŸŒ°</h2><h3 id="tar-cf-all-tar-jpg"><a href="#tar-cf-all-tar-jpg" class="headerlink" title="tar -cf all.tar *.jpg"></a>tar -cf all.tar *.jpg</h3><p>è¿™æ¡å‘½ä»¤æ˜¯å°†æ‰€æœ‰.jpgçš„æ–‡ä»¶æ‰“æˆä¸€ä¸ªåä¸ºall.tarçš„åŒ…ã€‚-cæ˜¯è¡¨ç¤ºäº§ç”Ÿæ–°çš„åŒ…ï¼Œ-fæŒ‡å®šåŒ…çš„æ–‡ä»¶åã€‚</p><h3 id="tar-rf-all-tar-gif"><a href="#tar-rf-all-tar-gif" class="headerlink" title="tar -rf all.tar *.gif"></a>tar -rf all.tar *.gif</h3><p>è¿™æ¡å‘½ä»¤æ˜¯å°†æ‰€æœ‰.gifçš„æ–‡ä»¶å¢åŠ åˆ°all.tarçš„åŒ…é‡Œé¢å»ã€‚-ræ˜¯è¡¨ç¤ºå¢åŠ æ–‡ä»¶çš„æ„æ€ã€‚</p><h3 id="tar-uf-all-tar-logo-gif"><a href="#tar-uf-all-tar-logo-gif" class="headerlink" title="tar -uf all.tar logo.gif"></a>tar -uf all.tar logo.gif</h3><p>è¿™æ¡å‘½ä»¤æ˜¯æ›´æ–°åŸæ¥taråŒ…all.tarä¸­logo.gifæ–‡ä»¶ï¼Œ-uæ˜¯è¡¨ç¤ºæ›´æ–°æ–‡ä»¶çš„æ„æ€ã€‚</p><h3 id="tar-tf-all-tar"><a href="#tar-tf-all-tar" class="headerlink" title="tar -tf all.tar"></a>tar -tf all.tar</h3><p>è¿™æ¡å‘½ä»¤æ˜¯åˆ—å‡ºall.taråŒ…ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œ-tæ˜¯åˆ—å‡ºæ–‡ä»¶çš„æ„æ€</p><h3 id="tar-xf-all-tar"><a href="#tar-xf-all-tar" class="headerlink" title="tar -xf all.tar"></a>tar -xf all.tar</h3><p>è¿™æ¡å‘½ä»¤æ˜¯è§£å‡ºall.taråŒ…ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œ-tæ˜¯è§£å¼€çš„æ„æ€</p><h2 id="å‹ç¼©"><a href="#å‹ç¼©" class="headerlink" title="å‹ç¼©"></a>å‹ç¼©</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆtar.jpg</span></span><br><span class="line">tar -cvf jpg.tar *.jpg </span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨gzipå‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªgzipå‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.gz</span></span><br><span class="line">tar -czf jpg.tar.gz *.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨bzip2å‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªbzip2å‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.bz2</span></span><br><span class="line">tar -cjf jpg.tar.bz2 *.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨compresså‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªumcompresså‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.Z</span></span><br><span class="line">tar -cZf jpg.tar.Z *.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment">// raræ ¼å¼çš„å‹ç¼©ï¼Œéœ€è¦å…ˆä¸‹è½½rar for linux</span></span><br><span class="line">rar a jpg.rar *.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment">// zipæ ¼å¼çš„å‹ç¼©ï¼Œéœ€è¦å…ˆä¸‹è½½zip for linux</span></span><br><span class="line">zip jpg.zip *.jpg</span><br></pre></td></tr></table></figure><h2 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£å‹ taråŒ…</span></span><br><span class="line">tar -xvf file.tar </span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹tar.gz</span></span><br><span class="line">tar -xzvf file.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹ tar.bz2</span></span><br><span class="line">tar -xjvf file.tar.bz2</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹tar.Z</span></span><br><span class="line">tar -xZvf file.tar.Z</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹tar.xz</span></span><br><span class="line">tar -Jxvf fle.tar.xz</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹rar</span></span><br><span class="line">unrar e file.rar </span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹zip</span></span><br><span class="line">unzip file.zip</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€*.tar ç”¨ tar -xvf è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€*.gz ç”¨ gzip -dæˆ–è€…gunzip è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€*.tar.gzå’Œ*.tgz ç”¨ tar -xzf è§£å‹   tar.xz  ç”¨ tar -Jxvf è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>ã€*.bz2 ç”¨ bzip2 -dæˆ–è€…ç”¨bunzip2 è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>ã€*.tar.bz2ç”¨tar -xjf è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>ã€*.Z ç”¨ uncompress è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>ã€*.tar.Z ç”¨tar -xZf è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>ã€*.rar ç”¨ unrar eè§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>ã€*.zip ç”¨ unzip è§£å‹</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/TAR%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ç®—æ³•é¢˜ç»ƒä¹ </title>
      <link>http://mydearest.cn/2020/%E7%AE%97%E6%B3%95%E9%A2%98%E7%BB%83%E4%B9%A0.html</link>
      <guid>http://mydearest.cn/2020/%E7%AE%97%E6%B3%95%E9%A2%98%E7%BB%83%E4%B9%A0.html</guid>
      <pubDate>Wed, 22 Apr 2020 17:03:40 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;äº”å¤§ç®—æ³•&quot;&gt;&lt;a href=&quot;#äº”å¤§ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;äº”å¤§ç®—æ³•&quot;&gt;&lt;/a&gt;äº”å¤§ç®—æ³•&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;è´ªå¿ƒç®—æ³•ï¼šå±€éƒ¨æœ€ä¼˜è§£æ³•&lt;/li&gt;
&lt;li&gt;åˆ†æ²»ç®—æ³•ï¼šåˆ†æˆå¤šä¸ªå°æ¨¡å—ï¼Œä¸åŸé—®é¢˜æ€§è´¨ç›¸åŒ&lt;/li&gt;
&lt;li&gt;åŠ¨æ€è§„åˆ’ï¼šæ¯ä¸ªçŠ¶æ€éƒ½æ˜¯è¿‡å»å†å²çš„ä¸€ä¸ªæ€»ç»“&lt;/li&gt;
&lt;li&gt;å›æº¯æ³•ï¼šå‘ç°åŸå…ˆé€‰æ‹©ä¸ä¼˜æ—¶ï¼Œé€€å›é‡æ–°é€‰æ‹©&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æ•°æ®æ ‘&quot;&gt;&lt;a href=&quot;#æ•°æ®æ ‘&quot; class=&quot;headerlink&quot; title=&quot;æ•°æ®æ ‘&quot;&gt;&lt;/a&gt;æ•°æ®æ ‘&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;äºŒå‰æ ‘: æœ€å¤šåªæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®Œå…¨äºŒå‰æ ‘&lt;/li&gt;
&lt;li&gt;æ»¡äºŒå‰æ ‘&lt;ul&gt;
&lt;li&gt;æ·±åº¦ä¸º h, æœ‰ n ä¸ªèŠ‚ç‚¹ï¼Œä¸”æ»¡è¶³ n = 2^h - 1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;äºŒå‰æŸ¥æ‰¾æ ‘: æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œèƒ½æœ‰æ•ˆåœ°æé«˜æŸ¥æ‰¾æ•ˆç‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°å€¼åœ¨å·¦ï¼Œå¤§å€¼åœ¨å³&lt;/li&gt;
&lt;li&gt;èŠ‚ç‚¹ n çš„æ‰€æœ‰å·¦å­æ ‘å€¼å°äº nï¼Œæ‰€æœ‰å³å­æ ‘å€¼å¤§äº n&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/binary-search-tree.png&quot; alt=&quot;binary-search-tree&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éå†èŠ‚ç‚¹&lt;ul&gt;
&lt;li&gt;å‰åºéå†&lt;ul&gt;
&lt;li&gt;æ ¹èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;è®¿é—®å·¦å­èŠ‚ç‚¹ï¼Œå›åˆ° 1&lt;/li&gt;
&lt;li&gt;è®¿é—®å³å­èŠ‚ç‚¹ï¼Œå›åˆ° 1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸­åºéå†&lt;ul&gt;
&lt;li&gt;å…ˆè®¿é—®åˆ°æœ€å·¦çš„å­èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;è®¿é—®è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;è®¿é—®è¯¥çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œ å›åˆ° 1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ååºéå†&lt;ul&gt;
&lt;li&gt;å…ˆè®¿é—®åˆ°æœ€å·¦çš„å­èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;è®¿é—®ç›¸é‚»çš„å³èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œ å›åˆ° 1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;DLRâ€“å‰åºéå†ï¼ˆæ ¹åœ¨å‰ï¼Œä»å·¦å¾€å³ï¼Œä¸€æ£µæ ‘çš„æ ¹æ°¸è¿œåœ¨å·¦å­æ ‘å‰é¢ï¼Œå·¦å­æ ‘åˆæ°¸è¿œåœ¨å³å­æ ‘å‰é¢ ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/dlr.png&quot; alt=&quot;dlr&quot;&gt;&lt;/p&gt;
&lt;p&gt;LDRâ€“ä¸­åºéå†ï¼ˆæ ¹åœ¨ä¸­ï¼Œä»å·¦å¾€å³ï¼Œä¸€æ£µæ ‘çš„å·¦å­æ ‘æ°¸è¿œåœ¨æ ¹å‰é¢ï¼Œæ ¹æ°¸è¿œåœ¨å³å­æ ‘å‰é¢ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/ldr.png&quot; alt=&quot;ldr&quot;&gt;&lt;/p&gt;
&lt;p&gt;LRDâ€“ååºéå†ï¼ˆæ ¹åœ¨åï¼Œä»å·¦å¾€å³ï¼Œä¸€æ£µæ ‘çš„å·¦å­æ ‘æ°¸è¿œåœ¨å³å­æ ‘å‰é¢ï¼Œå³å­æ ‘æ°¸è¿œåœ¨æ ¹å‰é¢ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/lrd.png&quot; alt=&quot;lrd&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ’å…¥ä¸åˆ é™¤èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="äº”å¤§ç®—æ³•"><a href="#äº”å¤§ç®—æ³•" class="headerlink" title="äº”å¤§ç®—æ³•"></a>äº”å¤§ç®—æ³•</h1><ul><li>è´ªå¿ƒç®—æ³•ï¼šå±€éƒ¨æœ€ä¼˜è§£æ³•</li><li>åˆ†æ²»ç®—æ³•ï¼šåˆ†æˆå¤šä¸ªå°æ¨¡å—ï¼Œä¸åŸé—®é¢˜æ€§è´¨ç›¸åŒ</li><li>åŠ¨æ€è§„åˆ’ï¼šæ¯ä¸ªçŠ¶æ€éƒ½æ˜¯è¿‡å»å†å²çš„ä¸€ä¸ªæ€»ç»“</li><li>å›æº¯æ³•ï¼šå‘ç°åŸå…ˆé€‰æ‹©ä¸ä¼˜æ—¶ï¼Œé€€å›é‡æ–°é€‰æ‹©</li></ul><h2 id="æ•°æ®æ ‘"><a href="#æ•°æ®æ ‘" class="headerlink" title="æ•°æ®æ ‘"></a>æ•°æ®æ ‘</h2><ul><li><p>äºŒå‰æ ‘: æœ€å¤šåªæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</p><ul><li>å®Œå…¨äºŒå‰æ ‘</li><li>æ»¡äºŒå‰æ ‘<ul><li>æ·±åº¦ä¸º h, æœ‰ n ä¸ªèŠ‚ç‚¹ï¼Œä¸”æ»¡è¶³ n = 2^h - 1</li></ul></li></ul></li><li><p>äºŒå‰æŸ¥æ‰¾æ ‘: æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œèƒ½æœ‰æ•ˆåœ°æé«˜æŸ¥æ‰¾æ•ˆç‡</p><ul><li>å°å€¼åœ¨å·¦ï¼Œå¤§å€¼åœ¨å³</li><li>èŠ‚ç‚¹ n çš„æ‰€æœ‰å·¦å­æ ‘å€¼å°äº nï¼Œæ‰€æœ‰å³å­æ ‘å€¼å¤§äº n</li></ul></li></ul><p><img src="http://cdn.mydearest.cn/blog/images/binary-search-tree.png" alt="binary-search-tree"></p><ul><li>éå†èŠ‚ç‚¹<ul><li>å‰åºéå†<ul><li>æ ¹èŠ‚ç‚¹</li><li>è®¿é—®å·¦å­èŠ‚ç‚¹ï¼Œå›åˆ° 1</li><li>è®¿é—®å³å­èŠ‚ç‚¹ï¼Œå›åˆ° 1</li></ul></li><li>ä¸­åºéå†<ul><li>å…ˆè®¿é—®åˆ°æœ€å·¦çš„å­èŠ‚ç‚¹</li><li>è®¿é—®è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</li><li>è®¿é—®è¯¥çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œ å›åˆ° 1</li></ul></li><li>ååºéå†<ul><li>å…ˆè®¿é—®åˆ°æœ€å·¦çš„å­èŠ‚ç‚¹</li><li>è®¿é—®ç›¸é‚»çš„å³èŠ‚ç‚¹</li><li>è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œ å›åˆ° 1</li></ul></li></ul></li></ul><p>DLRâ€“å‰åºéå†ï¼ˆæ ¹åœ¨å‰ï¼Œä»å·¦å¾€å³ï¼Œä¸€æ£µæ ‘çš„æ ¹æ°¸è¿œåœ¨å·¦å­æ ‘å‰é¢ï¼Œå·¦å­æ ‘åˆæ°¸è¿œåœ¨å³å­æ ‘å‰é¢ ï¼‰</p><p><img src="http://cdn.mydearest.cn/blog/images/dlr.png" alt="dlr"></p><p>LDRâ€“ä¸­åºéå†ï¼ˆæ ¹åœ¨ä¸­ï¼Œä»å·¦å¾€å³ï¼Œä¸€æ£µæ ‘çš„å·¦å­æ ‘æ°¸è¿œåœ¨æ ¹å‰é¢ï¼Œæ ¹æ°¸è¿œåœ¨å³å­æ ‘å‰é¢ï¼‰</p><p><img src="http://cdn.mydearest.cn/blog/images/ldr.png" alt="ldr"></p><p>LRDâ€“ååºéå†ï¼ˆæ ¹åœ¨åï¼Œä»å·¦å¾€å³ï¼Œä¸€æ£µæ ‘çš„å·¦å­æ ‘æ°¸è¿œåœ¨å³å­æ ‘å‰é¢ï¼Œå³å­æ ‘æ°¸è¿œåœ¨æ ¹å‰é¢ï¼‰</p><p><img src="http://cdn.mydearest.cn/blog/images/lrd.png" alt="lrd"></p><ul><li>æ’å…¥ä¸åˆ é™¤èŠ‚ç‚¹</li></ul><hr><a id="more"></a><h2 id="å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°"><a href="#å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°" class="headerlink" title="å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°"></a>å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°</h2><p>è§£æï¼šç”±ç´ æ•°ï¼ˆè´¨æ•°ï¼‰å®šä¹‰å¯çŸ¥ï¼š</p><ul><li>â‘  0ã€1éƒ½ä¸æ˜¯è´¨æ•°ï¼Œé‚£ä¹ˆæœ€å°çš„è´¨æ•°å°±æ˜¯2ã€‚</li><li>â‘¡ é™¤äº†1å’Œå®ƒè‡ªèº«ï¼Œä¸èƒ½è¢«å…¶ä»–æ•°æ•´é™¤ï¼Œé‚£ä¹ˆä»£ç è¡¨è¾¾å¼è¡¨ç¤ºä¸ºï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i % j === <span class="number">0</span></span><br></pre></td></tr></table></figure><ul><li>ä»£ç å®ç°</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> arr = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> bl = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">2</span>; j &lt;= i; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i === j) <span class="keyword">continue</span></span><br><span class="line">      i % j === <span class="number">0</span> &amp;&amp; (bl = <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    !bl &amp;&amp; arr.push(i)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fn())</span><br></pre></td></tr></table></figure><h2 id="ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•è¿›è¡Œå‡åºæ’åˆ—ã€‚å¦‚-2-5-8-9-3-gt-2-3-5-8-9"><a href="#ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•è¿›è¡Œå‡åºæ’åˆ—ã€‚å¦‚-2-5-8-9-3-gt-2-3-5-8-9" class="headerlink" title="ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•è¿›è¡Œå‡åºæ’åˆ—ã€‚å¦‚[2, 5, 8, 9, 3] =&gt;[2, 3, 5, 8, 9]"></a>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•è¿›è¡Œå‡åºæ’åˆ—ã€‚å¦‚[2, 5, 8, 9, 3] =&gt;[2, 3, 5, 8, 9]</h2><p>è§£æï¼šï¼ˆåˆ†æ²»æ³•ï¼‰å°†ä¸€ä¸ªåˆ—è¡¨åˆ†å‰²ä¸ºå·¦å³ä¸¤å—ï¼Œç„¶åå†å°†å­—åˆ—è¡¨å†è¿›è¡Œåˆ†å‰²ä¸ºå·¦å³ä¸¤å—ï¼Œå¦‚ä½•åå¤ï¼ŒçŸ¥é“å­å…ƒç´ é•¿åº¦ä¸º1æ—¶ï¼Œç»“æŸï¼</p><ul><li>ä»£ç å®ç°<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">qSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (arr.length &lt;= <span class="number">1</span>) <span class="keyword">return</span> arr</span><br><span class="line">  <span class="keyword">const</span> index = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>)</span><br><span class="line">  <span class="keyword">const</span> midVal = arr.splice(index, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> left = [],</span><br><span class="line">    right = []</span><br><span class="line">  arr.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item &lt; midVal) left.push(item)</span><br><span class="line">    <span class="keyword">else</span> right.push(item)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> [...qSort(left), midVal, ...qSort(right)]</span><br><span class="line">&#125;</span><br><span class="line">qSort([<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure></li></ul><h2 id="æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„éé‡å¤è¿ç»­å­ä¸²"><a href="#æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„éé‡å¤è¿ç»­å­ä¸²" class="headerlink" title="æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„éé‡å¤è¿ç»­å­ä¸²"></a>æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„éé‡å¤è¿ç»­å­ä¸²</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">''</span>;<span class="comment">//å­˜æ”¾å½“å‰æœ€å¤§æ— é‡å¤é¡¹å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">var</span> len = <span class="number">0</span>;<span class="comment">//å­˜æ”¾å½“å‰æœ€å¤§æ— é‡å¤é¡¹å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;s.length;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> char = s.charAt(i);</span><br><span class="line">        <span class="keyword">var</span> index = str.indexOf(char);</span><br><span class="line">        <span class="keyword">if</span>(index === <span class="number">-1</span>)&#123;  <span class="comment">//éå†så°†å…ƒç´ æŒ¨ä¸ªæ”¾å…¥åˆ°strä¸­ï¼Œæ¯æ”¾å…¥ä¸€æ¬¡åˆ¤æ–­strä¸­æ˜¯å¦æœ‰é‡å¤é¡¹</span></span><br><span class="line">            str += char;</span><br><span class="line">            len = len&lt;str.length?str.length:len;<span class="comment">//è®°å½•æœ€å¤§é•¿åº¦é¡¹,æ¯æ¬¡é‡æ–°è®°å½•strè¿›è¡Œåˆ¤æ–­ï¼Œæ˜¯å¦å¤§äºä¸Šæ¬¡ä¸€æ¬¡æœ€å¤§é¡¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            str = str.substr(index + <span class="number">1</span>) + char; <span class="comment">//ä»å½“å‰é‡å¤é¡¹å¼€å§‹é‡æ–°è®°å½•str</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 'adasdddddddfghti' 6</span></span><br></pre></td></tr></table></figure><h2 id="æ±‚å­—ç¬¦ä¸²æ•°ç»„çš„æœ€é•¿å…¬å…±å‰ç¼€"><a href="#æ±‚å­—ç¬¦ä¸²æ•°ç»„çš„æœ€é•¿å…¬å…±å‰ç¼€" class="headerlink" title="æ±‚å­—ç¬¦ä¸²æ•°ç»„çš„æœ€é•¿å…¬å…±å‰ç¼€"></a>æ±‚å­—ç¬¦ä¸²æ•°ç»„çš„æœ€é•¿å…¬å…±å‰ç¼€</h2><blockquote><p>æ¯”å¦‚è¾“å…¥: [â€œflowerâ€,â€flowâ€,â€flightâ€]ï¼Œè¾“å‡º: â€œflâ€</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> longestCommonPrefix = <span class="function"><span class="keyword">function</span>(<span class="params">strs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (strs === <span class="literal">null</span> || strs.length === <span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span>(strs.length === <span class="number">1</span>) <span class="keyword">return</span> strs[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">let</span> min = <span class="number">0</span>, max = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; strs.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(strs[min] &gt; strs[i]) min = i</span><br><span class="line">        <span class="keyword">if</span>(strs[max] &lt; strs[i]) max = i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; strs[min].length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(strs[min].charAt(j) !== strs[max].charAt(j)) &#123;</span><br><span class="line">            <span class="keyword">return</span> strs[min].substring(<span class="number">0</span>, j)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> strs[min]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å®ç°äºŒå‰æ ‘-æ„å»ºã€éå†"><a href="#å®ç°äºŒå‰æ ‘-æ„å»ºã€éå†" class="headerlink" title="å®ç°äºŒå‰æ ‘(æ„å»ºã€éå†)"></a>å®ç°äºŒå‰æ ‘(æ„å»ºã€éå†)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">TreeCode</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> BiTree = <span class="function"><span class="keyword">function</span> (<span class="params">ele</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = ele;</span><br><span class="line">        <span class="keyword">this</span>.lChild = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">this</span>.rChild = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.createTree = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> biTree = <span class="keyword">new</span> BiTree(<span class="string">'A'</span>);</span><br><span class="line">        biTree.lChild = <span class="keyword">new</span> BiTree(<span class="string">'B'</span>);</span><br><span class="line">        biTree.rChild = <span class="keyword">new</span> BiTree(<span class="string">'C'</span>);</span><br><span class="line">        biTree.lChild.lChild = <span class="keyword">new</span> BiTree(<span class="string">'D'</span>);</span><br><span class="line">        biTree.lChild.lChild.lChild = <span class="keyword">new</span> BiTree(<span class="string">'G'</span>);</span><br><span class="line">        biTree.lChild.lChild.rChild = <span class="keyword">new</span> BiTree(<span class="string">'H'</span>);</span><br><span class="line">        biTree.rChild.lChild = <span class="keyword">new</span> BiTree(<span class="string">'E'</span>);</span><br><span class="line">        biTree.rChild.rChild = <span class="keyword">new</span> BiTree(<span class="string">'F'</span>);</span><br><span class="line">        biTree.rChild.lChild.rChild = <span class="keyword">new</span> BiTree(<span class="string">'I'</span>);</span><br><span class="line">        <span class="keyword">return</span> biTree;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰åºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ProOrderTraverse</span>(<span class="params">biTree</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (biTree == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(biTree.data);</span><br><span class="line">    ProOrderTraverse(biTree.lChild);</span><br><span class="line">    ProOrderTraverse(biTree.rChild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸­åºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">InOrderTraverse</span>(<span class="params">biTree</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (biTree == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    InOrderTraverse(biTree.lChild);</span><br><span class="line">    <span class="built_in">console</span>.log(biTree.data);</span><br><span class="line">    InOrderTraverse(biTree.rChild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åç»­éå†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PostOrderTraverse</span>(<span class="params">biTree</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (biTree == <span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    PostOrderTraverse(biTree.lChild);</span><br><span class="line">    PostOrderTraverse(biTree.rChild);</span><br><span class="line">    <span class="built_in">console</span>.log(biTree.data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myTree = <span class="keyword">new</span> TreeCode();</span><br><span class="line"><span class="built_in">console</span>.log(myTree.createTree());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'å‰åºéå†'</span>)</span><br><span class="line">ProOrderTraverse(myTree.createTree());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'ä¸­åºéå†'</span>)</span><br><span class="line">InOrderTraverse(myTree.createTree());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'åç»­éå†'</span>)</span><br><span class="line">PostOrderTraverse(myTree.createTree());</span><br></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘çš„éé€’å½’éå†"><a href="#äºŒå‰æ ‘çš„éé€’å½’éå†" class="headerlink" title="äºŒå‰æ ‘çš„éé€’å½’éå†"></a>äºŒå‰æ ‘çš„éé€’å½’éå†</h2><h3 id="æ·±åº¦ä¼˜å…ˆéé€’å½’-æ ˆçš„å…ˆè¿›åå‡º"><a href="#æ·±åº¦ä¼˜å…ˆéé€’å½’-æ ˆçš„å…ˆè¿›åå‡º" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéé€’å½’(æ ˆçš„å…ˆè¿›åå‡º)"></a>æ·±åº¦ä¼˜å…ˆéé€’å½’(æ ˆçš„å…ˆè¿›åå‡º)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DepthFirstSearch</span>(<span class="params">biTree</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> stack = [];</span><br><span class="line">    stack.push(biTree);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (stack.length != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> node = stack.pop();</span><br><span class="line">        <span class="built_in">console</span>.log(node.data);</span><br><span class="line">        <span class="keyword">if</span> (node.rChild) &#123;</span><br><span class="line">            stack.push(node.rChild);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.lChild) &#123;</span><br><span class="line">            stack.push(node.lChild);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¹¿åº¦ä¼˜å…ˆéé€’å½’-é˜Ÿåˆ—çš„å…ˆè¿›å…ˆå‡º"><a href="#å¹¿åº¦ä¼˜å…ˆéé€’å½’-é˜Ÿåˆ—çš„å…ˆè¿›å…ˆå‡º" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆéé€’å½’(é˜Ÿåˆ—çš„å…ˆè¿›å…ˆå‡º)"></a>å¹¿åº¦ä¼˜å…ˆéé€’å½’(é˜Ÿåˆ—çš„å…ˆè¿›å…ˆå‡º)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> BreadthFirstSearch(biTree) &#123;</span><br><span class="line">    <span class="built_in">let</span> queue = [];</span><br><span class="line">    queue.push(biTree);</span><br><span class="line">    <span class="keyword">while</span> (queue.length != 0) &#123;</span><br><span class="line">        <span class="built_in">let</span> node = queue.shift();</span><br><span class="line">        console.log(node.data);</span><br><span class="line">        <span class="keyword">if</span> (node.lChild) &#123;</span><br><span class="line">            queue.push(node.lChild);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.rChild) &#123;</span><br><span class="line">            queue.push(node.rChild);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E7%AE%97%E6%B3%95%E9%A2%98%E7%BB%83%E4%B9%A0.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>vueé¢è¯•é¢˜è®°å½•</title>
      <link>http://mydearest.cn/2020/vueInterview.html</link>
      <guid>http://mydearest.cn/2020/vueInterview.html</guid>
      <pubDate>Wed, 22 Apr 2020 16:10:18 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;Vueé¢è¯•é—®é¢˜&quot;&gt;&lt;a href=&quot;#Vueé¢è¯•é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;Vueé¢è¯•é—®é¢˜&quot;&gt;&lt;/a&gt;Vueé¢è¯•é—®é¢˜&lt;/h2&gt;&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="Vueé¢è¯•é—®é¢˜"><a href="#Vueé¢è¯•é—®é¢˜" class="headerlink" title="Vueé¢è¯•é—®é¢˜"></a>Vueé¢è¯•é—®é¢˜</h2><hr><a id="more"></a><h3 id="v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«"></a>v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«</h3><ul><li><p>v-ifv-if æ˜¯çœŸæ­£çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºï¼Œä¹Ÿæ˜¯æƒ°æ€§çš„ï¼Œå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ¡ä»¶ä¸ºå‡æ—¶ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶æ‰å¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚</p></li><li><p>v-showv-showå°±ç®€å•å¾—å¤šï¼Œä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäºcssçš„displayè¿›è¡Œåˆ‡æ¢ã€‚</p></li></ul><p>æ‰€ä»¥ï¼Œv-ifé€‚ç”¨äºåˆ‡æ¢ä¸é¢‘ç¹çš„åœºæ™¯ï¼Œv-showé€‚ç”¨äºåˆ‡æ¢é¢‘ç¹çš„åœºæ™¯ã€‚</p><h3 id="classå’Œstyleå¦‚ä½•åŠ¨æ€ç»‘å®š"><a href="#classå’Œstyleå¦‚ä½•åŠ¨æ€ç»‘å®š" class="headerlink" title="classå’Œstyleå¦‚ä½•åŠ¨æ€ç»‘å®š"></a>classå’Œstyleå¦‚ä½•åŠ¨æ€ç»‘å®š</h3><p>classå¯ä»¥é€šè¿‡å¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼š</p><ul><li><p>å¯¹è±¡è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:<span class="class"><span class="keyword">class</span></span>=<span class="string">"&#123;active: isActive, 'text-danger': hasError &#125;"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">data: &#123;</span><br><span class="line">    isActive: <span class="literal">true</span>,</span><br><span class="line">    hasError: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ•°ç»„è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:<span class="class"><span class="keyword">class</span></span>=<span class="string">"[isActive ? activeClass : '', errorClass]"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">data: &#123;</span><br><span class="line">    activeClass: <span class="string">'active'</span>,</span><br><span class="line">    errorClass: <span class="string">'text-danger'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>styleä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•è¿›è¡ŒåŠ¨æ€ç»‘å®š</p><h3 id="ç†è§£vueé‡Œçš„å•å‘æ•°æ®æµ"><a href="#ç†è§£vueé‡Œçš„å•å‘æ•°æ®æµ" class="headerlink" title="ç†è§£vueé‡Œçš„å•å‘æ•°æ®æµ"></a>ç†è§£vueé‡Œçš„å•å‘æ•°æ®æµ</h3><p>æ‰€æœ‰çš„propéƒ½ä½¿å¾—å…¶çˆ¶å­propä¹‹é—´å½¢æˆä¸€ä¸ªå•å‘ä¸‹è¡Œç»‘å®šï¼šçˆ¶çº§propçš„æ›´æ–°ä¼šå‘ä¸‹æµåŠ¨åˆ°å­ç»„ä»¶ä¸­ï¼Œä½†æ˜¯åè¿‡æ¥ä¸è¡Œï¼Œè¿™æ ·ä¼šé˜²æ­¢ä»å­ç»„ä»¶æ„å¤–æ”¹å˜çˆ¶çº§ç»„ä»¶çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´ä½ çš„åº”ç”¨çš„æ•°æ®æµéš¾ä»¥è§£é‡Š.</p><p>é¢å¤–åœ°ï¼Œæ¯æ¬¡çˆ¶çº§ç»„ä»¶å‘ç”Ÿæ›´æ–°æ—¶ï¼Œå­ç»„ä»¶ä¸­çš„æ‰€æœ‰propéƒ½ä¼šåˆ·æ–°ä¸ºæœ€æ–°çš„å€¼ï¼Œè¿™æ„å‘³ç€ä½ ä¸åº”è¯¥åœ¨ä¸€ä¸ªå­ç»„ä»¶å†…éƒ¨æ”¹å˜propï¼Œå¦‚æœä½ è¿™æ ·åšäº†ï¼Œvueä¼šåœ¨æµè§ˆå™¨çš„æ§åˆ¶å°å‘å‡ºè­¦å‘Šï¼Œå­ç»„ä»¶æƒ³ä¿®æ”¹æ—¶ï¼Œåªèƒ½é€šè¿‡$emitæ´¾å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶åˆ°åï¼Œç”±çˆ¶ç»„ä»¶ä¿®æ”¹.</p><h3 id="computedå’Œwatchçš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯"><a href="#computedå’Œwatchçš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯" class="headerlink" title="computedå’Œwatchçš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯"></a>computedå’Œwatchçš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯</h3><ul><li><p>computedï¼šæ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶ä»–å±æ€§å€¼ï¼Œå¹¶ä¸”computedçš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜æ—¶ä¸‹ä¸€æ¬¡è·å–computedçš„å€¼æ—¶å€™æ‰ä¼šé‡æ–°è®¡ç®—computedçš„å€¼ã€‚</p></li><li><p>watchï¼šæ›´å¤šçš„æ˜¯è§‚å¯Ÿä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œã€‚</p></li></ul><p>è¿ç”¨åœºæ™¯ï¼š</p><ul><li><p>å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¾èµ–äºå…¶ä»–æ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨computedçš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶éƒ½è¦é‡æ–°è®¡ç®—ã€‚</p></li><li><p>ä½†æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶åº”è¯¥ä½¿ç”¨watchï¼Œä½¿ç”¨watché€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ï¼Œè¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚</p></li></ul><h3 id="ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼Œvueèƒ½æ£€æµ‹åˆ°å—"><a href="#ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼Œvueèƒ½æ£€æµ‹åˆ°å—" class="headerlink" title="ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼Œvueèƒ½æ£€æµ‹åˆ°å—"></a>ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼Œvueèƒ½æ£€æµ‹åˆ°å—</h3><p>ç”±äºjsçš„é™åˆ¶ï¼Œvueä¸èƒ½æ£€æµ‹åˆ°ä»¥ä¸‹æ•°ç»„çš„å˜åŠ¨ï¼š</p><ul><li>å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶ï¼Œä¾‹å¦‚vm.item[indexOfItem] = newValue</li><li>å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚vm.items.length = newLength</li></ul><p>ä¸ºäº†è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œvueæä¾›äº†ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line">Vue.$set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line">Vue.items.splice(indexOfItem, <span class="number">1</span>, newValue)</span><br></pre></td></tr></table></figure></p><p>ä¸ºäº†è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼Œvueæä¾›äº†ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.items.splice(newLength)</span><br></pre></td></tr></table></figure></p><h3 id="vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£"><a href="#vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£" class="headerlink" title="vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£"></a>vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£</h3><ul><li><p>ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆvueå®ä¾‹æœ‰ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯ä»å¼€å§‹åˆ›å»ºï¼Œåˆå§‹åŒ–æ•°æ®ï¼Œç¼–è¯‘æ¨¡æ¿ï¼ŒæŒ‚è½½dom-&gt;æ¸²æŸ“æ›´æ–°-&gt;æ¸²æŸ“å¸è½½ç­‰ä¸€äº›è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°è¿™æ˜¯vueçš„ç”Ÿå‘½å‘¨æœŸ</p></li><li><p>å„ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä½œç”¨</p><ul><li>beforeCreateï¼šç»„ä»¶è¢«åˆ›å»ºä¹‹åˆï¼Œç»„ä»¶çš„å±æ€§ç”Ÿæ•ˆä¹‹å‰</li><li>createdï¼šç»„ä»¶å®ä¾‹å·²ç»å®Œå…¨åˆ›å»ºï¼Œå±æ€§ä¹Ÿç»‘å®šï¼Œä½†æ˜¯çœŸå®çš„domè¿˜æ²¡æœ‰ç”Ÿæˆï¼Œ$elè¿˜ä¸èƒ½ç”¨</li><li>beforeMountï¼šåœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼Œç›¸å…³çš„renderå‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨</li><li>mountedï¼šelè¢«æ–°åˆ›å»ºçš„vm.$elæ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»åè°ƒç”¨è¯¥é’©å­</li><li>beforeUpdateï¼šç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿdomæ‰“è¡¥ä¸ä¹‹å‰ </li><li>updatedï¼šç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å</li><li>activitedï¼škeep-aliveä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨</li><li>deactivatedï¼škeep-aliveä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨</li><li>beforeDestroyï¼šç»„ä»¶è¢«é”€æ¯å‰ destroyedï¼šç»„ä»¶è¢«é”€æ¯åè°ƒç”¨</li></ul></li><li><p><em>init</em></p><ul><li>initLifecycle/Eventï¼Œå¾€vmä¸ŠæŒ‚è½½å„ç§å±æ€§</li><li>callHook: beforeCreate: å®ä¾‹åˆšåˆ›å»º</li><li>initInjection/initState: åˆå§‹åŒ–æ³¨å…¥å’Œ data å“åº”æ€§</li><li>created: åˆ›å»ºå®Œæˆï¼Œå±æ€§å·²ç»ç»‘å®šï¼Œ ä½†è¿˜æœªç”ŸæˆçœŸå®dom</li><li>è¿›è¡Œå…ƒç´ çš„æŒ‚è½½ï¼š $el / vm.$mount()</li><li>æ˜¯å¦æœ‰template: è§£ææˆrender function<ul><li>*.vueæ–‡ä»¶: vue-loaderä¼šå°†<template>ç¼–è¯‘æˆrender function</template></li></ul></li><li>beforeMount: æ¨¡æ¿ç¼–è¯‘/æŒ‚è½½ä¹‹å‰</li><li>æ‰§è¡Œrender functionï¼Œç”ŸæˆçœŸå®çš„domï¼Œå¹¶æ›¿æ¢åˆ°dom treeä¸­</li><li>mounted: ç»„ä»¶å·²æŒ‚è½½</li></ul></li><li><p>update:</p><ul><li>æ‰§è¡Œdiffç®—æ³•ï¼Œæ¯”å¯¹æ”¹å˜æ˜¯å¦éœ€è¦è§¦å‘UIæ›´æ–°</li><li>flushScheduleQueue<ul><li>watcher.before: è§¦å‘beforeUpdateé’©å­        </li><li>watcher.run(): æ‰§è¡Œwatcherä¸­çš„ notifyï¼Œé€šçŸ¥æ‰€æœ‰ä¾èµ–é¡¹æ›´æ–°UI</li></ul></li><li>è§¦å‘updatedé’©å­: ç»„ä»¶å·²æ›´æ–°</li></ul></li><li><p>actived / deactivated(keep-alive): ä¸é”€æ¯ï¼Œç¼“å­˜ï¼Œç»„ä»¶æ¿€æ´»ä¸å¤±æ´»</p></li><li>destroy:<ul><li>beforeDestroy: é”€æ¯å¼€å§‹</li><li>é”€æ¯è‡ªèº«ä¸”é€’å½’é”€æ¯å­ç»„ä»¶ä»¥åŠäº‹ä»¶ç›‘å¬<ul><li>remove(): åˆ é™¤èŠ‚ç‚¹</li><li>watcher.teardown(): æ¸…ç©ºä¾èµ–</li><li>vm.$off(): è§£ç»‘ç›‘å¬</li></ul></li><li>destroyed: å®Œæˆåè§¦å‘é’©å­</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–Vueå®ä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="comment">// æŒ‚è½½å±æ€§</span></span><br><span class="line">    initLifeCycle(vm) </span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–äº‹ä»¶ç³»ç»Ÿï¼Œé’©å­å‡½æ•°ç­‰</span></span><br><span class="line">    initEvent(vm) </span><br><span class="line">    <span class="comment">// ç¼–è¯‘slotã€vnode</span></span><br><span class="line">    initRender(vm) </span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(vm, <span class="string">'beforeCreate'</span>)</span><br><span class="line">    <span class="comment">// æ·»åŠ injectåŠŸèƒ½</span></span><br><span class="line">    initInjection(vm)</span><br><span class="line">    <span class="comment">// å®Œæˆæ•°æ®å“åº”æ€§ props/data/watch/computed/methods</span></span><br><span class="line">    initState(vm)</span><br><span class="line">    <span class="comment">// æ·»åŠ  provide åŠŸèƒ½</span></span><br><span class="line">    initProvide(vm)</span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(vm, <span class="string">'created'</span>)</span><br><span class="line"></span><br><span class="line"> <span class="comment">// æŒ‚è½½èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (vm.$options.el) &#123;</span><br><span class="line">        vm.$mount(vm.$options.el)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‚è½½èŠ‚ç‚¹å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mountComponent</span>(<span class="params">vm</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// è·å– render function</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.options.render) &#123;</span><br><span class="line">        <span class="comment">// template to render</span></span><br><span class="line">        <span class="comment">// Vue.compile = compileToFunctions</span></span><br><span class="line">        <span class="keyword">let</span> &#123; render &#125; = compileToFunctions() </span><br><span class="line">        <span class="keyword">this</span>.options.render = render</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(<span class="string">'beforeMounte'</span>)</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–è§‚å¯Ÿè€…</span></span><br><span class="line">    <span class="comment">// render æ¸²æŸ“ vdomï¼Œ </span></span><br><span class="line">    vdom = vm.render()</span><br><span class="line">    <span class="comment">// update: æ ¹æ® diff å‡ºçš„ patchs æŒ‚è½½æˆçœŸå®çš„ dom </span></span><br><span class="line">    vm._update(vdom)</span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­  </span></span><br><span class="line">    callHook(vm, <span class="string">'mounted'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´æ–°èŠ‚ç‚¹å®ç°</span></span><br><span class="line">funtion queueWatcher(watcher) &#123;</span><br><span class="line">nextTick(flushScheduleQueue)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºé˜Ÿåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flushScheduleQueue</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="comment">// éå†é˜Ÿåˆ—ä¸­æ‰€æœ‰ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">for</span>()&#123;</span><br><span class="line">    <span class="comment">// beforeUpdate</span></span><br><span class="line">        watcher.before()</span><br><span class="line">         </span><br><span class="line">        <span class="comment">// ä¾èµ–å±€éƒ¨æ›´æ–°èŠ‚ç‚¹</span></span><br><span class="line">        watcher.update() </span><br><span class="line">        callHook(<span class="string">'updated'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”€æ¯å®ä¾‹å®ç°</span></span><br><span class="line">Vue.prototype.$destory = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(vm, <span class="string">'beforeDestory'</span>)</span><br><span class="line">    <span class="comment">// è‡ªèº«åŠå­èŠ‚ç‚¹</span></span><br><span class="line">    remove() </span><br><span class="line">    <span class="comment">// åˆ é™¤ä¾èµ–</span></span><br><span class="line">    watcher.teardown() </span><br><span class="line">    <span class="comment">// åˆ é™¤ç›‘å¬</span></span><br><span class="line">    vm.$off() </span><br><span class="line">    <span class="comment">// è§¦å‘é’©å­</span></span><br><span class="line">    callHook(vm, <span class="string">'destoryed'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº"><a href="#vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº"></a>vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº</h3><ul><li><p>åŠ è½½æ¸²æŸ“è¿‡ç¨‹çˆ¶beforeCreate-&gt;çˆ¶created-&gt;çˆ¶beforeMount-&gt;å­beforeCreate-&gt;å­created-&gt;å­beforeMount-&gt;å­mounted-&gt;çˆ¶mounted</p></li><li><p>å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹çˆ¶beforeUpdate-&gt;å­beforeUpdate-&gt;å­updated-&gt;çˆ¶updated</p></li><li><p>çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹çˆ¶beforeUpdate-&gt;çˆ¶updated</p></li><li><p>é”€æ¯è¿‡ç¨‹çˆ¶beforeDestroy-&gt;å­beforeDestroy-&gt;å­destroyed-&gt;çˆ¶destroy</p></li></ul><h3 id="åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚"><a href="#åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚" class="headerlink" title="åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚"></a>åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚</h3><p>å¯ä»¥åœ¨å‡½æ•°createdï¼ŒbeforeMountï¼Œmountedä¸­è¿›è¡Œè°ƒç”¨ï¼Œå› ä¸ºåœ¨è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ä¸­dataå·²ç»å¯ä»¥åˆ›å»ºï¼Œå¯ä»¥å°†æœåŠ¡ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œèµ‹å€¼ï¼Œä½†æ˜¯æ¯”è¾ƒæ¨èåœ¨createdé’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Œå› ä¸ºï¼š</p><ul><li>èƒ½æ›´å¿«çš„è·å–åˆ°æœåŠ¡ç«¯æ•°æ®ï¼Œå‡å°‘é¡µé¢loadingæ—¶é—´</li><li>ssrä¸æ”¯æŒbeforeMountï¼Œmountedé’©å­å‡½æ•°ï¼Œæ‰€ä»¥æ”¾åœ¨createdä¸­æœ‰åŠ©äºä¸€è‡´æ€§</li></ul><h3 id="åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOM"><a href="#åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOM" class="headerlink" title="åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOM"></a>åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOM</h3><p>åœ¨é’©å­å‡½æ•°mountedè¢«è°ƒç”¨ä¹‹å‰ï¼Œvueå·²ç»æŠŠç¼–è¯‘å¥½çš„æ¨¡æ¿æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œæ‰€ä»¥åœ¨mountedä¸­å¯ä»¥è®¿é—®æ“ä½œdomï¼Œvueå…·ä½“çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><h3 id="çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—"><a href="#çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—" class="headerlink" title="çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—"></a>çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—</h3><ul><li><p>æ‰‹åŠ¨è®¾ç½®$emitæ¥å‘å¸ƒç›‘å¬</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent</span></span><br><span class="line">&lt;Child @mounted=<span class="string">"fn"</span> /&gt;</span><br><span class="line"><span class="comment">// child</span></span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="keyword">this</span>.$emit(<span class="string">"mounted"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>@hook</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent</span></span><br><span class="line">&lt;Child @hook:mounted=<span class="string">"fn"</span> /&gt;</span><br><span class="line">fn() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'get'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// child</span></span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'emit'</span>);</span><br></pre></td></tr></table></figure></li></ul><h3 id="è°ˆè°ˆä½ å¯¹keep-aliveçš„äº†è§£"><a href="#è°ˆè°ˆä½ å¯¹keep-aliveçš„äº†è§£" class="headerlink" title="è°ˆè°ˆä½ å¯¹keep-aliveçš„äº†è§£"></a>è°ˆè°ˆä½ å¯¹keep-aliveçš„äº†è§£</h3><p>keep-aliveæ˜¯vueå†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œé¿å…é‡å¤æ¸²æŸ“ï¼Œå…¶æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>ä¸€èˆ¬ç»“åˆè·¯ç”±å’ŒåŠ¨æ€ç»„ä»¶ä½¿ç”¨ï¼Œç”¨äºç¼“å­˜ç»„ä»¶</li><li>æä¾›includeå’Œexcludeå±æ€§ï¼Œä¸¤è€…éƒ½æ”¯æŒå­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œincludeè¡¨ç¤ºåªæœ‰åå­—åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ï¼Œexcludeè¡¨ç¤ºä»»ä½•åç§°åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜ï¼Œå…¶ä¸­excludeçš„ä¼˜å…ˆçº§æ¯”includeé«˜</li><li>å¯¹åº”ä¸¤ä¸ªé’©å­å‡½æ•°activedå’Œdeactivated</li></ul><h3 id="ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°"><a href="#ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°" class="headerlink" title="ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°"></a>ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°</h3><p>å› ä¸ºç»„ä»¶æ˜¯æ‹¿æ¥å¤ç”¨çš„ï¼Œä¸”jsé‡Œçš„å¯¹è±¡æ˜¯å¼•ç”¨å…³ç³»ï¼Œå¦‚æœç»„ä»¶ä¸­çš„dataæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™æ ·ä½œç”¨åŸŸæ²¡æœ‰éš”ç¦»ï¼Œå­ç»„ä»¶ä¸­çš„dataå±æ€§å€¼ä¼šç›¸äº’å½±å“ï¼Œå¦‚æœç»„ä»¶ä¸­çš„dataæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆæ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€ä»½è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼Œç»„ä»¶å®ä¾‹ä¹‹é—´çš„dataå±æ€§å€¼ä¸ä¼šäº’ç›¸å½±å“ï¼Œè€Œnew Vueçš„å®ä¾‹æ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œå› æ­¤ä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ã€‚</p><h3 id="v-modelçš„åŸç†"><a href="#v-modelçš„åŸç†" class="headerlink" title="v-modelçš„åŸç†"></a>v-modelçš„åŸç†</h3><p>æˆ‘ä»¬åœ¨vueé¡¹ç›®ä¸­ä¸»è¦ä½¿ç”¨v-modelæŒ‡ä»¤åœ¨è¡¨å•inputï¼Œtextareaï¼Œselectç­‰å…ƒç´ ä¸Šåˆ›å»ºåŒå‘ç»‘å®šï¼Œæˆ‘ä»¬çŸ¥é“v-modelæœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œv-modelåœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„å±æ€§å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p><ul><li>textå’Œtextareaå…ƒç´ ä½¿ç”¨valueå±æ€§å’Œinputäº‹ä»¶</li><li>checkboxå’Œradioä½¿ç”¨checkedå’Œchange</li><li>selectå­—æ®µå°†valueä½œä¸ºpropå¹¶å°†changeä½œä¸ºäº‹ä»¶</li></ul><h3 id="vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼"><a href="#vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼" class="headerlink" title="vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼"></a>vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼</h3><ul><li><p>propså’Œ$emité€‚ç”¨çˆ¶å­ç»„ä»¶é€šä¿¡</p></li><li><p>refå’Œ$parent $childrenrefï¼šå¦‚æœåœ¨æ™®é€šdomä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯domå…ƒç´ ï¼Œå¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ $parent/$childrenï¼šè®¿é—®çˆ¶å­å®ä¾‹</p></li><li><p>EventBusï¼ˆ$emit/$onï¼‰è¿™ç§æ–¹æ³•é€šè¿‡ä¸€ä¸ªç©ºçš„vueå®ä¾‹ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿ï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰ï¼Œç”¨ä»–æ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶ï¼Œä»è€Œå®ç°ä»»ä½•ç»„ä»¶é—´çš„é€šä¿¡ï¼ŒåŒ…æ‹¬çˆ¶å­ï¼Œéš”ä»£ï¼Œå…„å¼Ÿç»„ä»¶</p></li><li><p>$attrs/$listeners$attrsï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸé‡Œä¸è¢«propæ‰€è¯†åˆ«ï¼ˆä¸”è·å–ï¼‰çš„ç‰¹æ€§ç»‘å®šï¼ˆclasså’Œstyleé™¤å¤–ï¼‰ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜ä»»ä½•propæ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®šï¼ˆclasså’Œstyleé™¤å¤–ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡v-bind=â€$attrsâ€ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚é€šå¸¸é…åˆinheritAttrsé€‰é¡¹ä¸€èµ·ä½¿ç”¨</p></li></ul><p>$listenersï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„v-onäº‹ä»¶ç›‘å¬å™¨ï¼Œå®ƒå¯ä»¥é€šè¿‡v-on=â€$listenersâ€ä¼ å…¥å†…éƒ¨ç»„ä»¶</p><ul><li><p>provideã€injectç¥–å…ˆç»„ä»¶é€šè¿‡provideræ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­å­™ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ï¼Œprovide / inject APIä¸»è¦è§£å†³äº†è·¨çº§ç»„ä»¶é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¸è¿‡ä»–çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸»è¦æ˜¯å­ç»„ä»¶è·å–ä¸Šçº§ç»„ä»¶çš„çŠ¶æ€ï¼Œè·¨çº§ç»„ä»¶é—´å»ºç«‹ä¸€ç§ä¸»åŠ¨æä¾›å’Œä¾èµ–æ³¨å…¥çš„å…³ç³»</p></li><li><p>vuexvuexæ˜¯ä¸€ä¸ªä¸“ä¸ºvueåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œæ¯ä¸€ä¸ªvuexåº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯storeï¼ŒstoreåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä»“åº“ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€</p></li></ul><p>vuexçš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼Œå½“vueä»storeä¸­è¯»å–çŠ¶æ€æ—¶å€™ï¼Œè‹¥storeä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”çš„å¾—åˆ°é«˜æ•ˆæ›´æ–°</p><p>æ”¹å˜storeä¸­çš„çŠ¶æ€çš„å”¯ä¸€çš„é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤mutationï¼Œè¿™æ ·ä½¿æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–</p><h3 id="ä½ ä½¿ç”¨è¿‡vuexå—"><a href="#ä½ ä½¿ç”¨è¿‡vuexå—" class="headerlink" title="ä½ ä½¿ç”¨è¿‡vuexå—"></a>ä½ ä½¿ç”¨è¿‡vuexå—</h3><p>vuexæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºvueåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œæ¯ä¸€ä¸ªvuexåº”ç”¨çš„æ ¸å¿ƒæ˜¯storeï¼ŒstoreåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ï¼ˆstateï¼‰</p><p>ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š</p><ul><li>stateï¼šå®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€</li><li>Getterï¼šå…è®¸ç»„ä»¶ä»Stateä¸­è·å–æ•°æ®ï¼ŒmapGettersè¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°†storeä¸­çš„getteræ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§</li><li>Mutationï¼šæ˜¯å”¯ä¸€æ›´æ”¹storeä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</li><li>Actionï¼šç”¨äºæäº¤mutationï¼Œè€Œä¸æ˜¯ç›´æ¥æ›´æ”¹çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„çš„å¼‚æ­¥æ“ä½œ</li><li>Moduleï¼šå…è®¸å°†å•ä¸€çš„Storeæ‹†åˆ†æˆå¤šä¸ªstoreä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘é‡Œ</li></ul><h3 id="vue-SSR"><a href="#vue-SSR" class="headerlink" title="vue SSR"></a>vue SSR</h3><p>vueæ˜¯æ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å‡ºvueç»„ä»¶ï¼Œè¿›è¡Œç”Ÿæˆdomå’Œæ“ä½œdomï¼Œç„¶è€Œï¼Œä¹Ÿå¯ä»¥å°†åŒä¸€ä¸ªç»„ä»¶æ¸²æŸ“ä¸ºæœåŠ¡ç«¯çš„htmlå­—ç¬¦ä¸²ï¼Œå°†ä»–ä»¬ç›´æ¥å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œç„¶åå°†è¿™äº›é™æ€æ ‡è®°æ¿€æ´»ä¸ºå®¢æˆ·ç«¯ä¸Šå¯ä»¥äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚</p><p>å³ssrçš„æ„æ€å°±æ˜¯vueåœ¨æœåŠ¡ç«¯å®Œæˆå°†æ ‡ç­¾æ¸²æŸ“æˆæ•´ä¸ªhtmlç‰‡æ®µçš„å·¥ä½œï¼Œç„¶åå°†ç‰‡æ®µç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ä½¿ç”¨</p><ul><li><p>ssrä¼˜ç‚¹ï¼š</p><ul><li><p>æ›´å¥½çš„seoï¼šå› ä¸ºspaé¡µé¢çš„å†…å®¹æ˜¯é€šè¿‡ajaxè·å–ï¼Œè€Œæœç´¢å¼•æ“çˆ¬å–å·¥å…·å¹¶ä¸ä¼šç­‰å¾…ajaxä¸€æ­¥å®Œæˆåå†æŠ“å–é¡µé¢å†…å®¹ï¼Œæ‰€ä»¥åœ¨spaä¸­æ˜¯æŠ“å–ä¸åˆ°é¡µé¢é€šè¿‡ajaxè·å–åˆ°çš„å†…å®¹ï¼›è€Œssræ˜¯ç›´æ¥ç”±æœåŠ¡å™¨è¿”å›å·²ç»æ¸²æŸ“å¥½çš„é¡µé¢ï¼ˆæ•°æ®å·²ç»åŒ…å«åœ¨é¡µé¢ä¸­ï¼‰ï¼Œæ‰€ä»¥æœç´¢å¼•æ“çˆ¬å–å·¥å…·å¯ä»¥æŠ“å–åˆ°æ¸²æŸ“å¥½çš„é¡µé¢</p></li><li><p>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼ˆé¦–å±åŠ è½½å¿«ï¼‰ï¼šspaä¼šç­‰å¾…æ‰€æœ‰vueç¼–è¯‘åçš„jsæ–‡ä»¶éƒ½ä¸‹è½½å®Œæˆåï¼Œæ‰å¼€å§‹è¿›è¡Œä¹Ÿå…å¾—æ¸²æŸ“ï¼Œæ–‡ä»¶ä¸‹è½½éœ€è¦ä¸€å®šçš„æ—¶é—´ç­‰ï¼Œæ‰€ä»¥é¦–å±åŠ è½½éœ€è¦æ—¶é—´ï¼Œè€Œssrç›´æ¥ç”±æœåŠ¡å™¨æ¸²æŸ“å¥½é¡µé¢è¿”å›æ˜¾ç¤ºï¼Œæ— éœ€ç­‰å¾…jsæ–‡ä»¶å†å»æ¸²æŸ“ï¼Œæ‰€ä»¥ssræœ‰æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´</p></li></ul></li><li><p>ssrç¼ºç‚¹ï¼š</p><ul><li><p>æ›´å¤šçš„å¼€å‘æ¡ä»¶é™åˆ¶ï¼šä¾‹å¦‚æœåŠ¡ç«¯æ¸²æŸ“åªæ”¯æŒbeforeCreateå’Œcreatedä¸¤ä¸ªé’©å­å‡½æ•°ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›å¤–éƒ¨æ‰©å±•åº“éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“ç¨‹åºä¸­è¿è¡Œï¼›å¹¶ä¸”ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åºspaä¸åŒï¼ŒæœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äºnodejs serverä¸­æ‰èƒ½è¿è¡Œ</p></li><li><p>æ›´å¤šçš„æœåŠ¡å™¨è´Ÿè½½</p></li></ul></li></ul><h3 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h3><p>åœ¨ä¸‹æ¬¡domæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œå¯ç”¨äºè·å–æ›´æ–°åçš„domçŠ¶æ€ã€‚</p><ul><li>æ–°ç‰ˆæœ¬ä¸­é»˜è®¤æ˜¯microtasks, v-onä¸­ä¼šä½¿ç”¨macrotasks</li></ul><h3 id="æ•°æ®å“åº”-æ•°æ®åŠ«æŒ"><a href="#æ•°æ®å“åº”-æ•°æ®åŠ«æŒ" class="headerlink" title="æ•°æ®å“åº”(æ•°æ®åŠ«æŒ)"></a>æ•°æ®å“åº”(æ•°æ®åŠ«æŒ)</h3><p>æ•°æ®å“åº”çš„å®ç°ç”±ä¸¤éƒ¨åˆ†æ„æˆ: è§‚å¯Ÿè€…( watcher ) å’Œ ä¾èµ–æ”¶é›†å™¨( Dep )ï¼Œå…¶æ ¸å¿ƒæ˜¯ defineProperty è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒå¯ä»¥é‡å†™å±æ€§çš„ get ä¸ set æ–¹æ³•ï¼Œä»è€Œå®Œæˆç›‘å¬æ•°æ®çš„æ”¹å˜ã€‚</p><ul><li><p>Observe (è§‚å¯Ÿè€…)è§‚å¯Ÿ props ä¸ state</p><ul><li>éå† props ä¸ stateï¼Œå¯¹æ¯ä¸ªå±æ€§åˆ›å»ºç‹¬ç«‹çš„ç›‘å¬å™¨( watcher )</li></ul></li><li><p>ä½¿ç”¨ defineProperty é‡å†™æ¯ä¸ªå±æ€§çš„ get/set(defineReactiveï¼‰</p><ul><li>get: æ”¶é›†ä¾èµ–</li><li><p>Dep.depend()</p><ul><li>watcher.addDep()</li></ul></li><li><p>set: æ´¾å‘æ›´æ–°</p><ul><li>Dep.notify()</li><li>watcher.update()</li><li>queenWatcher()</li><li>nextTick</li><li>flushScheduleQueue</li><li>watcher.run()</li><li>updateComponent()</li></ul></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="comment">// æ•°æ®å“åº”æ€§</span></span><br><span class="line">observe(data)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="keyword">new</span> Watcher(data, <span class="string">'name'</span>, updateComponent)</span><br><span class="line">data.a = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å•è¡¨ç¤ºç”¨äºæ•°æ®æ›´æ–°åçš„æ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    vm._update() <span class="comment">// patchs</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘è§†å¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observe</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"><span class="comment">// éå†å¯¹è±¡ï¼Œä½¿ç”¨ get/set é‡æ–°å®šä¹‰å¯¹è±¡çš„æ¯ä¸ªå±æ€§å€¼</span></span><br><span class="line">  <span class="built_in">Object</span>.keys(obj).map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      defineReactive(obj, key, obj[key])</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">obj, k, v</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’å­å±æ€§</span></span><br><span class="line">    <span class="keyword">if</span> (type(v) == <span class="string">'object'</span>) observe(v)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ–°å»ºä¾èµ–æ”¶é›†å™¨</span></span><br><span class="line">    <span class="keyword">let</span> dep = <span class="keyword">new</span> Dep()</span><br><span class="line">    <span class="comment">// å®šä¹‰get/set</span></span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(obj, k, &#123;</span><br><span class="line">        enumerable: <span class="literal">true</span>,</span><br><span class="line">        configurable: <span class="literal">true</span>,</span><br><span class="line">        get: <span class="function"><span class="keyword">function</span> <span class="title">reactiveGetter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="comment">// å½“æœ‰è·å–è¯¥å±æ€§æ—¶ï¼Œè¯æ˜ä¾èµ–äºè¯¥å¯¹è±¡ï¼Œå› æ­¤è¢«æ·»åŠ è¿›æ”¶é›†å™¨ä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (Dep.target) &#123;</span><br><span class="line">                dep.addSub(Dep.target)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> v</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// é‡æ–°è®¾ç½®å€¼æ—¶ï¼Œè§¦å‘æ”¶é›†å™¨çš„é€šçŸ¥æœºåˆ¶</span></span><br><span class="line">        set: <span class="function"><span class="keyword">function</span> <span class="title">reactiveSetter</span>(<span class="params">nV</span>) </span>&#123;</span><br><span class="line">            v = nV</span><br><span class="line">            dep.nofify()</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾èµ–æ”¶é›†å™¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dep</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">this</span>.subs = []</span><br><span class="line">    &#125;</span><br><span class="line">    addSub(sub) &#123;</span><br><span class="line">        <span class="keyword">this</span>.subs.push(sub)</span><br><span class="line">    &#125;</span><br><span class="line">    notify() &#123;</span><br><span class="line">        <span class="keyword">this</span>.subs.map(<span class="function"><span class="params">sub</span> =&gt;</span> &#123;</span><br><span class="line">            sub.update()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dep.target = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Watcher</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(obj, key, cb) &#123;</span><br><span class="line">        Dep.target = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">this</span>.cb = cb</span><br><span class="line">        <span class="keyword">this</span>.obj = obj</span><br><span class="line">        <span class="keyword">this</span>.key = key</span><br><span class="line">        <span class="keyword">this</span>.value = obj[key]</span><br><span class="line">        Dep.target = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    addDep(Dep) &#123;</span><br><span class="line">        Dep.addSub(<span class="keyword">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    update() &#123;</span><br><span class="line">        <span class="keyword">this</span>.value = <span class="keyword">this</span>.obj[<span class="keyword">this</span>.key]</span><br><span class="line">        <span class="keyword">this</span>.cb(<span class="keyword">this</span>.value)</span><br><span class="line">    &#125;</span><br><span class="line">    before() &#123;</span><br><span class="line">        callHook(<span class="string">'beforeUpdate'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è™šæ‹ŸdomåŸç†å®ç°"><a href="#è™šæ‹ŸdomåŸç†å®ç°" class="headerlink" title="è™šæ‹ŸdomåŸç†å®ç°"></a>è™šæ‹ŸdomåŸç†å®ç°</h3><ul><li><p>åˆ›å»º dom æ ‘</p></li><li><p>æ ‘çš„diffï¼ŒåŒå±‚å¯¹æ¯”ï¼Œè¾“å‡ºpatchs(listDiff/diffChildren/diffProps)</p><ul><li>æ²¡æœ‰æ–°çš„èŠ‚ç‚¹ï¼Œè¿”å›</li><li><p>æ–°çš„èŠ‚ç‚¹tagNameä¸keyä¸å˜ï¼Œ å¯¹æ¯”propsï¼Œç»§ç»­é€’å½’éå†å­æ ‘</p><ul><li>å¯¹æ¯”å±æ€§(å¯¹æ¯”æ–°æ—§å±æ€§åˆ—è¡¨):<ul><li>æ—§å±æ€§æ˜¯å¦å­˜åœ¨ä¸æ–°å±æ€§åˆ—è¡¨ä¸­</li><li>éƒ½å­˜åœ¨çš„æ˜¯å¦æœ‰å˜åŒ–</li><li>æ˜¯å¦å‡ºç°æ—§åˆ—è¡¨ä¸­æ²¡æœ‰çš„æ–°å±æ€§</li></ul></li></ul></li><li><p>tagNameå’Œkeyå€¼å˜åŒ–äº†ï¼Œåˆ™ç›´æ¥æ›¿æ¢æˆæ–°èŠ‚ç‚¹</p></li></ul></li><li><p>æ¸²æŸ“å·®å¼‚</p><ul><li>éå†patchsï¼Œ æŠŠéœ€è¦æ›´æ”¹çš„èŠ‚ç‚¹å–å‡ºæ¥</li><li>å±€éƒ¨æ›´æ–°dom</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// diffç®—æ³•çš„å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diff</span>(<span class="params">oldTree, newTree</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// å·®å¼‚æ”¶é›†</span></span><br><span class="line">    <span class="keyword">let</span> pathchs = &#123;&#125;</span><br><span class="line">    dfs(oldTree, newTree, <span class="number">0</span>, pathchs)</span><br><span class="line">    <span class="keyword">return</span> pathchs</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">oldNode, newNode, index, pathchs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> curPathchs = []</span><br><span class="line">    <span class="keyword">if</span> (newNode) &#123;</span><br><span class="line">        <span class="comment">// å½“æ–°æ—§èŠ‚ç‚¹çš„ tagName å’Œ key å€¼å®Œå…¨ä¸€è‡´æ—¶</span></span><br><span class="line">        <span class="keyword">if</span> (oldNode.tagName === newNode.tagName &amp;&amp; oldNode.key === newNode.key) &#123;</span><br><span class="line">          <span class="comment">// ç»§ç»­æ¯”å¯¹å±æ€§å·®å¼‚</span></span><br><span class="line">            <span class="keyword">let</span> props = diffProps(oldNode.props, newNode.props)</span><br><span class="line">            curPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'changeProps'</span>, props &#125;)</span><br><span class="line">            <span class="comment">// é€’å½’è¿›å…¥ä¸‹ä¸€å±‚çº§çš„æ¯”è¾ƒ</span></span><br><span class="line">            diffChildrens(oldNode.children, newNode.children, index, pathchs)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// å½“ tagName æˆ–è€… key ä¿®æ”¹äº†åï¼Œè¡¨ç¤ºå·²ç»æ˜¯å…¨æ–°èŠ‚ç‚¹ï¼Œæ— éœ€å†æ¯”</span></span><br><span class="line">            curPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'replaceNode'</span>, <span class="attr">node</span>: newNode &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// æ„å»ºå‡ºæ•´é¢—å·®å¼‚æ ‘</span></span><br><span class="line">    <span class="keyword">if</span> (curPathchs.length) &#123;</span><br><span class="line">    <span class="keyword">if</span>(pathchs[index])&#123;</span><br><span class="line">    pathchs[index] = pathchs[index].concat(curPathchs)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    pathchs[index] = curPathchs</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±æ€§å¯¹æ¯”å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diffProps</span>(<span class="params">oldProps, newProps</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> propsPathchs = []</span><br><span class="line">    <span class="comment">// éå†æ–°æ—§å±æ€§åˆ—è¡¨</span></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾åˆ é™¤é¡¹</span></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾ä¿®æ”¹é¡¹</span></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾æ–°å¢é¡¹</span></span><br><span class="line">    forin(olaProps, (k, v) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (!newProps.hasOwnProperty(k)) &#123;</span><br><span class="line">            propsPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'remove'</span>, <span class="attr">prop</span>: k &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (v !== newProps[k]) &#123;</span><br><span class="line">                propsPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'change'</span>, <span class="attr">prop</span>: k , <span class="attr">value</span>: newProps[k] &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    forin(newProps, (k, v) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (!oldProps.hasOwnProperty(k)) &#123;</span><br><span class="line">            propsPathchs.push(&#123; <span class="attr">type</span>: <span class="string">'add'</span>, <span class="attr">prop</span>: k, <span class="attr">value</span>: v &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> propsPathchs</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹æ¯”å­çº§å·®å¼‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diffChildrens</span>(<span class="params">oldChild, newChild, index, pathchs</span>) </span>&#123;</span><br><span class="line"><span class="comment">// æ ‡è®°å­çº§çš„åˆ é™¤/æ–°å¢/ç§»åŠ¨</span></span><br><span class="line">    <span class="keyword">let</span> &#123; change, list &#125; = diffList(oldChild, newChild, index, pathchs)</span><br><span class="line">    <span class="keyword">if</span> (change.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (pathchs[index]) &#123;</span><br><span class="line">            pathchs[index] = pathchs[index].concat(change)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pathchs[index] = change</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// æ ¹æ® key è·å–åŸæœ¬åŒ¹é…çš„èŠ‚ç‚¹ï¼Œè¿›ä¸€æ­¥é€’å½’ä»å¤´å¼€å§‹å¯¹æ¯”</span></span><br><span class="line">    oldChild.map(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> keyIndex = list.indexOf(item.key)</span><br><span class="line">        <span class="keyword">if</span> (keyIndex) &#123;</span><br><span class="line">            <span class="keyword">let</span> node = newChild[keyIndex]</span><br><span class="line">            <span class="comment">// è¿›ä¸€æ­¥é€’å½’å¯¹æ¯”</span></span><br><span class="line">            dfs(item, node, index, pathchs)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ—è¡¨å¯¹æ¯”ï¼Œä¸»è¦ä¹Ÿæ˜¯æ ¹æ® key å€¼æŸ¥æ‰¾åŒ¹é…é¡¹</span></span><br><span class="line"><span class="comment">// å¯¹æ¯”å‡ºæ–°æ—§åˆ—è¡¨çš„æ–°å¢/åˆ é™¤/ç§»åŠ¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">diffList</span>(<span class="params">oldList, newList, index, pathchs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> change = []</span><br><span class="line">    <span class="keyword">let</span> list = []</span><br><span class="line">    <span class="keyword">const</span> newKeys = getKey(newList)</span><br><span class="line">    oldList.map(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (newKeys.indexOf(v.key) &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">            list.push(v.key)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            list.push(<span class="literal">null</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ‡è®°åˆ é™¤</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = list.length - <span class="number">1</span>; i&gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!list[i]) &#123;</span><br><span class="line">            list.splice(i, <span class="number">1</span>)</span><br><span class="line">            change.push(&#123; <span class="attr">type</span>: <span class="string">'remove'</span>, <span class="attr">index</span>: i &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ‡è®°æ–°å¢å’Œç§»åŠ¨</span></span><br><span class="line">    newList.map(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> key = item.key</span><br><span class="line">        <span class="keyword">const</span> index = list.indexOf(key)</span><br><span class="line">        <span class="keyword">if</span> (index === <span class="number">-1</span> || key == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// æ–°å¢</span></span><br><span class="line">            change.push(&#123; <span class="attr">type</span>: <span class="string">'add'</span>, <span class="attr">node</span>: item, <span class="attr">index</span>: i &#125;)</span><br><span class="line">            list.splice(i, <span class="number">0</span>, key)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ç§»åŠ¨</span></span><br><span class="line">            <span class="keyword">if</span> (index !== i) &#123;</span><br><span class="line">                change.push(&#123;</span><br><span class="line">                    type: <span class="string">'move'</span>,</span><br><span class="line">                    form: index,</span><br><span class="line">                    to: i,</span><br><span class="line">                &#125;)</span><br><span class="line">                move(list, index, i)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; change, list &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Proxy-ç›¸æ¯”äº-defineProperty-çš„ä¼˜åŠ¿"><a href="#Proxy-ç›¸æ¯”äº-defineProperty-çš„ä¼˜åŠ¿" class="headerlink" title="Proxy ç›¸æ¯”äº defineProperty çš„ä¼˜åŠ¿"></a>Proxy ç›¸æ¯”äº defineProperty çš„ä¼˜åŠ¿</h3><ul><li>æ•°ç»„å˜åŒ–ä¹Ÿèƒ½ç›‘å¬åˆ°</li><li>ä¸éœ€è¦æ·±åº¦éå†ç›‘å¬</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">let</span> reactiveData = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">get: <span class="function"><span class="keyword">function</span>(<span class="params">target, name</span>)</span>&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h3><ul><li>mode<ul><li>hash</li><li>history</li></ul></li><li>è·³è½¬<ul><li>this.$router.push()</li><li><router-link to=""></router-link></li></ul></li><li>å ä½<ul><li><router-view></router-view></li></ul></li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/vueInterview.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
