<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>cosyer&#39;s Blog</title>
    <link>http://mydearest.cn/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>é™ˆå®‡çš„åšå®¢</description>
    <pubDate>Thu, 14 May 2020 16:15:01 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>30åˆ†é’Ÿç²¾é€šReact Hooks</title>
      <link>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html</link>
      <guid>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html</guid>
      <pubDate>Tue, 12 May 2020 03:40:08 GMT</pubDate>
      <description>
      
        &lt;p&gt;å®ƒæ¥äº†ï¼Œå®ƒæ¥äº†ï¼Œ16.8ç‰ˆæœ¬&lt;code&gt;hooks&lt;/code&gt;æˆåŠŸåŠ å…¥(&lt;em&gt;^â–½^&lt;/em&gt;)&lt;/p&gt;
&lt;p&gt;ä½ è¿˜åœ¨ä¸ºè¯¥ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼ˆFunctionï¼‰è¿˜æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆClassï¼‰è€Œçƒ¦æ¼å—ï¼Ÿ
â€”â€” æ‹¥æœ‰äº†hooksï¼Œä½ å†ä¹Ÿä¸éœ€è¦å†™Classäº†ï¼Œä½ çš„æ‰€æœ‰ç»„ä»¶éƒ½å°†æ˜¯Functionã€‚&lt;/p&gt;
&lt;p&gt;ä½ è¿˜åœ¨ä¸ºæä¸æ¸…ä½¿ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°è€Œæ—¥å¤œéš¾çœ å—ï¼Ÿ
â€”â€” æ‹¥æœ‰äº†Hooksï¼Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å¯ä»¥å…ˆä¸¢ä¸€è¾¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åœ¨è¿˜åœ¨ä¸ºç»„ä»¶ä¸­çš„thisæŒ‡å‘è€Œæ™•å¤´è½¬å‘å—ï¼Ÿ
â€”â€” æ—¢ç„¶Classéƒ½ä¸¢æ‰äº†ï¼Œå“ªé‡Œè¿˜æœ‰thisï¼Ÿä½ çš„äººç”Ÿç¬¬ä¸€æ¬¡ä¸å†éœ€è¦é¢å¯¹thisã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å®ƒæ¥äº†ï¼Œå®ƒæ¥äº†ï¼Œ16.8ç‰ˆæœ¬<code>hooks</code>æˆåŠŸåŠ å…¥(<em>^â–½^</em>)</p><p>ä½ è¿˜åœ¨ä¸ºè¯¥ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼ˆFunctionï¼‰è¿˜æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆClassï¼‰è€Œçƒ¦æ¼å—ï¼Ÿâ€”â€” æ‹¥æœ‰äº†hooksï¼Œä½ å†ä¹Ÿä¸éœ€è¦å†™Classäº†ï¼Œä½ çš„æ‰€æœ‰ç»„ä»¶éƒ½å°†æ˜¯Functionã€‚</p><p>ä½ è¿˜åœ¨ä¸ºæä¸æ¸…ä½¿ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°è€Œæ—¥å¤œéš¾çœ å—ï¼Ÿâ€”â€” æ‹¥æœ‰äº†Hooksï¼Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å¯ä»¥å…ˆä¸¢ä¸€è¾¹äº†ã€‚</p><p>ä½ åœ¨è¿˜åœ¨ä¸ºç»„ä»¶ä¸­çš„thisæŒ‡å‘è€Œæ™•å¤´è½¬å‘å—ï¼Ÿâ€”â€” æ—¢ç„¶Classéƒ½ä¸¢æ‰äº†ï¼Œå“ªé‡Œè¿˜æœ‰thisï¼Ÿä½ çš„äººç”Ÿç¬¬ä¸€æ¬¡ä¸å†éœ€è¦é¢å¯¹thisã€‚</p><hr><a id="more"></a><h2 id="Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ"><a href="#Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ" class="headerlink" title="Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ"></a>Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ</h2><p><strong><em>æƒ³è¦å¤ç”¨ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶å¤ªéº»çƒ¦äº†ï¼</em></strong>æˆ‘ä»¬éƒ½çŸ¥é“reactçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå°†ä¸€ä¸ªé¡µé¢æ‹†æˆä¸€å †ç‹¬ç«‹çš„ï¼Œå¯å¤ç”¨çš„ç»„ä»¶ï¼Œå¹¶ä¸”ç”¨è‡ªä¸Šè€Œä¸‹çš„å•å‘æ•°æ®æµçš„å½¢å¼å°†è¿™äº›ç»„ä»¶ä¸²è”èµ·æ¥ã€‚ä½†å‡å¦‚ä½ åœ¨å¤§å‹çš„å·¥ä½œé¡¹ç›®ä¸­ç”¨reactï¼Œä½ ä¼šå‘ç°ä½ çš„é¡¹ç›®ä¸­å®é™…ä¸Šå¾ˆå¤šreactç»„ä»¶å†—é•¿ä¸”éš¾ä»¥å¤ç”¨ã€‚å°¤å…¶æ˜¯é‚£äº›å†™æˆclassçš„ç»„ä»¶ï¼Œå®ƒä»¬æœ¬èº«åŒ…å«äº†çŠ¶æ€ï¼ˆstateï¼‰ï¼Œæ‰€ä»¥å¤ç”¨è¿™ç±»ç»„ä»¶å°±å˜å¾—å¾ˆéº»çƒ¦ã€‚</p><p>é‚£ä¹‹å‰ï¼Œå®˜æ–¹æ¨èæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼š<a href="https://reactjs.org/docs/render-props.html" target="_blank" rel="noopener">æ¸²æŸ“å±æ€§ï¼ˆRender Propsï¼‰</a>å’Œ<a href="https://reactjs.org/docs/higher-order-components.html" target="_blank" rel="noopener">é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Componentsï¼‰</a>ã€‚</p><h3 id="æ¸²æŸ“å±æ€§"><a href="#æ¸²æŸ“å±æ€§" class="headerlink" title="æ¸²æŸ“å±æ€§"></a>æ¸²æŸ“å±æ€§</h3><p>æ¸²æŸ“å±æ€§æŒ‡çš„æ˜¯ä½¿ç”¨ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„propæ¥ä¼ é€’éœ€è¦åŠ¨æ€æ¸²æŸ“çš„nodesæˆ–ç»„ä»¶ã€‚å¦‚ä¸‹é¢çš„ä»£ç å¯ä»¥çœ‹åˆ°DataProviderç»„ä»¶åŒ…å«äº†æ‰€æœ‰è·ŸçŠ¶æ€ç›¸å…³çš„ä»£ç ï¼Œè€ŒCatç»„ä»¶åˆ™å¯ä»¥æ˜¯ä¸€ä¸ªå•çº¯çš„å±•ç¤ºå‹ç»„ä»¶ï¼Œè¿™æ ·ä¸€æ¥DataProviderå°±å¯ä»¥å•ç‹¬å¤ç”¨äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Cat <span class="keyword">from</span> <span class="string">'components/cat'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataProvider</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">target</span>: <span class="string">'Zac'</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;<span class="keyword">this</span>.props.render(<span class="keyword">this</span>.state)&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;DataProvider render=&#123;data =&gt; (</span></span><br><span class="line"><span class="regexp">  &lt;Cat target=&#123;data.target&#125; /</span>&gt;</span><br><span class="line">)&#125;/&gt;</span><br></pre></td></tr></table></figure><p>è™½ç„¶è¿™ä¸ªæ¨¡å¼å«Render Propsï¼Œä½†ä¸æ˜¯è¯´éç”¨ä¸€ä¸ªå«renderçš„propsä¸å¯ï¼Œä¹ æƒ¯ä¸Šå¤§å®¶æ›´å¸¸å†™æˆä¸‹é¢è¿™ç§ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;DataProvider&gt;</span><br><span class="line">  &#123;data =&gt; (</span><br><span class="line">    &lt;Cat target=&#123;data.target&#125; /&gt;</span><br><span class="line">  )&#125;</span><br><span class="line">&lt;<span class="regexp">/DataProvider&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="å…¶ä»–ğŸŒ°"><a href="#å…¶ä»–ğŸŒ°" class="headerlink" title="å…¶ä»–ğŸŒ°"></a>å…¶ä»–ğŸŒ°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GithubProfile</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">PureComponent</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  state: IStates = &#123;</span><br><span class="line">    profile: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">          profile: res</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">        &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">        &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">        &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå…¶å®ƒé¡µé¢ä¹Ÿæœ‰ç›¸åŒçš„éœ€æ±‚ï¼Œæˆ–è€…æ•°æ®ä¸€æ ·ï¼Œä»…ä»… UI ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿå…¶å®è¿™ä¸ªé—®é¢˜ç›®çš„å¾ˆç®€å•ï¼Œé‚£å°±æ˜¯ï¼šå¦‚ä½•å®ç°ä»£ç å¤ç”¨ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Render Props</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Profile</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props:IProps) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      profile: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">          profile: res</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">React.Fragment</span>&gt;</span>&#123;this.props.children(profile)&#125;<span class="tag">&lt;/<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure></p><p>å®šä¹‰ props æ¸²æŸ“å‡½æ•°ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProfileRenderProps</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">PureComponent</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Profile&gt;</span><br><span class="line">        &#123;(profile:any) =&gt; (</span><br><span class="line">          &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">            &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">            &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">            &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>div&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;<span class="regexp">/Profile&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>å›è°ƒåœ°ç‹±</li></ul><h3 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h3><p>è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç»è¿‡ä¸€ç³»åˆ—åŠ å·¥åï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚</p><p>çœ‹ä¸ªæ —å­<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> withUser = <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> user = sessionStorage.getItem(<span class="string">"user"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">props</span> =&gt;</span> &lt;WrappedComponent user=&#123;user&#125; &#123;...props&#125; /&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UserPage = <span class="function"><span class="params">props</span> =&gt;</span> (</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"user-container"</span>&gt;</span><br><span class="line">    &lt;p&gt;My name is &#123;props.user&#125;!<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default withUser(UserPage);</span></span><br></pre></td></tr></table></figure></p><p><code>withUser</code>å‡½æ•°å°±æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å…·æœ‰äº†å®ƒæä¾›çš„è·å–ç”¨æˆ·ä¿¡æ¯çš„åŠŸèƒ½ã€‚ä½†æ˜¯è¿™ä¸¤ç§æ¨¡å¼ä¼šå¢åŠ ä»£ç çš„å±‚çº§å…³ç³»ï¼Œè€Œhooksç®€æ´å¤šäº†ï¼Œæ²¡æœ‰å¤šä½™çš„å±‚çº§åµŒå¥—ï¼ŒæŠŠå„ç§æƒ³è¦çš„åŠŸèƒ½å†™æˆä¸€ä¸ªä¸€ä¸ªå¯å¤ç”¨çš„è‡ªå®šä¹‰hookï¼Œå½“ä½ çš„ç»„ä»¶æƒ³ç”¨ä»€ä¹ˆåŠŸèƒ½æ—¶ï¼Œç›´æ¥åœ¨ç»„ä»¶é‡Œè°ƒç”¨è¿™ä¸ªhookå³å¯ã€‚</p><p><strong><em>ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œçš„é€»è¾‘å¤ªä¹±äº†å§ï¼</em></strong>æˆ‘ä»¬é€šå¸¸å¸Œæœ›ä¸€ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹æƒ…ï¼Œä½†æˆ‘ä»¬çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œé€šå¸¸åŒæ—¶åšäº†å¾ˆå¤šäº‹æƒ…ã€‚æ¯”å¦‚æˆ‘ä»¬éœ€è¦åœ¨componentDidMountä¸­å‘èµ·ajaxè¯·æ±‚è·å–æ•°æ®ï¼Œç»‘å®šä¸€äº›äº‹ä»¶ç›‘å¬ç­‰ç­‰ã€‚åŒæ—¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦åœ¨componentDidUpdateåšä¸€éåŒæ ·çš„äº‹æƒ…ã€‚å½“é¡¹ç›®å˜å¤æ‚åï¼Œè¿™ä¸€å—çš„ä»£ç ä¹Ÿå˜å¾—ä¸é‚£ä¹ˆç›´è§‚ã€‚</p><p><strong><em>classçœŸçš„å¤ªè®©äººå›°æƒ‘äº†ï¼</em></strong>æˆ‘ä»¬ç”¨classæ¥åˆ›å»ºreactç»„ä»¶æ—¶ï¼Œè¿˜æœ‰ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œå°±æ˜¯thisçš„æŒ‡å‘é—®é¢˜ã€‚ä¸ºäº†ä¿è¯thisçš„æŒ‡å‘æ­£ç¡®ï¼Œæˆ‘ä»¬è¦ç»å¸¸å†™è¿™æ ·çš„ä»£ç ï¼š<code>this.handleClick = this.handleClick.bind(this)</code>ï¼Œæˆ–è€…æ˜¯è¿™æ ·çš„ä»£ç ï¼š<code>&lt;button onClick={() =&gt; this.handleClick(e)}&gt;</code>ã€‚ä¸€æ—¦æˆ‘ä»¬ä¸å°å¿ƒå¿˜äº†ç»‘å®šthisï¼Œå„ç§bugå°±éšä¹‹è€Œæ¥ï¼Œå¾ˆéº»çƒ¦ã€‚</p><p>è¿˜æœ‰å°±æ˜¯æ— çŠ¶æ€ç»„ä»¶å› ä¸ºéœ€æ±‚çš„å˜åŠ¨éœ€è¦æœ‰è‡ªå·±çš„stateï¼Œåˆå¾—å¾ˆéº»çƒ¦çš„æ”¹æˆclassç»„ä»¶ã€‚</p><p>åœ¨ React 16.8 ä¹‹å‰ function æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>function ç»„ä»¶ä¸å¾—ä¸è¿”å›ä¸€äº› UI ä¿¡æ¯ï¼Œå³ JSX ä»£ç </li><li><p>function ç»„ä»¶å†…éƒ¨ä¸èƒ½æ‹¥æœ‰ state</p></li><li><p>Hooks è®©å‡½æ•°å¼ç»„ä»¶æ‹¥æœ‰ç±»ç»„ä»¶ä¸€æ ·çš„åŠŸèƒ½ï¼Œstate ï¼Œlifecycle ä»¥åŠ contextã€‚</p></li><li>Hooks ä¸æ˜¯ React çš„æ–°åŠŸèƒ½ï¼Œå¯ä»¥å°†å®ƒç†è§£ä¸ºä¸€ä¸ªâ€œé’©å­â€ï¼Œå¯ä»¥è®©ä½ åœ¨ä¸å†™ç±»ç»„ä»¶çš„æƒ…å†µä¸‹â€œå‹¾ä½â€React çš„æ‰€æœ‰åŠŸèƒ½ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withGithubProfile</span></span><br><span class="line"><span class="keyword">const</span> withGithubProfile = <span class="function">(<span class="params">WrappedComponent:any</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props:IProps) &#123;</span><br><span class="line">      <span class="keyword">super</span>(props)</span><br><span class="line">      <span class="keyword">this</span>.state = &#123;</span><br><span class="line">        profile: &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">      fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">        .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> response.json()</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            profile: res</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> <span class="attr">profile</span>=<span class="string">&#123;profile&#125;</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure><p>å¼•å…¥é«˜é˜¶ç»„ä»¶ï¼Œä½¿ç”¨å…¶profile<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GithubProfileHoc</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.props</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">        &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">        &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;followers: &#123;profile.followers&#125;&lt;/</span>div&gt;</span><br><span class="line">        &lt;div&gt;following: &#123;profile.following&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> WithGithubProfile(GithubProfileHoc)</span><br></pre></td></tr></table></figure></p><h4 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>ä½¿ç”¨å¤šä¸ªé«˜é˜¶ç»„ä»¶æ—¶ï¼Œæ— æ³•ç¡®å®š props æ¥æº</li><li>ç›¸åŒçš„ props ä¼šå­˜åœ¨è¦†ç›–çš„æƒ…å†µ</li><li>å¢åŠ è°ƒè¯•éš¾åº¦</li></ul><h2 id="State-Hooks"><a href="#State-Hooks" class="headerlink" title="State Hooks"></a>State Hooks</h2><h3 id="çŠ¶æ€ç»„ä»¶"><a href="#çŠ¶æ€ç»„ä»¶" class="headerlink" title="çŠ¶æ€ç»„ä»¶"></a>çŠ¶æ€ç»„ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;p&gt;You clicked &#123;<span class="keyword">this</span>.state.count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123;() =&gt; this.setState(&#123; count: this.state.count + 1 &#125;)&#125;&gt;</span></span><br><span class="line"><span class="regexp">          Click me</span></span><br><span class="line"><span class="regexp">        &lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="hooksæ”¹é€ "><a href="#hooksæ”¹é€ " class="headerlink" title="hooksæ”¹é€ "></a>hooksæ”¹é€ </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>æ˜¯ä¸æ˜¯ç®€å•å¤šäº†ï¼å¯ä»¥çœ‹åˆ°ï¼ŒExampleå˜æˆäº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†è¿™ä¸ªå‡½æ•°å´æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ˆcountï¼‰ï¼ŒåŒæ—¶å®ƒè¿˜å¯ä»¥æ›´æ–°è‡ªå·±çš„çŠ¶æ€ï¼ˆsetCountï¼‰ã€‚</p><p>é™¤äº†<code>useState</code>è¿™ä¸ªhookå¤–ï¼Œè¿˜æœ‰å¾ˆå¤šåˆ«çš„hookï¼Œæ¯”å¦‚<code>useEffect</code>æä¾›äº†ç±»ä¼¼äº<code>componentDidMount</code>ç­‰ç”Ÿå‘½å‘¨æœŸé’©å­çš„åŠŸèƒ½ï¼Œ<code>useContext</code>æä¾›äº†ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰çš„åŠŸèƒ½ç­‰ç­‰ã€‚</p><p><code>useState</code>æ˜¯reactè‡ªå¸¦çš„ä¸€ä¸ªhookå‡½æ•°ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ç”¨æ¥å£°æ˜çŠ¶æ€å˜é‡ã€‚useStateè¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯æˆ‘ä»¬çš„çŠ¶æ€åˆå§‹å€¼ï¼ˆinitial stateï¼‰ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„ç¬¬[0]é¡¹æ˜¯å½“å‰çš„çŠ¶æ€å€¼ï¼Œç¬¬[1]é¡¹æ˜¯å¯ä»¥æ”¹å˜çŠ¶æ€å€¼çš„æ–¹æ³•å‡½æ•°ã€‚</p><p>å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨setCountå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯ä¿®æ”¹è¿‡çš„æ–°çŠ¶æ€å€¼ã€‚æ¥ä¸‹æ¥çš„äº‹æƒ…å°±äº¤ç»™reactäº†ï¼Œreactå°†ä¼šé‡æ–°æ¸²æŸ“æˆ‘ä»¬çš„Exampleç»„ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯æ›´æ–°åçš„æ–°çš„çŠ¶æ€ï¼Œå³count=1ã€‚Exampleæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œä¸ºä»€ä¹ˆå®ƒå¯ä»¥è®°ä½ä¹‹å‰çš„çŠ¶æ€ï¼ŸExampleå‡½æ•°æ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œéƒ½æ˜¯æ‹¿çš„ä¸Šä¸€æ¬¡æ‰§è¡Œå®Œçš„çŠ¶æ€å€¼ä½œä¸ºåˆå§‹å€¼ï¼Ÿ</p><h3 id="ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼"><a href="#ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼" class="headerlink" title="ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼"></a>ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleWithManyStates</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [age, setAge] = useState(<span class="number">42</span>);</span><br><span class="line">  <span class="keyword">const</span> [fruit, setFruit] = useState(<span class="string">'banana'</span>);</span><br><span class="line">  <span class="keyword">const</span> [todos, setTodos] = useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>useState</code>æ¥æ”¶çš„åˆå§‹å€¼æ²¡æœ‰è§„å®šä¸€å®šè¦æ˜¯<code>string/number/boolean</code>è¿™ç§ç®€å•æ•°æ®ç±»å‹ï¼Œå®ƒå®Œå…¨å¯ä»¥æ¥æ”¶å¯¹è±¡æˆ–è€…æ•°ç»„ä½œä¸ºå‚æ•°ã€‚å”¯ä¸€éœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œä¹‹å‰æˆ‘ä»¬çš„<code>this.setState</code>åšçš„æ˜¯åˆå¹¶çŠ¶æ€åè¿”å›ä¸€ä¸ªæ–°çŠ¶æ€ï¼Œè€Œ<code>useState</code>æ˜¯ç›´æ¥æ›¿æ¢è€çŠ¶æ€åè¿”å›æ–°çŠ¶æ€ã€‚æœ€åï¼Œreactä¹Ÿç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>useReducer</code>çš„hookï¼Œå¦‚æœä½ æ›´å–œæ¬¢reduxå¼çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆçš„è¯ã€‚</p><p>ä»<code>ExampleWithManyStates</code>å‡½æ•°æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>useState</code>æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ï¼Œç›¸äº’ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ã€‚å…¶å®æˆ‘ä»¬çœ‹hookçš„â€œå½¢æ€â€ï¼Œæœ‰ç‚¹ç±»ä¼¼ä¹‹å‰è¢«å®˜æ–¹å¦å®šæ‰çš„<code>Mixins</code>è¿™ç§æ–¹æ¡ˆï¼Œéƒ½æ˜¯æä¾›ä¸€ç§â€œæ’æ‹”å¼çš„åŠŸèƒ½æ³¨å…¥â€çš„èƒ½åŠ›ã€‚è€Œ<code>Mixins</code>ä¹‹æ‰€ä»¥è¢«å¦å®šï¼Œæ˜¯å› ä¸º<code>Mixins</code>æœºåˆ¶æ˜¯è®©å¤šä¸ªMixinså…±äº«ä¸€ä¸ªå¯¹è±¡çš„æ•°æ®ç©ºé—´ï¼Œè¿™æ ·å°±å¾ˆéš¾ç¡®ä¿ä¸åŒ<code>Mixins</code>ä¾èµ–çš„çŠ¶æ€ä¸å‘ç”Ÿå†²çªã€‚ä¸åŒç»„ä»¶è°ƒç”¨åŒä¸€ä¸ªhookä¹Ÿèƒ½ä¿è¯å„è‡ªçŠ¶æ€çš„ç‹¬ç«‹æ€§ï¼Œè¿™å°±æ˜¯ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«ã€‚</p><h3 id="reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ"><a href="#reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ" class="headerlink" title="reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ"></a>reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ</h3><p>çœ‹ä¸Šé¢ç»™å‡ºçš„<code>ExampleWithManyStates</code>ä¾‹å­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†ä¸‰æ¬¡<code>useState</code>ï¼Œæ¯æ¬¡æˆ‘ä»¬ä¼ çš„å‚æ•°åªæ˜¯ä¸€ä¸ªå€¼ï¼ˆå¦‚42ï¼Œâ€˜bananaâ€™ï¼‰ï¼Œæˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰å‘Šè¯‰reactè¿™äº›å€¼å¯¹åº”çš„keyæ˜¯å“ªä¸ªï¼Œé‚£reactæ˜¯æ€ä¹ˆä¿è¯è¿™ä¸‰ä¸ªuseStateæ‰¾åˆ°å®ƒå¯¹åº”çš„stateå‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//å°†ageåˆå§‹åŒ–ä¸º42</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//å°†fruitåˆå§‹åŒ–ä¸ºbanana</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒæ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡ageçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°42ç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡fruitçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°bananaç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯ï¼Œreactæ˜¯æ ¹æ®<code>useState</code>å‡ºç°çš„é¡ºåºæ¥å®šçš„ã€‚æˆ‘ä»¬å…·ä½“æ¥çœ‹ä¸€ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> showFruit = <span class="literal">true</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleWithManyStates</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [age, setAge] = useState(<span class="number">42</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(showFruit) &#123;</span><br><span class="line">    <span class="keyword">const</span> [fruit, setFruit] = useState(<span class="string">'banana'</span>);</span><br><span class="line">    showFruit = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">const</span> [todos, setTodos] = useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//å°†ageåˆå§‹åŒ–ä¸º42</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//å°†fruitåˆå§‹åŒ–ä¸ºbanana</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒæ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡ageçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°42ç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line"><span class="comment">// useState('banana');  </span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//è¯»å–åˆ°çš„å´æ˜¯çŠ¶æ€å˜é‡fruitçš„å€¼ï¼Œå¯¼è‡´æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥reactè§„å®šæˆ‘ä»¬å¿…é¡»æŠŠhookså†™åœ¨å‡½æ•°çš„æœ€å¤–å±‚ï¼Œä¸èƒ½å†™åœ¨ifelseç­‰æ¡ä»¶è¯­å¥å½“ä¸­ï¼Œæ¥ç¡®ä¿hooksçš„æ‰§è¡Œé¡ºåºä¸€è‡´ã€‚</p><h2 id="Effect-Hooks"><a href="#Effect-Hooks" class="headerlink" title="Effect Hooks"></a>Effect Hooks</h2><p>åŒæ ·æ˜¯ä¸Šä¸ªæ —å­ï¼Œä¿ºä»¬å¢åŠ ä¸€ä¸ªæ–°åŠŸèƒ½ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç±»ä¼¼äºcomponentDidMount å’Œ componentDidUpdate:</span></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°æ–‡æ¡£çš„æ ‡é¢˜</span></span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å†™çš„æœ‰çŠ¶æ€ç»„ä»¶ï¼Œé€šå¸¸ä¼šäº§ç”Ÿå¾ˆå¤šçš„å‰¯ä½œç”¨ï¼ˆside effectï¼‰ï¼Œæ¯”å¦‚å‘èµ·ajaxè¯·æ±‚è·å–æ•°æ®ï¼Œæ·»åŠ ä¸€äº›ç›‘å¬çš„æ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œï¼Œæ‰‹åŠ¨ä¿®æ”¹domç­‰ç­‰ã€‚æˆ‘ä»¬ä¹‹å‰éƒ½æŠŠè¿™äº›å‰¯ä½œç”¨çš„å‡½æ•°å†™åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°é’©å­é‡Œï¼Œæ¯”å¦‚<code>componentDidMount</code>ï¼Œ<code>componentDidUpdate</code>å’Œ<code>componentWillUnmount</code>ã€‚è€Œç°åœ¨çš„useEffectå°±ç›¸å½“ä¸è¿™äº›å£°æ˜å‘¨æœŸå‡½æ•°é’©å­çš„é›†åˆä½“ã€‚å®ƒä»¥ä¸€æŠµä¸‰ï¼Œå‰å®³äº†ï¼</p><p>åŒæ—¶ï¼Œç”±äºå‰æ–‡æ‰€è¯´hookså¯ä»¥åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œç›¸äº’ç‹¬ç«‹ã€‚æ‰€ä»¥æˆ‘ä»¬åˆç†çš„åšæ³•æ˜¯ï¼Œç»™æ¯ä¸€ä¸ªå‰¯ä½œç”¨ä¸€ä¸ªå•ç‹¬çš„useEffecté’©å­ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™äº›å‰¯ä½œç”¨ä¸å†ä¸€è‚¡è„‘å †åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œï¼Œä»£ç å˜å¾—æ›´åŠ æ¸…æ™°ã€‚</p><h3 id="useEffectåšäº†ä»€ä¹ˆï¼Ÿ"><a href="#useEffectåšäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="useEffectåšäº†ä»€ä¹ˆï¼Ÿ"></a>useEffectåšäº†ä»€ä¹ˆï¼Ÿ</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡countï¼Œå°†å®ƒçš„åˆå§‹å€¼è®¾ä¸º0ã€‚ç„¶åæˆ‘ä»¬å‘Šè¯‰reactï¼Œæˆ‘ä»¬çš„è¿™ä¸ªç»„ä»¶æœ‰ä¸€ä¸ªå‰¯ä½œç”¨ã€‚æˆ‘ä»¬ç»™<code>useEffect hook</code>ä¼ äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°å°±æ˜¯æˆ‘ä»¬çš„å‰¯ä½œç”¨ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬çš„å‰¯ä½œç”¨æ˜¯è°ƒç”¨<code>browser API</code>æ¥ä¿®æ”¹æ–‡æ¡£æ ‡é¢˜ã€‚å½“reactè¦æ¸²æŸ“æˆ‘ä»¬çš„ç»„ä»¶æ—¶ï¼Œå®ƒä¼šå…ˆè®°ä½æˆ‘ä»¬ç”¨åˆ°çš„å‰¯ä½œç”¨ã€‚ç­‰reactæ›´æ–°äº†DOMä¹‹åï¼Œå®ƒå†ä¾æ¬¡æ‰§è¡Œæˆ‘ä»¬å®šä¹‰çš„å‰¯ä½œç”¨å‡½æ•°ã€‚</p><p>è¿™é‡Œè¦æ³¨æ„ï¼š</p><ol><li><p>reacté¦–æ¬¡æ¸²æŸ“å’Œä¹‹åçš„æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šè°ƒç”¨ä¸€éä¼ ç»™useEffectçš„å‡½æ•°ã€‚è€Œä¹‹å‰æˆ‘ä»¬è¦ç”¨ä¸¤ä¸ªå£°æ˜å‘¨æœŸå‡½æ•°æ¥åˆ†åˆ«è¡¨ç¤ºé¦–æ¬¡æ¸²æŸ“<code>componentDidMount</code>ï¼Œå’Œä¹‹åçš„æ›´æ–°å¯¼è‡´çš„é‡æ–°æ¸²æŸ“<code>componentDidUpdate</code>ã€‚</p></li><li><p><code>useEffect</code>ä¸­å®šä¹‰çš„å‰¯ä½œç”¨å‡½æ•°çš„æ‰§è¡Œä¸ä¼šé˜»ç¢æµè§ˆå™¨æ›´æ–°è§†å›¾ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›å‡½æ•°æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œè€Œä¹‹å‰çš„<code>componentDidMount</code>æˆ–<code>componentDidUpdate</code>ä¸­çš„ä»£ç åˆ™æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚è¿™ç§å®‰æ’å¯¹å¤§å¤šæ•°å‰¯ä½œç”¨è¯´éƒ½æ˜¯åˆç†çš„ï¼Œä½†æœ‰çš„æƒ…å†µé™¤å¤–ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦å…ˆæ ¹æ®DOMè®¡ç®—å‡ºæŸä¸ªå…ƒç´ çš„å°ºå¯¸å†é‡æ–°æ¸²æŸ“ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¸Œæœ›è¿™æ¬¡é‡æ–°æ¸²æŸ“æ˜¯åŒæ­¥å‘ç”Ÿçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šåœ¨æµè§ˆå™¨çœŸçš„å»ç»˜åˆ¶è¿™ä¸ªé¡µé¢å‰å‘ç”Ÿã€‚</p></li></ol><h3 id="useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ"><a href="#useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ" class="headerlink" title="useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ"></a>useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ</h3><p>è¿™ç§åœºæ™¯å¾ˆå¸¸è§ï¼Œå½“æˆ‘ä»¬åœ¨<code>componentDidMount</code>é‡Œæ·»åŠ äº†ä¸€ä¸ªæ³¨å†Œï¼Œæˆ‘ä»¬å¾—åœ¨<code>componentWillUnmount</code>ä¸­ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶è¢«æ³¨é”€ä¹‹å‰æ¸…é™¤æ‰æˆ‘ä»¬æ·»åŠ çš„æ³¨å†Œï¼Œå¦åˆ™å†…å­˜æ³„æ¼çš„é—®é¢˜å°±å‡ºç°äº†ã€‚</p><p>æ€ä¹ˆæ¸…é™¤å‘¢ï¼Ÿè®©æˆ‘ä»¬ä¼ ç»™<code>useEffect</code>çš„å‰¯ä½œç”¨å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å³å¯ã€‚è¿™ä¸ªæ–°çš„å‡½æ•°å°†ä¼šåœ¨ç»„ä»¶ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“ä¹‹åæ‰§è¡Œã€‚è¿™ç§æ¨¡å¼åœ¨ä¸€äº›pubsubæ¨¡å¼çš„å®ç°ä¸­å¾ˆå¸¸è§ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    <span class="comment">// ä¸€å®šæ³¨æ„ä¸‹è¿™ä¸ªé¡ºåºï¼šå‘Šè¯‰reactåœ¨ä¸‹æ¬¡é‡æ–°æ¸²æŸ“ç»„ä»¶ä¹‹åï¼ŒåŒæ—¶æ˜¯ä¸‹æ¬¡è°ƒç”¨ChatAPI.subscribeToFriendStatusä¹‹å‰æ‰§è¡Œcleanup</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">cleanup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Loading...'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œæœ‰ä¸€ä¸ªç‚¹éœ€è¦é‡è§†ï¼è¿™ç§è§£ç»‘çš„æ¨¡å¼è·Ÿ<code>componentWillUnmount</code>ä¸ä¸€æ ·ã€‚<code>componentWillUnmount</code>åªä¼šåœ¨ç»„ä»¶è¢«é”€æ¯å‰æ‰§è¡Œä¸€æ¬¡è€Œå·²ï¼Œè€ŒuseEffecté‡Œçš„å‡½æ•°ï¼Œæ¯æ¬¡ç»„ä»¶æ¸²æŸ“åéƒ½ä¼šæ‰§è¡Œä¸€éï¼ŒåŒ…æ‹¬å‰¯ä½œç”¨å‡½æ•°è¿”å›çš„è¿™ä¸ªæ¸…ç†å‡½æ•°ä¹Ÿä¼šé‡æ–°æ‰§è¡Œä¸€éã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼š</p><h3 id="ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ</h3><p>æˆ‘ä»¬å…ˆçœ‹ä»¥å‰çš„æ¨¡å¼ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  ChatAPI.subscribeToFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentWillUnmount() &#123;</span><br><span class="line">  ChatAPI.unsubscribeFromFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬åœ¨<code>componentDidMount</code>æ³¨å†Œï¼Œå†åœ¨<code>componentWillUnmount</code>æ¸…é™¤æ³¨å†Œã€‚ä½†å‡å¦‚è¿™æ—¶å€™props.friend.idå˜äº†æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬ä¸å¾—ä¸å†æ·»åŠ ä¸€ä¸ªcomponentDidUpdateæ¥å¤„ç†è¿™ç§æƒ…å†µï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">componentDidUpdate(prevProps) &#123;</span><br><span class="line">  <span class="comment">// å…ˆæŠŠä¸Šä¸€ä¸ªfriend.idè§£ç»‘</span></span><br><span class="line">  ChatAPI.unsubscribeFromFriendStatus(</span><br><span class="line">    prevProps.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">  <span class="comment">// å†é‡æ–°æ³¨å†Œæ–°ä½†friend.id</span></span><br><span class="line">  ChatAPI.subscribeToFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¾ˆç¹çï¼Œè€Œæˆ‘ä»¬ä½†<code>useEffect</code>åˆ™æ²¡è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒåœ¨æ¯æ¬¡ç»„ä»¶æ›´æ–°åéƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€éã€‚æ‰€ä»¥ä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.é¡µé¢é¦–æ¬¡æ¸²æŸ“</span><br><span class="line">2.æ›¿friend.id=1çš„æœ‹å‹æ³¨å†Œ</span><br><span class="line"></span><br><span class="line">3.çªç„¶friend.idå˜æˆäº†2</span><br><span class="line">4.é¡µé¢é‡æ–°æ¸²æŸ“</span><br><span class="line">5.æ¸…é™¤friend.id=1çš„ç»‘å®š</span><br><span class="line">6.æ›¿friend.id=2çš„æœ‹å‹æ³¨å†Œ</span><br></pre></td></tr></table></figure></p><h3 id="æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ"><a href="#æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ" class="headerlink" title="æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ"></a>æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ</h3><p>æŒ‰ç…§ä¸Šä¸€èŠ‚çš„æ€è·¯ï¼Œæ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½è¦æ‰§è¡Œä¸€éè¿™äº›å‰¯ä½œç”¨å‡½æ•°ï¼Œæ˜¾ç„¶æ˜¯ä¸ç»æµçš„ã€‚æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„è®¡ç®—å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦ç»™useEffectä¼ ç¬¬äºŒä¸ªå‚æ•°å³å¯ã€‚ç”¨ç¬¬äºŒä¸ªå‚æ•°æ¥å‘Šè¯‰reactåªæœ‰å½“è¿™ä¸ªå‚æ•°çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰æ‰§è¡Œæˆ‘ä»¬ä¼ çš„å‰¯ä½œç”¨å‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">&#125;, [count]); <span class="comment">// åªæœ‰å½“countçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°æ‰§è¡Œ`document.title`è¿™ä¸€å¥</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ç¬¬äºŒä¸ªå‚æ•°ä¼ ä¸€ä¸ªç©ºæ•°ç»„[]æ—¶ï¼Œå…¶å®å°±ç›¸å½“äºåªåœ¨é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯<code>componentDidMount</code>åŠ <code>componentWillUnmount</code>çš„æ¨¡å¼ã€‚ä¸è¿‡è¿™ç§ç”¨æ³•å¯èƒ½å¸¦æ¥bugï¼Œå°‘ç”¨ã€‚</p><h2 id="æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect-Hooks"><a href="#æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect-Hooks" class="headerlink" title="æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect Hooks?"></a>æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect Hooks?</h2><p>ä¸ºä»€ä¹ˆè¦è‡ªå·±å»å†™ä¸€ä¸ªEffect Hooks? è¿™æ ·æˆ‘ä»¬æ‰èƒ½æŠŠå¯ä»¥å¤ç”¨çš„é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œå˜æˆä¸€ä¸ªä¸ªå¯ä»¥éšæ„æ’æ‹”çš„â€œæ’é”€â€ï¼Œå“ªä¸ªç»„ä»¶è¦ç”¨æ¥ï¼Œæˆ‘å°±æ’è¿›å“ªä¸ªç»„ä»¶é‡Œï¼Œso easyï¼çœ‹ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œä½ å°±æ˜ç™½äº†ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æŠŠä¸Šé¢å†™çš„FriendStatusç»„ä»¶ä¸­åˆ¤æ–­æœ‹å‹æ˜¯å¦åœ¨çº¿çš„åŠŸèƒ½æŠ½å‡ºæ¥ï¼Œæ–°å»ºä¸€ä¸ªuseFriendStatusçš„hookä¸“é—¨ç”¨æ¥åˆ¤æ–­æŸä¸ªidæ˜¯å¦åœ¨çº¿ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params">friendID</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶å€™FriendStatusç»„ä»¶å°±å¯ä»¥ç®€å†™ä¸ºï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Loading...'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å‡å¦‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åˆæœ‰ä¸€ä¸ªæœ‹å‹åˆ—è¡¨ä¹Ÿéœ€è¦æ˜¾ç¤ºæ˜¯å¦åœ¨çº¿çš„ä¿¡æ¯ä¹Ÿå¯ä»¥å¤ç”¨ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendListItem</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;li style=&#123;&#123; <span class="attr">color</span>: isOnline ? <span class="string">'green'</span> : <span class="string">'black'</span> &#125;&#125;&gt;</span><br><span class="line">      &#123;props.friend.name&#125;</span><br><span class="line">    &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>funky!!!</p><p>æ¯”å¦‚è¿˜æœ‰</p><h3 id="useProfile-ä½¿ç”¨-Hooks-å®ç°-API-è¯·æ±‚"><a href="#useProfile-ä½¿ç”¨-Hooks-å®ç°-API-è¯·æ±‚" class="headerlink" title="useProfile ä½¿ç”¨ Hooks å®ç° API è¯·æ±‚"></a>useProfile ä½¿ç”¨ Hooks å®ç° API è¯·æ±‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// useProfile</span></span><br><span class="line"><span class="keyword">const</span> useProfile = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [profile, setProfile] = useState(&#123;&#125; <span class="keyword">as</span> TProfile)</span><br><span class="line">  <span class="keyword">const</span> [loading, setLoading] = useState(<span class="literal">false</span>)</span><br><span class="line">  <span class="keyword">const</span> [isError, setIsError] = useState(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setLoading(<span class="literal">true</span>)</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/gaearon'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        setProfile(res <span class="keyword">as</span> TProfile)</span><br><span class="line">        setIsError(<span class="literal">false</span>)</span><br><span class="line">        setLoading(<span class="literal">false</span>)</span><br><span class="line">      &#125;).catch(<span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">        setIsError(<span class="literal">true</span>)</span><br><span class="line">        setLoading(<span class="literal">false</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; profile, loading,isError &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>useProfile</code> Hooksï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UseProfilePage = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; profile, loading, isError &#125; = useProfile()</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;React.Fragment&gt;</span><br><span class="line">      &#123;isError ? (</span><br><span class="line">        &lt;div&gt;Network <span class="built_in">Error</span>...&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      ) : (</span></span><br><span class="line"><span class="regexp">        &lt;div className="profile"&gt;</span></span><br><span class="line"><span class="regexp">          &#123;loading ? (</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;loading profile...&lt;/</span>div&gt;</span><br><span class="line">          ) : (</span><br><span class="line">            &lt;React.Fragment&gt;</span><br><span class="line">              &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">              &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">              &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">              &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>React.Fragment&gt;</span><br><span class="line">          )&#125;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      )&#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>React.Fragment&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="useInput-ä½¿ç”¨-Hooks-å®ç°-input-è¾“å…¥é€»è¾‘"><a href="#useInput-ä½¿ç”¨-Hooks-å®ç°-input-è¾“å…¥é€»è¾‘" class="headerlink" title="useInput ä½¿ç”¨ Hooks å®ç° input è¾“å…¥é€»è¾‘"></a>useInput ä½¿ç”¨ Hooks å®ç° input è¾“å…¥é€»è¾‘</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> useInput = <span class="function">(<span class="params">initialValue:string</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(initialValue)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleChange = <span class="function">(<span class="params">e:any</span>) =&gt;</span> &#123;</span><br><span class="line">    setValue(e.target.value)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    value,</span><br><span class="line">    onChange: handleChange</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> useInputDemo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> value = useInput(<span class="string">'KuangPF'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"use-input"</span>&gt;</span><br><span class="line">      &lt;p&gt;current name: &#123;value.value&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;input &#123;...value&#125; /</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h2><p><code>useContext</code> æ˜¯ä¸ºäº†åœ¨ function ç»„ä»¶ä¸­ä½¿ç”¨ç±»ç»„ä»¶çš„ <a href="https://reactjs.org/docs/context.html" target="_blank" rel="noopener">context</a> APIï¼Œä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ª contextï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> local = <span class="string">'ğŸ‡¨ğŸ‡³'</span></span><br><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(local)</span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨ <code>useContext hook</code> ä½¿ç”¨ contextï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseContextDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> local = useContext(ThemeContext)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;local: &#123;local&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// render: ğŸ‡¨ğŸ‡³</span></span><br></pre></td></tr></table></figure></p><p>åœ¨ class ç»„ä»¶ä¸­ï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹ context çš„å€¼ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ Provider æä¾› value å€¼ï¼ŒåŒæ ·ï¼Œåœ¨ function ç»„ä»¶ä¸­ä¹Ÿå¯ä»¥ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(<span class="string">'ğŸ‡¨ğŸ‡³'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Context</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> local = useContext(ThemeContext)</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>local: &#123;local&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ThemeContext.Provider value=&#123;<span class="string">'ğŸ‡ºğŸ‡¸'</span>&#125;&gt;</span><br><span class="line">      &lt;Context /&gt;</span><br><span class="line">    &lt;<span class="regexp">/ThemeContext.Provider&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ render: ğŸ‡ºğŸ‡¸</span></span><br></pre></td></tr></table></figure></p><h2 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h2><p><code>useReducer</code> æ˜¯ <code>useState</code> çš„ä¸€ç§ä»£æ›¿æ–¹æ¡ˆï¼Œç”¨äº state ä¹‹é—´æœ‰ä¾èµ–å…³ç³»æˆ–è€…æ¯”è¾ƒå¤æ‚çš„åœºæ™¯ã€‚<code>useReducer</code> æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>reducerï¼š(state, action) =&gt; newState</li><li>initialArgï¼š åˆå§‹åŒ–å‚æ•°</li><li>Initï¼š æƒ°æ€§åˆå§‹åŒ–,è¿”å›åˆå§‹åŒ–æ•°æ®</li></ul><p>è¿”å›å½“å‰ state ä»¥åŠé…å¥—çš„ dispatch æ–¹æ³•ã€‚é¦–å…ˆçœ‹ä¸‹ <code>useReducer</code> å¤„ç†ç®€å•çš„ stateï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseReducerDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, dispatch] = useReducer(<span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> state + <span class="number">1</span></span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          dispatch()</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        add</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>è¿™ä¸ªä¾‹å­å’Œä½¿ç”¨ <code>useState</code> ä¸€æ ·ï¼Œéƒ½è¾¾åˆ°äº†è®¡æ•°çš„æ•ˆæœã€‚ è¯¥ä¾‹å­ä¸­ï¼Œ<code>useReducer</code> åˆå§‹åŒ–äº† count å€¼ä¸º 0ï¼Œä¼ å…¥çš„ reducer å¾ˆç®€å•ï¼Œå½“æ¥æ”¶åˆ°ä¸€ä¸ª dispatch æ—¶ï¼Œå°† count çš„å€¼å¢åŠ  1ã€‚</p><h3 id="å¤„ç†-state-æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯"><a href="#å¤„ç†-state-æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯" class="headerlink" title="å¤„ç† state æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯"></a>å¤„ç† state æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [frozen, setFrozen] = useState(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> increase = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (frozen) &#123;</span><br><span class="line">        <span class="keyword">return</span> prevCount</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> prevCount + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    increase()</span><br><span class="line">    setFrozen(<span class="literal">true</span>)</span><br><span class="line">    increase()</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>count &#123;count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// render 1</span></span><br></pre></td></tr></table></figure><p>åŸå› åœ¨äº function ç»„ä»¶çš„æ›´æ–°æœºåˆ¶ï¼Œå½“å¼•å…¥ hooks ä»¥åï¼Œfunction ç»„ä»¶ä¹Ÿæ‹¥æœ‰äº† state çš„åŠŸèƒ½ï¼Œå½“æˆ‘ä»¬ setState æ—¶ï¼ŒUI ä¼šé‡æ–°æ¸²æŸ“ï¼Œä½†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­<strong>function ç»„ä»¶ä¸­ï¼Œstate ä»¥åŠ props éƒ½æ˜¯é™æ€å€¼ï¼Œä¸å­˜åœ¨å¼•ç”¨ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç†è§£ä¸º state å’Œ props æ˜¯ä¸€ä¸ª capture valueï¼Œæ¯æ¬¡æ¸²æŸ“çš„ state å’Œ props éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚</strong></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”±äº useEffect ä¼ å…¥çš„ä¾èµ–ä¸º []ï¼Œå³è¯¥å‰¯ä½œç”¨åªä¼šåœ¨ UI ç¬¬ä¸€æ¬¡æ¸²æŸ“ç»“æŸåæ‰§è¡Œä¸€æ¬¡ã€‚è€Œåœ¨è¿™æ¬¡ render ä¸­ï¼Œcount çš„å€¼ä¸º 0ï¼Œ frozen å€¼ä¸º falseï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æ‰§è¡Œ increase æ—¶ï¼Œfrozen å€¼ä¾ç„¶ä¸º falseï¼Œ setCount è¿”å›çš„ prevCount ä¸º 1 ï¼Œç„¶åå¢åŠ  1ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæœ€å render çš„ç»“æœä¸º 2ï¼Œè€Œä¸æ˜¯ 1ã€‚</p><p>å¯¹äº state æœ‰ç›¸äº’ä¾èµ–çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>useReducer</code> æ¥å¤„ç†ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> INCREASE = <span class="string">'INCREASE'</span></span><br><span class="line"><span class="keyword">const</span> SET_FROZEN = <span class="string">'SET_FROZEN'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">  count: <span class="number">0</span>,</span><br><span class="line">  frozen: <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> reducer = <span class="function">(<span class="params">state: any, action: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">      <span class="keyword">case</span> INCREASE:</span><br><span class="line">        <span class="keyword">if</span> (state.frozen) &#123;</span><br><span class="line">          <span class="keyword">return</span> state</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          ...state,</span><br><span class="line">          count: state.count + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> SET_FROZEN:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          ...state,</span><br><span class="line">          frozen: action.frozen</span><br><span class="line">        &#125;</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> state</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> [state, dispath] = useReducer(reducer, initialState)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: INCREASE &#125;)</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: SET_FROZEN, <span class="attr">frozen</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: INCREASE &#125;)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>current count: &#123;state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="å¦‚ä½•ç”¨useStateå®ç°useReducer"><a href="#å¦‚ä½•ç”¨useStateå®ç°useReducer" class="headerlink" title="å¦‚ä½•ç”¨useStateå®ç°useReducer"></a>å¦‚ä½•ç”¨useStateå®ç°useReducer</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = useState(&#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">    frozen: <span class="literal">false</span>,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> increase = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (prevState.frozen) &#123;</span><br><span class="line">        <span class="keyword">return</span> prevState;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...prevState,</span><br><span class="line">        count: state.count + <span class="number">1</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> setFrozen = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...prevState,</span><br><span class="line">        frozen: <span class="literal">true</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    increase();</span><br><span class="line">    setFrozen();</span><br><span class="line">    increase();</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>current count: &#123;state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>;</span><br><span class="line">  <span class="comment">// renderï¼š1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>useReducer</code> å’Œ <code>useState</code> ç›¸æ¯”ï¼Œä¼˜åŠ¿åœ¨äºå¯ä»¥å°†ä½¿ç”¨ reducer å°†ä¸€äº›é€»è¾‘è¿›è¡ŒæŠ½ç¦»ï¼Œè¿›è¡Œé›†ä¸­åŒ–ç®¡ç†ã€‚</p><h2 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h2><p><code>useCallback</code> å¯ä»¥ç†è§£ä¸ºå°†å‡½æ•°è¿›è¡Œäº†ç¼“å­˜ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°å’Œä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œåªæœ‰å½“ä¾èµ–æ•°ç»„ä¸­çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¯¥å›è°ƒå‡½æ•°æ‰ä¼šæ›´æ–°ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseCallbackDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleResize = useCallback(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`the current count is: <span class="subst">$&#123;count&#125;</span>`</span>)</span><br><span class="line">  &#125;, [count])</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, handleResize)</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">window</span>.removeEventListener(<span class="string">'resize'</span>, handleResize)</span><br><span class="line">  &#125;, [handleResize])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        onClick=&#123;() =&gt; &#123;</span><br><span class="line">          setCount(count + <span class="number">1</span>)</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        click</span><br><span class="line">      &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;current count: &#123;count&#125;&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>è¯¥ä¾‹å­ä¸­ï¼Œå½“æ”¹å˜ count åï¼Œç„¶åæ”¹å˜æµè§ˆå™¨çª—å£å¤§å°ï¼Œå¯ä»¥è·å–åˆ°æœ€æ–°çš„ count ã€‚å¦‚æœä¼ å…¥çš„ä¾èµ–ä¸º []ï¼ŒhandleResize ä¸ä¼šæ›´æ–°ï¼Œåˆ™æ”¹å˜æµè§ˆå™¨çª—å£æ—¶ï¼Œ count çš„å€¼å§‹ç»ˆä¸º 0 ã€‚</p><h2 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h2><p><code>useMemo</code> å¯¹å€¼è¿›è¡Œäº†ç¼“å­˜ï¼Œä¸ <code>useCallback</code> ç±»ä¼¼ï¼Œæ¥æ”¶ä¸€ä¸ªåˆ›å»ºå€¼çš„å‡½æ•°å’Œä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œå®ƒä»…ä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®— memoized å€¼ï¼Œè¿™ç§ä¼˜åŒ–æœ‰åŠ©äºé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseMemoDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(<span class="string">''</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> useMemoChild = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> &lt;Child count=&#123;count&#125; /&gt;, [count])</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;&#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          setCount(count + 1)</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        click</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">      &lt;br /&gt;</span><br><span class="line">      &lt;input value=&#123;value&#125; onChange=&#123;e =&gt; setValue(e.target.value)&#125; /&gt;</span><br><span class="line">      &#123;useMemoChild&#125;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function Child(&#123; count &#125;: &#123; count: number &#125;) &#123;</span></span><br><span class="line"><span class="regexp">  console.log('child render')</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;Fragment&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;useMemo hooks&lt;/</span>p&gt;</span><br><span class="line">      &lt;p&gt;child count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>Fragment&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥ä¾‹å­ä¸­ï¼ŒUseMemoDemo ç»„ä»¶å¼•ç”¨äº† Child ç»„ä»¶ï¼Œåœ¨ UseMemoDemo ç»„ä»¶ä¸­ï¼Œå®šä¹‰äº† count å’Œ value ä¸¤ä¸ª stateï¼Œå¦‚æœä¸ä½¿ç”¨ <code>useMemo</code>ï¼Œé‚£ä¹ˆæ¯å½“ UseMemoDemo ä¸­ input å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒChild ç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ã€‚ä½† Child ç»„ä»¶ UI åªå’Œ count æœ‰å…³ï¼Œé‚£ä¹ˆè¿™æ ·å°±ä¼šé€ æˆ Child ç»„ä»¶æ— æ•ˆæ›´æ–°ï¼Œå› æ­¤å°±å¼•å…¥äº† <code>useMemo</code>ï¼Œå°† count ä½œä¸ºä¾èµ–ä¼ å…¥ï¼Œè¿™æ ·åªæœ‰å½“ count å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œ Child ç»„ä»¶æ‰ä¼šé‡æ–°æ¸²æŸ“ã€‚</p><h2 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h2><p><code>useRef</code> è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ .current å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•° ï¼ˆinitialValueï¼‰ã€‚è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚åœ¨ function ç»„ä»¶ä¸­ï¼Œ ä½¿ç”¨ <code>useRef</code> ä¸»è¦å¯ä»¥å®Œæˆä»¥ä¸‹ä¸¤ä»¶äº‹ï¼š</p><ol><li>è·å– dom ç»“æ„</li><li>ä¿å­˜å˜é‡</li></ol><p>å…ˆçœ‹ä¸€ä¸ªè·å– dom èŠ‚ç‚¹, ç‚¹å‡» button æ—¶ï¼Œinput èšç„¦ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseRefDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef(<span class="literal">null</span> <span class="keyword">as</span> any)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleFocusInput = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    inputRef.current.focus()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input ref=&#123;inputRef&#125; /&gt;</span><br><span class="line">      &lt;button onClick=&#123;handleFocusInput&#125;&gt;click focus&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å®˜æ–¹demo<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>)</span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;Click me&lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>å¦‚æœæˆ‘ä»¬ 3s ç‚¹å¤šæ¬¡ç‚¹å‡» buttonï¼Œé‚£ä¹ˆæ§åˆ¶å°è¾“å‡ºçš„ç»“æœä¼šæ˜¯ 0,1,2,3â€¦ï¼Œ è¿™æ˜¯ç”±äºæ¯æ¬¡æ¸²æŸ“æ—¶ count çš„å€¼éƒ½æ˜¯å›ºå®šçš„ã€‚ä½†ç±»ä¼¼çš„é€»è¾‘åœ¨ class ç»„ä»¶ä¸­è¡¨ç°ä¸ä¸€æ ·ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">componentDidUpdate() &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;<span class="keyword">this</span>.state.count&#125;</span> times`</span>);</span><br><span class="line">  &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨ class ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬åœ¨ 3s å†…å¤šæ¬¡ç‚¹å‡» buttonï¼Œæœ€ååœ¨æ§åˆ¶å°è¾“å‡ºçš„ç»“æœæ˜¯æœ€åä¸€æ¬¡ count æ›´æ–°çš„å€¼ã€‚è€Œåœ¨ function ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>useRef</code>å®ç°è¿™ä¸ªæ•ˆæœ <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useRefDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> countRef = useRef(count)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    countRef.current = count</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;countRef.current&#125;</span> times`</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;, [count])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          setCount(count + 1)</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        click</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><p>useRef è¿”å›çš„å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ï¼Œæ¯æ¬¡æ¸²æŸ“æ—¶è¿”å›çš„æ˜¯åŒä¸€ä¸ªrefå¯¹è±¡ï¼Œå› æ­¤ countRef.current å§‹ç»ˆæ˜¯æœ€æ–°çš„ count å€¼ã€‚</p><h2 id="useImperativeHandle"><a href="#useImperativeHandle" class="headerlink" title="useImperativeHandle"></a>useImperativeHandle</h2><p><code>useImperativeHandle</code> å¯ä»¥è®©ä½ åœ¨ä½¿ç”¨ ref æ—¶ï¼Œè‡ªå®šä¹‰æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”å½“é¿å…ä½¿ç”¨ ref è¿™æ ·çš„å‘½ä»¤å¼ä»£ç ã€‚<code>useImperativeHandle</code> åº”å½“ä¸ <code>forwardRef</code> ä¸€èµ·ä½¿ç”¨ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyInput</span>(<span class="params">props, ref</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef(<span class="literal">null</span> <span class="keyword">as</span> any)</span><br><span class="line">  useImperativeHandle(ref, () =&gt; (&#123;</span><br><span class="line">    focus: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      inputRef.current.focus()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;))</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">const FancyInputRef = forwardRef(FancyInput)</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">const useImperativeHandleDemo = () =&gt; &#123;</span></span><br><span class="line"><span class="xml">  const inputRef = useRef(null as any)</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">  useEffect(() =&gt; &#123;</span></span><br><span class="line"><span class="xml">    inputRef.current.focus()</span></span><br><span class="line"><span class="xml">  &#125;)</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line">  return &lt;FancyInputRef ref=&#123;inputRef&#125; /&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h2><p>å…¶å‡½æ•°ç­¾å ä¸ <code>useEffect</code> ç›¸åŒï¼Œä½†å®ƒä¼šåœ¨æ‰€æœ‰çš„ DOM å˜æ›´ä¹‹ååŒæ­¥è°ƒç”¨ effectã€‚å¯ä»¥ä½¿ç”¨å®ƒæ¥è¯»å– DOM å¸ƒå±€å¹¶åŒæ­¥è§¦å‘é‡æ¸²æŸ“ã€‚åœ¨æµè§ˆå™¨æ‰§è¡Œç»˜åˆ¶ä¹‹å‰ï¼Œ<code>useLayoutEffect</code> å†…éƒ¨çš„æ›´æ–°è®¡åˆ’å°†è¢«åŒæ­¥åˆ·æ–°ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> BlinkyRender = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value === <span class="number">0</span>) &#123;</span><br><span class="line">      setValue(<span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">200</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, [value]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;() =&gt; setValue(<span class="number">0</span>)&#125;&gt;value: &#123;value&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure></p><p>å½“æˆ‘ä»¬å¿«é€Ÿç‚¹å‡»æ—¶ï¼Œvalue ä¼šå‘ç”Ÿéšæœºå˜åŒ–ï¼Œä½† <code>useEffect</code> æ˜¯ UI å·²ç»æ¸²æŸ“åˆ°å±å¹•ä¸Šä»¥åæ‰ä¼šæ‰§è¡Œï¼Œvalue ä¼šå…ˆæ¸²æŸ“ä¸º 0ï¼Œç„¶ååœ¨æ¸²æŸ“æˆéšæœºæ•°ï¼Œå› æ­¤å±å¹•ä¼šå‡ºç°é—ªçƒã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">useLayoutEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (value === <span class="number">0</span>) &#123;</span><br><span class="line">    setValue(<span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [value]);</span><br></pre></td></tr></table></figure></p><p>ç›¸æ¯”ä½¿ç”¨ <code>useEffect</code>ï¼Œå½“ç‚¹å‡» divï¼Œvalue æ›´æ–°ä¸º 0ï¼Œæ­¤æ—¶é¡µé¢å¹¶ä¸ä¼šæ¸²æŸ“ï¼Œè€Œæ˜¯ç­‰å¾… useLayoutEffect å†…éƒ¨çŠ¶æ€ä¿®æ”¹åï¼Œæ‰ä¼šå»æ›´æ–°é¡µé¢ï¼Œæ‰€ä»¥é¡µé¢ä¸ä¼šé—ªçƒã€‚</p><h2 id="useDebugValue"><a href="#useDebugValue" class="headerlink" title="useDebugValue"></a>useDebugValue</h2><p><code>useDebugValue</code> å¯ç”¨äºåœ¨ React å¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ hook çš„æ ‡ç­¾ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline] = useState(<span class="literal">null</span>)</span><br><span class="line">  useDebugValue(isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;isOnline&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ ¼å¼åŒ–å€¼çš„æ˜¾ç¤ºå¯èƒ½æ˜¯ä¸€é¡¹å¼€é”€å¾ˆå¤§çš„æ“ä½œï¼Œå› æ­¤ï¼Œ<code>useDebugValue</code> æ¥å—ä¸€ä¸ªæ ¼å¼åŒ–å‡½æ•°ä½œä¸ºå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¯¥å‡½æ•°åªæœ‰åœ¨ Hook è¢«æ£€æŸ¥ï¼ˆæ‰“å¼€ React å¼€å‘è€…å·¥å…·ï¼‰æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚å®ƒæ¥å— debug å€¼ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”ä¼šè¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„æ˜¾ç¤ºå€¼ã€‚ä¾‹å¦‚ï¼Œ ä¸€ä¸ªè¿”å› Date å€¼çš„è‡ªå®šä¹‰ Hook å¯ä»¥é€šè¿‡æ ¼å¼åŒ–å‡½æ•°æ¥é¿å…ä¸å¿…è¦çš„ toDateString å‡½æ•°è°ƒç”¨:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(date, date =&gt; date.toDateString());</span><br></pre></td></tr></table></figure></p><h2 id="ä»“åº“ä»£ç "><a href="#ä»“åº“ä»£ç " class="headerlink" title="ä»“åº“ä»£ç "></a>ä»“åº“ä»£ç </h2><p><a href="https://github.com/cosyer/react-hooks-demo" target="_blank" rel="noopener">react-hooks-demo</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ç¯‡æ–‡ç« å°† React Hooks è¯­æ³•è¿›è¡Œäº†ç®€å•ä»‹ç»ï¼ŒHooks åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå¦‚æœçœ‹å®Œæ–‡ç« è¿˜ä¸æ˜¯å¾ˆç†è§£çš„è¯ï¼Œå»ºè®®æŠŠè¿™äº› demo è‡ªå·±å†æ‰‹åŠ¨å®ç°ä¸€éï¼Œè¿™æ ·æ”¶è·ä¼šæ›´å¤šã€‚å¦‚æœæ–‡ç« å†…å®¹æœ‰å“ªäº›æè¿°é”™è¯¯æˆ–è€…ä¸æ¸…çš„åœ°æ–¹ï¼Œæ¬¢è¿å„ä½çº æ­£å¹¶ä¸€èµ·äº¤æµã€‚ğŸ‘ğŸ‘</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>é¢è¯•é—®é¢˜é›†é”¦</title>
      <link>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html</link>
      <guid>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html</guid>
      <pubDate>Tue, 12 May 2020 01:23:30 GMT</pubDate>
      <description>
      
        
        
          &lt;h2 id=&quot;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot;&gt;&lt;a href=&quot;#è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot;&gt;&lt;/a&gt;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å›ç­”æç¤ºï¼š&lt;/strong&gt; ä¸€èˆ¬äººå›ç­”è¿™ä¸ªé—®é¢˜è¿‡äºå¹³å¸¸ï¼Œåªè¯´å§“åã€å¹´é¾„ã€å·¥
        
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»"><a href="#è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»" class="headerlink" title="è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»"></a>è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¸€èˆ¬äººå›ç­”è¿™ä¸ªé—®é¢˜è¿‡äºå¹³å¸¸ï¼Œåªè¯´å§“åã€å¹´é¾„ã€å·¥ä½œç»éªŒï¼Œè¿™äº›åœ¨ç®€å†ä¸Šéƒ½æœ‰ã€‚å…¶å®ï¼Œä¼ä¸šæœ€å¸Œæœ›çŸ¥é“çš„æ˜¯æ±‚èŒè€…èƒ½å¦èƒœä»»å·¥ä½œï¼ŒåŒ…æ‹¬ï¼šæœ€å¼ºçš„æŠ€èƒ½ã€æœ€æ·±å…¥ç ”ç©¶çš„çŸ¥è¯†é¢†åŸŸã€ä¸ªæ€§ä¸­æœ€ç§¯æçš„éƒ¨åˆ†ã€åšè¿‡çš„æœ€æˆåŠŸçš„äº‹ï¼Œä¸»è¦çš„æˆå°±ç­‰ï¼Œè¦çªå‡ºç§¯æçš„ä¸ªæ€§å’Œåšäº‹çš„èƒ½åŠ›ï¼Œè¯´çš„åˆæƒ…åˆç†ä¼ä¸šæ‰ä¼šç›¸ä¿¡ã€‚</p><h2 id="ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æ²‰ç€å†·é™ã€æ¡ç†æ¸…æ¥šã€ç«‹åœºåšå®šã€ä¹äºåŠ©äººç­‰ï¼ŒåŠ ä¸Šä¾‹å­å¦‚ï¼šæˆ‘åœ¨XXç»è¿‡ä¸€åˆ°ä¸¤å¹´çš„åŸ¹è®­åŠé¡¹ç›®å®æˆ˜ï¼ŒåŠ ä¸Šå®ä¹ å·¥ä½œï¼Œæˆ‘æƒ³æˆ‘é€‚åˆè¿™ä»½å·¥ä½œã€‚</p><h2 id="è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ"><a href="#è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ"></a>è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™ä¸ªé—®é¢˜ä¼ä¸šé—®çš„æ¦‚ç‡å¾ˆå¤§ï¼Œé€šå¸¸ä¸å¸Œæœ›å¬åˆ°ç›´æ¥å›ç­”çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆç­‰ï¼Œå¦‚æœæ±‚èŒè€…è¯´è‡ªå·±å°å¿ƒçœ¼ã€éå¸¸æ‡’ã€å·¥ä½œæ•ˆç‡ä½ï¼Œä¼ä¸šè‚¯å®šä¸ä¼šå½•ç”¨ä½ ã€‚è¦ä»è‡ªå·±çš„ä¼˜ç‚¹è¯´èµ·ï¼Œä¸­é—´åŠ ä¸€äº›å°ç¼ºç‚¹ï¼Œæœ€åå†æŠŠé—®ç­”è½¬å›åˆ°ä¼˜ç‚¹ä¸Šï¼Œçªå‡ºä¼˜ç‚¹çš„éƒ¨åˆ†ã€‚</p><hr><p>&lt;!-moreâ€“&gt;</p><h2 id="è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ"><a href="#è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ"></a>è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å®é™…ä¸Šå¥½å¤šå…¬å¸é—®è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸è¯æ˜ä¸€å®šè¦åŠ ç­ï¼Œåªæ˜¯æƒ³æµ‹è¯•ä½ æ˜¯å¦æ„¿æ„ä¸ºå…¬å¸å¥‰çŒ®ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å¦‚æœæ˜¯å·¥ä½œéœ€è¦æˆ‘ä¼šä¹‰ä¸å®¹è¾åŠ ç­ï¼Œæˆ‘ç°åœ¨å•èº«ï¼Œæ²¡æœ‰ä»»ä½•å®¶åº­è´Ÿæ‹…ï¼Œå¯ä»¥å…¨èº«å¿ƒçš„æŠ•å…¥å·¥ä½œã€‚ä½†åŒæ—¶ï¼Œæˆ‘ä¹Ÿä¼šæé«˜å·¥ä½œæ•ˆç‡ï¼Œå‡å°‘ä¸å¿…è¦çš„åŠ ç­ã€‚</p><h2 id="è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ"><a href="#è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ"></a>è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¦‚æœä½ å¯¹è–ªèµ„çš„è¦æ±‚å¤ªä½ï¼Œé‚£æ˜¾ç„¶è´¬ä½è‡ªå·±çš„èƒ½åŠ›ï¼›å¦‚æœä½ å¯¹è–ªèµ„çš„è¦æ±‚å¤ªé«˜ï¼Œé‚£åˆä¼šæ˜¾å¾—ä½ åˆ†é‡è¿‡é‡ï¼Œå…¬å¸å—ç”¨ä¸èµ·ã€‚ä¸€äº›é›‡ä¸»é€šå¸¸éƒ½äº‹å…ˆå¯¹æ±‚è˜çš„èŒä½å®šä¸‹å¼€æ”¯é¢„ç®—ï¼Œå› è€Œä»–ä»¬ç¬¬ä¸€æ¬¡æå‡ºçš„ä»·é’±å¾€å¾€æ˜¯ä»–ä»¬æ‰€èƒ½ç»™äºˆçš„æœ€é«˜ä»·é’±ï¼Œä»–ä»¬é—®ä½ åªä¸è¿‡æƒ³è¯å®ä¸€ä¸‹è¿™ç¬”é’±æ˜¯å¦è¶³ä»¥å¼•èµ·ä½ å¯¹è¯¥å·¥ä½œçš„å…´è¶£ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong></p><p>â‘ æˆ‘å¯¹å·¥èµ„æ²¡æœ‰ç¡¬æ€§è¦æ±‚ï¼Œæˆ‘ç›¸ä¿¡è´µå…¬å¸ä¼šå‹å–„åˆç†ã€‚æˆ‘æ³¨é‡çš„æ˜¯æ‰¾åˆ°å·¥ä½œæœºä¼šï¼Œæ‰€ä»¥åªè¦æ¡ä»¶å…¬å¹³ï¼Œæˆ‘åˆ™ä¸ä¼šè®¡è¾ƒå¤ªå¤šã€‚</p><p>â‘¡æˆ‘å—è¿‡ç³»ç»Ÿçš„è½¯ä»¶ç¼–ç¨‹çš„è®­ç»ƒï¼Œä¸éœ€è¦è¿›è¡Œå¤§é‡çš„åŸ¹è®­ï¼Œè€Œä¸”æˆ‘æœ¬äººä¹Ÿå¯¹ç¼–ç¨‹ç‰¹åˆ«æ„Ÿå…´è¶£ã€‚å› æ­¤ï¼Œæˆ‘å¸Œæœ›å…¬å¸èƒ½æ ¹æ®æˆ‘çš„æƒ…å†µå’Œå¸‚åœºæ ‡å‡†çš„æ°´å¹³ï¼Œç»™æˆ‘åˆç†çš„è–ªæ°´ã€‚</p><p>â‘¢å¦‚æœä½ å¿…é¡»è‡ªå·±è¯´å‡ºå…·ä½“æ•°ç›®ï¼Œè¯·ä¸è¦è¯´ä¸€ä¸ªå®½æ³›çš„èŒƒå›´ï¼Œé‚£æ ·ä½ å°†åªèƒ½å¾—åˆ°æœ€ä½é™åº¦çš„æ•°å­—ã€‚æœ€å¥½ç»™å‡ºä¸€ä¸ªå…·ä½“çš„æ•°å­—ï¼Œè¿™æ ·è¡¨æ˜ä½ å·²ç»å¯¹å½“ä»Šçš„äººæ‰å¸‚åœºåšäº†è°ƒæŸ¥ï¼ŒçŸ¥é“åƒè‡ªå·±è¿™æ ·å­¦å†çš„é›‡å‘˜æœ‰ä»€ä¹ˆæ ·çš„ä»·å€¼ã€‚</p><h2 id="åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ"><a href="#åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ" class="headerlink" title="åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ"></a>åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯æ¯ä¸€ä¸ªåº”è˜è€…éƒ½ä¸å¸Œæœ›è¢«é—®åˆ°çš„é—®é¢˜ï¼Œä½†æ˜¯å‡ ä¹æ¯ä¸ªäººéƒ½ä¼šè¢«é—®åˆ°ï¼Œæ¯”è¾ƒå¤šçš„ç­”æ¡ˆæ˜¯â€œç®¡ç†è€…â€ã€‚å½“ç„¶ï¼Œè¯´å‡ºå…¶ä»–ä¸€äº›ä½ æ„Ÿå…´è¶£çš„èŒä½ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚è¦çŸ¥é“ï¼Œè€ƒå®˜æ€»æ˜¯å–œæ¬¢æœ‰è¿›å–å¿ƒçš„åº”è˜è€…ï¼Œæ­¤æ—¶å¦‚æœè¯´â€œä¸çŸ¥é“â€ï¼Œæˆ–è®¸å°±ä¼šä½¿ä½ ä¸§å¤±ä¸€ä¸ªå¥½æœºä¼šã€‚æœ€æ™®é€šçš„å›ç­”åº”è¯¥æ˜¯â€œæˆ‘å‡†å¤‡åœ¨æŠ€æœ¯é¢†åŸŸæœ‰æ‰€ä½œä¸ºâ€æˆ–â€œæˆ‘å¸Œæœ›èƒ½æŒ‰ç…§å…¬å¸çš„ç®¡ç†æ€è·¯å‘å±•â€ã€‚</p><h2 id="ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·"><a href="#ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·" class="headerlink" title="ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·?"></a>ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æƒ³ä»ä¾§é¢äº†è§£ä¸€ä¸‹ä½ çš„æ€§æ ¼åŠä¸äººç›¸å¤„çš„é—®é¢˜ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong></p><p>â‘ æˆ‘æœ‹å‹éƒ½è¯´æˆ‘æ˜¯ä¸€ä¸ªå¯ä»¥ä¿¡èµ–çš„äººã€‚å› ä¸ºï¼Œæˆ‘ä¸€æ—¦ç­”åº”åˆ«äººçš„äº‹æƒ…ï¼Œå°±ä¸€å®šä¼šåšåˆ°ã€‚å¦‚æœæˆ‘åšä¸åˆ°ï¼Œæˆ‘å°±ä¸ä¼šè½»æ˜“è®¸è¯ºã€‚</p><p>â‘¡æˆ‘è§‰çš„æˆ‘æ˜¯ä¸€ä¸ªæ¯”è¾ƒéšå’Œçš„äººï¼Œä¸ä¸åŒçš„äººéƒ½å¯ä»¥å‹å¥½ç›¸å¤„ã€‚åœ¨æˆ‘ä¸äººç›¸å¤„æ—¶ï¼Œæˆ‘æ€»æ˜¯èƒ½ç«™åœ¨åˆ«äººçš„è§’åº¦è€ƒè™‘é—®é¢˜ã€‚</p><h2 id="ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—"><a href="#ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—" class="headerlink" title="ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—?"></a>ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šçš„è¿™ä¸ªé—®é¢˜çœ‹ä¸Šå»å¯æœ‰å¯æ— ï¼Œå…¶å®å¾ˆå…³é”®ï¼Œä¼ä¸šä¸å–œæ¬¢è¯´â€œæ²¡é—®é¢˜â€çš„äººï¼Œå› ä¸ºå…¶å¾ˆæ³¨é‡å‘˜å·¥çš„ä¸ªæ€§å’Œåˆ›æ–°èƒ½åŠ›ã€‚ä¼ä¸šä¸å–œæ¬¢æ±‚èŒè€…é—®ä¸ªäººç¦åˆ©ä¹‹ç±»çš„é—®é¢˜ï¼Œå¦‚æœæœ‰äººè¿™æ ·é—®ï¼šè´µå…¬å¸å¯¹æ–°å…¥å…¬å¸çš„å‘˜å·¥æœ‰æ²¡æœ‰ä»€ä¹ˆåŸ¹è®­é¡¹ç›®ï¼Œæˆ‘å¯ä»¥å‚åŠ å—ï¼Ÿæˆ–è€…è¯´è´µå…¬å¸çš„æ™‹å‡æœºåˆ¶æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿä¼ä¸šå°†å¾ˆæ¬¢è¿ï¼Œå› ä¸ºä½“ç°å‡ºä½ å¯¹å­¦ä¹ çš„çƒ­æƒ…å’Œå¯¹å…¬å¸çš„å¿ è¯šåº¦ä»¥åŠä½ çš„ä¸Šè¿›å¿ƒã€‚</p><h2 id="å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ"><a href="#å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ" class="headerlink" title="å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ?"></a>å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å·¥ä½œä¸€æ®µæ—¶é—´å‘ç°å·¥ä½œä¸é€‚åˆï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p><p>â‘ å¦‚æœä½ ç¡®å®çƒ­çˆ±è¿™ä¸ªèŒä¸šï¼Œé‚£å°±è¦ä¸æ–­å­¦ä¹ ï¼Œè™šå¿ƒå‘é¢†å¯¼å’ŒåŒäº‹å­¦ä¹ ä¸šåŠ¡çŸ¥è¯†å’Œå¤„äº‹ç»éªŒï¼Œäº†è§£è¿™ä¸ªèŒä¸šçš„ç²¾ç¥å†…æ¶µå’ŒèŒä¸šè¦æ±‚ï¼ŒåŠ›äº‰å‡å°‘å·®è·ï¼›</p><p>â‘¡ä½ è§‰å¾—è¿™ä¸ªèŒä¸šå¯æœ‰å¯æ— ï¼Œé‚£è¿˜æ˜¯è¶æ—©æ¢ä¸ªèŒä¸šï¼Œå»å‘ç°é€‚åˆä½ çš„ï¼Œä½ çƒ­çˆ±çš„èŒä¸šï¼Œé‚£æ ·ä½ çš„å‘å±•å‰é€”ä¹Ÿä¼šå¤§ç‚¹ï¼Œå¯¹å•ä½å’Œä¸ªäººéƒ½æœ‰å¥½å¤„ã€‚</p><h2 id="å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ"><a href="#å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ" class="headerlink" title="å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ?"></a>å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ åŸåˆ™ä¸Šæˆ‘ä¼šå°Šé‡å’Œæœä»é¢†å¯¼çš„å·¥ä½œå®‰æ’ï¼ŒåŒæ—¶ç§åº•ä¸‹æ‰¾æœºä¼šä»¥è¯·æ•™çš„å£å»ï¼Œå©‰è½¬åœ°è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ï¼Œçœ‹çœ‹é¢†å¯¼æ˜¯å¦èƒ½æ”¹å˜æƒ³æ³•ã€‚</p><p>â‘¡å¦‚æœé¢†å¯¼æ²¡æœ‰é‡‡çº³æˆ‘çš„å»ºè®®ï¼Œæˆ‘ä¹ŸåŒæ ·ä¼šæŒ‰é¢†å¯¼çš„è¦æ±‚è®¤çœŸåœ°å»å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p><p>â‘¢è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå‡å¦‚é¢†å¯¼è¦æ±‚çš„æ–¹å¼è¿èƒŒåŸåˆ™ï¼Œæˆ‘ä¼šåšå†³æå‡ºåå¯¹æ„è§ï¼Œå¦‚é¢†å¯¼ä»å›ºæ‰§å·±è§ï¼Œæˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°å†å‘ä¸Šçº§é¢†å¯¼åæ˜ ã€‚</p><h2 id="å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš"><a href="#å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš" class="headerlink" title="å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš?"></a>å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æˆ‘æœ¬æ„æ˜¯ä¸ºå…¬å¸åŠªåŠ›å·¥ä½œï¼Œå¦‚æœé€ æˆç»æµæŸå¤±ï¼Œæˆ‘è®¤ä¸ºé¦–è¦çš„é—®é¢˜æ˜¯æƒ³æ–¹è®¾æ³•å»å¼¥è¡¥æˆ–æŒ½å›ç»æµæŸå¤±ã€‚å¦‚æœæˆ‘æ— èƒ½åŠ›è´Ÿè´£ï¼Œå¸Œæœ›å•ä½å¸®åŠ©è§£å†³ã€‚</p><p>â‘¡åˆ†æ¸…è´£ä»»ï¼Œå„è´Ÿå…¶è´£ï¼Œå¦‚æœæ˜¯æˆ‘çš„è´£ä»»ï¼Œæˆ‘ç”˜æ„¿å—ç½šï¼›å¦‚æœæ˜¯ä¸€ä¸ªæˆ‘è´Ÿè´£çš„å›¢é˜Ÿä¸­åˆ«äººçš„å¤±è¯¯ï¼Œä¹Ÿä¸èƒ½å¹¸ç¾ä¹ç¥¸ï¼Œä½œä¸ºä¸€ä¸ªå›¢é˜Ÿï¼Œéœ€è¦äº’ç›¸ææºå…±åŒæˆå·¥ä½œï¼Œå®‰æ…°åŒäº‹å¹¶ä¸”å¸®åŠ©åŒäº‹æŸ¥æ‰¾åŸå› æ€»ç»“ç»éªŒã€‚</p><p>â‘¢ä¸ªäººçš„ä¸€ç”Ÿä¸å¯èƒ½ä¸çŠ¯é”™è¯¯ï¼Œé‡è¦çš„æ˜¯èƒ½ä»è‡ªå·±çš„æˆ–è€…æ˜¯åˆ«äººçš„é”™è¯¯ä¸­å¸å–ç»éªŒæ•™è®­ï¼Œè¦æ£€è®¨è‡ªå·±çš„å·¥ä½œæ–¹æ³•ã€åˆ†æé—®é¢˜çš„æ·±åº¦å’ŒåŠ›åº¦ã€‚</p><h2 id="è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•"><a href="#è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•" class="headerlink" title="è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•?"></a>è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æ­£å¸¸çš„â€œè·³æ§½â€èƒ½å¤Ÿä¿ƒè¿›äººæ‰åˆç†æµåŠ¨ï¼Œåº”è¯¥æ”¯æŒã€‚</p><p>â‘¡é¢‘ç¹çš„è·³æ§½å¯¹å•ä½å’Œä¸ªäººåŒæ–¹éƒ½ä¸åˆ©ï¼Œåº”è¯¥åå¯¹ã€‚</p><p>##å’ŒåŒäº‹ã€ä¸Šå¸éš¾ä»¥ç›¸å¤„ï¼Œä½ æ€ä¹ˆåŠ?<strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æˆ‘ä¼šæœä»é¢†å¯¼çš„æŒ‡æŒ¥ï¼Œé…åˆåŒäº‹çš„å·¥ä½œã€‚</p><p>â‘¡æˆ‘ä¼šä»è‡ªèº«æ‰¾åŸå› ï¼Œä»”ç»†åˆ†ææ˜¯ä¸æ˜¯è‡ªå·±å·¥ä½œåšå¾—ä¸å¥½ã€‚è¿˜è¦çœ‹çœ‹æ˜¯ä¸æ˜¯ä¸ºäººå¤„ä¸–æ–¹é¢åšå¾—ä¸å¥½ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯æˆ‘ä¼šåŠªåŠ›æ”¹æ­£ã€‚</p><p>â‘¢å¦‚æœæˆ‘æ‰¾ä¸åˆ°åŸå› ï¼Œæˆ‘ä¼šæ‰¾æœºä¼šè·Ÿä»–ä»¬æ²Ÿé€šï¼Œè¯·ä»–ä»¬æŒ‡å‡ºæˆ‘çš„ä¸è¶³ï¼ŒåŠæ—¶æ”¹æ­£ã€‚</p><p>â‘£ä½œä¸ºä¼˜ç§€çš„å‘˜å·¥ï¼Œåº”è¯¥æ—¶åˆ»ä»¥å¤§å±€ä¸ºé‡ï¼Œå³ä½¿åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œé¢†å¯¼å’ŒåŒäº‹å¯¹æˆ‘ä¸ç†è§£ï¼Œæˆ‘ä¹Ÿä¼šåšå¥½æœ¬èŒå·¥ä½œï¼Œè™šå¿ƒå‘ä»–ä»¬å­¦ä¹ ï¼Œæˆ‘ç›¸ä¿¡ï¼Œä»–ä»¬ä¼šçœ‹è§æˆ‘çš„åŠªåŠ›ã€‚</p><p>##ä¸Šçº§é¢†å¯¼æŠ¢äº†ä½ çš„åŠŸåŠ³æ€ä¹ˆåŠ?<strong>å›ç­”æ ·æœ¬ï¼š</strong> é¦–å…ˆæˆ‘ä¸ä¼šæ‰¾é‚£ä½ä¸Šçº§é¢†å¯¼è¯´æ˜è¿™äº‹ï¼Œæˆ‘ä¼šä¸»åŠ¨æ‰¾æˆ‘çš„ä¸»ç®¡é¢†å¯¼æ¥æ²Ÿé€šï¼Œå› ä¸ºæ²Ÿé€šæ˜¯è§£å†³äººé™…å…³ç³»çš„æœ€å¥½åŠæ³•ï¼Œä½†ç»“æœä¼šæœ‰ä¸¤ç§ï¼š</p><p>â‘ æˆ‘çš„ä¸»ç®¡é¢†å¯¼è®¤è¯†åˆ°è‡ªå·±çš„é”™è¯¯ï¼Œæˆ‘æƒ³æˆ‘ä¼šè§†å…·ä½“æƒ…å†µå†³å®šæ˜¯å¦åŸè°…ä»–ã€‚</p><p>â‘¡ä»–æ›´åŠ å˜æœ¬åŠ å‰çš„æ¥å¨èƒæˆ‘ï¼Œé‚£æˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°æ‰¾æˆ‘çš„ä¸Šçº§é¢†å¯¼åæ˜ æ­¤äº‹ï¼Œå› ä¸ºä»–è¿™æ ·åšä¼šé€ æˆè´Ÿé¢å½±å“ï¼Œå¯¹ä»Šåçš„å·¥ä½œä¸åˆ©ã€‚</p><h2 id="åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ"><a href="#åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ" class="headerlink" title="åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ?"></a>åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æ£€è®¨ä¸€ä¸‹è‡ªå·±æ˜¯ä¸æ˜¯å¯¹å·¥ä½œçš„çƒ­å¿ƒåº¦è¶…è¿‡åŒäº‹é—´äº¤å¾€çš„çƒ­å¿ƒäº†ï¼ŒåŠ å¼ºåŒäº‹é—´çš„äº¤å¾€åŠå…±åŒçš„å…´è¶£çˆ±å¥½ã€‚</p><p>â‘¡å·¥ä½œä¸­ï¼Œåˆ‡å‹¿ä¼¤å®³åˆ«äººçš„è‡ªå°Šå¿ƒã€‚</p><p>â‘¢ä¸åœ¨é¢†å¯¼å‰æ‹¨å¼„æ˜¯éã€‚</p><h2 id="ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹"><a href="#ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹" class="headerlink" title="ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹?"></a>ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è‡ªè´¹å‚åŠ ï¼Œå°±æ˜¯XXçš„åŸ¹è®­è¯¾ç¨‹ï¼ˆå¯ä»¥å¤šè°ˆè°ˆè‡ªå·±å­¦çš„æŠ€æœ¯ï¼‰ã€‚</p><h2 id="ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘"><a href="#ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘" class="headerlink" title="ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘?"></a>ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åœ¨å»å…¬å¸é¢è¯•å‰ä¸Šç½‘æŸ¥ä¸€ä¸‹è¯¥å…¬å¸ä¸»è¥ä¸šåŠ¡ã€‚å¯ç±»ä¼¼å›ç­”ï¼šè´µå…¬å¸æœ‰æ„æ”¹å˜ç­–ç•¥ï¼ŒåŠ å¼ºä¸å›½å¤–å¤§å‚çš„OEMåˆä½œï¼Œè‡ªæœ‰å“ç‰Œçš„éƒ¨åˆ†åˆ™é€è¿‡æµ·å¤–ç»é”€å•†ã€‚</p><h2 id="ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ"><a href="#ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ?"></a>ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯´å’Œä½ è¦åº”è˜çš„èŒä½ç›¸å…³çš„æŠ€æœ¯ï¼Œè¡¨ç°ä¸€ä¸‹è‡ªå·±çš„çƒ­è¯šæ²¡æœ‰ä»€ä¹ˆåå¤„ã€‚</p><h2 id="è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº"><a href="#è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº" class="headerlink" title="è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº?"></a>è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯æƒ³çŸ¥é“é¢è¯•è€…å¯¹è¿™ä»½å·¥ä½œçš„çƒ­å¿±åŠç†è§£åº¦ï¼Œå¹¶ç­›é€‰å› ä¸€æ—¶å…´èµ·è€Œæ¥åº”è¯•çš„äººï¼Œå¦‚æœæ˜¯æ— ç»éªŒè€…ï¼Œå¯ä»¥å¼ºè°ƒâ€œå°±ç®—èŒç§ä¸åŒï¼Œä¹Ÿå¸Œæœ›æœ‰æœºä¼šå‘æŒ¥ä¹‹å‰çš„ç»éªŒâ€ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å› ä¸ºæˆ‘å¾ˆçƒ­çˆ±è¿™ä¸ªå·¥ä½œï¼Œå¾ˆæƒ³ä»äº‹è¿™æ–¹é¢çš„å·¥ä½œã€‚</p><h2 id="ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢"><a href="#ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢" class="headerlink" title="ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢?"></a>ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å‡å¦‚ä½ å¯ä»¥çš„è¯ï¼Œè¯•ç€å‘Šè¯‰ä»–ä»¬ä½ å¯ä»¥å‡ä½ä»–ä»¬çš„è´¹ç”¨â€œæˆ‘å·²ç»æ¥å—è¿‡XXè¿‘ä¸¤å¹´ä¸“ä¸šçš„åŸ¹è®­ï¼Œç«‹åˆ»å°±å¯ä»¥ä¸Šå²—å·¥ä½œâ€ã€‚</p><p>â‘¡ä¼ä¸šå¾ˆæƒ³çŸ¥é“æœªæ¥çš„å‘˜å·¥èƒ½ä¸ºä¼ä¸šåšä»€ä¹ˆï¼Œæ±‚èŒè€…åº”å†æ¬¡é‡å¤è‡ªå·±çš„ä¼˜åŠ¿ï¼Œç„¶åè¡¨ç¤ºï¼šâ€œå°±æˆ‘çš„èƒ½åŠ›ï¼Œæˆ‘å¯ä»¥åšä¸€ä¸ªä¼˜ç§€çš„å‘˜å·¥åœ¨ç»„ç»‡ä¸­å‘æŒ¥èƒ½åŠ›ï¼Œç»™ç»„ç»‡å¸¦æ¥é«˜æ•ˆç‡å’Œæ›´å¤šçš„æ”¶ç›Šâ€ã€‚ä¼ä¸šå–œæ¬¢æ±‚èŒè€…å°±ç”³è¯·çš„èŒä½è¡¨æ˜è‡ªå·±çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ç”³è¯·è¥é”€ä¹‹ç±»çš„èŒä½ï¼Œå¯ä»¥è¯´ï¼šâ€œæˆ‘å¯ä»¥å¼€å‘å¤§é‡çš„æ–°å®¢æˆ·ï¼ŒåŒæ—¶ï¼Œå¯¹è€å®¢æˆ·åšæ›´å…¨é¢å‘¨åˆ°çš„æœåŠ¡ï¼Œå¼€å‘è€å®¢æˆ·çš„æ–°éœ€æ±‚å’Œæ¶ˆè´¹ã€‚â€ ç­‰ç­‰ã€‚</p><h2 id="æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯"><a href="#æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯" class="headerlink" title="æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯?"></a>æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æˆ‘ç»å¸¸ç”¨çš„ä¸‰ä¸ªè¯æ˜¯ï¼šé€‚åº”èƒ½åŠ›å¼ºï¼Œæœ‰è´£ä»»å¿ƒå’Œåšäº‹æœ‰å§‹ç»ˆï¼Œå¹¶ç»“åˆå…·ä½“ä¾‹å­å‘ä¸»è€ƒå®˜è§£é‡Šã€‚</p><h2 id="ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†"><a href="#ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†" class="headerlink" title="ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†?"></a>ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯•ç€åˆ—å‡ºå››ä¸ªä¼˜ç‚¹å’Œä¸€ä¸ªéå¸¸éå¸¸éå¸¸å°çš„ç¼ºç‚¹ï¼ˆå¯ä»¥æŠ±æ€¨ä¸€ä¸‹è®¾æ–½ï¼Œæ²¡æœ‰æ˜ç¡®è´£ä»»äººçš„ç¼ºç‚¹æ˜¯ä¸ä¼šæœ‰äººä»‹æ„çš„ï¼‰ã€‚</p><h2 id="ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½"><a href="#ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½" class="headerlink" title="ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½?"></a>ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯ä»¥æŠŠå²—ä½èŒè´£å’Œä»»åŠ¡åŠå·¥ä½œæ€åº¦é˜è¿°ä¸‹ã€‚</p><h2 id="å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹"><a href="#å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹" class="headerlink" title="å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹?"></a>å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åœ¨å›ç­”é¢è¯•å®˜è¿™ä¸ªé—®é¢˜æ—¶ä¸èƒ½å¤ªç›´æ¥å°±æŠŠè‡ªå·±å¿ƒç†çš„è¯è¯´å‡ºæ¥ï¼Œå°¤å…¶æ˜¯è–ªèµ„æ–¹é¢çš„é—®é¢˜ï¼Œä¸è¿‡ä¸€äº›æ— ä¼¤å¤§é›…çš„å›ç­”æ˜¯ä¸é”™çš„è€ƒè™‘ï¼Œå¦‚äº¤é€šæ–¹ä¾¿ï¼Œå·¥ä½œæ€§è´¨åŠå†…å®¹é¢‡èƒ½ç¬¦åˆè‡ªå·±çš„å…´è¶£ç­‰ç­‰éƒ½æ˜¯ä¸é”™çš„ç­”æ¡ˆï¼Œä¸è¿‡å¦‚æœè¿™æ—¶è‡ªå·±èƒ½ä»”ç»†æ€è€ƒå‡ºè¿™ä»½å·¥ä½œçš„ä¸ä¼—ä¸åŒä¹‹å¤„ï¼Œç›¸ä¿¡åœ¨é¢è¯•ä¸Šä¼šå¤§å¤§åŠ åˆ†ã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦ç¦»èŒ"><a href="#ä¸ºä»€ä¹ˆè¦ç¦»èŒ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç¦»èŒ?"></a>ä¸ºä»€ä¹ˆè¦ç¦»èŒ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å›ç­”è¿™ä¸ªé—®é¢˜æ—¶ä¸€å®šè¦å°å¿ƒï¼Œå°±ç®—åœ¨å‰ä¸€ä¸ªå·¥ä½œå—åˆ°å†å¤§çš„å§”å±ˆï¼Œå¯¹å…¬å¸æœ‰å¤šå°‘çš„æ€¨è¨€éƒ½åƒä¸‡ä¸è¦è¡¨ç°å‡ºæ¥ï¼Œå°¤å…¶è¦é¿å…å¯¹å…¬å¸æœ¬èº«ä¸»ç®¡çš„æ‰¹è¯„ï¼Œé¿å…é¢è¯•å®˜çš„è´Ÿé¢æƒ…ç»ªåŠå°è±¡ã€‚å»ºè®®æ­¤æ—¶æœ€å¥½çš„å›ç­”æ–¹å¼æ˜¯å°†é—®é¢˜å½’å’åœ¨è‡ªå·±èº«ä¸Šï¼Œä¾‹å¦‚è§‰å¾—å·¥ä½œæ²¡æœ‰å­¦ä¹ å‘å±•çš„ç©ºé—´ï¼Œè‡ªå·±æƒ³åœ¨é¢è¯•å·¥ä½œçš„ç›¸å…³äº§ä¸šä¸­å¤šåŠ å­¦ä¹ ï¼Œæˆ–æ˜¯å‰ä¸€ä»½å·¥ä½œä¸è‡ªå·±çš„ç”Ÿæ¶¯è§„åˆ’ä¸åˆç­‰ç­‰ï¼Œå›ç­”çš„ç­”æ¡ˆæœ€å¥½æ˜¯ç§¯ææ­£é¢çš„ã€‚</p><p>â‘¡æˆ‘å¸Œæœ›èƒ½è·å¾—ä¸€ä»½æ›´å¥½çš„å·¥ä½œï¼Œå¦‚æœæœºä¼šæ¥ä¸´ï¼Œæˆ‘ä¼šæŠ“ä½ã€‚æˆ‘è§‰å¾—ç›®å‰çš„å·¥ä½œï¼Œå·²ç»è¾¾åˆ°é¡¶å³°ï¼Œå³æ²¡æœ‰å‡è¿æœºä¼šã€‚</p><h2 id="è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•"><a href="#è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•" class="headerlink" title="è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•?"></a>è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šå¯¹è¿™ä¸ªé—®é¢˜å¾ˆæ„Ÿå…´è¶£ï¼Œåªæœ‰æœ‰å¤‡è€Œæ¥çš„æ±‚èŒè€…èƒ½å¤Ÿè¿‡å…³ã€‚æ±‚èŒè€…å¯ä»¥ç›´æ¥åœ¨ç½‘ä¸ŠæŸ¥æ‰¾å¯¹ä½ æ‰€ç”³è¯·çš„è¡Œä¸šéƒ¨é—¨çš„ä¿¡æ¯ï¼Œåªæœ‰æ·±å…¥äº†è§£æ‰èƒ½äº§ç”Ÿç‹¬ç‰¹çš„è§è§£ã€‚ä¼ä¸šè®¤ä¸ºæœ€èªæ˜çš„æ±‚èŒè€…æ˜¯å¯¹æ‰€é¢è¯•çš„å…¬å¸é¢„å…ˆäº†è§£å¾ˆå¤šï¼ŒåŒ…æ‹¬å…¬å¸å„ä¸ªéƒ¨é—¨ï¼Œå‘å±•æƒ…å†µï¼Œåœ¨é¢è¯•å›ç­”é—®é¢˜çš„æ—¶å€™å¯ä»¥æåˆ°æ‰€äº†è§£çš„æƒ…å†µï¼Œä¼ä¸šæ¬¢è¿è¿›å…¥ä¼ä¸šçš„äººæ˜¯â€œçŸ¥å·±â€ï¼Œè€Œä¸æ˜¯â€œç›²äººâ€ã€‚</p><h2 id="å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨"><a href="#å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨" class="headerlink" title="å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨?"></a>å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯é¢è¯•è€…ç”¨æ¥è¯„æ–­æ±‚èŒè€…æ˜¯å¦å¯¹è‡ªå·±æœ‰ä¸€å®šç¨‹åº¦çš„æœŸæœ›ã€å¯¹è¿™ä»½å·¥ä½œæ˜¯å¦äº†è§£çš„é—®é¢˜ã€‚ å¯¹äºå·¥ä½œæœ‰ç¡®å®å­¦ä¹ ç›®æ ‡çš„äººé€šå¸¸å­¦ä¹ è¾ƒå¿«ï¼Œå¯¹äºæ–°å·¥ä½œè‡ªç„¶è¾ƒå®¹æ˜“è¿›å…¥çŠ¶å†µï¼Œè¿™æ—¶å»ºè®®ä½ ï¼Œæœ€å¥½é’ˆå¯¹å·¥ä½œçš„æ€§è´¨æ‰¾å‡ºä¸€ä¸ªç¡®å®çš„ç­”æ¡ˆï¼Œå¦‚ä¸šåŠ¡å‘˜çš„å·¥ä½œå¯ä»¥è¿™æ ·å›ç­”ï¼šâ€œæˆ‘çš„ç›®æ ‡æ˜¯èƒ½æˆä¸ºä¸€ä¸ªè¶…çº§ä¸šåŠ¡å‘˜ï¼Œå°†å…¬å¸çš„äº§å“å¹¿æ³›çš„æ¨é”€å‡ºå»ï¼Œè¾¾åˆ°æœ€å¥½çš„ä¸šç»©æˆæ•ˆï¼›ä¸ºè¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä¸€å®šä¼šåŠªåŠ›å­¦ä¹ ï¼Œè€Œæˆ‘ç›¸ä¿¡ä»¥æˆ‘è®¤çœŸè´Ÿè´£çš„æ€åº¦ï¼Œä¸€å®šå¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®æ ‡ã€‚â€ å…¶ä»–ç±»çš„å·¥ä½œä¹Ÿå¯ä»¥æ¯”ç…§è¿™ä¸ªæ–¹å¼å›ç­”ï¼Œåªè¦åœ¨ç›®æ ‡æ–¹é¢ç¨å¾®ä¿®æ”¹ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><h2 id="è°ˆè°ˆä½ çš„å®¶åº­"><a href="#è°ˆè°ˆä½ çš„å®¶åº­" class="headerlink" title="è°ˆè°ˆä½ çš„å®¶åº­?"></a>è°ˆè°ˆä½ çš„å®¶åº­?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šé¢è¯•æ—¶è¯¢é—®å®¶åº­é—®é¢˜ä¸æ˜¯éè¦çŸ¥é“æ±‚èŒè€…å®¶åº­çš„æƒ…å†µï¼Œè€Œæ˜¯è¦äº†è§£å®¶åº­èƒŒæ™¯å¯¹æ±‚èŒè€…çš„å¡‘é€ å’Œå½±å“ã€‚ä¼ä¸šå¸Œæœ›å¬åˆ°çš„é‡ç‚¹ä¹Ÿåœ¨äºå®¶åº­å¯¹æ±‚èŒè€…çš„ç§¯æå½±å“ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æˆ‘å¾ˆçˆ±æˆ‘çš„å®¶åº­ï¼Œæˆ‘ä»¬å®¶ä¸€å‘å¾ˆå’Œç¦ï¼Œè™½ç„¶æˆ‘çš„çˆ¶äº²å’Œæ¯äº²éƒ½æ˜¯æ™®é€šäººï¼Œä½†æ˜¯ä»å°ï¼Œæˆ‘å°±çœ‹åˆ°æˆ‘çˆ¶äº²èµ·æ—©è´ªé»‘ï¼Œæ¯å¤©å·¥ä½œç‰¹åˆ«å‹¤åŠ³ï¼Œä»–çš„è¡ŒåŠ¨æ— å½¢ä¸­åŸ¹å…»äº†æˆ‘è®¤çœŸè´Ÿè´£çš„æ€åº¦å’Œå‹¤åŠ³çš„ç²¾ç¥ã€‚æˆ‘æ¯äº²ä¸ºäººå–„è‰¯ï¼Œå¯¹äººçƒ­æƒ…ï¼Œç‰¹åˆ«ä¹äºåŠ©äººï¼Œæ‰€ä»¥åœ¨å•ä½äººç¼˜å¾ˆå¥½ï¼Œå¥¹çš„ä¸€è¨€ä¸€è¡Œä¹Ÿä¸€ç›´åœ¨æ•™å¯¼æˆ‘åšäººçš„é“ç†ã€‚</p><h2 id="ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ"><a href="#ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ" class="headerlink" title="ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ?"></a>ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šå–œæ¬¢é—®æ±‚èŒè€…å¼±ç‚¹ï¼Œä½†ç²¾æ˜çš„æ±‚èŒè€…ä¸€èˆ¬ä¸ç›´æ¥å›ç­”ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ç»§ç»­é‡å¤è‡ªå·±çš„ä¼˜åŠ¿ï¼Œç„¶åè¯´ï¼šâ€œå¯¹äºè¿™ä¸ªèŒä½å’Œæˆ‘çš„èƒ½åŠ›æ¥è¯´ï¼Œæˆ‘ç›¸ä¿¡è‡ªå·±æ˜¯å¯ä»¥èƒœä»»çš„ï¼Œåªæ˜¯ç¼ºä¹ç»éªŒï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥è¿›å…¥å…¬å¸ä»¥åä»¥æœ€çŸ­çš„æ—¶é—´æ¥è§£å†³ï¼Œæˆ‘çš„å­¦ä¹ èƒ½åŠ›å¾ˆå¼ºï¼Œæˆ‘ç›¸ä¿¡å¯ä»¥å¾ˆå¿«èå…¥å…¬å¸çš„ä¼ä¸šæ–‡åŒ–ï¼Œè¿›å…¥å·¥ä½œçŠ¶æ€ã€‚</p><h2 id="ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº"><a href="#ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº" class="headerlink" title="ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº?"></a>ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯šå®ã€ä¸æ­»æ¿è€Œä¸”å®¹æ˜“ç›¸å¤„çš„äººã€æœ‰å®é™…è¡ŒåŠ¨çš„äººï¼ŒåŠ ä¸Šå…·ä½“ä¾‹å­ã€‚</p><h2 id="ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„"><a href="#ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„" class="headerlink" title="ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„?"></a>ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ æ²‰é»˜æ˜¯é‡‘ï¼Œä¸å¿…è¯´ä»€ä¹ˆï¼Œå¦åˆ™æƒ…å†µæ›´ç³Ÿï¼Œä¸è¿‡æˆ‘ä¼šæ¥å—å»ºè®¾æ€§çš„æ‰¹è¯„ã€‚</p><p>â‘¡æˆ‘ä¼šç­‰å¤§å®¶å†·é™ä¸‹æ¥å†è®¨è®ºã€‚</p><h2 id="æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥"><a href="#æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥" class="headerlink" title="æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥?"></a>æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¤§æ„ï¼šæˆ‘ä»¬ç”Ÿæ¥éƒ½ä¸æ˜¯åå…¨åç¾çš„ï¼Œæˆ‘ç›¸ä¿¡æˆ‘æœ‰ç¬¬äºŒä¸ªæœºä¼šæ”¹æ­£æˆ‘çš„é”™è¯¯ã€‚</p><h2 id="ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ"><a href="#ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ" class="headerlink" title="ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ?"></a>ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¸ºè´µå…¬å¸ç«­åŠ›æ•ˆåŠ³ï¼Œå°½æˆ‘æ‰€èƒ½ï¼Œå®Œæˆä¸€ä¸ªé¡¹ç›®ã€‚</p><h2 id="çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ"><a href="#çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ" class="headerlink" title="çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ?"></a>çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯¹æˆ‘æ¥è¯´ï¼Œèƒ½åœ¨è¿™ä¸ªé¢†åŸŸæ‰¾åˆ°å·¥ä½œæ˜¯æœ€é‡è¦çš„ï¼Œèƒ½åœ¨è´µå…¬å¸ä»»èŒå¯¹æˆ‘è¯´æœ€é‡è¦ã€‚</p><h2 id="ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ"><a href="#ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ" class="headerlink" title="ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ?"></a>ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä½ è¦æ ¼å¤–å°å¿ƒï¼Œå¦‚æœä½ å·²ç»å¯¹è¯¥å•ä½ä½œäº†ç ”ç©¶ï¼Œä½ å¯ä»¥å›ç­”ä¸€äº›è¯¦ç»†çš„åŸå› ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ å…¬å¸æœ¬èº«é«˜æŠ€æœ¯å¼€å‘ç¯å¢ƒå¾ˆå¸å¼•æˆ‘æˆ‘åŒå…¬å¸å‡ºç”Ÿåœ¨åŒæ ·çš„æ—¶ä»£ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿè¿›å…¥ä¸€å®¶ä¸æˆ‘å…±åŒæˆé•¿çš„å…¬å¸ã€‚</p><p>â‘¡ä½ ä»¬å…¬å¸ä¸€ç›´éƒ½ç¨³å®šå‘å±•ï¼Œåœ¨è¿‘å‡ å¹´æ¥åœ¨å¸‚åœºä¸Šæœ‰ç«äº‰åŠ›ã€‚æˆ‘è®¤ä¸ºè´µå…¬å¸èƒ½å¤Ÿç»™æˆ‘æä¾›ä¸€ä¸ªä¸ä¼—ä¸åŒçš„å‘å±•é“è·¯ã€‚</p><h2 id="ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—"><a href="#ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—" class="headerlink" title="ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—?"></a>ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯é¢è¯•ä¸­æœ€é™©æ¶çš„é—®é¢˜ï¼Œå…¶å®æ˜¯è€ƒå®˜å¸ƒä¸‹çš„ä¸€ä¸ªé™·é˜±ï¼ŒæˆåŠŸè§£å†³çŸ›ç›¾æ˜¯ä¸€ä¸ªåä½œå›¢ä½“ä¸­æˆå‘˜æ‰€å¿…å¤‡çš„èƒ½åŠ›ã€‚å‡å¦‚ä½ å·¥ä½œåœ¨ä¸€ä¸ªæœåŠ¡è¡Œä¸šï¼Œè¿™ä¸ªé—®é¢˜ç®€ç›´æˆäº†æœ€é‡è¦çš„ä¸ªç¯èŠ‚ã€‚ä½ æ˜¯å¦èƒ½è·å¾—è¿™ä»½å·¥ä½œï¼Œå°†å–å†³äºè¿™ä¸ªé—®é¢˜çš„å›ç­”ã€‚è€ƒå®˜å¸Œæœ›çœ‹åˆ°ä½ æ˜¯æˆç†Ÿä¸”ä¹äºå¥‰çŒ®çš„ã€‚ä»–ä»¬é€šè¿‡è¿™ä¸ªé—®é¢˜äº†è§£ä½ çš„æˆç†Ÿåº¦å’Œå¤„ä¸–èƒ½åŠ›ã€‚åœ¨æ²¡æœ‰å¤–ç•Œå¹²æ¶‰çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å¦¥åçš„æ–¹å¼æ¥è§£å†³æ‰æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚</p><h2 id="ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²"><a href="#ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²" class="headerlink" title="ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²?"></a>ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯è€ƒå®˜ç»™ä½ çš„ä¸€ä¸ªæœºä¼šï¼Œè®©ä½ å±•ç¤ºè‡ªå·±æŠŠæ¡å‘½è¿çš„èƒ½åŠ›ã€‚è¿™ä¼šä½“ç°ä½ æ½œåœ¨çš„é¢†å¯¼èƒ½åŠ›ä»¥åŠä½ è¢«æå‡çš„å¯èƒ½æ€§ã€‚å‡å¦‚ä½ åº”è˜äºä¸€ä¸ªæœåŠ¡æ€§è´¨çš„å•ä½ï¼Œä½ å¾ˆå¯èƒ½ä¼šè¢«é‚€è¯·èšé¤ã€‚è®°ä½ï¼šä½ çš„å‰é€”å–å†³äºä½ çš„çŸ¥è¯†ã€ä½ çš„ç¤¾äº¤èƒ½åŠ›å’Œç»¼åˆè¡¨ç°ã€‚</p><h2 id="å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾"><a href="#å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾" class="headerlink" title="å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾?"></a>å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ ä¸å®œç›´æ¥è¯´å‡ºå…·ä½“çš„å›°éš¾ï¼Œå¦åˆ™å¯èƒ½ä»¤å¯¹æ–¹æ€€ç–‘åº”è˜è€…ä¸è¡Œã€‚</p><p>â‘¡å¯ä»¥å°è¯•è¿‚å›æˆ˜æœ¯ï¼Œè¯´å‡ºåº”è˜è€…å¯¹å›°éš¾æ‰€æŒæœ‰çš„æ€åº¦å·¥ä½œä¸­å‡ºç°ä¸€äº›å›°éš¾æ˜¯æ­£å¸¸çš„ï¼Œä¹Ÿæ˜¯éš¾å…çš„ï¼Œä½†æ˜¯åªè¦æœ‰åšå¿ä¸æ‹”çš„æ¯…åŠ›ã€è‰¯å¥½çš„åˆä½œç²¾ç¥ä»¥åŠäº‹å‰å‘¨å¯†è€Œå……åˆ†çš„å‡†å¤‡ï¼Œä»»ä½•å›°éš¾éƒ½æ˜¯å¯ä»¥å…‹æœã€‚</p><h2 id="å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ"><a href="#å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ" class="headerlink" title="å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ?"></a>å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å¦‚æœåº”è˜è€…å¯¹äºåº”è˜çš„èŒä½ç¼ºä¹è¶³å¤Ÿçš„äº†è§£ï¼Œæœ€å¥½ä¸è¦ç›´æ¥è¯´å‡ºè‡ªå·±å¼€å±•å·¥ä½œçš„å…·ä½“åŠæ³•ã€‚</p><p>â‘¡å¯ä»¥å°è¯•é‡‡ç”¨è¿‚å›æˆ˜æœ¯æ¥å›ç­”ï¼Œå¦‚â€œé¦–å…ˆå¬å–é¢†å¯¼çš„æŒ‡ç¤ºå’Œè¦æ±‚ï¼Œç„¶åå°±æœ‰å…³æƒ…å†µè¿›è¡Œäº†è§£å’Œç†Ÿæ‚‰ï¼Œæ¥ä¸‹æ¥åˆ¶å®šä¸€ä»½è¿‘æœŸçš„å·¥ä½œè®¡åˆ’å¹¶æŠ¥é¢†å¯¼æ‰¹å‡†ï¼Œæœ€åæ ¹æ®è®¡åˆ’å¼€å±•å·¥ä½œã€‚â€ã€‚</p><h2 id="ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹"><a href="#ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹" class="headerlink" title="ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹?"></a>ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ é€šè¿‡åº”è˜è€…å¯¹ä¸Šçº§çš„â€œå¸Œæœ›â€å¯ä»¥åˆ¤æ–­å‡ºåº”è˜è€…å¯¹è‡ªæˆ‘è¦æ±‚çš„æ„è¯†ï¼Œè¿™æ—¢ä¸Šä¸€ä¸ªé™·é˜±ï¼Œåˆæ˜¯ä¸€æ¬¡æœºä¼šã€‚</p><p>â‘¡æœ€å¥½å›é¿å¯¹ä¸Šçº§å…·ä½“çš„å¸Œæœ›ï¼Œå¤šè°ˆå¯¹è‡ªå·±çš„è¦æ±‚ã€‚å¦‚â€œåšä¸ºåˆšæ­¥å…¥ç¤¾ä¼šçš„æ–°äººï¼Œæˆ‘åº”è¯¥å¤šè¦æ±‚è‡ªå·±å°½å¿«ç†Ÿæ‚‰ç¯å¢ƒã€é€‚åº”ç¯å¢ƒï¼Œè€Œä¸åº”è¯¥å¯¹ç¯å¢ƒæå‡ºä»€ä¹ˆè¦æ±‚ï¼Œåªè¦èƒ½å‘æŒ¥æˆ‘çš„ä¸“é•¿å°±å¯ä»¥äº†ã€‚</p><h2 id="ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ"><a href="#ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ" class="headerlink" title="ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ?"></a>ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å¦‚æœæ‹›è˜å•ä½å¯¹åº”å±Šæ¯•ä¸šç”Ÿçš„åº”è˜è€…æå‡ºè¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜æ‹›è˜å…¬å¸å¹¶ä¸çœŸæ­£åœ¨ä¹ç»éªŒï¼Œå…³é”®çœ‹åº”è˜è€…æ€æ ·å›ç­”ã€‚</p><p>â‘¡å¯¹è¿™ä¸ªé—®é¢˜çš„å›ç­”æœ€å¥½è¦ä½“ç°å‡ºåº”è˜è€…çš„è¯šæ³ã€æœºæ™ºã€æœæ•¢åŠæ•¬ä¸šã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ä½œä¸ºåº”å±Šæ¯•ä¸šç”Ÿï¼Œåœ¨å·¥ä½œç»éªŒæ–¹é¢çš„ç¡®ä¼šæœ‰æ‰€æ¬ ç¼ºï¼Œå› æ­¤åœ¨è¯»ä¹¦æœŸé—´æˆ‘ä¸€ç›´åˆ©ç”¨å„ç§æœºä¼šåœ¨è¿™ä¸ªè¡Œä¸šé‡Œåšå…¼èŒã€‚æˆ‘ä¹Ÿå‘ç°ï¼Œå®é™…å·¥ä½œè¿œæ¯”ä¹¦æœ¬çŸ¥è¯†ä¸°å¯Œã€å¤æ‚ã€‚ä½†æˆ‘æœ‰è¾ƒå¼ºçš„è´£ä»»å¿ƒã€é€‚åº”èƒ½åŠ›å’Œå­¦ä¹ èƒ½åŠ›ï¼Œè€Œä¸”æ¯”è¾ƒå‹¤å¥‹ï¼Œæ‰€ä»¥åœ¨å…¼èŒä¸­å‡èƒ½åœ†æ»¡å®Œæˆå„é¡¹å·¥ä½œï¼Œä»ä¸­è·å–çš„ç»éªŒä¹Ÿä»¤æˆ‘å—ç›Šéæµ…ã€‚è¯·è´µå…¬å¸æ”¾å¿ƒï¼Œå­¦æ ¡æ‰€å­¦åŠå…¼èŒçš„å·¥ä½œç»éªŒä½¿æˆ‘ä¸€å®šèƒ½èƒœä»»è¿™ä¸ªèŒä½ã€‚</p><h2 id="ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©"><a href="#ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©" class="headerlink" title="ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©?"></a>ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æ¯ä¸ªå…¬å¸éƒ½åœ¨ä¸æ–­å˜åŒ–å‘å±•çš„è¿‡ç¨‹ä¸­ï¼Œä½ å½“ç„¶å¸Œæœ›ä½ çš„å‘˜å·¥ä¹Ÿæ˜¯è¿™æ ·ã€‚ä½ å¸Œæœ›å¾—åˆ°é‚£äº›å¸Œæœ›å¹¶æ¬¢è¿å˜åŒ–çš„äººï¼Œå› ä¸ºè¿™äº›æ˜ç™½ï¼Œä¸ºäº†å…¬å¸çš„å‘å±•ï¼Œå˜åŒ–æ˜¯å…¬å¸æ—¥å¸¸ç”Ÿæ´»ä¸­é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è¿™æ ·çš„å‘˜å·¥å¾€å¾€å¾ˆå®¹æ˜“é€‚åº”å…¬å¸çš„å˜åŒ–ï¼Œå¹¶ä¼šå¯¹å˜åŒ–åšå‡ºç§¯æçš„å“åº”ã€‚</p><h2 id="å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—"><a href="#å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—" class="headerlink" title="å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—?"></a>å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ç°åœ¨çš„ç¤¾ä¼šæ˜¯ä¸€ä¸ªç«äº‰çš„ç¤¾ä¼šï¼Œä»è¿™æ¬¡é¢è¯•ä¸­ä¹Ÿå¯çœ‹å‡ºè¿™ä¸€ç‚¹ï¼Œæœ‰ç«äº‰å°±å¿…ç„¶æœ‰ä¼˜åŠ£ï¼Œæœ‰æˆåŠŸå¿…å®šå°±ä¼šæœ‰å¤±è´¥ã€‚å¾€å¾€æˆåŠŸçš„èƒŒåæœ‰è®¸å¤šçš„å›°éš¾å’ŒæŒ«æŠ˜ï¼Œå¦‚æœè¿™æ¬¡å¤±è´¥äº†ä¹Ÿä»…ä»…æ˜¯ä¸€æ¬¡è€Œå·²ï¼Œåªæœ‰ç»è¿‡ç»éªŒç»å†çš„ç§¯ç´¯æ‰èƒ½å¡‘é€ å‡ºä¸€ä¸ªå®Œå…¨çš„æˆåŠŸè€…ã€‚æˆ‘ä¼šä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥æ­£ç¡®çœ‹å¾…è¿™æ¬¡å¤±è´¥ï¼šâ‘ è¦æ•¢äºé¢å¯¹ï¼Œé¢å¯¹è¿™æ¬¡å¤±è´¥ä¸æ°”é¦ï¼Œæ¥å—å·²ç»å¤±å»äº†è¿™æ¬¡æœºä¼šå°±ä¸ä¼šå›å¤´è¿™ä¸ªç°å®ï¼Œä»å¿ƒç†æ„å¿—å’Œç°å‡ºå¯¹è¿™æ¬¡å¤±è´¥çš„æŠµæŠ—åŠ›ã€‚è¦æœ‰è‡ªä¿¡ï¼Œç›¸ä¿¡è‡ªå·±ç»å†äº†è¿™æ¬¡ä¹‹åç»è¿‡åŠªåŠ›ä¸€å®šèƒ½è¡Œï¼Œèƒ½å¤Ÿè¶…è¶Šè‡ªæˆ‘ã€‚â‘¡å–„äºåæ€ï¼Œå¯¹äºè¿™æ¬¡é¢è¯•ç»éªŒè¦è®¤çœŸæ€»ç»“ï¼Œæ€è€ƒå‰–æï¼Œèƒ½å¤Ÿä»è‡ªèº«çš„è§’åº¦æ‰¾å·®è·æ­£ç¡®å¯¹è‡ªå·±ï¼Œå®äº‹æ±‚æ˜¯åœ°è¯„ä»·è‡ªå·±ï¼Œè¾©è¯çš„çœ‹å¾…è‡ªå·±çš„é•¿çŸ­å¾—å¤±ï¼Œåšä¸€ä¸ªæ˜ç™½äººã€‚â‘¢èµ°å‡ºé˜´å½±ï¼Œå…‹æœè¿™ä¸€æ¬¡å¤±è´¥å¸¦ç»™è‡ªå·±çš„å¿ƒç†å‹åŠ›ï¼Œæ—¶åˆ»ç‰¢è®°è‡ªå·±å¼±ç‚¹ï¼Œé˜²æ‚£äºæœªç„¶ï¼ŒåŠ å¼ºå­¦ä¹ ï¼Œæé«˜è‡ªèº«ç´ è´¨ã€‚â‘£è®¤çœŸå·¥ä½œï¼Œå›åˆ°åŸå•ä½å²—ä½ä¸Šåï¼Œè¦å®å®åœ¨åœ¨ã€è¸è¸å®å®åœ°å·¥ä½œï¼Œä¸‰åå…­è¡Œè¡Œè¡Œå‡ºçŠ¶å…ƒï¼Œäº‰å–åœ¨æœ¬å²—ä½ä¸Šåšå‡ºä¸€å®šçš„æˆç»©ã€‚â‘¤å†æ¥å†å‰ï¼Œä»¥åå¦‚æœæœ‰æœºä¼šæˆ‘ä»ç„¶åå†æ¬¡å‚åŠ ç«äº‰ã€‚</p><h2 id="æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…"><a href="#æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…" class="headerlink" title="æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…?"></a>æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ›¾ç»æ¥è§¦è¿‡ä¸€ä¸ªå®¢æˆ·ï¼ŒåŸæœ¬å°±æœ‰è€³é—»ä»–ä»¥æŒ‘å‰”å‡ºåï¼Œæ‰€ä»¥äº‹å‰çš„å‡†å¤‡åŠŸå¤«åšå¾—ååˆ†å……åˆ†ï¼Œä¹ŸæŠ•å…¥äº†ç›¸å½“å¤šçš„æ—¶é—´ä¸ç²¾åŠ›ï¼Œæœ€åå®¢æˆ·è™½ç„¶å¹¶æ²¡æœ‰ç…§å•å…¨æ”¶ï¼Œä½†æ˜¯æ¥å—çš„ç¨‹åº¦å·²ç»å‡ºä¹æˆ‘ä»¬æ„æ–™ä¹‹å¤–äº†ã€‚åŸä»¥ä¸ºä»æ­¤å¯ä»¥åˆä½œæ„‰å¿«ï¼Œå´å¾—çŸ¥å®¢æˆ·æœ€åå› ä¸ºé¢„ç®—å…³ç³»é€‰æ‹©äº†å¦ä¸€å®¶ä»£ç†å•†ï¼Œä¹‹å‰çš„åŠªåŠ›å› è€Œä»˜è¯¸æµæ°´ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯ä»è¿™æ¬¡çš„ç»éªŒå­¦åˆ°å¾ˆå¤šï¼Œå¦‚å¯¹è¯¥äº§ä¸šçš„äº†è§£ï¼Œæ•´ä¸ªteamçš„é»˜å¥‘ä¹Ÿæ›´å¥½äº†ã€‚</p><h2 id="æƒ³è¿‡åˆ›ä¸šå—"><a href="#æƒ³è¿‡åˆ›ä¸šå—" class="headerlink" title="æƒ³è¿‡åˆ›ä¸šå—?"></a>æƒ³è¿‡åˆ›ä¸šå—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™ä¸ªé—®é¢˜å¯ä»¥æ˜¾ç¤ºä½ çš„å†²åŠ²ï¼Œä½†å¦‚æœä½ çš„å›ç­”æ˜¯â€œæœ‰â€çš„è¯ï¼Œåƒä¸‡å°å¿ƒï¼Œä¸‹ä¸€ä¸ªé—®é¢˜å¯èƒ½å°±æ˜¯ï¼šé‚£ä¹ˆä¸ºä»€ä¹ˆä½ ä¸è¿™æ ·åšå‘¢?</p><h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ "><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ " class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ ?"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åˆ«è¿‡åº¦å¹å˜˜è‡ªå·±çš„èƒ½åŠ›ï¼Œæˆ–ä¿¡å£å¼€æ²³åœ°ä¹±å¼€æ”¯ç¥¨ï¼Œä¾‹å¦‚ä¸€å®šä¼šä¸ºè¯¥å…¬å¸å¸¦æ¥å¤šå°‘é’±çš„ä¸šåŠ¡ç­‰ï¼Œè¿™æ ·å¾ˆå®¹æ˜“ç»™äººä¸€ç§çˆ±è¯´å¤§è¯ã€ä¸åˆ‡å®é™…çš„æ„Ÿè§‰ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ ¹æ®æˆ‘å¯¹è´µå…¬å¸çš„äº†è§£ï¼Œä»¥åŠæˆ‘åœ¨è¿™ä»½å·¥ä½œä¸Šæ‰€ç´¯ç§¯çš„ä¸“ä¸šã€ç»éªŒåŠäººè„‰ï¼Œç›¸ä¿¡æ­£æ˜¯è´µå…¬å¸æ‰€æ‰¾å¯»çš„äººæ‰ã€‚è€Œæˆ‘åœ¨å·¥ä½œæ€åº¦ã€EQä¸Šï¼Œä¹Ÿæœ‰åœ†èã€æˆç†Ÿçš„ä¸€é¢ï¼Œå’Œä¸»ç®¡ã€åŒäº‹éƒ½èƒ½åˆä½œæ„‰å¿«ã€‚</p><h2 id="é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸"><a href="#é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸" class="headerlink" title="é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸?"></a>é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯ç›¸å½“å¤šå…¬å¸ä¼šé—®çš„é—®é¢˜ï¼Œå…¶ç”¨æ„æ˜¯è¦æ¦‚ç•¥çŸ¥é“åº”å¾è€…çš„æ±‚èŒå¿—å‘ï¼Œæ‰€ä»¥è¿™å¹¶éç»å¯¹æ˜¯è´Ÿé¢ç­”æ¡ˆï¼Œå°±ç®—ä¸ä¾¿è¯´å‡ºå…¬å¸åç§°ï¼Œä¹Ÿåº”å›ç­”â€œé”€å”®åŒç§äº§å“çš„å…¬å¸â€ï¼Œå¦‚æœåº”è˜çš„å…¶ä»–å…¬å¸æ˜¯ä¸åŒä¸šç•Œï¼Œå®¹æ˜“è®©äººäº§ç”Ÿæ— æ³•ä¿¡ä»»çš„æ„Ÿè§‰ã€‚</p><h2 id="ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡"><a href="#ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡" class="headerlink" title="ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡?"></a>ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ˜¯å¦æ¯•ä¸šäºåç‰Œé™¢æ ¡ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯æœ‰èƒ½åŠ›å®Œæˆæ‚¨äº¤ç»™æˆ‘çš„å·¥ä½œï¼Œæˆ‘æ¥å—äº†XXçš„èŒä¸šåŸ¹è®­ï¼ŒæŒæ¡çš„æŠ€èƒ½å®Œå…¨å¯ä»¥èƒœä»»è´µå…¬å¸ç°åœ¨å·¥ä½œï¼Œè€Œä¸”æˆ‘æ¯”ä¸€äº›åç‰Œé™¢æ ¡çš„åº”å±Šæ¯•ä¸šç”Ÿçš„åŠ¨æ‰‹èƒ½åŠ›è¿˜è¦å¼ºï¼Œæˆ‘æƒ³æˆ‘æ›´é€‚åˆè´µå…¬å¸è¿™ä¸ªèŒä½ã€‚</p><h2 id="æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›"><a href="#æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›" class="headerlink" title="æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›?"></a>æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å­¦å†æˆ‘æƒ³åªè¦æ˜¯å¤§å­¦ä¸“ç§‘çš„å­¦å†ï¼Œå°±è¡¨æ˜è§‰å¾—æˆ‘å…·å¤‡äº†æ ¹æœ¬çš„å­¦ä¹ èƒ½åŠ›ã€‚å‰©ä¸‹çš„ï¼Œä½ æ˜¯å­¦å£«ä¹Ÿå¥½ï¼Œè¿˜æ˜¯åšå£«ä¹Ÿå¥½ï¼Œå¯¹äºè¿™ä¸€ç‚¹çš„è®¨è®ºï¼Œä¸æ˜¯çœ‹ä½ å­¦äº†å¤šå°‘çŸ¥è¯†ï¼Œè€Œæ˜¯çœ‹ä½ åœ¨è¿™ä¸ªé¢†åŸŸä¸Šå‘æŒ¥äº†ä»€ä¹ˆï¼Œä¹Ÿå°±æ˜¯æ‰€è¯´çš„èƒ½åŠ›é—®é¢˜ã€‚ä¸€ä¸ªäººå·¥ä½œèƒ½åŠ›çš„é«˜ä½ç›´æ¥å†³å®šå…¶èŒåœºå‘½è¿ï¼Œè€Œå­¦å†çš„é«˜ä½åªæ˜¯è¿›å…¥ä¸€ä¸ªä¼ä¸šçš„æ•²é—¨ç –ï¼Œå¦‚æœå…¬å¸æŠŠå­¦å†å¡åœ¨åšå£«ä¸Šæˆ‘å°±æ— æ³•è¿›å…¥è´µå…¬å¸ï¼Œå½“ç„¶è¿™ä¸ä¸€å®šåªæ˜¯æˆ‘ä¸ªäººçš„æŸå¤±ï¼Œå¦‚æœä¸€ä¸ªä¸“ç§‘ç”Ÿéƒ½èƒ½å®Œæˆçš„å·¥ä½œï¼Œæ‚¨åˆä½•å¿…éè¦æ‹›è˜ä¸€ä½åšå£«ç”Ÿå‘¢?</p><h2 id="è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ"><a href="#è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ" class="headerlink" title="è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ?"></a>è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ åŠå…¬å®¤é‡Œæ¯ä¸ªäººéƒ½æœ‰å„è‡ªçš„å²—ä½ä¸èŒè´£ï¼Œä¸å¾—æ“…ç¦»å²—ä½ã€‚</p><p>â‘¡æ ¹æ®é¢†å¯¼æŒ‡ç¤ºå’Œå·¥ä½œå®‰æ’ï¼Œåˆ¶å®šå·¥ä½œè®¡åˆ’ï¼Œæå‰é¢„å¤‡ï¼Œå¹¶æŒ‰è®¡åˆ’å®Œæˆã€‚</p><p>â‘¢å¤šè¯·ç¤ºå¹¶åŠæ—¶æ±‡æŠ¥ï¼Œé‡åˆ°ä¸æ˜ç™½çš„è¦è™šå¿ƒè¯·æ•™ã€‚â‘£æŠ“é—´éš™æ—¶é—´ï¼Œå¤šå­¦ä¹ ï¼ŒåŠªåŠ›æé«˜è‡ªå·±çš„æ”¿æ²»ç´ è´¨å’Œä¸šåŠ¡æ°´å¹³ã€‚</p><h2 id="è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸"><a href="#è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸" class="headerlink" title="è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸?"></a>è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å›ç­”å‰ä¸å¦¨å…ˆè¯¢é—®å…¬å¸å¯¹è¿™é¡¹èŒåŠ¡çš„è´£ä»»è®¤å®šåŠå½’å±ï¼Œå› ä¸ºæ¯ä¸€å®¶å…¬å¸çš„çŠ¶å†µä¸å°½ç›¸åŒï¼Œä»¥å…è¯´äº†ä¸€å †ç†æƒ³æŠ±è´Ÿå´å‘ç°ç‰›å¤´ä¸å¯¹é©¬å˜´ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å¸Œæœ›èƒ½å€Ÿæ­¤å‘æŒ¥æˆ‘çš„æ‰€å­¦åŠä¸“é•¿ï¼ŒåŒæ—¶ä¹Ÿå¸æ”¶è´µå…¬å¸åœ¨è¿™æ–¹é¢çš„ç»éªŒï¼Œå°±å…¬å¸ã€æˆ‘ä¸ªäººè€Œè¨€ï¼Œç¼”é€ åŒèµ¢çš„å±€é¢ã€‚</p><h2 id="ä½•æ—¶å¯ä»¥åˆ°èŒ"><a href="#ä½•æ—¶å¯ä»¥åˆ°èŒ" class="headerlink" title="ä½•æ—¶å¯ä»¥åˆ°èŒ?"></a>ä½•æ—¶å¯ä»¥åˆ°èŒ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¤§å¤šæ•°ä¼ä¸šä¼šå…³å¿ƒå°±èŒæ—¶é—´ï¼Œæœ€å¥½æ˜¯å›ç­”ï¼šâ€œå¦‚æœè¢«å½•ç”¨çš„è¯ï¼Œåˆ°èŒæ—¥å¯ä»¥æŒ‰å…¬å¸è§„å®šä¸Šç­â€ï¼Œä½†æ˜¯å¦‚æœè¿˜æœªè¾å»ä¸Šä¸€ä¸ªå·¥ä½œã€ä¸Šç­æ—¶é—´åˆå¤ªè¿‘ï¼Œä¼¼ä¹æœ‰äº›å¼ºäººæ‰€éš¾ï¼Œå› ä¸ºäº¤æ¥è‡³å°‘è¦ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œåº”è¿›ä¸€æ­¥è¯´æ˜åŸå› ï¼Œå½•å–å…¬å¸åº”è¯¥ä¼šé€šèçš„ã€‚</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ä¸‰æ å¸ƒå±€æ€»ç»“ï¼ˆå·¦å³å›ºå®šå®½åº¦ ä¸­é—´è‡ªé€‚åº”ï¼‰</title>
      <link>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html</link>
      <guid>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html</guid>
      <pubDate>Fri, 08 May 2020 16:15:34 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;æµ®åŠ¨å¸ƒå±€-float-margin&quot;&gt;&lt;a href=&quot;#æµ®åŠ¨å¸ƒå±€-float-margin&quot; class=&quot;headerlink&quot; title=&quot;æµ®åŠ¨å¸ƒå±€(float + margin)&quot;&gt;&lt;/a&gt;æµ®åŠ¨å¸ƒå±€(float + margin)&lt;/h2&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;div class=&quot;container&quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;left&quot;&amp;gt;Left&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;lt;!&lt;span class=&quot;selector-tag&quot;&gt;--&lt;/span&gt; å³æ éƒ¨åˆ†è¦å†™åœ¨ä¸­é—´å†…å®¹ä¹‹å‰ &lt;span class=&quot;selector-tag&quot;&gt;--&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;right&quot;&amp;gt;Right&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;main&quot;&amp;gt;Main&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;html&lt;/span&gt;,&lt;span class=&quot;selector-class&quot;&gt;.container&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*å·¦è¾¹æ å·¦æµ®åŠ¨*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.left&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;float&lt;/span&gt;:left;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#333&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*ä¸­é—´æ è‡ªé€‚åº”*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.main&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: red;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*å³è¾¹æ å³æµ®åŠ¨*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.right&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;float&lt;/span&gt;:right;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#333&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå¿«æ· ç®€å• å…¼å®¹æ€§è¾ƒå¥½&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹: æœ‰å±€é™æ€§ è„±ç¦»æ–‡æ¡£æµ éœ€è¦æ¸…é™¤æµ®åŠ¨ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="æµ®åŠ¨å¸ƒå±€-float-margin"><a href="#æµ®åŠ¨å¸ƒå±€-float-margin" class="headerlink" title="æµ®åŠ¨å¸ƒå±€(float + margin)"></a>æµ®åŠ¨å¸ƒå±€(float + margin)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">     &lt;!<span class="selector-tag">--</span> å³æ éƒ¨åˆ†è¦å†™åœ¨ä¸­é—´å†…å®¹ä¹‹å‰ <span class="selector-tag">--</span>&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>,<span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å·¦è¾¹æ å·¦æµ®åŠ¨*/</span></span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ä¸­é—´æ è‡ªé€‚åº”*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å³è¾¹æ å³æµ®åŠ¨*/</span></span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:right;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#333</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå¿«æ· ç®€å• å…¼å®¹æ€§è¾ƒå¥½</li><li>ç¼ºç‚¹: æœ‰å±€é™æ€§ è„±ç¦»æ–‡æ¡£æµ éœ€è¦æ¸…é™¤æµ®åŠ¨ç­‰</li></ul><hr><a id="more"></a><h2 id="ç»å¯¹å¸ƒå±€-position"><a href="#ç»å¯¹å¸ƒå±€-position" class="headerlink" title="ç»å¯¹å¸ƒå±€(position)"></a>ç»å¯¹å¸ƒå±€(position)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>,<span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å·¦å³è¿›è¡Œç»å¯¹å®šä½*/</span></span><br><span class="line"><span class="selector-class">.left</span>,<span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ä¸­é—´ç”¨marginç©ºå‡ºå·¦å³å…ƒç´ æ‰€å çš„ç©ºé—´*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*æˆ–è€…ä¸­é—´ä¹Ÿè¿›è¡Œç»å¯¹å®šä½*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šç®€å•ç²—æš´</li><li>ç¼ºç‚¹: è„±ç¦»æ–‡æ¡£æµ é«˜åº¦æœªçŸ¥ä¼šå‡ºç°é—®é¢˜ å¯ç”¨æ€§å·®</li></ul><h2 id="å¼¹æ€§ç›’å­å¸ƒå±€-flex"><a href="#å¼¹æ€§ç›’å­å¸ƒå±€-flex" class="headerlink" title="å¼¹æ€§ç›’å­å¸ƒå±€(flex)"></a>å¼¹æ€§ç›’å­å¸ƒå±€(flex)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šæ¯”è¾ƒå®Œç¾ ç§»åŠ¨ç«¯é¦–é€‰</li><li>ç¼ºç‚¹: ä¸å…¼å®¹ ie9 åŠä»¥ä¸‹</li></ul><h2 id="è¡¨æ ¼å¸ƒå±€-table"><a href="#è¡¨æ ¼å¸ƒå±€-table" class="headerlink" title="è¡¨æ ¼å¸ƒå±€(table)"></a>è¡¨æ ¼å¸ƒå±€(table)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¾ˆå¥½ï¼ˆie8 åŠä»¥ä¸Šï¼‰ çˆ¶å…ƒç´ é«˜åº¦ä¼šè¢«å­å…ƒç´ æ’‘å¼€ï¼ˆä¸æ‹…å¿ƒé«˜åº¦å¡Œé™·ï¼‰</li><li>ç¼ºç‚¹: seo ä¸å‹å¥½ å½“å…¶ä¸­ä¸€ä¸ªå•å…ƒæ ¼é«˜åº¦è¶…å‡ºçš„æ—¶å€™ï¼Œå…¶ä»–çš„å•å…ƒæ ¼ä¹Ÿæ˜¯ä¼šè·Ÿç€ä¸€èµ·å˜é«˜çš„</li></ul><h2 id="ç½‘æ ¼å¸ƒå±€-Grid"><a href="#ç½‘æ ¼å¸ƒå±€-Grid" class="headerlink" title="ç½‘æ ¼å¸ƒå±€(Grid)"></a>ç½‘æ ¼å¸ƒå±€(Grid)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">100px</span>;  <span class="comment">/*è®¾ç½®è¡Œé«˜*/</span></span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">200px</span> auto <span class="number">200px</span>;  <span class="comment">/*è®¾ç½®åˆ—æ•°å±æ€§*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šç®€å•å¼ºå¤§ è§£å†³äºŒç»´å¸ƒå±€é—®é¢˜</li><li>ç¼ºç‚¹: ä¸å…¼å®¹ ie9 åŠä»¥ä¸‹</li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>jsäºŒè¿›åˆ¶å’Œä½è¿ç®—</title>
      <link>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html</link>
      <guid>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html</guid>
      <pubDate>Wed, 06 May 2020 06:27:55 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot;&gt;&lt;a href=&quot;#js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot; class=&quot;headerlink&quot; title=&quot;js äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot;&gt;&lt;/a&gt;js äºŒè¿›åˆ¶ä¸ä½è¿ç®—&lt;/h1&gt;&lt;p&gt;ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„æ˜¯ä»¥åè¿›åˆ¶ä¸ºå•ä½ï¼Œè¿›ä½æ˜¯æ»¡ 10 è¿› 1ï¼Œè€Œè®¡ç®—æœºæ˜¯ç”¨äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆå°±æ˜¯æ»¡ 2 è¿› 1 å–½ï¼Œä¸ºä»€ä¹ˆé‡‡ç”¨äºŒè¿›åˆ¶å‘¢ï¼Ÿç®€å•è¯´ä¸‹ï¼ŒTaçš„ç”±æ¥å…¶å®æ˜¯æ ¹æ®ç”µè·¯çš„å¼€å…³é—­åˆï¼Œç”µè·¯åªæœ‰ 0 å’Œ 1ï¼Œå…·ä½“çš„è¯¦æƒ…è¿™é‡Œä¸å¤šåšè§£é‡Šäº†ï¼Œå¯ä»¥è‡ªè¡Œç™¾ç§‘^_^ã€‚javascript é‡‡ç”¨æœ‰ç¬¦å· 32 ä½çš„ 2 è¿›åˆ¶ï¼Œå¯è¡¨ç¤º 4294967295 ä¸ªæ•´æ•°(å«æ­£è´Ÿ)ï¼ŒèŒƒå›´æ˜¯ -2147483648(2 çš„ 32 æ¬¡æ–¹) ~ 2147483647ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot;&gt;&lt;/a&gt;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&lt;/h2&gt;&lt;p&gt;åœ¨è®¡ç®—æœºä¸­è§„å®šæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œ0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚æ­£æ•°è¡¨ç¤ºæ˜¯åŸç ï¼Œè´Ÿæ•°æ˜¯åŸç çš„è¡¥ç ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åŸç &quot;&gt;&lt;a href=&quot;#åŸç &quot; class=&quot;headerlink&quot; title=&quot;åŸç &quot;&gt;&lt;/a&gt;åŸç &lt;/h3&gt;&lt;p&gt;é™¤å»ç¬¦å·ä½ï¼Œå…¶ä»– 32 ä½éƒ½ä¸ºæ­£ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹ï¼š00000000000000000000000000001010 åŸç  00000000000000000000000000001010ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åç &quot;&gt;&lt;a href=&quot;#åç &quot; class=&quot;headerlink&quot; title=&quot;åç &quot;&gt;&lt;/a&gt;åç &lt;/h3&gt;&lt;p&gt;æ‰€è°“åç ï¼Œé™¤ç¬¦å·ä½å¤–ï¼Œå…¶ä»–ä½ 0 å˜ 1ï¼Œ1 å˜ 0ã€‚
ä¾‹ï¼š1010 åç  1101&lt;/p&gt;
&lt;h3 id=&quot;è¡¥ç &quot;&gt;&lt;a href=&quot;#è¡¥ç &quot; class=&quot;headerlink&quot; title=&quot;è¡¥ç &quot;&gt;&lt;/a&gt;è¡¥ç &lt;/h3&gt;&lt;p&gt;æ‰€è°“è¡¥ç ï¼Œå°±åƒæ˜¯å°å­¦å­¦è¿‡çš„ 10 è¿›åˆ¶è¡¥æ•°ï¼Œä¸¾ä¸ªä¾‹å­å°±å¾ˆå¥½ç†è§£ï¼Œ3 çš„è¡¥æ•°æ˜¯å¤šå°‘ï¼Ÿæ˜¯ 7ã€‚4 çš„è¡¥æ•°æ˜¯ 6ï¼Œè¡¥æ•°å°±æ˜¯ 10 å‡å»è¿™ä¸ªæ•°ã€‚åœ¨äºŒè¿›åˆ¶çš„è¡¥ç å°±æ˜¯ç›¸åŠ ç­‰äº 0ï¼Œäº’ä¸ºç›¸åæ•°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0 çš„è¡¥ç 
0 çš„åŸç ã€åç ã€è¡¥ç å‡ä¸º 0&lt;/li&gt;
&lt;li&gt;æ­£æ•°çš„è¡¥ç 
åŸç &lt;/li&gt;
&lt;li&gt;è´Ÿæ•°çš„è¡¥ç 
åŸç é™¤ç¬¦å·ä½å¤–çš„æ‰€æœ‰ä½å–å+1ã€‚å¦‚ä½•æ¨å‡ºæ¥çš„ï¼Œçœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼ŒæŒºæœ‰æ„æ€ã€‚&lt;a href=&quot;https://blog.csdn.net/wenxinwukui234/article/details/42119265&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç‚¹å‡»æŸ¥çœ‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—"><a href="#js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—" class="headerlink" title="js äºŒè¿›åˆ¶ä¸ä½è¿ç®—"></a>js äºŒè¿›åˆ¶ä¸ä½è¿ç®—</h1><p>ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„æ˜¯ä»¥åè¿›åˆ¶ä¸ºå•ä½ï¼Œè¿›ä½æ˜¯æ»¡ 10 è¿› 1ï¼Œè€Œè®¡ç®—æœºæ˜¯ç”¨äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆå°±æ˜¯æ»¡ 2 è¿› 1 å–½ï¼Œä¸ºä»€ä¹ˆé‡‡ç”¨äºŒè¿›åˆ¶å‘¢ï¼Ÿç®€å•è¯´ä¸‹ï¼ŒTaçš„ç”±æ¥å…¶å®æ˜¯æ ¹æ®ç”µè·¯çš„å¼€å…³é—­åˆï¼Œç”µè·¯åªæœ‰ 0 å’Œ 1ï¼Œå…·ä½“çš„è¯¦æƒ…è¿™é‡Œä¸å¤šåšè§£é‡Šäº†ï¼Œå¯ä»¥è‡ªè¡Œç™¾ç§‘^_^ã€‚javascript é‡‡ç”¨æœ‰ç¬¦å· 32 ä½çš„ 2 è¿›åˆ¶ï¼Œå¯è¡¨ç¤º 4294967295 ä¸ªæ•´æ•°(å«æ­£è´Ÿ)ï¼ŒèŒƒå›´æ˜¯ -2147483648(2 çš„ 32 æ¬¡æ–¹) ~ 2147483647ã€‚</p><h2 id="å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ"><a href="#å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ" class="headerlink" title="å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ"></a>å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ</h2><p>åœ¨è®¡ç®—æœºä¸­è§„å®šæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œ0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚æ­£æ•°è¡¨ç¤ºæ˜¯åŸç ï¼Œè´Ÿæ•°æ˜¯åŸç çš„è¡¥ç ã€‚</p><h3 id="åŸç "><a href="#åŸç " class="headerlink" title="åŸç "></a>åŸç </h3><p>é™¤å»ç¬¦å·ä½ï¼Œå…¶ä»– 32 ä½éƒ½ä¸ºæ­£ã€‚</p><p>ä¾‹ï¼š00000000000000000000000000001010 åŸç  00000000000000000000000000001010ã€‚</p><h3 id="åç "><a href="#åç " class="headerlink" title="åç "></a>åç </h3><p>æ‰€è°“åç ï¼Œé™¤ç¬¦å·ä½å¤–ï¼Œå…¶ä»–ä½ 0 å˜ 1ï¼Œ1 å˜ 0ã€‚ä¾‹ï¼š1010 åç  1101</p><h3 id="è¡¥ç "><a href="#è¡¥ç " class="headerlink" title="è¡¥ç "></a>è¡¥ç </h3><p>æ‰€è°“è¡¥ç ï¼Œå°±åƒæ˜¯å°å­¦å­¦è¿‡çš„ 10 è¿›åˆ¶è¡¥æ•°ï¼Œä¸¾ä¸ªä¾‹å­å°±å¾ˆå¥½ç†è§£ï¼Œ3 çš„è¡¥æ•°æ˜¯å¤šå°‘ï¼Ÿæ˜¯ 7ã€‚4 çš„è¡¥æ•°æ˜¯ 6ï¼Œè¡¥æ•°å°±æ˜¯ 10 å‡å»è¿™ä¸ªæ•°ã€‚åœ¨äºŒè¿›åˆ¶çš„è¡¥ç å°±æ˜¯ç›¸åŠ ç­‰äº 0ï¼Œäº’ä¸ºç›¸åæ•°ã€‚</p><ul><li>0 çš„è¡¥ç 0 çš„åŸç ã€åç ã€è¡¥ç å‡ä¸º 0</li><li>æ­£æ•°çš„è¡¥ç åŸç </li><li>è´Ÿæ•°çš„è¡¥ç åŸç é™¤ç¬¦å·ä½å¤–çš„æ‰€æœ‰ä½å–å+1ã€‚å¦‚ä½•æ¨å‡ºæ¥çš„ï¼Œçœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼ŒæŒºæœ‰æ„æ€ã€‚<a href="https://blog.csdn.net/wenxinwukui234/article/details/42119265" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹</a></li></ul><hr><a id="more"></a><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><h3 id="æŒ‰ä½ä¸ï¼ˆANDï¼‰-amp"><a href="#æŒ‰ä½ä¸ï¼ˆANDï¼‰-amp" class="headerlink" title="æŒ‰ä½ä¸ï¼ˆANDï¼‰ &amp;"></a>æŒ‰ä½ä¸ï¼ˆANDï¼‰ &amp;</h3><p>æè¿°ï¼ša &amp; b å¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œåªæœ‰ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½éƒ½æ˜¯ 1 æ—¶ï¼Œç»“æœæ‰ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 &amp; 3 = 2    0000 0010&amp; 0000 0011â€”â€”â€”â€”â€”â€”â€”    0000 0010</p><h4 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯:"></a>åº”ç”¨åœºæ™¯:</h4><p>åˆ¤æ–­å¥‡å¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(num &amp; <span class="number">1</span>) <span class="comment">// 1 æ˜¯å¥‡æ•°  0æ˜¯å¶æ•°</span></span><br></pre></td></tr></table></figure><p><strong>æƒé™è®¾ç½®ï¼šè§£æƒé™</strong></p><p>å› ä¸ºå¥‡æ•°çš„æœ€åä¸€ä½æ°¸è¿œæ˜¯ 1ã€‚ä¸¾ä¾‹ï¼šnum æ˜¯ 30000 00110000 0001â€”â€”â€”â€”â€”0000 0001</p><h3 id="æŒ‰ä½æˆ–ï¼ˆORï¼‰"><a href="#æŒ‰ä½æˆ–ï¼ˆORï¼‰" class="headerlink" title="æŒ‰ä½æˆ–ï¼ˆORï¼‰|"></a>æŒ‰ä½æˆ–ï¼ˆORï¼‰|</h3><p>æè¿°ï¼šå¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½è‡³å°‘æœ‰ä¸€ä¸ª 1 æ—¶ï¼Œç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 | 3 = 3   0000 0010 | 0000 0011â€”â€”â€”â€”â€”â€”â€”    0000 0011</p><h4 id="åº”ç”¨åœºæ™¯ï¼š"><a href="#åº”ç”¨åœºæ™¯ï¼š" class="headerlink" title="åº”ç”¨åœºæ™¯ï¼š"></a>åº”ç”¨åœºæ™¯ï¼š</h4><p><strong>å°æ•°å–æ•´</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n | <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">3.2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><p><strong>æƒé™</strong></p><p>å‡è®¾æˆ‘ä»¬è¯»çš„æƒé™æ˜¯ 1 å†™çš„æƒé™æ˜¯ 2ï¼Œå¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶æ‹¥æœ‰è¯»å’Œå†™ä¸¤ç§æƒé™ï¼Œæ­£å¸¸æ¥åˆ†é…å°±æ˜¯ç”¨ä¸€ä¸ªæ•°ç»„[1,2]ï¼Œé‚£ä¹ˆç”¨æˆ–è¿ç®—ç¬¦å¦‚ä½•åˆ†é…å‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Permission</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.instance = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">this</span>.permissions = &#123;</span><br><span class="line">      r: <span class="number">1</span>, <span class="comment">// è¯»</span></span><br><span class="line">      w: <span class="number">2</span>, <span class="comment">// å†™</span></span><br><span class="line">      e: <span class="number">4</span> <span class="comment">// æ‰§è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  getR() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r &#125;</span><br><span class="line">  getW() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.w &#125;</span><br><span class="line">  getE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  </span><br><span class="line">  getRW() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.w &#125;</span><br><span class="line">  getRE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  getWE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.w | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  </span><br><span class="line">  getRWE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.w | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  getAll() &#123; <span class="keyword">return</span> <span class="built_in">Object</span>.values(<span class="keyword">this</span>.permissions).reduce((p1, p2, i) =p1 | p2) &#125;</span><br><span class="line">  </span><br><span class="line">  isR(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.r) &#125;</span><br><span class="line">  isW(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.w) &#125;</span><br><span class="line">  isE(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.e) &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> getInstance() &#123;</span><br><span class="line">    !<span class="keyword">this</span>.instance &amp;&amp; (<span class="keyword">this</span>.instance = <span class="keyword">new</span> Permission())</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.instance</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> per = Permission.getInstance()</span><br><span class="line">per.getRW() <span class="comment">// è¯»å†™æƒé™ï¼š3</span></span><br><span class="line">per.getAll() <span class="comment">// æ‰€æœ‰æƒé™ï¼š7</span></span><br><span class="line">per.isR(<span class="number">3</span>) <span class="comment">// true æ˜¯å¦æœ‰è¯»çš„æƒé™</span></span><br><span class="line">per.isW(<span class="number">5</span>) <span class="comment">// false æ˜¯å¦æœ‰å†™çš„æƒé™</span></span><br><span class="line">per.isE(<span class="number">5</span>) <span class="comment">// true æ˜¯å¦æœ‰æ‰§è¡Œçš„æƒé™</span></span><br></pre></td></tr></table></figure><p>æ³¨ï¼šåŸºæœ¬è¿ç®—è¿‡ç¨‹1 | 2 =&gt;  0000 0001| 0000 0010â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”0000 0011=3</p><h3 id="æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰"><a href="#æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰" class="headerlink" title="æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰^"></a>æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰^</h3><p>æè¿°ï¼šå¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½æœ‰ä¸”åªæœ‰ä¸€ä¸ª 1 æ—¶ï¼Œç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 ^ 3   0000 0010^ 0000 0011â€”â€”â€”â€”â€”â€”    0000 0001</p><h4 id="åº”ç”¨åœºæ™¯-1"><a href="#åº”ç”¨åœºæ™¯-1" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><p>å˜é‡äº¤æ¢æˆ‘ä»¬ä¼šç”¨åˆ°ä¸¤ä¸ªå˜é‡çš„å€¼è¿›è¡Œäº¤æ¢ï¼Œæ¯”å¦‚å†’æ³¡æ’åºçš„ä¸¤ä¸¤å¯¹æ¯”ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§å°±äº¤æ¢ä½ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span></span><br><span class="line"><span class="keyword">var</span> temp = a</span><br><span class="line"><span class="keyword">var</span> a = b</span><br><span class="line"><span class="keyword">var</span> b = temp</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å£°æ˜ç¬¬ä¸‰ä¸ªå˜é‡æ¥å®ç°äº¤æ¢ã€‚é‚£ä¹ˆï¼Œç”¨æŒ‰ä½å¼‚æˆ–å¯ä»¥è¿™ä¹ˆåšï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span></span><br><span class="line">a ^= b</span><br><span class="line">b ^= a</span><br><span class="line">a ^= b</span><br></pre></td></tr></table></figure><p>åˆ†è§£ä¸€ä¸‹ä¸Šé¢çš„ï¼ša += 1 å’Œ a ^= b è¡¨è¾¾å¼è§„åˆ™æ˜¯ä¸€æ ·çš„æ‰€ä»¥ a ^= b =a = a ^ bï¼Œ çœ‹ä¸‹é¢è¿ç®—è¿‡ç¨‹ï¼š    0000 0001 ^ 0000 0010â€”â€”â€”â€”â€”â€”    0000 0011æ­¤æ—¶ï¼Œa å°±å˜æˆäº† 3ã€‚b ^= a =b = b ^ a    0000 0010 ^ 0000 0011â€”â€”â€”â€”â€”â€”    0000 0001æ­¤æ—¶ï¼Œb å˜æˆäº† 1ã€‚é‡å¤ç¬¬ä¸€æ­¥ï¼š    0000 0011 ^ 0000 0001â€”â€”â€”â€”â€”â€”    0000 0010æ­¤æ—¶ï¼Œa å˜æˆäº† 2ã€‚æœ€ç»ˆ a=2,b=1 å®ç°äº†å˜é‡çš„äº¤æ¢ã€‚å¥½å¤„æ˜¯å°‘å£°æ˜äº†ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ•ˆç‡ä¸Šï¼Œäº²æµ‹ç»“æœ å¼‚æˆ–è¿ç®—äº¤æ¢å¹¶ä¸æ¯”ç¬¬ä¸‰å˜é‡çš„æ•ˆç‡é«˜(æµ‹è¯•äº¤æ¢ 100 æ¬¡)ã€‚</p><h2 id="æŒ‰ä½éï¼ˆNOTï¼‰"><a href="#æŒ‰ä½éï¼ˆNOTï¼‰" class="headerlink" title="æŒ‰ä½éï¼ˆNOTï¼‰~"></a>æŒ‰ä½éï¼ˆNOTï¼‰~</h2><p>æè¿°ï¼šåè½¬æ“ä½œæ•°çš„æ¯”ç‰¹ä½ï¼Œå³ 0 å˜æˆ 1ï¼Œ1 å˜æˆ 0ã€‚çœ‹åˆ°è¿™ä¸ªå¯èƒ½ä¼šæƒ³åˆ°ä¸Šé¢æ‰€è¯´çš„åç ï¼Œè¿™ä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ï¼Œåç æ˜¯<strong>æŒ‰ç…§æœ‰ç¬¦å·å’Œæ— ç¬¦å·ç®—çš„</strong>,å–åæ˜¯ä¸ç®¡æœ‰æ²¡æœ‰ç¬¦å·å…¨éƒ¨ 0 å˜ 1,1 å˜ 0 çš„</p><h3 id="åº”ç”¨åœºæ™¯-2"><a href="#åº”ç”¨åœºæ™¯-2" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p><strong>å°æ•°å–æ•´</strong>è¿˜æœ‰ä¸€ä¸ªç‰¹å¾æ˜¯å–åæ˜¯ä¸èƒ½ç”¨äºæµ®ç‚¹å‹ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥å‘ä¸‹å–æ•´ï¼Œæ•ˆæœå’Œ Math.floor()ä¸€æ ·ï¼Œ~~æ•ˆç‡è¦é«˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> ~~n</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">3.2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h2 id="å·¦ç§»ï¼ˆLeft-shiftï¼‰-lt-lt"><a href="#å·¦ç§»ï¼ˆLeft-shiftï¼‰-lt-lt" class="headerlink" title="å·¦ç§»ï¼ˆLeft shiftï¼‰&lt;&lt;"></a>å·¦ç§»ï¼ˆLeft shiftï¼‰&lt;&lt;</h2><p>æè¿°ï¼ša &lt;&lt; b ,å°† a çš„äºŒè¿›åˆ¶å½¢å¼å‘å·¦ç§» b (&lt; 32) æ¯”ç‰¹ä½ï¼Œå³è¾¹ç”¨ 0 å¡«å……ã€‚(æ‘˜è‡ª MDN)ä¸¾ä¾‹ï¼š3 &lt;&lt; 40000 0011 å‘å·¦ç§»åŠ¨ 4 ä½ =0011 0000å¯çŸ¥ï¼Œå·¦ç§»æ•°æ˜¯è¶Šæ¥è¶Šå¤§çš„ã€‚<strong>ç§»åŠ¨è¿ç®—ç¬¦è¿ç®—æ•ˆç‡è¾ƒé«˜</strong></p><h3 id="åº”ç”¨åœºæ™¯-3"><a href="#åº”ç”¨åœºæ™¯-3" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>x ä¹˜ä»¥ y çš„ n æ¬¡æ–¹ï¼š<strong>x &lt;&lt; y</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;&lt; <span class="number">3</span> =<span class="number">0000</span> <span class="number">1000</span> åŒ–æˆ<span class="number">10</span>è¿›åˆ¶ =<span class="number">1</span> * <span class="number">2</span>çš„<span class="number">3</span>æ¬¡æ–¹ =<span class="number">8</span></span><br></pre></td></tr></table></figure><p>2 è¿›åˆ¶åŒ–æˆ 10 è¿›åˆ¶ å°±æ˜¯ 2 çš„ n æ¬¡æ–¹ ä¹˜ä»¥ å½“å‰ä½ã€‚</p><h2 id="æœ‰ç¬¦å·å³ç§»-a-gt-b"><a href="#æœ‰ç¬¦å·å³ç§»-a-gt-b" class="headerlink" title="æœ‰ç¬¦å·å³ç§» a &gt;b"></a>æœ‰ç¬¦å·å³ç§» a &gt;b</h2><p>æè¿°ï¼šå°† a çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§» b (&lt; 32) ä½ï¼Œä¸¢å¼ƒè¢«ç§»å‡ºçš„ä½ã€‚è¯¥æ“ä½œç¬¦ä¼šå°†ç¬¬ä¸€ä¸ªæ“ä½œæ•°å‘å³ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ã€‚å‘å³è¢«ç§»å‡ºçš„ä½è¢«ä¸¢å¼ƒï¼Œæ‹·è´æœ€å·¦ä¾§çš„ä½ä»¥å¡«å……å·¦ä¾§ã€‚ç”±äºæ–°çš„æœ€å·¦ä¾§çš„ä½æ€»æ˜¯å’Œä»¥å‰ç›¸åŒï¼Œç¬¦å·ä½æ²¡æœ‰è¢«æ”¹å˜ã€‚æ‰€ä»¥è¢«ç§°ä½œâ€œç¬¦å·ä¼ æ’­â€ã€‚ä¸¾ä¾‹ï¼šæ­£æ•°å³ç§»ï¼š4 &gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span></span><br><span class="line">&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">   <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span></span><br></pre></td></tr></table></figure><p>æ­£æ•°å³ç§»ï¼Œä¸å¤Ÿçš„ä½æ•°ç”¨ç¬¦å·ä½ 0 è¡¥å…¨ï¼Œå¯ä»¥å‘ç°è§„å¾‹ï¼Œç»“æœæ˜¯ 4 / (2 çš„ 2 æ¬¡æ–¹) =å½“å‰ä½/(2 çš„ç§»ä½çš„ä½æ•°çš„æ¬¡æ–¹)</p><p>è´Ÿæ•°å³ç§»ï¼š-3 &gt;4</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0011</span> çš„è¡¥ç æ˜¯=&gt;</span><br><span class="line">   <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1101</span> å‘å³ç§»åŠ¨<span class="number">4</span>ä½ï¼Œå³è¾¹èˆå»ï¼Œå·¦ä¾§ç”¨ç¬¦å·ä½è¡¥é½</span><br><span class="line">&gt;                                      <span class="number">4</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">   <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> è¡¥ç æ˜¯=&gt;</span><br><span class="line">   <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span> æ‰€ä»¥,æœ€ç»ˆæ˜¯<span class="number">-1</span></span><br></pre></td></tr></table></figure><h2 id="æ— ç¬¦å·å³ç§»-a-gt-gt-b"><a href="#æ— ç¬¦å·å³ç§»-a-gt-gt-b" class="headerlink" title="æ— ç¬¦å·å³ç§» a &gt;&gt;b"></a>æ— ç¬¦å·å³ç§» a &gt;&gt;b</h2><p>æè¿°ï¼šå°† a çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§» b (&lt; 32) ä½ï¼Œä¸¢å¼ƒè¢«ç§»å‡ºçš„ä½ï¼Œå¹¶ä½¿ç”¨ 0 åœ¨å·¦ä¾§å¡«å……ã€‚æ­£æ•°å³ç§»ï¼š4 &gt;&gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span></span><br><span class="line">&gt;&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç° 4 &gt;&gt;2 å’Œ 4 &gt;2 ç»“æœéƒ½æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºéè´Ÿæ•°æ¥è¯´ï¼Œæœ‰æ— ç¬¦å·å³ç§»ç»“æœéƒ½æ˜¯ç›¸åŒã€‚è´Ÿæ•°å³ç§»ï¼š-4 &gt;&gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span> è¡¥ç =&gt;</span><br><span class="line">    <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1100</span></span><br><span class="line">&gt;&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    <span class="number">0011</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span></span><br><span class="line">    åŒ–æˆ<span class="number">10</span>è¿›åˆ¶=<span class="number">2</span>^<span class="number">29.</span>.<span class="number">.2</span>^<span class="number">1</span>+<span class="number">1</span> = <span class="number">1073741823</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p><strong>ä½è¿ç®— ä¼˜åŠ¿ï¼šä¹˜é™¤ï¼Œå–æ¨¡ï¼Œè¿ç®—æ•ˆç‡é«˜ åŠ£åŠ¿ï¼šå¯è¯»æ€§è¾ƒä½ï¼Œå¯¹åˆå­¦è€…æœ‰éš¾åº¦ï¼Œå·¥ä½œä¸­åº”å½“æŒ‰éœ€æ‰€å–ï¼Œä¸åº”ä¸ºç‚«æŠ€æ»¥ç”¨ã€‚</strong> å¥½å¤šæºç éƒ½æœ‰ç”¨åˆ°ä½è¿ç®—ï¼ˆexpressã€koaã€koa-bodyï¼‰ï¼Œç°åœ¨å­¦ä¹ äº†ä½è¿ç®—ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸æ‹…å¿ƒè¯»ä¸æ‡‚æºç äº†ï¼</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>HTML5ä¸­çš„Web Notificationæ¡Œé¢é€šçŸ¥</title>
      <link>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html</link>
      <guid>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html</guid>
      <pubDate>Wed, 06 May 2020 06:27:55 GMT</pubDate>
      <description>
      
        &lt;p&gt;Web Notifications æŠ€æœ¯ä½¿é¡µé¢å¯ä»¥å‘å‡ºé€šçŸ¥ï¼Œé€šçŸ¥å°†è¢«æ˜¾ç¤ºåœ¨é¡µé¢ä¹‹å¤–çš„ç³»ç»Ÿå±‚é¢ä¸Šã€‚èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒï¼Œå³ä½¿ç”¨æˆ·å¿™äºå…¶ä»–å·¥ä½œæ—¶ä¹Ÿå¯ä»¥æ”¶åˆ°æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯é€šçŸ¥ï¼Œä¾‹å¦‚ä¸€ä¸ªæ–°é‚®ä»¶çš„æé†’ï¼Œæˆ–è€…ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤æ”¶åˆ°çš„æ¶ˆæ¯æé†’ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PSï¼šé™¤äº†IEå¤–ï¼Œå„å¤§ç°ä»£æµè§ˆå™¨éƒ½å¯¹è¿™ä¸ªæ¡Œé¢æ¨é€æœ‰äº†åŸºæœ¬çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>Web Notifications æŠ€æœ¯ä½¿é¡µé¢å¯ä»¥å‘å‡ºé€šçŸ¥ï¼Œé€šçŸ¥å°†è¢«æ˜¾ç¤ºåœ¨é¡µé¢ä¹‹å¤–çš„ç³»ç»Ÿå±‚é¢ä¸Šã€‚èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒï¼Œå³ä½¿ç”¨æˆ·å¿™äºå…¶ä»–å·¥ä½œæ—¶ä¹Ÿå¯ä»¥æ”¶åˆ°æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯é€šçŸ¥ï¼Œä¾‹å¦‚ä¸€ä¸ªæ–°é‚®ä»¶çš„æé†’ï¼Œæˆ–è€…ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤æ”¶åˆ°çš„æ¶ˆæ¯æé†’ç­‰ç­‰ã€‚</p><blockquote><p>PSï¼šé™¤äº†IEå¤–ï¼Œå„å¤§ç°ä»£æµè§ˆå™¨éƒ½å¯¹è¿™ä¸ªæ¡Œé¢æ¨é€æœ‰äº†åŸºæœ¬çš„æ”¯æŒã€‚</p></blockquote><hr><a id="more"></a><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>è¦åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯é€šçŸ¥ï¼Œéå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨ window å¯¹è±¡ä¸‹é¢çš„Notificationç±»å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="keyword">new</span> Notification(<span class="string">"æ¡Œé¢æ¨é€"</span>, &#123;</span><br><span class="line">icon: <span class="string">'img/icon.png'</span>,</span><br><span class="line">body: <span class="string">'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€æ¡æ¡Œé¢é€šçŸ¥ã€‚'</span>,</span><br><span class="line">    image:<span class="string">'img/1.jpg'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><blockquote><p>PSï¼šæ¶ˆæ¯é€šçŸ¥åªæœ‰é€šè¿‡WebæœåŠ¡è®¿é—®è¯¥é¡µé¢æ—¶æ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœç›´æ¥åŒå‡»æ‰“å¼€æœ¬åœ°æ–‡ä»¶ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ çš„æ–‡ä»¶éœ€è¦ä½¿ç”¨æœåŠ¡å™¨çš„å½¢å¼æ‰“å¼€ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°æ–‡ä»¶ã€‚</p></blockquote><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myNotification = <span class="keyword">new</span> Notification(title, options);</span><br></pre></td></tr></table></figure><ul><li><p>titleï¼šå®šä¹‰ä¸€ä¸ªé€šçŸ¥çš„æ ‡é¢˜ï¼Œå½“å®ƒè¢«è§¦å‘æ—¶ï¼Œå®ƒå°†æ˜¾ç¤ºåœ¨é€šçŸ¥çª—å£çš„é¡¶éƒ¨ã€‚</p></li><li><p>optionsï¼ˆå¯é€‰ï¼‰å¯¹è±¡åŒ…å«åº”ç”¨äºé€šçŸ¥çš„ä»»ä½•è‡ªå®šä¹‰è®¾ç½®é€‰é¡¹ã€‚</p></li></ul><p>å¸¸ç”¨çš„é€‰é¡¹æœ‰ï¼š</p><ul><li><p>body: é€šçŸ¥çš„æ­£æ–‡ï¼Œå°†æ˜¾ç¤ºåœ¨æ ‡é¢˜ä¸‹æ–¹ã€‚</p></li><li><p>tag: ç±»ä¼¼æ¯ä¸ªé€šçŸ¥çš„IDï¼Œä»¥ä¾¿åœ¨å¿…è¦çš„æ—¶å€™å¯¹é€šçŸ¥è¿›è¡Œåˆ·æ–°ã€æ›¿æ¢æˆ–ç§»é™¤ã€‚</p></li><li><p>icon: æ˜¾ç¤ºé€šçŸ¥çš„å›¾æ ‡</p></li><li><p>image: åœ¨é€šçŸ¥æ­£æ–‡ä¸­æ˜¾ç¤ºçš„å›¾åƒçš„URLã€‚</p></li><li><p>data: æ‚¨æƒ³è¦ä¸é€šçŸ¥ç›¸å…³è”çš„ä»»æ„æ•°æ®ã€‚è¿™å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ã€‚</p></li><li><p>renotify: ä¸€ä¸ª Boolean æŒ‡å®šåœ¨æ–°é€šçŸ¥æ›¿æ¢æ—§é€šçŸ¥åæ˜¯å¦åº”é€šçŸ¥ç”¨æˆ·ã€‚é»˜è®¤å€¼ä¸ºfalseï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä¸ä¼šè¢«é€šçŸ¥ã€‚</p></li><li><p>requireInteraction: è¡¨ç¤ºé€šçŸ¥åº”ä¿æŒæœ‰æ•ˆï¼Œç›´åˆ°ç”¨æˆ·ç‚¹å‡»æˆ–å…³é—­å®ƒï¼Œè€Œä¸æ˜¯è‡ªåŠ¨å…³é—­ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p></li></ul><p>å½“è¿™æ®µä»£ç æ‰§è¡Œæ—¶ï¼Œæµè§ˆå™¨ä¼šè¯¢é—®ç”¨æˆ·ï¼Œæ˜¯å¦å…è®¸è¯¥ç«™ç‚¹æ˜¾ç¤ºæ¶ˆæ¯é€šçŸ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/notification.png" alt="notification"></p><p>åªæœ‰ç”¨æˆ·ç‚¹å‡»äº†å…è®¸ï¼Œæˆæƒäº†é€šçŸ¥ï¼Œé€šçŸ¥æ‰ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥ã€‚</p><h2 id="æˆæƒ"><a href="#æˆæƒ" class="headerlink" title="æˆæƒ"></a>æˆæƒ</h2><p><strong>å¦‚ä½•è·å–åˆ°ç”¨æˆ·ç‚¹å‡»çš„æ˜¯â€œå…è®¸â€è¿˜æ˜¯â€œé˜»æ­¢â€å‘¢ï¼Ÿ</strong></p><p>windowçš„ Notificationå®ä¾‹æœ‰ä¸€ä¸ª requestPermission å‡½æ•°ç”¨æ¥è·å–ç”¨æˆ·çš„æˆæƒçŠ¶æ€ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥æ˜¯å¦å…·æœ‰æƒé™æ˜¾ç¤ºé€šçŸ¥</span></span><br><span class="line"><span class="comment">// å¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬å°±ç”³è¯·æƒé™</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.Notification &amp;&amp; Notification.permission !== <span class="string">"granted"</span>) &#123;</span><br><span class="line">    Notification.requestPermission(<span class="function"><span class="keyword">function</span> (<span class="params">status</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// statusæ˜¯æˆæƒçŠ¶æ€ã€‚</span></span><br><span class="line">    <span class="comment">// å¦‚æœç”¨æˆ·ç‚¹å‡»çš„å…è®¸ï¼Œåˆ™statusä¸º'granted'</span></span><br><span class="line">    <span class="comment">// å¦‚æœç”¨æˆ·ç‚¹å‡»çš„ç¦æ­¢ï¼Œåˆ™statusä¸º'denied'</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿™å°†ä½¿æˆ‘ä»¬èƒ½åœ¨ Chrome/Safari ä¸­ä½¿ç”¨ Notification.permission</span></span><br><span class="line">    <span class="keyword">if</span> (Notification.permission !== status) &#123;</span><br><span class="line">            Notification.permission = status;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>æ³¨æ„ï¼šå¦‚æœç”¨æˆ·ç‚¹å‡»äº†æˆæƒå³ä¸Šè§’çš„å…³é—­æŒ‰é’®ï¼Œåˆ™statusçš„å€¼ä¸ºdefaultã€‚</p></blockquote><p>ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ status çš„å€¼æ˜¯å¦ä¸ºgrantedï¼Œæ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºé€šçŸ¥ã€‚</p><h2 id="é€šçŸ¥äº‹ä»¶"><a href="#é€šçŸ¥äº‹ä»¶" class="headerlink" title="é€šçŸ¥äº‹ä»¶"></a>é€šçŸ¥äº‹ä»¶</h2><p>ä½†æ˜¯å•çº¯çš„æ˜¾ç¤ºä¸€ä¸ªæ¶ˆæ¯æ¡†æ˜¯æ²¡æœ‰ä»»ä½•å¸å¼•åŠ›çš„ï¼Œæ‰€ä»¥æ¶ˆæ¯é€šçŸ¥åº”è¯¥å…·æœ‰ä¸€å®šçš„äº¤äº’æ€§ï¼Œåœ¨æ˜¾ç¤ºæ¶ˆæ¯çš„å‰å‰ååéƒ½åº”è¯¥æœ‰äº‹ä»¶çš„å‚ä¸ã€‚</p><p>Notificationä¸€å¼€å§‹å°±åˆ¶å®šå¥½äº†ä¸€ç³»åˆ—äº‹ä»¶å‡½æ•°ï¼Œå¼€å‘è€…å¯ä»¥å¾ˆæ–¹é¢çš„ä½¿ç”¨è¿™äº›å‡½æ•°å¤„ç†ç”¨æˆ·äº¤äº’ï¼š</p><p>æœ‰ï¼šonshow,onclick,onerror,oncloseã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="keyword">new</span> Notification(<span class="string">"æ¡Œé¢æ¨é€"</span>, &#123;</span><br><span class="line">icon: <span class="string">'img/icon.png'</span>,</span><br><span class="line">body: <span class="string">'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€æ¡æ¡Œé¢é€šçŸ¥ã€‚'</span></span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//onshowå‡½æ•°åœ¨æ¶ˆæ¯æ¡†æ˜¾ç¤ºæ—¶è§¦å‘</span></span><br><span class="line"><span class="comment">//å¯ä»¥åšä¸€äº›æ•°æ®è®°å½•åŠå®šæ—¶å…³é—­æ¶ˆæ¯æ¡†ç­‰</span></span><br><span class="line">n.onshow = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'æ˜¾ç¤ºæ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">//5ç§’åå…³é—­æ¶ˆæ¯æ¡†</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">n.close();</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ¶ˆæ¯æ¡†è¢«ç‚¹å‡»æ—¶è¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">//å¯ä»¥æ‰“å¼€ç›¸å…³çš„è§†å›¾ï¼ŒåŒæ—¶å…³é—­è¯¥æ¶ˆæ¯æ¡†ç­‰æ“ä½œ</span></span><br><span class="line">n.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'ç‚¹å‡»æ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">// æ‰“å¼€ç›¸å…³çš„è§†å›¾</span></span><br><span class="line">n.close();</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å½“æœ‰é”™è¯¯å‘ç”Ÿæ—¶ä¼šonerrorå‡½æ•°ä¼šè¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">//å¦‚æœæ²¡æœ‰grantedæˆæƒï¼Œåˆ›å»ºNotificationå¯¹è±¡å®ä¾‹æ—¶ï¼Œä¹Ÿä¼šæ‰§è¡Œonerrorå‡½æ•°</span></span><br><span class="line">n.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'æ¶ˆæ¯æ¡†é”™è¯¯'</span>);</span><br><span class="line"><span class="comment">// åšäº›å…¶ä»–çš„äº‹</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//ä¸€ä¸ªæ¶ˆæ¯æ¡†å…³é—­æ—¶oncloseå‡½æ•°ä¼šè¢«è°ƒç”¨</span></span><br><span class="line">n.onclose = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'å…³é—­æ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">//åšäº›å…¶ä»–çš„äº‹</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="é¡¹ç›®å®ä¾‹"><a href="#é¡¹ç›®å®ä¾‹" class="headerlink" title="é¡¹ç›®å®ä¾‹"></a>é¡¹ç›®å®ä¾‹</h2><p><a href="https://github.com/cosyer/pwa-tour" target="_blank" rel="noopener">pwaç‰ˆæ—…æ¸¸ç«™ç‚¹H5</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å‰ç«¯åŠ¨ç”»çš„å®ç°æ–¹å¼æ€»ç»“</title>
      <link>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html</link>
      <guid>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html</guid>
      <pubDate>Wed, 29 Apr 2020 16:48:40 GMT</pubDate>
      <description>
      
        &lt;p&gt;é€šå¸¸åœ¨å‰ç«¯ä¸­ï¼Œå®ç°åŠ¨ç”»çš„æ–¹æ¡ˆä¸»è¦æœ‰6ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;js ç›´æ¥å®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SVGï¼ˆå¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CSS3 transition&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CSS3 animation&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CanvasåŠ¨ç”»&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;requestAnimationFrame&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>é€šå¸¸åœ¨å‰ç«¯ä¸­ï¼Œå®ç°åŠ¨ç”»çš„æ–¹æ¡ˆä¸»è¦æœ‰6ç§ï¼š</p><ul><li><p>js ç›´æ¥å®ç°</p></li><li><p>SVGï¼ˆå¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢</p></li><li><p>CSS3 transition</p></li><li><p>CSS3 animation</p></li><li><p>CanvasåŠ¨ç”»</p></li><li><p>requestAnimationFrame</p></li></ul><hr><a id="more"></a><h2 id="js-ç›´æ¥å®ç°åŠ¨ç”»"><a href="#js-ç›´æ¥å®ç°åŠ¨ç”»" class="headerlink" title="js ç›´æ¥å®ç°åŠ¨ç”»"></a>js ç›´æ¥å®ç°åŠ¨ç”»</h2><blockquote><p>å…¶ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡setIntervalæˆ–setTimeoutæ–¹æ³•çš„å›è°ƒå‡½æ•°æ¥æŒç»­è°ƒç”¨æ”¹å˜æŸä¸ªå…ƒç´ çš„CSSæ ·å¼ä»¥è¾¾åˆ°å…ƒç´ æ ·å¼å˜åŒ–çš„æ•ˆæœã€‚</p></blockquote><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#rect</span> &#123;</span></span><br><span class="line"><span class="undefined">            width: 200px;</span></span><br><span class="line"><span class="undefined">            height: 200px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"rect"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">'rect'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(left&lt;<span class="built_in">window</span>.innerWidth<span class="number">-200</span>)&#123;</span></span><br><span class="line"><span class="javascript">                elem.style.marginLeft = left+<span class="string">'px'</span>;</span></span><br><span class="line"><span class="undefined">                left ++;</span></span><br><span class="line"><span class="javascript">            &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                clearInterval(timer);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;,16);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ç¼ºç‚¹ï¼šjs å®ç°åŠ¨ç”»é€šå¸¸ä¼šå¯¼è‡´é¡µé¢é¢‘ç¹æ€§é‡æ’é‡ç»˜ï¼Œæ¶ˆè€—æ€§èƒ½ï¼Œä¸€èˆ¬åº”è¯¥åœ¨æ¡Œé¢ç«¯æµè§ˆå™¨ã€‚åœ¨ç§»åŠ¨ç«¯ä¸Šä½¿ç”¨ä¼šæœ‰æ˜æ˜¾çš„å¡é¡¿ã€‚</li></ul><h3 id="Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms"><a href="#Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms" class="headerlink" title="Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms"></a>Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms</h3><p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®çš„setIntervalæ—¶é—´é—´éš”æ˜¯16msã€‚ä¸€èˆ¬è®¤ä¸ºäººçœ¼èƒ½è¾¨è¯†çš„æµç•…åŠ¨ç”»ä¸ºæ¯ç§’60å¸§ï¼Œè¿™é‡Œ16msæ¯”(1000ms/60)å¸§ç•¥å°ä¸€äº›ï¼Œä½†æ˜¯ä¸€èˆ¬å¯ä»ä¸ºè¯¥åŠ¨ç”»æ˜¯æµç•…çš„ã€‚ </p><p>åœ¨å¾ˆå¤šç§»åŠ¨ç«¯åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œä¸€èˆ¬ä½¿ç”¨16msæ¥è¿›è¡ŒèŠ‚æµå¤„ç†è¿ç»­è§¦å‘çš„æµè§ˆå™¨äº‹ä»¶ã€‚ä¾‹å¦‚å¯¹touchmoveã€scrolläº‹ä»¶è¿›è¡ŒèŠ‚æµç­‰ã€‚é€šè¿‡è¿™ç§æ–¹å¼å‡å°‘æŒç»­äº‹ä»¶çš„è§¦å‘é¢‘ç‡ï¼Œå¯ä»¥å¤§å¤§æå‡åŠ¨ç”»çš„æµç•…æ€§ã€‚</p><h2 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h2><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    *&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"400"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">version</span>=<span class="string">"1.1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">width</span>=<span class="string">"100"</span> <span class="attr">height</span>=<span class="string">"100"</span> <span class="attr">fill</span>=<span class="string">"rgb(255,0,0);"</span> <span class="attr">stroke</span>=<span class="string">""</span> <span class="attr">stroke-width</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span> <span class="attr">attributeName</span>=<span class="string">"x"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">to</span>=<span class="string">"100"</span> <span class="attr">begin</span>=<span class="string">"4s"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animate</span> <span class="attr">attributeName</span>=<span class="string">"x"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">from</span>=<span class="string">"0"</span> <span class="attr">to</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animate</span> <span class="attr">attributeName</span>=<span class="string">"y"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">from</span>=<span class="string">"0"</span> <span class="attr">to</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animateTransform</span> <span class="attr">attributeName</span>=<span class="string">"transform"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">type</span>=<span class="string">"scale"</span> <span class="attr">from</span>=<span class="string">"1"</span> <span class="attr">to</span>=<span class="string">"2"</span> <span class="attr">repeatCount</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animateMotion</span> <span class="attr">path</span>=<span class="string">"M10,80 q100,120 120,20 q140,-50 160,0"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">repeatCount</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rect</span>&gt;</span>     </span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ä¼˜ç¼ºç‚¹</li></ul><p>SVGçš„ä¸€å¤§ä¼˜åŠ¿æ˜¯å«æœ‰è¾ƒä¸ºä¸°å¯Œçš„åŠ¨ç”»åŠŸèƒ½ï¼ŒåŸç”Ÿç»˜åˆ¶å„ç§å›¾å½¢ã€æ»¤é•œå’ŒåŠ¨ç”»ï¼Œå¹¶ä¸”èƒ½è¢«jsè°ƒç”¨ã€‚htmlæ˜¯å¯¹domçš„æ¸²æŸ“ï¼Œé‚£ä¹ˆsvgå°±æ˜¯å¯¹å›¾å½¢çš„æ¸²æŸ“ã€‚ ä½†æ˜¯ï¼Œå¦ä¸€æ–¹é¢å…ƒç´ è¾ƒå¤šä¸”å¤æ‚çš„åŠ¨ç”»ä½¿ç”¨svgæ¸²æŸ“ä¼šæ¯”è¾ƒæ…¢ï¼Œè€Œä¸”SVGæ ¼å¼çš„åŠ¨ç”»ç»˜åˆ¶æ–¹å¼å¿…é¡»è®©å†…å®¹åµŒå…¥åˆ°HTMLä¸­ä½¿ç”¨ã€‚CSS3çš„å‡ºç°è®©svgçš„åº”ç”¨å˜å¾—ç›¸å¯¹å°‘äº†ã€‚</p><h2 id="CSS3-transition"><a href="#CSS3-transition" class="headerlink" title="CSS3 transition"></a>CSS3 transition</h2><p>transitionæ˜¯è¿‡åº¦åŠ¨ç”»ã€‚ä½†æ˜¯transitionå¹¶ä¸èƒ½å®ç°ç‹¬ç«‹çš„åŠ¨ç”»ï¼Œåªèƒ½åœ¨æŸä¸ªæ ‡ç­¾å…ƒç´ æ ·å¼æˆ–çŠ¶æ€æ”¹å˜æ—¶è¿›è¡Œå¹³æ»‘çš„åŠ¨ç”»æ•ˆæœè¿‡æ¸¡ï¼Œè€Œä¸æ˜¯é©¬ä¸Šæ”¹å˜ã€‚</p><h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><p>åœ¨ç§»åŠ¨ç«¯å¼€å‘ä¸­ï¼Œç›´æ¥ä½¿ç”¨transitionåŠ¨ç”»ä¼šè®©é¡µé¢å˜æ…¢ç”šè‡³å¡é¡¿ã€‚æ‰€ä»¥æˆ‘ä»¬é€šå¸¸æ·»åŠ transform:translate3D(0,0,0)æˆ–transform:translateZ(0)æ¥å¼€å¯ç§»åŠ¨ç«¯åŠ¨ç”»çš„GPUåŠ é€Ÿï¼Œè®©åŠ¨ç”»è¿‡ç¨‹æ›´åŠ æµç•…ã€‚</p><h2 id="CSS3-animation"><a href="#CSS3-animation" class="headerlink" title="CSS3 animation"></a>CSS3 animation</h2><p>animation ç®—æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„CSS3åŠ¨ç”»ã€‚é€šè¿‡å¯¹å…³é”®å¸§å’Œå¾ªç¯æ¬¡æ•°çš„æ§åˆ¶ï¼Œé¡µé¢æ ‡ç­¾å…ƒç´ ä¼šæ ¹æ®è®¾å®šå¥½çš„æ ·å¼æ”¹å˜è¿›è¡Œå¹³æ»‘è¿‡æ¸¡ã€‚è€Œä¸”å…³é”®å¸§çŠ¶æ€çš„æ§åˆ¶æ˜¯é€šè¿‡ç™¾åˆ†æ¯”æ¥æ§åˆ¶çš„ã€‚</p><ul><li>ä¼˜ç‚¹CSS3æœ€å¤§çš„ä¼˜åŠ¿æ˜¯æ‘†è„±äº†jsçš„æ§åˆ¶ï¼Œå¹¶ä¸”èƒ½åˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿä»¥åŠå®ç°å¤æ‚åŠ¨ç”»æ•ˆæœã€‚</li></ul><h2 id="CanvasåŠ¨ç”»"><a href="#CanvasåŠ¨ç”»" class="headerlink" title="CanvasåŠ¨ç”»"></a>CanvasåŠ¨ç”»</h2><blockquote><p>canvasä½œä¸ºH5æ–°å¢å…ƒç´ ï¼Œæ˜¯å€ŸåŠ©Web APIæ¥å®ç°åŠ¨ç”»çš„ã€‚</p></blockquote><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    *&#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"700"</span> <span class="attr">height</span>=<span class="string">"550"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// é€šè¿‡getContext()è·å–å…ƒç´ çš„ç»˜åˆ¶å¯¹è±¡ï¼Œé€šè¿‡clearRectä¸æ–­æ¸…ç©ºç”»å¸ƒå¹¶åœ¨æ–°çš„ä½ç½®ä¸Šä½¿ç”¨fillStyleç»˜åˆ¶æ–°çŸ©å½¢å†…å®¹å®ç°é¡µé¢åŠ¨ç”»æ•ˆæœ</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">            ctx.clearRect(0,0,700,550);</span></span><br><span class="line"><span class="undefined">            ctx.beginPath();</span></span><br><span class="line"><span class="javascript">            ctx.fillStyle = <span class="string">"#ccc"</span>;</span></span><br><span class="line"><span class="undefined">            ctx.fillRect(left,0,100,100);</span></span><br><span class="line"><span class="undefined">            ctx.stroke();</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(left&gt;<span class="number">700</span>)&#123;</span></span><br><span class="line"><span class="undefined">                clearInterval(timer);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">            left += 1;</span></span><br><span class="line"><span class="undefined">        &#125;,16);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ä¼˜ç‚¹Canvasä¸»è¦ä¼˜åŠ¿æ˜¯å¯ä»¥åº”å¯¹é¡µé¢ä¸­å¤šä¸ªåŠ¨ç”»å…ƒç´ æ¸²æŸ“è¾ƒæ…¢çš„æƒ…å†µï¼Œå®Œå…¨é€šè¿‡javascriptæ¥æ¸²æŸ“æ§åˆ¶åŠ¨ç”»çš„æ‰§è¡Œã€‚å¯ç”¨äºå®ç°è¾ƒå¤æ‚åŠ¨ç”»ã€‚</li></ul><h2 id="requestAnimationFrame"><a href="#requestAnimationFrame" class="headerlink" title="requestAnimationFrame"></a>requestAnimationFrame</h2><p>requestAnimationFrameæ˜¯å¦ä¸€ç§Web APIï¼ŒåŸç†ä¸setTimeoutå’ŒsetIntervalç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡javascriptæŒç»­å¾ªç¯çš„æ–¹æ³•è°ƒç”¨æ¥è§¦å‘åŠ¨ç”»åŠ¨ä½œã€‚ä½†æ˜¯requestAnimationFrameæ˜¯æµè§ˆå™¨é’ˆå¯¹åŠ¨ç”»ä¸“é—¨ä¼˜åŒ–å½¢æˆçš„APiï¼Œåœ¨æ€§èƒ½ä¸Šæ¯”å¦ä¸¤è€…è¦å¥½ã€‚</p><p>æ —å­ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        * &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        div &#123;</span></span><br><span class="line"><span class="undefined">            width: 200px;</span></span><br><span class="line"><span class="undefined">            height: 200px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"rect"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.requestAnimationFrame = <span class="built_in">window</span>.requestAnimationFrame || <span class="built_in">window</span>.mozRequestAnimationFrame || <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.msRequestAnimationFrame;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">"rect"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//è‡ªåŠ¨æ‰§è¡ŒæŒç»­æ€§å›è°ƒ</span></span></span><br><span class="line"><span class="undefined">    requestAnimationFrame(step);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//æŒç»­è¯¥æ”¹å˜å…ƒç´ ä½ç½®</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">step</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(left&lt;<span class="built_in">window</span>.innerWidth<span class="number">-200</span>)&#123;</span></span><br><span class="line"><span class="undefined">            left+=1;</span></span><br><span class="line"><span class="javascript">            elem.style.marginLeft = left+<span class="string">"px"</span>;</span></span><br><span class="line"><span class="undefined">            requestAnimationFrame(step);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¤æ‚çš„åŠ¨ç”»æ˜¯é€šè¿‡ä¸€ä¸ªä¸ªç®€å•çš„åŠ¨ç”»ç»„åˆå®ç°çš„ã€‚åŸºäºå…¼å®¹æ€§é—®é¢˜ï¼Œé€šå¸¸åœ¨é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬åœ¨</p><ul><li>æ¡Œé¢ç«¯æµè§ˆå™¨æ¨èä½¿ç”¨javascriptç›´æ¥å®ç°åŠ¨ç”»æˆ–SVGæ–¹å¼ï¼›</li><li>ç§»åŠ¨ç«¯å¯ä»¥è€ƒè™‘ä½¿ç”¨CSS3 transitionã€CSS3 animationã€Canvasæˆ–requestAnimationFrameæ–¹å¼**ã€‚</li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>TARå‘½ä»¤è¯¦è§£</title>
      <link>http://mydearest.cn/2020/TAR%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3.html</link>
      <guid>http://mydearest.cn/2020/TAR%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3.html</guid>
      <pubDate>Tue, 28 Apr 2020 17:18:26 GMT</pubDate>
      <description>
      
        &lt;p&gt;åœ¨Linuxä¸­ï¼Œå‹ç¼©ä¸è§£å‹ç”¨å¾—æœ€å¤šçš„æ˜¯ &lt;code&gt;tar&lt;/code&gt; å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;-c: å»ºç«‹å‹ç¼©æ¡£æ¡ˆ
-xï¼šè§£å‹
-tï¼šæŸ¥çœ‹å†…å®¹
-rï¼šå‘å‹ç¼©å½’æ¡£æ–‡ä»¶æœ«å°¾è¿½åŠ æ–‡ä»¶
-uï¼šæ›´æ–°åŸå‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šäº”ä¸ªæ˜¯ç‹¬ç«‹çš„å‘½ä»¤å‚æ•°ï¼Œå‹ç¼©è§£å‹éƒ½è¦ç”¨åˆ°å…¶ä¸­ä¸€ä¸ªï¼Œå¯ä»¥å’Œåˆ«çš„å‘½ä»¤è¿ç”¨ä½†åªèƒ½ç”¨å…¶ä¸­ä¸€ä¸ªã€‚ä¸‹é¢çš„å‚æ•°æ˜¯æ ¹æ®éœ€è¦åœ¨å‹ç¼©æˆ–è§£å‹æ¡£æ¡ˆæ—¶å¯é€‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;-zï¼šæœ‰gzipå±æ€§çš„  gz
-jï¼šæœ‰bz2å±æ€§çš„   bz2&lt;/p&gt;
&lt;p&gt;-J ï¼šæœ‰xzå±æ€§çš„   xz
-Zï¼šæœ‰compresså±æ€§çš„
-vï¼šæ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹
-Oï¼šå°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„å‚æ•°-fæ˜¯å¿…é¡»çš„&lt;/p&gt;
&lt;p&gt;-f: ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œåˆ‡è®°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œåé¢åªèƒ½æ¥æ¡£æ¡ˆåã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>åœ¨Linuxä¸­ï¼Œå‹ç¼©ä¸è§£å‹ç”¨å¾—æœ€å¤šçš„æ˜¯ <code>tar</code> å‘½ä»¤ã€‚</p><p>-c: å»ºç«‹å‹ç¼©æ¡£æ¡ˆ-xï¼šè§£å‹-tï¼šæŸ¥çœ‹å†…å®¹-rï¼šå‘å‹ç¼©å½’æ¡£æ–‡ä»¶æœ«å°¾è¿½åŠ æ–‡ä»¶-uï¼šæ›´æ–°åŸå‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶</p><p>ä»¥ä¸Šäº”ä¸ªæ˜¯ç‹¬ç«‹çš„å‘½ä»¤å‚æ•°ï¼Œå‹ç¼©è§£å‹éƒ½è¦ç”¨åˆ°å…¶ä¸­ä¸€ä¸ªï¼Œå¯ä»¥å’Œåˆ«çš„å‘½ä»¤è¿ç”¨ä½†åªèƒ½ç”¨å…¶ä¸­ä¸€ä¸ªã€‚ä¸‹é¢çš„å‚æ•°æ˜¯æ ¹æ®éœ€è¦åœ¨å‹ç¼©æˆ–è§£å‹æ¡£æ¡ˆæ—¶å¯é€‰çš„ã€‚</p><p>-zï¼šæœ‰gzipå±æ€§çš„  gz-jï¼šæœ‰bz2å±æ€§çš„   bz2</p><p>-J ï¼šæœ‰xzå±æ€§çš„   xz-Zï¼šæœ‰compresså±æ€§çš„-vï¼šæ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹-Oï¼šå°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º</p><p>ä¸‹é¢çš„å‚æ•°-fæ˜¯å¿…é¡»çš„</p><p>-f: ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œåˆ‡è®°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œåé¢åªèƒ½æ¥æ¡£æ¡ˆåã€‚</p><hr><a id="more"></a><h2 id="æ —å­ğŸŒ°"><a href="#æ —å­ğŸŒ°" class="headerlink" title="æ —å­ğŸŒ°"></a>æ —å­ğŸŒ°</h2><h3 id="tar-cf-all-tar-jpg"><a href="#tar-cf-all-tar-jpg" class="headerlink" title="tar -cf all.tar *.jpg"></a>tar -cf all.tar *.jpg</h3><p>è¿™æ¡å‘½ä»¤æ˜¯å°†æ‰€æœ‰.jpgçš„æ–‡ä»¶æ‰“æˆä¸€ä¸ªåä¸ºall.tarçš„åŒ…ã€‚-cæ˜¯è¡¨ç¤ºäº§ç”Ÿæ–°çš„åŒ…ï¼Œ-fæŒ‡å®šåŒ…çš„æ–‡ä»¶åã€‚</p><h3 id="tar-rf-all-tar-gif"><a href="#tar-rf-all-tar-gif" class="headerlink" title="tar -rf all.tar *.gif"></a>tar -rf all.tar *.gif</h3><p>è¿™æ¡å‘½ä»¤æ˜¯å°†æ‰€æœ‰.gifçš„æ–‡ä»¶å¢åŠ åˆ°all.tarçš„åŒ…é‡Œé¢å»ã€‚-ræ˜¯è¡¨ç¤ºå¢åŠ æ–‡ä»¶çš„æ„æ€ã€‚</p><h3 id="tar-uf-all-tar-logo-gif"><a href="#tar-uf-all-tar-logo-gif" class="headerlink" title="tar -uf all.tar logo.gif"></a>tar -uf all.tar logo.gif</h3><p>è¿™æ¡å‘½ä»¤æ˜¯æ›´æ–°åŸæ¥taråŒ…all.tarä¸­logo.gifæ–‡ä»¶ï¼Œ-uæ˜¯è¡¨ç¤ºæ›´æ–°æ–‡ä»¶çš„æ„æ€ã€‚</p><h3 id="tar-tf-all-tar"><a href="#tar-tf-all-tar" class="headerlink" title="tar -tf all.tar"></a>tar -tf all.tar</h3><p>è¿™æ¡å‘½ä»¤æ˜¯åˆ—å‡ºall.taråŒ…ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œ-tæ˜¯åˆ—å‡ºæ–‡ä»¶çš„æ„æ€</p><h3 id="tar-xf-all-tar"><a href="#tar-xf-all-tar" class="headerlink" title="tar -xf all.tar"></a>tar -xf all.tar</h3><p>è¿™æ¡å‘½ä»¤æ˜¯è§£å‡ºall.taråŒ…ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œ-tæ˜¯è§£å¼€çš„æ„æ€</p><h2 id="å‹ç¼©"><a href="#å‹ç¼©" class="headerlink" title="å‹ç¼©"></a>å‹ç¼©</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆtar.jpg</span></span><br><span class="line">tar -cvf jpg.tar *.jpg </span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨gzipå‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªgzipå‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.gz</span></span><br><span class="line">tar -czf jpg.tar.gz *.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨bzip2å‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªbzip2å‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.bz2</span></span><br><span class="line">tar -cjf jpg.tar.bz2 *.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†ç›®å½•é‡Œæ‰€æœ‰jpgæ–‡ä»¶æ‰“åŒ…æˆjpg.taråï¼Œå¹¶ä¸”å°†å…¶ç”¨compresså‹ç¼©ï¼Œç”Ÿæˆä¸€ä¸ªumcompresså‹ç¼©è¿‡çš„åŒ…ï¼Œå‘½åä¸ºjpg.tar.Z</span></span><br><span class="line">tar -cZf jpg.tar.Z *.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment">// raræ ¼å¼çš„å‹ç¼©ï¼Œéœ€è¦å…ˆä¸‹è½½rar for linux</span></span><br><span class="line">rar a jpg.rar *.jpg</span><br><span class="line"></span><br><span class="line"><span class="comment">// zipæ ¼å¼çš„å‹ç¼©ï¼Œéœ€è¦å…ˆä¸‹è½½zip for linux</span></span><br><span class="line">zip jpg.zip *.jpg</span><br></pre></td></tr></table></figure><h2 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£å‹ taråŒ…</span></span><br><span class="line">tar -xvf file.tar </span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹tar.gz</span></span><br><span class="line">tar -xzvf file.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹ tar.bz2</span></span><br><span class="line">tar -xjvf file.tar.bz2</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹tar.Z</span></span><br><span class="line">tar -xZvf file.tar.Z</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹tar.xz</span></span><br><span class="line">tar -Jxvf fle.tar.xz</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹rar</span></span><br><span class="line">unrar e file.rar </span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å‹zip</span></span><br><span class="line">unzip file.zip</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€*.tar ç”¨ tar -xvf è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€*.gz ç”¨ gzip -dæˆ–è€…gunzip è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€*.tar.gzå’Œ*.tgz ç”¨ tar -xzf è§£å‹   tar.xz  ç”¨ tar -Jxvf è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>ã€*.bz2 ç”¨ bzip2 -dæˆ–è€…ç”¨bunzip2 è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>ã€*.tar.bz2ç”¨tar -xjf è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>ã€*.Z ç”¨ uncompress è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>ã€*.tar.Z ç”¨tar -xZf è§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>ã€*.rar ç”¨ unrar eè§£å‹</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>ã€*.zip ç”¨ unzip è§£å‹</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/TAR%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ç®—æ³•é¢˜ç»ƒä¹ </title>
      <link>http://mydearest.cn/2020/%E7%AE%97%E6%B3%95%E9%A2%98%E7%BB%83%E4%B9%A0.html</link>
      <guid>http://mydearest.cn/2020/%E7%AE%97%E6%B3%95%E9%A2%98%E7%BB%83%E4%B9%A0.html</guid>
      <pubDate>Wed, 22 Apr 2020 17:03:40 GMT</pubDate>
      <description>
      
        
        
          &lt;h2 id=&quot;å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°&quot;&gt;&lt;a href=&quot;#å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°&quot; class=&quot;headerlink&quot; title=&quot;å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°&quot;&gt;&lt;/a&gt;å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°&lt;/h2&gt;&lt;p&gt;è§£æ
        
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°"><a href="#å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°" class="headerlink" title="å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°"></a>å†™å‡ºä¸€ä¸ªæ–¹æ³•è¾“å‡º1-100å†…çš„æ‰€æœ‰ç´ æ•°</h2><p>è§£æï¼šç”±ç´ æ•°ï¼ˆè´¨æ•°ï¼‰å®šä¹‰å¯çŸ¥ï¼š</p><ul><li>â‘  0ã€1éƒ½ä¸æ˜¯è´¨æ•°ï¼Œé‚£ä¹ˆæœ€å°çš„è´¨æ•°å°±æ˜¯2ã€‚</li><li>â‘¡ é™¤äº†1å’Œå®ƒè‡ªèº«ï¼Œä¸èƒ½è¢«å…¶ä»–æ•°æ•´é™¤ï¼Œé‚£ä¹ˆä»£ç è¡¨è¾¾å¼è¡¨ç¤ºä¸ºï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i % j === <span class="number">0</span></span><br></pre></td></tr></table></figure><ul><li>ä»£ç å®ç°</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> arr = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">2</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> bl = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">2</span>; j &lt;= i; j++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (i === j) <span class="keyword">continue</span></span><br><span class="line">      i % j === <span class="number">0</span> &amp;&amp; (bl = <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    !bl &amp;&amp; arr.push(i)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fn())</span><br></pre></td></tr></table></figure><h2 id="ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•è¿›è¡Œå‡åºæ’åˆ—ã€‚å¦‚-2-5-8-9-3-gt-2-3-5-8-9"><a href="#ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•è¿›è¡Œå‡åºæ’åˆ—ã€‚å¦‚-2-5-8-9-3-gt-2-3-5-8-9" class="headerlink" title="ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•è¿›è¡Œå‡åºæ’åˆ—ã€‚å¦‚[2, 5, 8, 9, 3] =&gt;[2, 3, 5, 8, 9]"></a>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°å¿«é€Ÿæ’åºç®—æ³•è¿›è¡Œå‡åºæ’åˆ—ã€‚å¦‚[2, 5, 8, 9, 3] =&gt;[2, 3, 5, 8, 9]</h2><p>è§£æï¼šï¼ˆåˆ†æ²»æ³•ï¼‰å°†ä¸€ä¸ªåˆ—è¡¨åˆ†å‰²ä¸ºå·¦å³ä¸¤å—ï¼Œç„¶åå†å°†å­—åˆ—è¡¨å†è¿›è¡Œåˆ†å‰²ä¸ºå·¦å³ä¸¤å—ï¼Œå¦‚ä½•åå¤ï¼ŒçŸ¥é“å­å…ƒç´ é•¿åº¦ä¸º1æ—¶ï¼Œç»“æŸï¼</p><ul><li>ä»£ç å®ç°<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">qSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (arr.length &lt;= <span class="number">1</span>) <span class="keyword">return</span> arr</span><br><span class="line">  <span class="keyword">const</span> index = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>)</span><br><span class="line">  <span class="keyword">const</span> midVal = arr.splice(index, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">const</span> left = [],</span><br><span class="line">    right = []</span><br><span class="line">  arr.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (item &lt; midVal) left.push(item)</span><br><span class="line">    <span class="keyword">else</span> right.push(item)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> [...qSort(left), midVal, ...qSort(right)]</span><br><span class="line">&#125;</span><br><span class="line">qSort([<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure></li></ul><h2 id="æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„éé‡å¤è¿ç»­å­ä¸²"><a href="#æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„éé‡å¤è¿ç»­å­ä¸²" class="headerlink" title="æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„éé‡å¤è¿ç»­å­ä¸²"></a>æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„éé‡å¤è¿ç»­å­ä¸²</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">''</span>;<span class="comment">//å­˜æ”¾å½“å‰æœ€å¤§æ— é‡å¤é¡¹å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">var</span> len = <span class="number">0</span>;<span class="comment">//å­˜æ”¾å½“å‰æœ€å¤§æ— é‡å¤é¡¹å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;s.length;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> char = s.charAt(i);</span><br><span class="line">        <span class="keyword">var</span> index = str.indexOf(char);</span><br><span class="line">        <span class="keyword">if</span>(index === <span class="number">-1</span>)&#123;  <span class="comment">//éå†så°†å…ƒç´ æŒ¨ä¸ªæ”¾å…¥åˆ°strä¸­ï¼Œæ¯æ”¾å…¥ä¸€æ¬¡åˆ¤æ–­strä¸­æ˜¯å¦æœ‰é‡å¤é¡¹</span></span><br><span class="line">            str += char;</span><br><span class="line">            len = len&lt;str.length?str.length:len;<span class="comment">//è®°å½•æœ€å¤§é•¿åº¦é¡¹,æ¯æ¬¡é‡æ–°è®°å½•strè¿›è¡Œåˆ¤æ–­ï¼Œæ˜¯å¦å¤§äºä¸Šæ¬¡ä¸€æ¬¡æœ€å¤§é¡¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            str = str.substr(index + <span class="number">1</span>) + char; <span class="comment">//ä»å½“å‰é‡å¤é¡¹å¼€å§‹é‡æ–°è®°å½•str</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 'adasdddddddfghti' 6</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E7%AE%97%E6%B3%95%E9%A2%98%E7%BB%83%E4%B9%A0.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>vueé¢è¯•é¢˜è®°å½•</title>
      <link>http://mydearest.cn/2020/vueInterview.html</link>
      <guid>http://mydearest.cn/2020/vueInterview.html</guid>
      <pubDate>Wed, 22 Apr 2020 16:10:18 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;Vueé¢è¯•é—®é¢˜&quot;&gt;&lt;a href=&quot;#Vueé¢è¯•é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;Vueé¢è¯•é—®é¢˜&quot;&gt;&lt;/a&gt;Vueé¢è¯•é—®é¢˜&lt;/h2&gt;&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="Vueé¢è¯•é—®é¢˜"><a href="#Vueé¢è¯•é—®é¢˜" class="headerlink" title="Vueé¢è¯•é—®é¢˜"></a>Vueé¢è¯•é—®é¢˜</h2><hr><a id="more"></a><h3 id="v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«"></a>v-showå’Œv-ifæœ‰ä»€ä¹ˆåŒºåˆ«</h3><ul><li><p>v-ifv-if æ˜¯çœŸæ­£çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºï¼Œä¹Ÿæ˜¯æƒ°æ€§çš„ï¼Œå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ¡ä»¶ä¸ºå‡æ—¶ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶æ‰å¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚</p></li><li><p>v-showv-showå°±ç®€å•å¾—å¤šï¼Œä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäºcssçš„displayè¿›è¡Œåˆ‡æ¢ã€‚</p></li></ul><p>æ‰€ä»¥ï¼Œv-ifé€‚ç”¨äºåˆ‡æ¢ä¸é¢‘ç¹çš„åœºæ™¯ï¼Œv-showé€‚ç”¨äºåˆ‡æ¢é¢‘ç¹çš„åœºæ™¯ã€‚</p><h3 id="classå’Œstyleå¦‚ä½•åŠ¨æ€ç»‘å®š"><a href="#classå’Œstyleå¦‚ä½•åŠ¨æ€ç»‘å®š" class="headerlink" title="classå’Œstyleå¦‚ä½•åŠ¨æ€ç»‘å®š"></a>classå’Œstyleå¦‚ä½•åŠ¨æ€ç»‘å®š</h3><p>classå¯ä»¥é€šè¿‡å¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼š</p><ul><li><p>å¯¹è±¡è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:<span class="class"><span class="keyword">class</span></span>=<span class="string">"&#123;active: isActive, 'text-danger': hasError &#125;"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">data: &#123;</span><br><span class="line">    isActive: <span class="literal">true</span>,</span><br><span class="line">    hasError: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ•°ç»„è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:<span class="class"><span class="keyword">class</span></span>=<span class="string">"[isActive ? activeClass : '', errorClass]"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">data: &#123;</span><br><span class="line">    activeClass: <span class="string">'active'</span>,</span><br><span class="line">    errorClass: <span class="string">'text-danger'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>styleä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•è¿›è¡ŒåŠ¨æ€ç»‘å®š</p><h3 id="ç†è§£vueé‡Œçš„å•å‘æ•°æ®æµ"><a href="#ç†è§£vueé‡Œçš„å•å‘æ•°æ®æµ" class="headerlink" title="ç†è§£vueé‡Œçš„å•å‘æ•°æ®æµ"></a>ç†è§£vueé‡Œçš„å•å‘æ•°æ®æµ</h3><p>æ‰€æœ‰çš„propéƒ½ä½¿å¾—å…¶çˆ¶å­propä¹‹é—´å½¢æˆä¸€ä¸ªå•å‘ä¸‹è¡Œç»‘å®šï¼šçˆ¶çº§propçš„æ›´æ–°ä¼šå‘ä¸‹æµåŠ¨åˆ°å­ç»„ä»¶ä¸­ï¼Œä½†æ˜¯åè¿‡æ¥ä¸è¡Œï¼Œè¿™æ ·ä¼šé˜²æ­¢ä»å­ç»„ä»¶æ„å¤–æ”¹å˜çˆ¶çº§ç»„ä»¶çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´ä½ çš„åº”ç”¨çš„æ•°æ®æµéš¾ä»¥è§£é‡Š.</p><p>é¢å¤–åœ°ï¼Œæ¯æ¬¡çˆ¶çº§ç»„ä»¶å‘ç”Ÿæ›´æ–°æ—¶ï¼Œå­ç»„ä»¶ä¸­çš„æ‰€æœ‰propéƒ½ä¼šåˆ·æ–°ä¸ºæœ€æ–°çš„å€¼ï¼Œè¿™æ„å‘³ç€ä½ ä¸åº”è¯¥åœ¨ä¸€ä¸ªå­ç»„ä»¶å†…éƒ¨æ”¹å˜propï¼Œå¦‚æœä½ è¿™æ ·åšäº†ï¼Œvueä¼šåœ¨æµè§ˆå™¨çš„æ§åˆ¶å°å‘å‡ºè­¦å‘Šï¼Œå­ç»„ä»¶æƒ³ä¿®æ”¹æ—¶ï¼Œåªèƒ½é€šè¿‡$emitæ´¾å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶åˆ°åï¼Œç”±çˆ¶ç»„ä»¶ä¿®æ”¹.</p><h3 id="computedå’Œwatchçš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯"><a href="#computedå’Œwatchçš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯" class="headerlink" title="computedå’Œwatchçš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯"></a>computedå’Œwatchçš„åŒºåˆ«å’Œè¿ç”¨åœºæ™¯</h3><ul><li><p>computedï¼šæ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶ä»–å±æ€§å€¼ï¼Œå¹¶ä¸”computedçš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰ä»–ä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜æ—¶ä¸‹ä¸€æ¬¡è·å–computedçš„å€¼æ—¶å€™æ‰ä¼šé‡æ–°è®¡ç®—computedçš„å€¼ã€‚</p></li><li><p>watchï¼šæ›´å¤šçš„æ˜¯è§‚å¯Ÿä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œã€‚</p></li></ul><p>è¿ç”¨åœºæ™¯ï¼š</p><ul><li><p>å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¾èµ–äºå…¶ä»–æ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨computedçš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶éƒ½è¦é‡æ–°è®¡ç®—ã€‚</p></li><li><p>ä½†æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶åº”è¯¥ä½¿ç”¨watchï¼Œä½¿ç”¨watché€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ï¼Œè¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚</p></li></ul><h3 id="ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼Œvueèƒ½æ£€æµ‹åˆ°å—"><a href="#ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼Œvueèƒ½æ£€æµ‹åˆ°å—" class="headerlink" title="ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼Œvueèƒ½æ£€æµ‹åˆ°å—"></a>ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼Œvueèƒ½æ£€æµ‹åˆ°å—</h3><p>ç”±äºjsçš„é™åˆ¶ï¼Œvueä¸èƒ½æ£€æµ‹åˆ°ä»¥ä¸‹æ•°ç»„çš„å˜åŠ¨ï¼š</p><ul><li>å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶ï¼Œä¾‹å¦‚vm.item[indexOfItem] = newValue</li><li>å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚vm.items.length = newLength</li></ul><p>ä¸ºäº†è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œvueæä¾›äº†ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line">Vue.$set(vm.items, indexOfItem, newValue)</span><br><span class="line"></span><br><span class="line">Vue.items.splice(indexOfItem, <span class="number">1</span>, newValue)</span><br></pre></td></tr></table></figure></p><p>ä¸ºäº†è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼Œvueæä¾›äº†ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.items.splice(newLength)</span><br></pre></td></tr></table></figure></p><h3 id="vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£"><a href="#vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£" class="headerlink" title="vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£"></a>vueç”Ÿå‘½å‘¨æœŸçš„ç†è§£</h3><ul><li><p>ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆvueå®ä¾‹æœ‰ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯ä»å¼€å§‹åˆ›å»ºï¼Œåˆå§‹åŒ–æ•°æ®ï¼Œç¼–è¯‘æ¨¡æ¿ï¼ŒæŒ‚è½½dom-&gt;æ¸²æŸ“æ›´æ–°-&gt;æ¸²æŸ“å¸è½½ç­‰ä¸€äº›è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°è¿™æ˜¯vueçš„ç”Ÿå‘½å‘¨æœŸ</p></li><li><p>å„ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä½œç”¨</p><ul><li>beforeCreateï¼šç»„ä»¶è¢«åˆ›å»ºä¹‹åˆï¼Œç»„ä»¶çš„å±æ€§ç”Ÿæ•ˆä¹‹å‰</li><li>createdï¼šç»„ä»¶å®ä¾‹å·²ç»å®Œå…¨åˆ›å»ºï¼Œå±æ€§ä¹Ÿç»‘å®šï¼Œä½†æ˜¯çœŸå®çš„domè¿˜æ²¡æœ‰ç”Ÿæˆï¼Œ$elè¿˜ä¸èƒ½ç”¨</li><li>beforeMountï¼šåœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼Œç›¸å…³çš„renderå‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨</li><li>mountedï¼šelè¢«æ–°åˆ›å»ºçš„vm.$elæ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»åè°ƒç”¨è¯¥é’©å­</li><li>beforeUpdateï¼šç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿdomæ‰“è¡¥ä¸ä¹‹å‰ </li><li>updatedï¼šç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å</li><li>activitedï¼škeep-aliveä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨</li><li>deactivatedï¼škeep-aliveä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨</li><li>beforeDestroyï¼šç»„ä»¶è¢«é”€æ¯å‰ destroyedï¼šç»„ä»¶è¢«é”€æ¯åè°ƒç”¨</li></ul></li></ul><h3 id="vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº"><a href="#vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº"></a>vueçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°çš„æ‰§è¡Œé¡ºåº</h3><ul><li><p>åŠ è½½æ¸²æŸ“è¿‡ç¨‹çˆ¶beforeCreate-&gt;çˆ¶created-&gt;çˆ¶beforeMount-&gt;å­beforeCreate-&gt;å­created-&gt;å­beforeMount-&gt;å­mounted-&gt;çˆ¶mounted</p></li><li><p>å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹çˆ¶beforeUpdate-&gt;å­beforeUpdate-&gt;å­updated-&gt;çˆ¶updated</p></li><li><p>çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹çˆ¶beforeUpdate-&gt;çˆ¶updated</p></li><li><p>é”€æ¯è¿‡ç¨‹çˆ¶beforeDestroy-&gt;å­beforeDestroy-&gt;å­destroyed-&gt;çˆ¶destroy</p></li></ul><h3 id="åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚"><a href="#åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚" class="headerlink" title="åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚"></a>åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚</h3><p>å¯ä»¥åœ¨å‡½æ•°createdï¼ŒbeforeMountï¼Œmountedä¸­è¿›è¡Œè°ƒç”¨ï¼Œå› ä¸ºåœ¨è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ä¸­dataå·²ç»å¯ä»¥åˆ›å»ºï¼Œå¯ä»¥å°†æœåŠ¡ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œèµ‹å€¼ï¼Œä½†æ˜¯æ¯”è¾ƒæ¨èåœ¨createdé’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Œå› ä¸ºï¼š</p><ul><li>èƒ½æ›´å¿«çš„è·å–åˆ°æœåŠ¡ç«¯æ•°æ®ï¼Œå‡å°‘é¡µé¢loadingæ—¶é—´</li><li>ssrä¸æ”¯æŒbeforeMountï¼Œmountedé’©å­å‡½æ•°ï¼Œæ‰€ä»¥æ”¾åœ¨createdä¸­æœ‰åŠ©äºä¸€è‡´æ€§</li></ul><h3 id="åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOM"><a href="#åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOM" class="headerlink" title="åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOM"></a>åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOM</h3><p>åœ¨é’©å­å‡½æ•°mountedè¢«è°ƒç”¨ä¹‹å‰ï¼Œvueå·²ç»æŠŠç¼–è¯‘å¥½çš„æ¨¡æ¿æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œæ‰€ä»¥åœ¨mountedä¸­å¯ä»¥è®¿é—®æ“ä½œdomï¼Œvueå…·ä½“çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><h3 id="çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—"><a href="#çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—" class="headerlink" title="çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—"></a>çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—</h3><ul><li><p>æ‰‹åŠ¨è®¾ç½®$emitæ¥å‘å¸ƒç›‘å¬</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent</span></span><br><span class="line">&lt;Child @mounted=<span class="string">"fn"</span> /&gt;</span><br><span class="line"><span class="comment">// child</span></span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="keyword">this</span>.$emit(<span class="string">"mounted"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>@hook</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent</span></span><br><span class="line">&lt;Child @hook:mounted=<span class="string">"fn"</span> /&gt;</span><br><span class="line">fn() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'get'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// child</span></span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'emit'</span>);</span><br></pre></td></tr></table></figure></li></ul><h3 id="è°ˆè°ˆä½ å¯¹keep-aliveçš„äº†è§£"><a href="#è°ˆè°ˆä½ å¯¹keep-aliveçš„äº†è§£" class="headerlink" title="è°ˆè°ˆä½ å¯¹keep-aliveçš„äº†è§£"></a>è°ˆè°ˆä½ å¯¹keep-aliveçš„äº†è§£</h3><p>keep-aliveæ˜¯vueå†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œé¿å…é‡å¤æ¸²æŸ“ï¼Œå…¶æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ul><li>ä¸€èˆ¬ç»“åˆè·¯ç”±å’ŒåŠ¨æ€ç»„ä»¶ä½¿ç”¨ï¼Œç”¨äºç¼“å­˜ç»„ä»¶</li><li>æä¾›includeå’Œexcludeå±æ€§ï¼Œä¸¤è€…éƒ½æ”¯æŒå­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œincludeè¡¨ç¤ºåªæœ‰åå­—åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ï¼Œexcludeè¡¨ç¤ºä»»ä½•åç§°åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜ï¼Œå…¶ä¸­excludeçš„ä¼˜å…ˆçº§æ¯”includeé«˜</li><li>å¯¹åº”ä¸¤ä¸ªé’©å­å‡½æ•°activedå’Œdeactivated</li></ul><h3 id="ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°"><a href="#ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°" class="headerlink" title="ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°"></a>ç»„ä»¶ä¸­çš„dataä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°</h3><p>å› ä¸ºç»„ä»¶æ˜¯æ‹¿æ¥å¤ç”¨çš„ï¼Œä¸”jsé‡Œçš„å¯¹è±¡æ˜¯å¼•ç”¨å…³ç³»ï¼Œå¦‚æœç»„ä»¶ä¸­çš„dataæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™æ ·ä½œç”¨åŸŸæ²¡æœ‰éš”ç¦»ï¼Œå­ç»„ä»¶ä¸­çš„dataå±æ€§å€¼ä¼šç›¸äº’å½±å“ï¼Œå¦‚æœç»„ä»¶ä¸­çš„dataæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆæ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€ä»½è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼Œç»„ä»¶å®ä¾‹ä¹‹é—´çš„dataå±æ€§å€¼ä¸ä¼šäº’ç›¸å½±å“ï¼Œè€Œnew Vueçš„å®ä¾‹æ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œå› æ­¤ä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ã€‚</p><h3 id="v-modelçš„åŸç†"><a href="#v-modelçš„åŸç†" class="headerlink" title="v-modelçš„åŸç†"></a>v-modelçš„åŸç†</h3><p>æˆ‘ä»¬åœ¨vueé¡¹ç›®ä¸­ä¸»è¦ä½¿ç”¨v-modelæŒ‡ä»¤åœ¨è¡¨å•inputï¼Œtextareaï¼Œselectç­‰å…ƒç´ ä¸Šåˆ›å»ºåŒå‘ç»‘å®šï¼Œæˆ‘ä»¬çŸ¥é“v-modelæœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œv-modelåœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„å±æ€§å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p><ul><li>textå’Œtextareaå…ƒç´ ä½¿ç”¨valueå±æ€§å’Œinputäº‹ä»¶</li><li>checkboxå’Œradioä½¿ç”¨checkedå’Œchange</li><li>selectå­—æ®µå°†valueä½œä¸ºpropå¹¶å°†changeä½œä¸ºäº‹ä»¶</li></ul><h3 id="vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼"><a href="#vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼" class="headerlink" title="vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼"></a>vueç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼</h3><ul><li><p>propså’Œ$emité€‚ç”¨çˆ¶å­ç»„ä»¶é€šä¿¡</p></li><li><p>refå’Œ$parent $childrenrefï¼šå¦‚æœåœ¨æ™®é€šdomä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯domå…ƒç´ ï¼Œå¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ $parent/$childrenï¼šè®¿é—®çˆ¶å­å®ä¾‹</p></li><li><p>EventBusï¼ˆ$emit/$onï¼‰è¿™ç§æ–¹æ³•é€šè¿‡ä¸€ä¸ªç©ºçš„vueå®ä¾‹ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿ï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰ï¼Œç”¨ä»–æ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶ï¼Œä»è€Œå®ç°ä»»ä½•ç»„ä»¶é—´çš„é€šä¿¡ï¼ŒåŒ…æ‹¬çˆ¶å­ï¼Œéš”ä»£ï¼Œå…„å¼Ÿç»„ä»¶</p></li><li><p>$attrs/$listeners$attrsï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸé‡Œä¸è¢«propæ‰€è¯†åˆ«ï¼ˆä¸”è·å–ï¼‰çš„ç‰¹æ€§ç»‘å®šï¼ˆclasså’Œstyleé™¤å¤–ï¼‰ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜ä»»ä½•propæ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®šï¼ˆclasså’Œstyleé™¤å¤–ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡v-bind=â€$attrsâ€ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚é€šå¸¸é…åˆinheritAttrsé€‰é¡¹ä¸€èµ·ä½¿ç”¨</p></li></ul><p>$listenersï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„v-onäº‹ä»¶ç›‘å¬å™¨ï¼Œå®ƒå¯ä»¥é€šè¿‡v-on=â€$listenersâ€ä¼ å…¥å†…éƒ¨ç»„ä»¶</p><ul><li><p>provideã€injectç¥–å…ˆç»„ä»¶é€šè¿‡provideræ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­å­™ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ï¼Œprovide / inject APIä¸»è¦è§£å†³äº†è·¨çº§ç»„ä»¶é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¸è¿‡ä»–çš„ä½¿ç”¨åœºæ™¯ï¼Œä¸»è¦æ˜¯å­ç»„ä»¶è·å–ä¸Šçº§ç»„ä»¶çš„çŠ¶æ€ï¼Œè·¨çº§ç»„ä»¶é—´å»ºç«‹ä¸€ç§ä¸»åŠ¨æä¾›å’Œä¾èµ–æ³¨å…¥çš„å…³ç³»</p></li><li><p>vuexvuexæ˜¯ä¸€ä¸ªä¸“ä¸ºvueåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œæ¯ä¸€ä¸ªvuexåº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯storeï¼ŒstoreåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä»“åº“ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€</p></li></ul><p>vuexçš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼Œå½“vueä»storeä¸­è¯»å–çŠ¶æ€æ—¶å€™ï¼Œè‹¥storeä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”çš„å¾—åˆ°é«˜æ•ˆæ›´æ–°</p><p>æ”¹å˜storeä¸­çš„çŠ¶æ€çš„å”¯ä¸€çš„é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤mutationï¼Œè¿™æ ·ä½¿æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–</p><h3 id="ä½ ä½¿ç”¨è¿‡vuexå—"><a href="#ä½ ä½¿ç”¨è¿‡vuexå—" class="headerlink" title="ä½ ä½¿ç”¨è¿‡vuexå—"></a>ä½ ä½¿ç”¨è¿‡vuexå—</h3><p>vuexæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºvueåº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œæ¯ä¸€ä¸ªvuexåº”ç”¨çš„æ ¸å¿ƒæ˜¯storeï¼ŒstoreåŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ï¼ˆstateï¼‰</p><p>ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š</p><ul><li>stateï¼šå®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€</li><li>Getterï¼šå…è®¸ç»„ä»¶ä»Stateä¸­è·å–æ•°æ®ï¼ŒmapGettersè¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°†storeä¸­çš„getteræ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§</li><li>Mutationï¼šæ˜¯å”¯ä¸€æ›´æ”¹storeä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</li><li>Actionï¼šç”¨äºæäº¤mutationï¼Œè€Œä¸æ˜¯ç›´æ¥æ›´æ”¹çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„çš„å¼‚æ­¥æ“ä½œ</li><li>Moduleï¼šå…è®¸å°†å•ä¸€çš„Storeæ‹†åˆ†æˆå¤šä¸ªstoreä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘é‡Œ</li></ul><h3 id="vue-SSR"><a href="#vue-SSR" class="headerlink" title="vue SSR"></a>vue SSR</h3><p>vueæ˜¯æ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å‡ºvueç»„ä»¶ï¼Œè¿›è¡Œç”Ÿæˆdomå’Œæ“ä½œdomï¼Œç„¶è€Œï¼Œä¹Ÿå¯ä»¥å°†åŒä¸€ä¸ªç»„ä»¶æ¸²æŸ“ä¸ºæœåŠ¡ç«¯çš„htmlå­—ç¬¦ä¸²ï¼Œå°†ä»–ä»¬ç›´æ¥å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œç„¶åå°†è¿™äº›é™æ€æ ‡è®°æ¿€æ´»ä¸ºå®¢æˆ·ç«¯ä¸Šå¯ä»¥äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚</p><p>å³ssrçš„æ„æ€å°±æ˜¯vueåœ¨æœåŠ¡ç«¯å®Œæˆå°†æ ‡ç­¾æ¸²æŸ“æˆæ•´ä¸ªhtmlç‰‡æ®µçš„å·¥ä½œï¼Œç„¶åå°†ç‰‡æ®µç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ä½¿ç”¨</p><ul><li><p>ssrä¼˜ç‚¹ï¼š</p><ul><li><p>æ›´å¥½çš„seoï¼šå› ä¸ºspaé¡µé¢çš„å†…å®¹æ˜¯é€šè¿‡ajaxè·å–ï¼Œè€Œæœç´¢å¼•æ“çˆ¬å–å·¥å…·å¹¶ä¸ä¼šç­‰å¾…ajaxä¸€æ­¥å®Œæˆåå†æŠ“å–é¡µé¢å†…å®¹ï¼Œæ‰€ä»¥åœ¨spaä¸­æ˜¯æŠ“å–ä¸åˆ°é¡µé¢é€šè¿‡ajaxè·å–åˆ°çš„å†…å®¹ï¼›è€Œssræ˜¯ç›´æ¥ç”±æœåŠ¡å™¨è¿”å›å·²ç»æ¸²æŸ“å¥½çš„é¡µé¢ï¼ˆæ•°æ®å·²ç»åŒ…å«åœ¨é¡µé¢ä¸­ï¼‰ï¼Œæ‰€ä»¥æœç´¢å¼•æ“çˆ¬å–å·¥å…·å¯ä»¥æŠ“å–åˆ°æ¸²æŸ“å¥½çš„é¡µé¢</p></li><li><p>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼ˆé¦–å±åŠ è½½å¿«ï¼‰ï¼šspaä¼šç­‰å¾…æ‰€æœ‰vueç¼–è¯‘åçš„jsæ–‡ä»¶éƒ½ä¸‹è½½å®Œæˆåï¼Œæ‰å¼€å§‹è¿›è¡Œä¹Ÿå…å¾—æ¸²æŸ“ï¼Œæ–‡ä»¶ä¸‹è½½éœ€è¦ä¸€å®šçš„æ—¶é—´ç­‰ï¼Œæ‰€ä»¥é¦–å±åŠ è½½éœ€è¦æ—¶é—´ï¼Œè€Œssrç›´æ¥ç”±æœåŠ¡å™¨æ¸²æŸ“å¥½é¡µé¢è¿”å›æ˜¾ç¤ºï¼Œæ— éœ€ç­‰å¾…jsæ–‡ä»¶å†å»æ¸²æŸ“ï¼Œæ‰€ä»¥ssræœ‰æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´</p></li></ul></li><li><p>ssrç¼ºç‚¹ï¼š</p><ul><li><p>æ›´å¤šçš„å¼€å‘æ¡ä»¶é™åˆ¶ï¼šä¾‹å¦‚æœåŠ¡ç«¯æ¸²æŸ“åªæ”¯æŒbeforeCreateå’Œcreatedä¸¤ä¸ªé’©å­å‡½æ•°ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›å¤–éƒ¨æ‰©å±•åº“éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“ç¨‹åºä¸­è¿è¡Œï¼›å¹¶ä¸”ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åºspaä¸åŒï¼ŒæœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äºnodejs serverä¸­æ‰èƒ½è¿è¡Œ</p></li><li><p>æ›´å¤šçš„æœåŠ¡å™¨è´Ÿè½½</p></li></ul></li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/vueInterview.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Immerä¸­æ–‡æ–‡æ¡£</title>
      <link>http://mydearest.cn/2020/Immer%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3.html</link>
      <guid>http://mydearest.cn/2020/Immer%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3.html</guid>
      <pubDate>Wed, 15 Apr 2020 14:51:45 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;Immer-ä¸­æ–‡æ–‡æ¡£&quot;&gt;&lt;a href=&quot;#Immer-ä¸­æ–‡æ–‡æ¡£&quot; class=&quot;headerlink&quot; title=&quot;Immer ä¸­æ–‡æ–‡æ¡£&quot;&gt;&lt;/a&gt;Immer ä¸­æ–‡æ–‡æ¡£&lt;/h1&gt;&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/mweststrate/immer&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Immer&lt;/a&gt; æ˜¯ mobx çš„ä½œè€…å†™çš„ä¸€ä¸ª immutable åº“ï¼Œæ ¸å¿ƒå®ç°æ˜¯åˆ©ç”¨ ES6 çš„ proxyï¼Œå‡ ä¹ä»¥æœ€å°çš„æˆæœ¬å®ç°äº† js çš„ä¸å¯å˜æ•°æ®ç»“æ„ï¼Œç®€å•æ˜“ç”¨ã€ä½“é‡å°å·§ã€è®¾è®¡å·§å¦™ï¼Œæ»¡è¶³äº†æˆ‘ä»¬å¯¹JSä¸å¯å˜æ•°æ®ç»“æ„çš„éœ€æ±‚ã€‚&lt;br&gt;æ— å¥ˆç½‘ç»œä¸Šå®Œå–„çš„æ–‡æ¡£å®åœ¨å¤ªå°‘ï¼Œæ‰€ä»¥è‡ªå·±å†™äº†ä¸€ä»½ï¼Œæœ¬ç¯‡æ–‡ç« ä»¥è´´è¿‘å®æˆ˜çš„æ€è·¯å’Œæµç¨‹ï¼Œå¯¹ Immer è¿›è¡Œäº†å…¨é¢çš„è®²è§£ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç›®å½•&quot;&gt;&lt;a href=&quot;#ç›®å½•&quot; class=&quot;headerlink&quot; title=&quot;ç›®å½•&quot;&gt;&lt;/a&gt;ç›®å½•&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#æ•°æ®å¤„ç†å­˜åœ¨çš„é—®é¢˜&quot;&gt;æ•°æ®å¤„ç†å­˜åœ¨çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#è§£å†³å¼•ç”¨ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹çš„åŠæ³•&quot;&gt;è§£å†³å¼•ç”¨ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹çš„åŠæ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#immeråŠŸèƒ½ä»‹ç»&quot;&gt;immeråŠŸèƒ½ä»‹ç»&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#å®‰è£…immer&quot;&gt;å®‰è£…immer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#immerå¦‚ä½•fixæ‰é‚£äº›ä¸çˆ½çš„é—®é¢˜&quot;&gt;immerå¦‚ä½•fixæ‰é‚£äº›ä¸çˆ½çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#æ¦‚å¿µè¯´æ˜&quot;&gt;æ¦‚å¿µè¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#å¸¸ç”¨apiä»‹ç»&quot;&gt;å¸¸ç”¨apiä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ç”¨immerä¼˜åŒ–reacté¡¹ç›®çš„æ¢ç´¢&quot;&gt;ç”¨immerä¼˜åŒ–reacté¡¹ç›®çš„æ¢ç´¢&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#æŠ›å‡ºéœ€æ±‚&quot;&gt;æŠ›å‡ºéœ€æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ä¼˜åŒ–setStateæ–¹æ³•&quot;&gt;ä¼˜åŒ–setStateæ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ä¼˜åŒ–reducer&quot;&gt;ä¼˜åŒ–reducer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#å‚è€ƒæ–‡æ¡£&quot;&gt;å‚è€ƒæ–‡æ¡£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="Immer-ä¸­æ–‡æ–‡æ¡£"><a href="#Immer-ä¸­æ–‡æ–‡æ¡£" class="headerlink" title="Immer ä¸­æ–‡æ–‡æ¡£"></a>Immer ä¸­æ–‡æ–‡æ¡£</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><a href="https://github.com/mweststrate/immer" target="_blank" rel="noopener">Immer</a> æ˜¯ mobx çš„ä½œè€…å†™çš„ä¸€ä¸ª immutable åº“ï¼Œæ ¸å¿ƒå®ç°æ˜¯åˆ©ç”¨ ES6 çš„ proxyï¼Œå‡ ä¹ä»¥æœ€å°çš„æˆæœ¬å®ç°äº† js çš„ä¸å¯å˜æ•°æ®ç»“æ„ï¼Œç®€å•æ˜“ç”¨ã€ä½“é‡å°å·§ã€è®¾è®¡å·§å¦™ï¼Œæ»¡è¶³äº†æˆ‘ä»¬å¯¹JSä¸å¯å˜æ•°æ®ç»“æ„çš„éœ€æ±‚ã€‚<br>æ— å¥ˆç½‘ç»œä¸Šå®Œå–„çš„æ–‡æ¡£å®åœ¨å¤ªå°‘ï¼Œæ‰€ä»¥è‡ªå·±å†™äº†ä¸€ä»½ï¼Œæœ¬ç¯‡æ–‡ç« ä»¥è´´è¿‘å®æˆ˜çš„æ€è·¯å’Œæµç¨‹ï¼Œå¯¹ Immer è¿›è¡Œäº†å…¨é¢çš„è®²è§£ã€‚</p><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ul><li><a href="#æ•°æ®å¤„ç†å­˜åœ¨çš„é—®é¢˜">æ•°æ®å¤„ç†å­˜åœ¨çš„é—®é¢˜</a></li><li><a href="#è§£å†³å¼•ç”¨ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹çš„åŠæ³•">è§£å†³å¼•ç”¨ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹çš„åŠæ³•</a></li><li><a href="#immeråŠŸèƒ½ä»‹ç»">immeråŠŸèƒ½ä»‹ç»</a><ul><li><a href="#å®‰è£…immer">å®‰è£…immer</a></li><li><a href="#immerå¦‚ä½•fixæ‰é‚£äº›ä¸çˆ½çš„é—®é¢˜">immerå¦‚ä½•fixæ‰é‚£äº›ä¸çˆ½çš„é—®é¢˜</a></li><li><a href="#æ¦‚å¿µè¯´æ˜">æ¦‚å¿µè¯´æ˜</a></li><li><a href="#å¸¸ç”¨apiä»‹ç»">å¸¸ç”¨apiä»‹ç»</a></li></ul></li><li><a href="#ç”¨immerä¼˜åŒ–reacté¡¹ç›®çš„æ¢ç´¢">ç”¨immerä¼˜åŒ–reacté¡¹ç›®çš„æ¢ç´¢</a><ul><li><a href="#æŠ›å‡ºéœ€æ±‚">æŠ›å‡ºéœ€æ±‚</a></li><li><a href="#ä¼˜åŒ–setStateæ–¹æ³•">ä¼˜åŒ–setStateæ–¹æ³•</a></li><li><a href="#ä¼˜åŒ–reducer">ä¼˜åŒ–reducer</a></li></ul></li><li><a href="#å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£</a></li></ul><hr><a id="more"></a><h2 id="æ•°æ®å¤„ç†å­˜åœ¨çš„é—®é¢˜"><a href="#æ•°æ®å¤„ç†å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="æ•°æ®å¤„ç†å­˜åœ¨çš„é—®é¢˜"></a>æ•°æ®å¤„ç†å­˜åœ¨çš„é—®é¢˜</h2><p>å…ˆå®šä¹‰ä¸€ä¸ªåˆå§‹å¯¹è±¡ï¼Œä¾›åé¢ä¾‹å­ä½¿ç”¨ï¼šé¦–å…ˆå®šä¹‰ä¸€ä¸ª<code>currentState</code>å¯¹è±¡ï¼Œåé¢çš„ä¾‹å­ä½¿ç”¨åˆ°å˜é‡<code>currentState</code>æ—¶ï¼Œå¦‚æ— ç‰¹æ®Šå£°æ˜ï¼Œéƒ½æ˜¯æŒ‡è¿™ä¸ª<code>currentState</code>å¯¹è±¡<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> currentState = &#123;</span><br><span class="line">  p: &#123;</span><br><span class="line">    x: [<span class="number">2</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å“ªäº›æƒ…å†µä¼šä¸€ä¸å°å¿ƒä¿®æ”¹åŸå§‹å¯¹è±¡ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Q1</span></span><br><span class="line"><span class="keyword">let</span> o1 = currentState;</span><br><span class="line">o1.p = <span class="number">1</span>; <span class="comment">// currentState è¢«ä¿®æ”¹äº†</span></span><br><span class="line">o1.p.x = <span class="number">1</span>; <span class="comment">// currentState è¢«ä¿®æ”¹äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Q2</span></span><br><span class="line">fn(currentState); <span class="comment">// currentState è¢«ä¿®æ”¹äº†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">  o.p1 = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> o;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Q3</span></span><br><span class="line"><span class="keyword">let</span> o3 = &#123;</span><br><span class="line">  ...currentState</span><br><span class="line">&#125;;</span><br><span class="line">o3.p.x = <span class="number">1</span>; <span class="comment">// currentState è¢«ä¿®æ”¹äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Q4</span></span><br><span class="line"><span class="keyword">let</span> o4 = currentState;</span><br><span class="line">o4.p.x.push(<span class="number">1</span>); <span class="comment">// currentState è¢«ä¿®æ”¹äº†</span></span><br></pre></td></tr></table></figure><h2 id="è§£å†³å¼•ç”¨ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹çš„åŠæ³•"><a href="#è§£å†³å¼•ç”¨ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹çš„åŠæ³•" class="headerlink" title="è§£å†³å¼•ç”¨ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹çš„åŠæ³•"></a>è§£å†³å¼•ç”¨ç±»å‹å¯¹è±¡è¢«ä¿®æ”¹çš„åŠæ³•</h2><ol><li>æ·±åº¦æ‹·è´ï¼Œä½†æ˜¯æ·±æ‹·è´çš„æˆæœ¬è¾ƒé«˜ï¼Œä¼šå½±å“æ€§èƒ½ï¼›</li><li><a href="https://github.com/facebook/immutable-js" target="_blank" rel="noopener">ImmutableJS</a>ï¼Œéå¸¸æ£’çš„ä¸€ä¸ªä¸å¯å˜æ•°æ®ç»“æ„çš„åº“ï¼Œå¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼ŒButï¼Œè·Ÿ Immer æ¯”èµ·æ¥ï¼ŒImmutableJS æœ‰ä¸¤ä¸ªè¾ƒå¤§çš„ä¸è¶³ï¼š  <ul><li>éœ€è¦ä½¿ç”¨è€…å­¦ä¹ å®ƒçš„æ•°æ®ç»“æ„æ“ä½œæ–¹å¼ï¼Œæ²¡æœ‰ Immer æä¾›çš„ä½¿ç”¨åŸç”Ÿå¯¹è±¡çš„æ“ä½œæ–¹å¼ç®€å•ã€æ˜“ç”¨ï¼›</li><li>å®ƒçš„æ“ä½œç»“æœéœ€è¦é€šè¿‡<code>toJS</code>æ–¹æ³•æ‰èƒ½å¾—åˆ°åŸç”Ÿå¯¹è±¡ï¼Œè¿™ä½¿å¾—åœ¨æ“ä½œä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œæ—¶åˆ»è¦ä¸»è¦æ“ä½œçš„æ˜¯åŸç”Ÿå¯¹è±¡è¿˜æ˜¯ ImmutableJS çš„è¿”å›ç»“æœï¼Œç¨ä¸æ³¨æ„ï¼Œå°±ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ bugã€‚</li></ul></li></ol><p>çœ‹æ¥ç›®å‰å·²çŸ¥çš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬éƒ½ä¸ç”šæ»¡æ„ï¼Œé‚£ä¹ˆ Immer åˆæœ‰ä»€ä¹ˆé«˜æ˜ä¹‹å¤„å‘¢ï¼Ÿ</p><h2 id="immeråŠŸèƒ½ä»‹ç»"><a href="#immeråŠŸèƒ½ä»‹ç»" class="headerlink" title="immeråŠŸèƒ½ä»‹ç»"></a>immeråŠŸèƒ½ä»‹ç»</h2><h3 id="å®‰è£…immer"><a href="#å®‰è£…immer" class="headerlink" title="å®‰è£…immer"></a>å®‰è£…immer</h3><p>æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼Œå®‰è£… Immer æ˜¯å½“å‰ç¬¬ä¸€è¦åŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save immer</span><br></pre></td></tr></table></figure><h3 id="immerå¦‚ä½•fixæ‰é‚£äº›ä¸çˆ½çš„é—®é¢˜"><a href="#immerå¦‚ä½•fixæ‰é‚£äº›ä¸çˆ½çš„é—®é¢˜" class="headerlink" title="immerå¦‚ä½•fixæ‰é‚£äº›ä¸çˆ½çš„é—®é¢˜"></a>immerå¦‚ä½•fixæ‰é‚£äº›ä¸çˆ½çš„é—®é¢˜</h3><p>Fix Q1ã€Q3<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> produce <span class="keyword">from</span> <span class="string">'immer'</span>;</span><br><span class="line"><span class="keyword">let</span> o1 = produce(currentState, draft =&gt; &#123;</span><br><span class="line">  draft.p.x = <span class="number">1</span>;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>Fix Q2<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> produce <span class="keyword">from</span> <span class="string">'immer'</span>;</span><br><span class="line">fn(currentState); <span class="comment">// currentState è¢«ä¿®æ”¹äº†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> produce(o, draft =&gt; &#123;</span><br><span class="line">    draft.p1 = <span class="number">1</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>Fix Q4<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> produce <span class="keyword">from</span> <span class="string">'immer'</span>;</span><br><span class="line"><span class="keyword">let</span> o4 = produce(currentState, draft =&gt; &#123;</span><br><span class="line">  draft.p.x.push(<span class="number">1</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p><p>æ˜¯ä¸æ˜¯ä½¿ç”¨éå¸¸ç®€å•ï¼Œé€šè¿‡å°è¯•ç‰›åˆ€ï¼Œæˆ‘ä»¬ç®€å•çš„äº†è§£äº† Immer ï¼Œä¸‹é¢å°†å¯¹ Immer çš„å¸¸ç”¨ api åˆ†åˆ«è¿›è¡Œä»‹ç»ã€‚</p><h3 id="æ¦‚å¿µè¯´æ˜"><a href="#æ¦‚å¿µè¯´æ˜" class="headerlink" title="æ¦‚å¿µè¯´æ˜"></a>æ¦‚å¿µè¯´æ˜</h3><p>Immer æ¶‰åŠæ¦‚å¿µä¸å¤šï¼Œåœ¨æ­¤å°†æ¶‰åŠåˆ°çš„æ¦‚å¿µå…ˆè¡Œç½—åˆ—å‡ºæ¥ï¼Œé˜…è¯»æœ¬æ–‡ç« è¿‡ç¨‹ä¸­é‡åˆ°ä¸æ˜ç™½çš„æ¦‚å¿µï¼Œå¯ä»¥éšæ—¶æ¥æ­¤å¤„æŸ¥é˜…ã€‚</p><ul><li><p>currentState<br>è¢«æ“ä½œå¯¹è±¡çš„æœ€åˆçŠ¶æ€</p></li><li><p>draftState<br>æ ¹æ® currentState ç”Ÿæˆçš„è‰ç¨¿çŠ¶æ€ï¼Œå®ƒæ˜¯ currentState çš„ä»£ç†ï¼Œå¯¹ draftState æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½å°†è¢«è®°å½•å¹¶ç”¨äºç”Ÿæˆ nextState ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼ŒcurrentState å°†ä¸å—å½±å“</p></li><li><p>nextState<br>æ ¹æ® draftState ç”Ÿæˆçš„æœ€ç»ˆçŠ¶æ€</p></li><li><p>produce ç”Ÿäº§<br>ç”¨æ¥ç”Ÿæˆ nextState æˆ– producer çš„å‡½æ•°</p></li><li><p>producer ç”Ÿäº§è€…<br>é€šè¿‡ produce ç”Ÿæˆï¼Œç”¨æ¥ç”Ÿäº§ nextState ï¼Œæ¯æ¬¡æ‰§è¡Œç›¸åŒçš„æ“ä½œ</p></li><li><p>recipe ç”Ÿäº§æœºå™¨<br>ç”¨æ¥æ“ä½œ draftState çš„å‡½æ•°</p></li></ul><h3 id="å¸¸ç”¨apiä»‹ç»"><a href="#å¸¸ç”¨apiä»‹ç»" class="headerlink" title="å¸¸ç”¨apiä»‹ç»"></a>å¸¸ç”¨apiä»‹ç»</h3><p>ä½¿ç”¨ Immer å‰ï¼Œè¯·ç¡®è®¤å°†<code>immer</code>åŒ…å¼•å…¥åˆ°æ¨¡å—ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> produce <span class="keyword">from</span> <span class="string">'immer'</span></span><br></pre></td></tr></table></figure><p>or<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; produce &#125; <span class="keyword">from</span> <span class="string">'immer'</span></span><br></pre></td></tr></table></figure></p><p>è¿™ä¸¤ç§å¼•ç”¨æ–¹å¼ï¼Œproduce æ˜¯å®Œå…¨ç›¸åŒçš„</p><h4 id="produce"><a href="#produce" class="headerlink" title="produce"></a>produce</h4><p><em>å¤‡æ³¨ï¼šå‡ºç°<code>PatchListener</code>å…ˆè¡Œè·³è¿‡ï¼Œåé¢ç« èŠ‚ä¼šåšä»‹ç»</em></p><h5 id="ç¬¬1ç§ä½¿ç”¨æ–¹å¼ï¼š"><a href="#ç¬¬1ç§ä½¿ç”¨æ–¹å¼ï¼š" class="headerlink" title="ç¬¬1ç§ä½¿ç”¨æ–¹å¼ï¼š"></a>ç¬¬1ç§ä½¿ç”¨æ–¹å¼ï¼š</h5><p>è¯­æ³•ï¼š<br><code>produce(currentState, recipe: (draftState) =&gt; void | draftState, ?PatchListener): nextState</code></p><p>ä¾‹å­1ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nextState = produce(currentState, (draft) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">currentState === nextState; <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><p>ä¾‹å­2ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> currentState = &#123;</span><br><span class="line">  a: [],</span><br><span class="line">  p: &#123;</span><br><span class="line">    x: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> nextState = produce(currentState, (draft) =&gt; &#123;</span><br><span class="line">  draft.a.push(<span class="number">2</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">currentState.a === nextState.a; <span class="comment">// false</span></span><br><span class="line">currentState.p === nextState.p; <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><p>ç”±æ­¤å¯è§ï¼Œå¯¹ draftState çš„ä¿®æ”¹éƒ½ä¼šååº”åˆ° nextState ä¸Šï¼Œè€Œ Immer ä½¿ç”¨çš„ç»“æ„æ˜¯å…±äº«çš„ï¼ŒnextState åœ¨ç»“æ„ä¸Šåˆä¸ currentState å…±äº«æœªä¿®æ”¹çš„éƒ¨åˆ†ï¼Œå…±äº«æ•ˆæœå¦‚å›¾ï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/change-tree.gif" alt="change-tree"></p><h5 id="è‡ªåŠ¨å†»ç»“åŠŸèƒ½"><a href="#è‡ªåŠ¨å†»ç»“åŠŸèƒ½" class="headerlink" title="è‡ªåŠ¨å†»ç»“åŠŸèƒ½"></a>è‡ªåŠ¨å†»ç»“åŠŸèƒ½</h5><p>Immer è¿˜åœ¨å†…éƒ¨åšäº†ä¸€ä»¶å¾ˆå·§å¦™çš„äº‹æƒ…ï¼Œé‚£å°±æ˜¯é€šè¿‡ produce ç”Ÿæˆçš„ nextState æ˜¯è¢«å†»ç»“ï¼ˆfreezeï¼‰çš„ï¼Œï¼ˆImmer å†…éƒ¨ä½¿ç”¨<code>Object.freeze</code>æ–¹æ³•ï¼Œåªå†»ç»“ nextState è·Ÿ currentState ç›¸æ¯”ä¿®æ”¹çš„éƒ¨åˆ†ï¼‰ï¼Œè¿™æ ·ï¼Œå½“ç›´æ¥ä¿®æ”¹ nextState æ—¶ï¼Œå°†ä¼šæŠ¥é”™ã€‚è¿™ä½¿å¾— nextState æˆä¸ºäº†çœŸæ­£çš„ä¸å¯å˜æ•°æ®ã€‚</p><p>ä¾‹å­ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nextState = produce(currentState, (draft) =&gt; &#123;</span><br><span class="line">  draft.p.x.push(<span class="number">2</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">currentState === nextState; <span class="comment">// true</span></span><br></pre></td></tr></table></figure></p><h5 id="ç¬¬2ç§ä½¿ç”¨æ–¹å¼"><a href="#ç¬¬2ç§ä½¿ç”¨æ–¹å¼" class="headerlink" title="ç¬¬2ç§ä½¿ç”¨æ–¹å¼"></a>ç¬¬2ç§ä½¿ç”¨æ–¹å¼</h5><p>åˆ©ç”¨é«˜é˜¶å‡½æ•°çš„ç‰¹ç‚¹ï¼Œæå‰ç”Ÿæˆä¸€ä¸ªç”Ÿäº§è€… producer</p><p>è¯­æ³•ï¼š<br><code>produce(recipe: (draftState) =&gt; void | draftState, ?PatchListener)(currentState): nextState</code></p><p>ä¾‹å­ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> producer = produce(<span class="function">(<span class="params">draft</span>) =&gt;</span> &#123;</span><br><span class="line">  draft.x = <span class="number">2</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> nextState = producer(currentState);</span><br></pre></td></tr></table></figure></p><h5 id="recipeçš„è¿”å›å€¼"><a href="#recipeçš„è¿”å›å€¼" class="headerlink" title="recipeçš„è¿”å›å€¼"></a>recipeçš„è¿”å›å€¼</h5><p>recipe æ˜¯å¦æœ‰è¿”å›å€¼ï¼ŒnextState çš„ç”Ÿæˆè¿‡ç¨‹æ˜¯ä¸åŒçš„ï¼š<br>recipe æ²¡æœ‰è¿”å›å€¼æ—¶ï¼šnextState æ˜¯æ ¹æ® recipe å‡½æ•°å†…çš„ draftState ç”Ÿæˆçš„ï¼›<br>recipe æœ‰è¿”å›å€¼æ—¶ï¼šnextState æ˜¯æ ¹æ® recipe å‡½æ•°çš„è¿”å›å€¼ç”Ÿæˆçš„ï¼›  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nextState = produce(</span><br><span class="line">  currentState, </span><br><span class="line">  (draftState) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      x: <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼ŒnextState ä¸å†æ˜¯é€šè¿‡ draftState ç”Ÿæˆçš„äº†ï¼Œè€Œæ˜¯é€šè¿‡ recipe çš„è¿”å›å€¼ç”Ÿæˆçš„ã€‚</p><h5 id="recipeä¸­çš„this"><a href="#recipeä¸­çš„this" class="headerlink" title="recipeä¸­çš„this"></a>recipeä¸­çš„this</h5><p> recipe å‡½æ•°å†…éƒ¨çš„<code>this</code>æŒ‡å‘ draftState ï¼Œä¹Ÿå°±æ˜¯ä¿®æ”¹<code>this</code>ä¸ä¿®æ”¹ recipe çš„å‚æ•° draftState ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚<br><strong>æ³¨æ„ï¼šæ­¤å¤„çš„ recipe å‡½æ•°ä¸èƒ½æ˜¯ç®­å¤´å‡½æ•°ï¼Œå¦‚æœæ˜¯ç®­å¤´å‡½æ•°ï¼Œ<code>this</code>å°±æ— æ³•æŒ‡å‘ draftState äº†</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">produce(currentState, <span class="function"><span class="keyword">function</span>(<span class="params">draft</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// æ­¤å¤„ï¼Œthis æŒ‡å‘ draftState</span></span><br><span class="line">  draft === <span class="keyword">this</span>; <span class="comment">// true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="patchè¡¥ä¸åŠŸèƒ½"><a href="#patchè¡¥ä¸åŠŸèƒ½" class="headerlink" title="patchè¡¥ä¸åŠŸèƒ½"></a>patchè¡¥ä¸åŠŸèƒ½</h4><p>é€šè¿‡æ­¤åŠŸèƒ½ï¼Œå¯ä»¥æ–¹ä¾¿è¿›è¡Œè¯¦ç»†çš„ä»£ç è°ƒè¯•å’Œè·Ÿè¸ªï¼Œå¯ä»¥çŸ¥é“ recipe å†…çš„åšçš„æ¯æ¬¡ä¿®æ”¹ï¼Œè¿˜å¯ä»¥å®ç°æ—¶é—´æ—…è¡Œã€‚</p><p>Immer ä¸­ï¼Œä¸€ä¸ª patch å¯¹è±¡æ˜¯è¿™æ ·çš„:<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Patch &#123;</span><br><span class="line">  op: <span class="string">"replace"</span> | <span class="string">"remove"</span> | <span class="string">"add"</span> <span class="comment">// ä¸€æ¬¡æ›´æ”¹çš„åŠ¨ä½œç±»å‹</span></span><br><span class="line">  path: (<span class="built_in">string</span> | <span class="built_in">number</span>)[] <span class="comment">// æ­¤å±æ€§æŒ‡ä»æ ‘æ ¹åˆ°è¢«æ›´æ”¹æ ‘æˆçš„è·¯å¾„</span></span><br><span class="line">  value?: <span class="built_in">any</span> <span class="comment">// opä¸º replaceã€add æ—¶ï¼Œæ‰æœ‰æ­¤å±æ€§ï¼Œè¡¨ç¤ºæ–°çš„èµ‹å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¯­æ³•ï¼š<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">produce(</span><br><span class="line">  currentState, </span><br><span class="line">  recipe,</span><br><span class="line">  <span class="comment">// é€šè¿‡ patchListener å‡½æ•°ï¼Œæš´éœ²æ­£å‘å’Œåå‘çš„è¡¥ä¸æ•°ç»„</span></span><br><span class="line">  patchListener: <span class="function">(<span class="params">patches: Patch[], inversePatches: Patch[]</span>) =&gt;</span> <span class="built_in">void</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">applyPatches(currentState, changes: (patches | inversePatches)[]): nextState</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> produce, &#123; applyPatches &#125; <span class="keyword">from</span> <span class="string">"immer"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> state = &#123;</span><br><span class="line">  x: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> replaces = [];</span><br><span class="line"><span class="keyword">let</span> inverseReplaces = [];</span><br><span class="line"></span><br><span class="line">state = produce(</span><br><span class="line">  state,</span><br><span class="line">  draft =&gt; &#123;</span><br><span class="line">    draft.x = <span class="number">2</span>;</span><br><span class="line">    draft.y = <span class="number">2</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  (patches, inversePatches) =&gt; &#123;</span><br><span class="line">    replaces = patches.filter(<span class="function"><span class="params">patch</span> =&gt;</span> patch.op === <span class="string">'replace'</span>);</span><br><span class="line">    inverseReplaces = inversePatches.filter(<span class="function"><span class="params">patch</span> =&gt;</span> patch.op === <span class="string">'replace'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">state = produce(state, draft =&gt; &#123;</span><br><span class="line">  draft.x = <span class="number">3</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'state1'</span>, state); <span class="comment">// &#123; x: 3, y: 2 &#125;</span></span><br><span class="line"></span><br><span class="line">state = applyPatches(state, replaces);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'state2'</span>, state); <span class="comment">// &#123; x: 2, y: 2 &#125;</span></span><br><span class="line"></span><br><span class="line">state = produce(state, draft =&gt; &#123;</span><br><span class="line">  draft.x = <span class="number">4</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'state3'</span>, state); <span class="comment">// &#123; x: 4, y: 2 &#125;</span></span><br><span class="line"></span><br><span class="line">state = applyPatches(state, inverseReplaces);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'state4'</span>, state); <span class="comment">// &#123; x: 1, y: 2 &#125;</span></span><br></pre></td></tr></table></figure><p><code>state.x</code>çš„å€¼4æ¬¡æ‰“å°ç»“æœåˆ†åˆ«æ˜¯ï¼š<code>3ã€2ã€4ã€1</code>ï¼Œå®ç°äº†æ—¶é—´æ—…è¡Œï¼Œå¯ä»¥åˆ†åˆ«æ‰“å°<code>patches</code>å’Œ<code>inversePatches</code>çœ‹ä¸‹ï¼Œ</p><p><code>patches</code>æ•°æ®å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    op: <span class="string">"replace"</span>,</span><br><span class="line">    path: [<span class="string">"x"</span>],</span><br><span class="line">    value: <span class="number">2</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    op: <span class="string">"add"</span>,</span><br><span class="line">    path: [<span class="string">"y"</span>],</span><br><span class="line">    value: <span class="number">2</span></span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><p><code>inversePatches</code>æ•°æ®å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    op: <span class="string">"replace"</span>,</span><br><span class="line">    path: [<span class="string">"x"</span>],</span><br><span class="line">    value: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    op: <span class="string">"remove"</span>,</span><br><span class="line">    path: [<span class="string">"y"</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p><p>å¯è§ï¼Œ<code>patchListener</code>å†…éƒ¨å¯¹æ•°æ®æ“ä½œåšäº†è®°å½•ï¼Œå¹¶åˆ†åˆ«å­˜å‚¨ä¸ºæ­£å‘æ“ä½œè®°å½•å’Œåå‘æ“ä½œè®°å½•ï¼Œä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚</p><p>è‡³æ­¤ï¼ŒImmer çš„å¸¸ç”¨åŠŸèƒ½å’Œ api æˆ‘ä»¬å°±ä»‹ç»å®Œäº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹å¦‚ä½•ç”¨ Immer ï¼Œæé«˜ React ã€Redux é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚</p><h2 id="ç”¨immerä¼˜åŒ–reacté¡¹ç›®çš„æ¢ç´¢"><a href="#ç”¨immerä¼˜åŒ–reacté¡¹ç›®çš„æ¢ç´¢" class="headerlink" title="ç”¨immerä¼˜åŒ–reacté¡¹ç›®çš„æ¢ç´¢"></a>ç”¨immerä¼˜åŒ–reacté¡¹ç›®çš„æ¢ç´¢</h2><p>é¦–å…ˆå®šä¹‰ä¸€ä¸ª<code>state</code>å¯¹è±¡ï¼Œåé¢çš„ä¾‹å­ä½¿ç”¨åˆ°å˜é‡<code>state</code>æˆ–è®¿é—®<code>this.state</code>æ—¶ï¼Œå¦‚æ— ç‰¹æ®Šå£°æ˜ï¼Œéƒ½æ˜¯æŒ‡è¿™ä¸ª<code>state</code>å¯¹è±¡<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">state = &#123;</span><br><span class="line">  members: [</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'ronffy'</span>,</span><br><span class="line">      age: <span class="number">30</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="æŠ›å‡ºéœ€æ±‚"><a href="#æŠ›å‡ºéœ€æ±‚" class="headerlink" title="æŠ›å‡ºéœ€æ±‚"></a>æŠ›å‡ºéœ€æ±‚</h3><p>å°±ä¸Šé¢å®šä¹‰çš„<code>state</code>ï¼Œæˆ‘ä»¬å…ˆæŠ›ä¸€ä¸ªéœ€æ±‚å‡ºæ¥ï¼Œå¥½è®©åé¢çš„è®²è§£æœ‰çš„æ”¾çŸ¢ï¼š<br><strong>members æˆå‘˜ä¸­çš„ç¬¬1ä¸ªæˆå‘˜ï¼Œå¹´é¾„å¢åŠ 1å²</strong></p><h3 id="ä¼˜åŒ–setStateæ–¹æ³•"><a href="#ä¼˜åŒ–setStateæ–¹æ³•" class="headerlink" title="ä¼˜åŒ–setStateæ–¹æ³•"></a>ä¼˜åŒ–setStateæ–¹æ³•</h3><h4 id="é”™è¯¯ç¤ºä¾‹"><a href="#é”™è¯¯ç¤ºä¾‹" class="headerlink" title="é”™è¯¯ç¤ºä¾‹"></a>é”™è¯¯ç¤ºä¾‹</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.state.members[<span class="number">0</span>].age++;</span><br></pre></td></tr></table></figure><p>åªæ‰€ä»¥æœ‰çš„æ–°æ‰‹åŒå­¦ä¼šçŠ¯è¿™æ ·çš„é”™è¯¯ï¼Œå¾ˆå¤§åŸå› æ˜¯è¿™æ ·æ“ä½œå®åœ¨æ˜¯å¤ªæ–¹ä¾¿äº†ï¼Œä»¥è‡³äºå¿˜è®°äº†æ“ä½œ State çš„è§„åˆ™ã€‚</p><p>ä¸‹é¢çœ‹ä¸‹æ­£ç¡®çš„å®ç°æ–¹æ³•</p><h4 id="setStateçš„ç¬¬1ç§å®ç°æ–¹æ³•"><a href="#setStateçš„ç¬¬1ç§å®ç°æ–¹æ³•" class="headerlink" title="setStateçš„ç¬¬1ç§å®ç°æ–¹æ³•"></a>setStateçš„ç¬¬1ç§å®ç°æ–¹æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; members &#125; = <span class="keyword">this</span>.state;</span><br><span class="line"><span class="keyword">this</span>.setState(&#123;</span><br><span class="line">  members: [</span><br><span class="line">    &#123;</span><br><span class="line">      ...members[<span class="number">0</span>],</span><br><span class="line">      age: members[<span class="number">0</span>].age + <span class="number">1</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    ...members.slice(<span class="number">1</span>),</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="setStateçš„ç¬¬2ç§å®ç°æ–¹æ³•"><a href="#setStateçš„ç¬¬2ç§å®ç°æ–¹æ³•" class="headerlink" title="setStateçš„ç¬¬2ç§å®ç°æ–¹æ³•"></a>setStateçš„ç¬¬2ç§å®ç°æ–¹æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(<span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; members &#125; = state;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    members: [</span><br><span class="line">      &#123;</span><br><span class="line">        ...members[<span class="number">0</span>],</span><br><span class="line">        age: members[<span class="number">0</span>].age + <span class="number">1</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      ...members.slice(<span class="number">1</span>)</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Š2ç§å®ç°æ–¹å¼ï¼Œå°±æ˜¯<code>setState</code>çš„ä¸¤ç§ä½¿ç”¨æ–¹æ³•ï¼Œç›¸æ¯”å¤§å®¶éƒ½ä¸é™Œç”Ÿäº†ï¼Œæ‰€ä»¥å°±ä¸è¿‡å¤šè¯´æ˜äº†ï¼Œæ¥ä¸‹æ¥çœ‹ä¸‹ï¼Œå¦‚æœç”¨ Immer è§£å†³ï¼Œä¼šæœ‰æ€æ ·çš„çƒŸç«ï¼Ÿ</p><h4 id="ç”¨immeræ›´æ–°state"><a href="#ç”¨immeræ›´æ–°state" class="headerlink" title="ç”¨immeræ›´æ–°state"></a>ç”¨immeræ›´æ–°state</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(produce(<span class="function"><span class="params">draft</span> =&gt;</span> &#123;</span><br><span class="line">  draft.members[<span class="number">0</span>].age++;</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure><p>æ˜¯ä¸æ˜¯ç¬é—´ä»£ç é‡å°±å°‘äº†å¾ˆå¤šï¼Œé˜…è¯»èµ·æ¥èˆ’æœäº†å¾ˆå¤šï¼Œè€Œä¸”æ›´æ˜“äºé˜…è¯»äº†ã€‚</p><h3 id="ä¼˜åŒ–reducer"><a href="#ä¼˜åŒ–reducer" class="headerlink" title="ä¼˜åŒ–reducer"></a>ä¼˜åŒ–reducer</h3><h4 id="immerçš„produceçš„æ‹“å±•ç”¨æ³•"><a href="#immerçš„produceçš„æ‹“å±•ç”¨æ³•" class="headerlink" title="immerçš„produceçš„æ‹“å±•ç”¨æ³•"></a>immerçš„produceçš„æ‹“å±•ç”¨æ³•</h4><p>åœ¨å¼€å§‹æ­£å¼æ¢ç´¢ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ produce <a href="#ç¬¬2ç§ä½¿ç”¨æ–¹å¼">ç¬¬2ç§ä½¿ç”¨æ–¹å¼</a>çš„æ‹“å±•ç”¨æ³•:</p><p>ä¾‹å­ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> producer = produce(<span class="function">(<span class="params">draft, arg</span>) =&gt;</span> &#123;</span><br><span class="line">  obj === arg; <span class="comment">// true</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> nextState = producer(currentState, obj);</span><br></pre></td></tr></table></figure></p><p>ç›¸æ¯” produce ç¬¬2ç§ä½¿ç”¨æ–¹å¼çš„ä¾‹å­ï¼Œå¤šå®šä¹‰äº†ä¸€ä¸ª<code>obj</code>å¯¹è±¡ï¼Œå¹¶å°†å…¶ä½œä¸º producer æ–¹æ³•çš„ç¬¬2ä¸ªå‚æ•°ä¼ äº†è¿›å»ï¼›å¯ä»¥çœ‹åˆ°ï¼Œ produce å†…çš„ recipe å›è°ƒå‡½æ•°çš„ç¬¬2ä¸ªå‚æ•°ä¸<code>obj</code>å¯¹è±¡æ˜¯æŒ‡å‘åŒä¸€å—å†…å­˜ã€‚<br>okï¼Œæˆ‘ä»¬åœ¨çŸ¥é“äº† produce çš„è¿™ç§æ‹“å±•ç”¨æ³•åï¼Œçœ‹çœ‹èƒ½å¤Ÿåœ¨ Redux ä¸­å‘æŒ¥ä»€ä¹ˆåŠŸæ•ˆ?</p><h4 id="æ™®é€šreduceræ€æ ·è§£å†³ä¸Šé¢æŠ›å‡ºçš„éœ€æ±‚"><a href="#æ™®é€šreduceræ€æ ·è§£å†³ä¸Šé¢æŠ›å‡ºçš„éœ€æ±‚" class="headerlink" title="æ™®é€šreduceræ€æ ·è§£å†³ä¸Šé¢æŠ›å‡ºçš„éœ€æ±‚"></a>æ™®é€šreduceræ€æ ·è§£å†³ä¸Šé¢æŠ›å‡ºçš„éœ€æ±‚</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'ADD_AGE'</span>:</span><br><span class="line">      <span class="keyword">const</span> &#123; members &#125; = state;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        members: [</span><br><span class="line">          &#123;</span><br><span class="line">            ...members[<span class="number">0</span>],</span><br><span class="line">            age: members[<span class="number">0</span>].age + <span class="number">1</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          ...members.slice(<span class="number">1</span>),</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é›†åˆimmer-reducerå¯ä»¥æ€æ ·å†™"><a href="#é›†åˆimmer-reducerå¯ä»¥æ€æ ·å†™" class="headerlink" title="é›†åˆimmer,reducerå¯ä»¥æ€æ ·å†™"></a>é›†åˆimmer,reducerå¯ä»¥æ€æ ·å†™</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">state, action</span>) =&gt;</span> produce(state, draft =&gt; &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'ADD_AGE'</span>:</span><br><span class="line">      draft.members[<span class="number">0</span>].age++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ produce ï¼Œæˆ‘ä»¬çš„ä»£ç é‡å·²ç»ç²¾ç®€äº†å¾ˆå¤šï¼›<br>ä¸è¿‡ä»”ç»†è§‚å¯Ÿä¸éš¾å‘ç°ï¼Œåˆ©ç”¨ produce èƒ½å¤Ÿå…ˆåˆ¶é€ å‡º producer çš„ç‰¹ç‚¹ï¼Œä»£ç è¿˜èƒ½æ›´ä¼˜é›…ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reducer = produce(<span class="function">(<span class="params">draft, action</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'ADD_AGE'</span>:</span><br><span class="line">      draft.members[<span class="number">0</span>].age++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œè‡³æ­¤ï¼ŒImmer ä¼˜åŒ– reducer çš„æ–¹æ³•ä¹Ÿè®²è§£å®Œæ¯•ã€‚</p><p>Immer çš„ä½¿ç”¨éå¸¸çµæ´»ï¼Œå¤šå¤šæ€è€ƒï¼Œç›¸ä¿¡ä½ è¿˜å¯ä»¥å‘ç° Immer æ›´å¤šå…¶ä»–çš„å¦™ç”¨ï¼</p><h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://github.com/mweststrate/immer" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://hackernoon.com/introducing-immer-immutability-the-easy-way-9d73d8f71cb3" target="_blank" rel="noopener">Introducing Immer: Immutability the easy way</a></li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Immer%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>é¼ æ ‡ç‚¹å‡»çˆ±å¿ƒå’Œå¯Œå¼ºç‰¹æ•ˆ</title>
      <link>http://mydearest.cn/2020/%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%88%B1%E5%BF%83%E5%92%8C%E5%AF%8C%E5%BC%BA%E7%89%B9%E6%95%88.html</link>
      <guid>http://mydearest.cn/2020/%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%88%B1%E5%BF%83%E5%92%8C%E5%AF%8C%E5%BC%BA%E7%89%B9%E6%95%88.html</guid>
      <pubDate>Tue, 07 Apr 2020 15:55:33 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;çˆ±å¿ƒ&quot;&gt;&lt;a href=&quot;#çˆ±å¿ƒ&quot; class=&quot;headerlink&quot; title=&quot;çˆ±å¿ƒ&quot;&gt;&lt;/a&gt;çˆ±å¿ƒ&lt;/h2&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;!&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e, t, a&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;r&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; e = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;; e &amp;lt; s.length; e++) s[e].alpha &amp;lt;= &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; ? (t.body.removeChild(s[e].el), s.splice(e, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)) : (s[e].y--, s[e].scale += &lt;span class=&quot;number&quot;&gt;.004&lt;/span&gt;, s[e].alpha -= &lt;span class=&quot;number&quot;&gt;.013&lt;/span&gt;, s[e].el.style.cssText = &lt;span class=&quot;string&quot;&gt;&quot;left:&quot;&lt;/span&gt; + s[e].x + &lt;span class=&quot;string&quot;&gt;&quot;px;top:&quot;&lt;/span&gt; + s[e].y + &lt;span class=&quot;string&quot;&gt;&quot;px;opacity:&quot;&lt;/span&gt; + s[e].alpha + &lt;span class=&quot;string&quot;&gt;&quot;;transform:scale(&quot;&lt;/span&gt; + s[e].scale + &lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt; + s[e].scale + &lt;span class=&quot;string&quot;&gt;&quot;) rotate(45deg);background:&quot;&lt;/span&gt; + s[e].color + &lt;span class=&quot;string&quot;&gt;&quot;;z-index:99999&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        requestAnimationFrame(r)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;n&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; t = &lt;span class=&quot;string&quot;&gt;&quot;function&quot;&lt;/span&gt; == &lt;span class=&quot;keyword&quot;&gt;typeof&lt;/span&gt; e.onclick &amp;amp;&amp;amp; e.onclick;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        e.onclick = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            t &amp;amp;&amp;amp; t(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            o(e)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;o&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = t.createElement(&lt;span class=&quot;string&quot;&gt;&quot;div&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        a.className = &lt;span class=&quot;string&quot;&gt;&quot;heart&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        s.push(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            el: a,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            x: e.clientX - &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            y: e.clientY - &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            scale: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            alpha: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            color: c()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        t.body.appendChild(a)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;i&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; a = t.createElement(&lt;span class=&quot;string&quot;&gt;&quot;style&quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        a.type = &lt;span class=&quot;string&quot;&gt;&quot;text/css&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            a.appendChild(t.createTextNode(e))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt;(t) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            a.styleSheet.cssText = e&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        t.getElementsByTagName(&lt;span class=&quot;string&quot;&gt;&quot;head&quot;&lt;/span&gt;)[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;].appendChild(a)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;rgb(&quot;&lt;/span&gt; + ~~ (&lt;span class=&quot;number&quot;&gt;255&lt;/span&gt; * &lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.random()) + &lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt; + ~~ (&lt;span class=&quot;number&quot;&gt;255&lt;/span&gt; * &lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.random()) + &lt;span class=&quot;string&quot;&gt;&quot;,&quot;&lt;/span&gt; + ~~ (&lt;span class=&quot;number&quot;&gt;255&lt;/span&gt; * &lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.random()) + &lt;span class=&quot;string&quot;&gt;&quot;)&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; s = [];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame ||&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;e&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        setTimeout(e, &lt;span class=&quot;number&quot;&gt;1e3&lt;/span&gt; / &lt;span class=&quot;number&quot;&gt;60&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    i(&lt;span class=&quot;string&quot;&gt;&quot;.heart&amp;#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&amp;#125;.heart:after,.heart:before&amp;#123;content: &#39;&#39;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&amp;#125;.heart:after&amp;#123;top: -5px;&amp;#125;.heart:before&amp;#123;left: -5px;&amp;#125;&quot;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    n(),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    r()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125; (&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;, &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="çˆ±å¿ƒ"><a href="#çˆ±å¿ƒ" class="headerlink" title="çˆ±å¿ƒ"></a>çˆ±å¿ƒ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span>(<span class="params">e, t, a</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">r</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> e = <span class="number">0</span>; e &lt; s.length; e++) s[e].alpha &lt;= <span class="number">0</span> ? (t.body.removeChild(s[e].el), s.splice(e, <span class="number">1</span>)) : (s[e].y--, s[e].scale += <span class="number">.004</span>, s[e].alpha -= <span class="number">.013</span>, s[e].el.style.cssText = <span class="string">"left:"</span> + s[e].x + <span class="string">"px;top:"</span> + s[e].y + <span class="string">"px;opacity:"</span> + s[e].alpha + <span class="string">";transform:scale("</span> + s[e].scale + <span class="string">","</span> + s[e].scale + <span class="string">") rotate(45deg);background:"</span> + s[e].color + <span class="string">";z-index:99999"</span>);</span><br><span class="line">        requestAnimationFrame(r)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> t = <span class="string">"function"</span> == <span class="keyword">typeof</span> e.onclick &amp;&amp; e.onclick;</span><br><span class="line">        e.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            t &amp;&amp; t(),</span><br><span class="line">            o(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = t.createElement(<span class="string">"div"</span>);</span><br><span class="line">        a.className = <span class="string">"heart"</span>,</span><br><span class="line">        s.push(&#123;</span><br><span class="line">            el: a,</span><br><span class="line">            x: e.clientX - <span class="number">5</span>,</span><br><span class="line">            y: e.clientY - <span class="number">5</span>,</span><br><span class="line">            scale: <span class="number">1</span>,</span><br><span class="line">            alpha: <span class="number">1</span>,</span><br><span class="line">            color: c()</span><br><span class="line">        &#125;),</span><br><span class="line">        t.body.appendChild(a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> a = t.createElement(<span class="string">"style"</span>);</span><br><span class="line">        a.type = <span class="string">"text/css"</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            a.appendChild(t.createTextNode(e))</span><br><span class="line">        &#125; <span class="keyword">catch</span>(t) &#123;</span><br><span class="line">            a.styleSheet.cssText = e</span><br><span class="line">        &#125;</span><br><span class="line">        t.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>].appendChild(a)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span> + ~~ (<span class="number">255</span> * <span class="built_in">Math</span>.random()) + <span class="string">","</span> + ~~ (<span class="number">255</span> * <span class="built_in">Math</span>.random()) + <span class="string">","</span> + ~~ (<span class="number">255</span> * <span class="built_in">Math</span>.random()) + <span class="string">")"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> s = [];</span><br><span class="line">    e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame ||</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        setTimeout(e, <span class="number">1e3</span> / <span class="number">60</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    i(<span class="string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span>),</span><br><span class="line">    n(),</span><br><span class="line">    r()</span><br><span class="line">&#125; (<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br></pre></td></tr></table></figure><hr><a id="more"></a><h2 id="å¯Œå¼º"><a href="#å¯Œå¼º" class="headerlink" title="å¯Œå¼º"></a>å¯Œå¼º</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰è·å–è¯è¯­ä¸‹æ ‡</span></span><br><span class="line"><span class="keyword">var</span> a_idx = <span class="number">0</span>;</span><br><span class="line">jQuery(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//ç‚¹å‡»bodyæ—¶è§¦å‘äº‹ä»¶</span></span><br><span class="line">    $(<span class="string">"body"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//éœ€è¦æ˜¾ç¤ºçš„è¯è¯­</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"å¯Œå¼º"</span>,<span class="string">"æ°‘ä¸»"</span>, <span class="string">"æ–‡æ˜"</span>, <span class="string">"å’Œè°"</span>,<span class="string">"è‡ªç”±"</span>, <span class="string">"å¹³ç­‰"</span>, <span class="string">"å…¬æ­£"</span>,<span class="string">"æ³•æ²»"</span>, <span class="string">"çˆ±å›½"</span>, <span class="string">"æ•¬ä¸š"</span>,<span class="string">"è¯šä¿¡"</span>, <span class="string">"å‹å–„"</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®è¯è¯­ç»™spanæ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">var</span> $i = $(<span class="string">"&lt;span/&gt;"</span>).text(a[a_idx]);</span><br><span class="line">    <span class="comment">//ä¸‹æ ‡ç­‰äºåŸæ¥ä¸‹æ ‡+1  ä½™ è¯è¯­æ€»æ•°</span></span><br><span class="line">    a_idx = (a_idx + <span class="number">1</span>)% a.length;</span><br><span class="line">    <span class="comment">//è·å–é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®ï¼Œåˆ†åˆ«ç›¸å¯¹äºæ–‡æ¡£çš„å·¦å’Œå³è¾¹ç¼˜ã€‚</span></span><br><span class="line">    <span class="comment">//è·å–xå’Œyçš„æŒ‡é’ˆåæ ‡</span></span><br><span class="line">    <span class="keyword">var</span> x = e.pageX, y = e.pageY;</span><br><span class="line">    <span class="comment">//åœ¨é¼ æ ‡çš„æŒ‡é’ˆçš„ä½ç½®ç»™$iå®šä¹‰çš„spanæ ‡ç­¾æ·»åŠ cssæ ·å¼</span></span><br><span class="line">    $i.css(&#123;<span class="string">"z-index"</span> : <span class="number">999999999999999999999999999999999999999999999999999999999999999999999</span>,</span><br><span class="line">        <span class="string">"top"</span> : y - <span class="number">20</span>,</span><br><span class="line">        <span class="string">"left"</span> : x,</span><br><span class="line">        <span class="string">"position"</span> : <span class="string">"absolute"</span>,</span><br><span class="line">        <span class="string">"font-weight"</span> : <span class="string">"bold"</span>,</span><br><span class="line">        <span class="string">"color"</span> : <span class="string">"#ff6651"</span></span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="comment">//åœ¨bodyæ·»åŠ è¿™ä¸ªæ ‡ç­¾</span></span><br><span class="line">    $(<span class="string">"body"</span>).append($i);</span><br><span class="line">        <span class="comment">//animate() æ–¹æ³•æ‰§è¡Œ CSS å±æ€§é›†çš„è‡ªå®šä¹‰åŠ¨ç”»ã€‚</span></span><br><span class="line">        <span class="comment">//è¯¥æ–¹æ³•é€šè¿‡CSSæ ·å¼å°†å…ƒç´ ä»ä¸€ä¸ªçŠ¶æ€æ”¹å˜ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ã€‚CSSå±æ€§å€¼æ˜¯é€æ¸æ”¹å˜çš„ï¼Œè¿™æ ·å°±å¯ä»¥åˆ›å»ºåŠ¨ç”»æ•ˆæœã€‚</span></span><br><span class="line">        <span class="comment">//è¯¦æƒ…è¯·çœ‹http://www.w3school.com.cn/jquery/effect_animate.asp</span></span><br><span class="line">        $i.animate(&#123;</span><br><span class="line">        <span class="comment">//å°†åŸæ¥çš„ä½ç½®å‘ä¸Šç§»åŠ¨180</span></span><br><span class="line">            <span class="string">"top"</span> : y - <span class="number">180</span>,</span><br><span class="line">                <span class="string">"opacity"</span> : <span class="number">0</span></span><br><span class="line">         <span class="comment">//1500åŠ¨ç”»çš„é€Ÿåº¦</span></span><br><span class="line">        &#125;, <span class="number">1500</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//æ—¶é—´åˆ°äº†è‡ªåŠ¨åˆ é™¤</span></span><br><span class="line">            $i.remove();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="åŠ å…¥æ”¶è—"><a href="#åŠ å…¥æ”¶è—" class="headerlink" title="åŠ å…¥æ”¶è—"></a>åŠ å…¥æ”¶è—</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;a href="javascript:void(0)" onclick="shoucang(document.title,window.location)"&gt;åŠ å…¥æ”¶è—&lt;/a&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shoucang</span>(<span class="params">sTitle, sURL</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="built_in">window</span>.external.addFavorite(sURL, sTitle);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="built_in">window</span>.sidebar.addPanel(sTitle, sURL, <span class="string">""</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            alert(<span class="string">"åŠ å…¥æ”¶è—å¤±è´¥ï¼Œè¯·ä½¿ç”¨Ctrl+Dè¿›è¡Œæ·»åŠ "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¾ä¸ºé¦–é¡µ"><a href="#è®¾ä¸ºé¦–é¡µ" class="headerlink" title="è®¾ä¸ºé¦–é¡µ"></a>è®¾ä¸ºé¦–é¡µ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;a href="javascript:void(0)" onclick="SetHome(this,window.location)"&gt;è®¾ä¸ºé¦–é¡µ&lt;/a&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SetHome</span>(<span class="params">obj, vrl</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        obj.style.behavior = <span class="string">'url(#default#homepage)'</span>; obj.setHomePage(vrl);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">window</span>.netscape) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                netscape.security.PrivilegeManager.enablePrivilege(<span class="string">"UniversalXPConnect"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                alert(<span class="string">"æ­¤æ“ä½œè¢«æµè§ˆå™¨æ‹’ç»ï¼\nè¯·åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥â€œabout:configâ€å¹¶å›è½¦\nç„¶åå°† [signed.applets.codebase_principal_support]çš„å€¼è®¾ç½®ä¸º'true',åŒå‡»å³å¯ã€‚"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">var</span> prefs = Components.classes[<span class="string">'@mozilla.org/preferences-service;1'</span>].getService(Components.interfaces.nsIPrefBranch);</span><br><span class="line">            prefs.setCharPref(<span class="string">'browser.startup.homepage'</span>, vrl);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            alert(<span class="string">"æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒï¼Œè¯·æŒ‰ç…§ä¸‹é¢æ­¥éª¤æ“ä½œï¼š1.æ‰“å¼€æµè§ˆå™¨è®¾ç½®ã€‚2.ç‚¹å‡»è®¾ç½®ç½‘é¡µã€‚3.è¾“å…¥ï¼š"</span> + vrl + <span class="string">"ç‚¹å‡»ç¡®å®šã€‚"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å›¾ç‰‡ä¸å­˜åœ¨æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡"><a href="#å›¾ç‰‡ä¸å­˜åœ¨æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡ä¸å­˜åœ¨æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡"></a>å›¾ç‰‡ä¸å­˜åœ¨æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡</h2><ul><li><p>åˆ†æï¼šç‰¹åˆ«æ³¨æ„ onerrorï¼Œå½“å›¾ç‰‡ä¸å­˜åœ¨æ—¶ï¼Œå°†è§¦å‘ onerrorï¼Œè€Œ onerror ä¸­ä¸º img æŒ‡å®šä¸€ä¸ªé»˜è®¤å›¾ç‰‡ã€‚ä¹Ÿå°±æ˜¯è¯´å›¾ç‰‡å­˜åœ¨åˆ™æ˜¾ç¤º pic.gifï¼Œå›¾ç‰‡ä¸å­˜åœ¨å°†æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡ã€‚</p></li><li><p>å­˜åœ¨çš„é—®é¢˜ï¼šå¦‚æœé»˜è®¤å›¾ç‰‡ä¹Ÿä¸å­˜åœ¨ï¼Œåˆ™ç»§ç»­è§¦å‘ onerrorï¼Œå¯¼è‡´å¾ªç¯ï¼Œæ•…å‡ºç°é”™è¯¯ã€‚å¦‚æœå›¾ç‰‡å­˜åœ¨ï¼Œä½†ç½‘ç»œå¾ˆä¸é€šç•…ï¼Œä¹Ÿå¯èƒ½è§¦å‘ onerrorã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">"abc.jpg"</span> Î¿nerrÎ¿r=<span class="string">"nofind()"</span> /&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nofind</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> img=event.srcElement;</span><br><span class="line">  img.src=<span class="string">"def"</span>; <span class="comment">//æ›¿æ¢çš„å›¾ç‰‡</span></span><br><span class="line">  img.Î¿nerrÎ¿r=<span class="literal">null</span>; <span class="comment">//æ§åˆ¶ä¸è¦ä¸€ç›´è§¦å‘é”™è¯¯</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%88%B1%E5%BF%83%E5%92%8C%E5%AF%8C%E5%BC%BA%E7%89%B9%E6%95%88.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å®ç°compose</title>
      <link>http://mydearest.cn/2020/%E5%AE%9E%E7%8E%B0compose.html</link>
      <guid>http://mydearest.cn/2020/%E5%AE%9E%E7%8E%B0compose.html</guid>
      <pubDate>Thu, 02 Apr 2020 15:54:34 GMT</pubDate>
      <description>
      
        &lt;p&gt;å®ç°composeå‡½æ•°çš„äº”ç§æ€è·¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¢å‘è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å‡½æ•°ç»„åˆï¼ˆreduceï¼‰&lt;/li&gt;
&lt;li&gt;å‡½æ•°äº¤ç»‡ï¼ˆAOPç¼–ç¨‹ï¼‰&lt;/li&gt;
&lt;li&gt;Promiseï¼ˆsequenceï¼‰&lt;/li&gt;
&lt;li&gt;Generatorï¼ˆyieldï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å®ç°composeå‡½æ•°çš„äº”ç§æ€è·¯</p><ul><li>é¢å‘è¿‡ç¨‹</li><li>å‡½æ•°ç»„åˆï¼ˆreduceï¼‰</li><li>å‡½æ•°äº¤ç»‡ï¼ˆAOPç¼–ç¨‹ï¼‰</li><li>Promiseï¼ˆsequenceï¼‰</li><li>Generatorï¼ˆyieldï¼‰</li></ul><hr><a id="more"></a><h2 id="ä»€ä¹ˆæ˜¯compose"><a href="#ä»€ä¹ˆæ˜¯compose" class="headerlink" title="ä»€ä¹ˆæ˜¯compose"></a>ä»€ä¹ˆæ˜¯compose</h2><p>composeå°±æ˜¯æ‰§è¡Œä¸€ç³»åˆ—çš„ä»»åŠ¡ï¼ˆå‡½æ•°ï¼‰ï¼Œæ¯”å¦‚æœ‰ä»¥ä¸‹ä»»åŠ¡é˜Ÿåˆ—ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tasks = [step1, step2, step3, step4]</span><br></pre></td></tr></table></figure></p><p>æ¯ä¸€ä¸ªstepéƒ½æ˜¯ä¸€ä¸ªæ­¥éª¤ï¼ŒæŒ‰ç…§æ­¥éª¤ä¸€æ­¥ä¸€æ­¥çš„æ‰§è¡Œåˆ°ç»“å°¾ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªcomposeã€‚</p><ul><li>ç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯å¤šå…ƒçš„ï¼ˆæ¥å—å¤šä¸ªå‚æ•°ï¼‰ï¼Œåé¢çš„å‡½æ•°éƒ½æ˜¯å•å…ƒçš„ï¼ˆæ¥å—ä¸€ä¸ªå‚æ•°ï¼‰</li><li>æ‰§è¡Œé¡ºåºçš„è‡ªå³å‘å·¦çš„</li><li>æ‰€æœ‰å‡½æ•°çš„æ‰§è¡Œéƒ½æ˜¯åŒæ­¥çš„ï¼ˆå¼‚æ­¥çš„åé¢æ–‡ç« ä¼šè®²åˆ°ï¼‰</li></ul><p>ä¸¾ä¸ªä¾‹å­:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> init = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.reduce(<span class="function">(<span class="params">ele1, ele2</span>) =&gt;</span> ele1 + ele2, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">let</span> step2 = <span class="function">(<span class="params">val</span>) =&gt;</span> val + <span class="number">2</span></span><br><span class="line"><span class="keyword">let</span> step3 = <span class="function">(<span class="params">val</span>) =&gt;</span> val + <span class="number">3</span></span><br><span class="line"><span class="keyword">let</span> step4 = <span class="function">(<span class="params">val</span>) =&gt;</span> val + <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»„æˆä»»åŠ¡é˜Ÿåˆ—</span></span><br><span class="line">steps = [step4, step3, step2, init]</span><br><span class="line"><span class="comment">// ä½¿ç”¨composeç»„åˆè¿™ä¸ªé˜Ÿåˆ—å¹¶æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">let</span> composeFunc = compose(...steps)</span><br><span class="line"><span class="built_in">console</span>.log(composeFunc(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>))</span><br></pre></td></tr></table></figure></p><p>æ‰§è¡Œè¿‡ç¨‹</p><blockquote><p>6 -&gt; 6 + 2 = 8 -&gt; 8 + 3 = 11 -&gt; 11 + 4 = 15</p></blockquote><p>æ‰€ä»¥æµç¨‹å°±æ˜¯ä»initè‡ªå³åˆ°å·¦ä¾æ¬¡æ‰§è¡Œï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡çš„å‚æ•°æ˜¯ä¸Šä¸€ä¸ªä»»åŠ¡çš„è¿”å›ç»“æœï¼Œå¹¶ä¸”ä»»åŠ¡éƒ½æ˜¯åŒæ­¥çš„ï¼Œè¿™æ ·å°±èƒ½ä¿è¯ä»»åŠ¡å¯ä»¥æŒ‰ç…§æœ‰åºçš„æ–¹å‘å’Œæœ‰åºçš„æ—¶é—´æ‰§è¡Œã€‚</p><h2 id="å®ç°composeçš„äº”ç§æ€è·¯"><a href="#å®ç°composeçš„äº”ç§æ€è·¯" class="headerlink" title="å®ç°composeçš„äº”ç§æ€è·¯"></a>å®ç°composeçš„äº”ç§æ€è·¯</h2><h3 id="é¢å‘è¿‡ç¨‹"><a href="#é¢å‘è¿‡ç¨‹" class="headerlink" title="é¢å‘è¿‡ç¨‹"></a>é¢å‘è¿‡ç¨‹</h3><p>è¿™ä¸ªæ€è·¯å°±æ˜¯ä½¿ç”¨é€’å½’çš„è¿‡ç¨‹æ€æƒ³ï¼Œä¸æ–­çš„æ£€æµ‹é˜Ÿåˆ—ä¸­æ˜¯å¦è¿˜æœ‰ä»»åŠ¡ï¼Œå¦‚æœæœ‰ä»»åŠ¡å°±æ‰§è¡Œï¼Œå¹¶æŠŠæ‰§è¡Œç»“æœå¾€åä¼ é€’ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå±€éƒ¨çš„æ€ç»´ï¼Œæ— æ³•é¢„çŸ¥ä»»åŠ¡ä½•æ—¶ç»“æŸã€‚ç›´è§‚ä¸Šæœ€å®¹æ˜“ç»“æŸå’Œç†è§£ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compose = <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> length = args.length</span><br><span class="line">  <span class="keyword">let</span> count = length - <span class="number">1</span></span><br><span class="line">  <span class="keyword">let</span> result</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">f1</span> (<span class="params">...arg1</span>) </span>&#123;</span><br><span class="line">    result = args[count].apply(<span class="keyword">this</span>, arg1)</span><br><span class="line">    <span class="keyword">if</span> (count &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      count = length - <span class="number">1</span></span><br><span class="line">      <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">    count--</span><br><span class="line">    <span class="keyword">return</span> f1.call(<span class="literal">null</span>, result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°ç»„åˆ"><a href="#å‡½æ•°ç»„åˆ" class="headerlink" title="å‡½æ•°ç»„åˆ"></a>å‡½æ•°ç»„åˆ</h3><p>è¿™ä¸ªæ€è·¯æ˜¯ä¸€ç§å‡½æ•°ç»„åˆçš„æ€æƒ³ï¼Œå°†å‡½æ•°ä¸¤ä¸¤ç»„åˆï¼Œä¸æ–­çš„ç”Ÿæˆæ–°çš„å‡½æ•°ï¼Œç”Ÿæˆçš„æ–°å‡½æ•°æŒŸè£¹äº†å‡½æ•°æ‰§è¡Œçš„é€»è¾‘ä¿¡æ¯ï¼Œç„¶åå†ä¸¤ä¸¤ç»„åˆï¼Œä¸æ–­çš„ä¼ é€’ä¸‹å»ï¼Œè¿™ç§æ€è·¯å¯ä»¥æå‰éå†æ‰€æœ‰ä»»åŠ¡ï¼Œå°†ä»»åŠ¡ç»„åˆæˆä¸€ä¸ªå¯ä»¥å±•å¼€çš„ç»„åˆç»“æ„ï¼Œæœ€åæ‰§è¡Œçš„æ—¶å€™å°±åƒæ¨å¯¼å¤šç±³è¯ºéª¨ç‰Œä¸€æ ·ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„åˆè¿‡ç¨‹</span></span><br><span class="line">f1 = <span class="function">(<span class="params">...arg</span>) =&gt;</span> step2.call(<span class="literal">null</span>, init.apply(<span class="literal">null</span>, arg))</span><br><span class="line">f2 = <span class="function">(<span class="params">...arg</span>) =&gt;</span> step3.call(<span class="literal">null</span>, f1.apply(<span class="literal">null</span>, arg))</span><br><span class="line">f3 = <span class="function">(<span class="params">...arg</span>) =&gt;</span> step4.call(<span class="literal">null</span>, f2.apply(<span class="literal">null</span>, arg))</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°</span></span><br><span class="line"><span class="keyword">const</span> _pipe = <span class="function">(<span class="params">f, g</span>) =&gt;</span> (...arg) =&gt; g.call(<span class="literal">null</span>, f.apply(<span class="literal">null</span>, arg))</span><br><span class="line"><span class="keyword">const</span> compose = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.reverse().reduce(_pipe, args.shift())</span><br></pre></td></tr></table></figure></p><h3 id="å‡½æ•°äº¤ç»‡ï¼ˆAOPï¼‰"><a href="#å‡½æ•°äº¤ç»‡ï¼ˆAOPï¼‰" class="headerlink" title="å‡½æ•°äº¤ç»‡ï¼ˆAOPï¼‰"></a>å‡½æ•°äº¤ç»‡ï¼ˆAOPï¼‰</h3><p>è¿™ä¸ªå®ç°çš„çµæ„Ÿæ¥è‡ªjavascriptè®¾è®¡æ¨¡å¼ä¸­çš„é«˜é˜¶å‡½æ•°ï¼Œå› ä¸ºcomposeçš„ä»»åŠ¡åœ¨æœ¬è´¨ä¸Šå°±æ˜¯å‡½æ•°æ‰§è¡Œï¼Œå†åŠ ä¸Šé¡ºåºï¼Œæ‰€ä»¥å¯ä»¥æŠŠå®ç°é¡ºåºæ‰§è¡Œæ”¾åˆ°å‡½æ•°æœ¬èº«ï¼Œå¯¹å‡½æ•°çš„åŸå‹è¿›è¡Œæ–¹æ³•çš„ç»‘å®šã€‚æ–¹æ³•çš„ä½œç”¨å¯¹è±¡æ˜¯å‡½æ•°ï¼Œé¢å‘å¯¹è±¡å°è£…çš„æ•°æ®ï¼Œé¢å‘å‡½æ•°å°è£…çš„æ˜¯å‡½æ•°çš„è¡Œä¸ºã€‚</p><p>éœ€è¦å¯¹å‡½æ•°ç»‘å®šä¸¤ä¸ªè¡Œä¸º before å’Œ afterï¼Œbeforeæ‰§è¡Œå‡½æ•°å¤šå…ƒéƒ¨åˆ†ï¼ˆå¯åŠ¨ï¼‰ï¼Œafteræ‰§è¡Œå‡½æ•°å•å…ƒéƒ¨åˆ†ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.before = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = fn.apply(<span class="literal">null</span>, args)</span><br><span class="line">    <span class="keyword">return</span> self.call(<span class="literal">null</span>, result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Function</span>.prototype.after = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = self.apply(<span class="literal">null</span>, args)</span><br><span class="line">    <span class="keyword">return</span> fn.call(<span class="literal">null</span>, result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œå¯¹å‡½æ•°è¿›è¡Œæ–¹æ³•çš„ç»‘å®šï¼Œè¿”å›çš„æ˜¯å¸¦ç€å‡½æ•°æ‰§è¡Œçš„è§„åˆ™çš„å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™é‡Œæ˜¯æ¬¡åºçš„æ’åˆ—è§„åˆ™ï¼Œå¯¹è¿”å›çš„å‡½æ•°ä¾ç„¶å¯ä»¥è¿›è¡Œé“¾å¼è°ƒç”¨ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// composeå®ç°</span></span><br><span class="line"><span class="keyword">const</span> compose = <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> before = args.pop()</span><br><span class="line">  <span class="keyword">let</span> start = args.pop()</span><br><span class="line">  <span class="keyword">if</span> (args.length) &#123;</span><br><span class="line">    <span class="keyword">return</span> args.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">f1, f2</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> f1.after(f2)</span><br><span class="line">    &#125;, start.before(before))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> start.before(before)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œè¿‡ç¨‹</span></span><br><span class="line"><span class="keyword">const</span> compose = <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> before = args.pop()</span><br><span class="line">  <span class="keyword">let</span> start = args.pop()</span><br><span class="line">  <span class="keyword">if</span> (args.length) &#123;</span><br><span class="line">    <span class="keyword">return</span> args.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">f1, f2</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> f1.after(f2)</span><br><span class="line">    &#125;, start.before(before))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> start.before(before)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p>ES6å¼•å…¥äº†Promiseï¼ŒPromiseå¯ä»¥æŒ‡å®šä¸€ä¸ªsequenceï¼Œæ¥è§„å®šä¸€ä¸ªæ‰§è¡Œthençš„è¿‡ç¨‹ï¼Œthenå‡½æ•°ä¼šç­‰åˆ°æ‰§è¡Œå®Œæˆåï¼Œå†æ‰§è¡Œä¸‹ä¸€ä¸ªthençš„å¤„ç†ã€‚å¯åŠ¨sequenceå¯ä»¥ä½¿ç”¨Promise.resolve()è¿™ä¸ªå‡½æ•°ã€‚æ„å»ºsequenceå¯ä»¥ä½¿ç”¨reduceã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compose = <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> init = args.pop()</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...arg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> args.reverse().reduce(<span class="function"><span class="keyword">function</span>(<span class="params">sequence, func</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> sequence.then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> func.call(<span class="literal">null</span>, result)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;, <span class="built_in">Promise</span>.resolve(init.apply(<span class="literal">null</span>, arg)))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h3><p>Generatorä¸»è¦ä½¿ç”¨yieldæ¥æ„å»ºåç¨‹ï¼Œé‡‡ç”¨ä¸­æ–­ï¼Œå¤„ç†ï¼Œå†ä¸­æ–­çš„æµç¨‹ã€‚å¯ä»¥äº‹å…ˆè§„å®šå¥½åç¨‹çš„æ‰§è¡Œé¡ºåºï¼Œç„¶åå†ä¸‹æ¬¡å¤„ç†çš„æ—¶å€™è¿›è¡Œå‚æ•°ï¼ˆç»“æœï¼‰äº¤æ¥ï¼Œæœ‰ä¸€ç‚¹è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºæ‰§è¡Œçš„ç¬¬ä¸€ä¸ªnextæ˜¯ä¸èƒ½ä¼ é€’å‚æ•°çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ï¼Œå†ç©ºè€—ä¸€ä¸ªnextï¼Œåé¢çš„å°±å¯ä»¥åŒæ­¥æ‰§è¡Œäº†ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ„å»ºgenerator</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">iterateSteps</span>(<span class="params">steps</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> n</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; steps.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (n) &#123;</span><br><span class="line">      n = <span class="keyword">yield</span> steps[i].call(<span class="literal">null</span>, n)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      n = <span class="keyword">yield</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°compose</span></span><br><span class="line"><span class="keyword">const</span> compose = <span class="function"><span class="keyword">function</span>(<span class="params">...steps</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> g = iterateSteps(steps)</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> val = steps.pop().apply(<span class="literal">null</span>, args)</span><br><span class="line">    <span class="comment">// è¿™é‡Œæ˜¯ç¬¬ä¸€ä¸ªå€¼</span></span><br><span class="line">    <span class="built_in">console</span>.log(val)</span><br><span class="line">    <span class="comment">// å› ä¸ºæ— æ³•ä¼ å‚æ•° æ‰€ä»¥æ— æ‰€è°“æ‰§è¡Œ å°±æ˜¯ç©ºè€—ä¸€ä¸ªyield</span></span><br><span class="line">    g.next()</span><br><span class="line">    <span class="keyword">return</span> steps.reverse.reduce(<span class="function">(<span class="params">val, val1</span>) =&gt;</span> g.next(val).value, val)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%AE%9E%E7%8E%B0compose.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>é¢è¯•ç»éªŒåˆ†äº«</title>
      <link>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB.html</link>
      <guid>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB.html</guid>
      <pubDate>Sun, 29 Mar 2020 18:21:33 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;é¢è¯•æµç¨‹&quot;&gt;&lt;a href=&quot;#é¢è¯•æµç¨‹&quot; class=&quot;headerlink&quot; title=&quot;é¢è¯•æµç¨‹&quot;&gt;&lt;/a&gt;é¢è¯•æµç¨‹&lt;/h2&gt;&lt;p&gt;å¤§å…¬å¸é¢è¯•æ— è®ºæ˜¯å®ä¹ è¿˜æ˜¯æ ¡æ‹›ï¼Œæ™®éå­˜åœ¨é¢è¯•è½®æ¬¡å¤šï¼Œé¢è¯•å‘¨æœŸé•¿çš„ç‰¹ç‚¹ï¼Œå°±æ‹¿è…¾è®¯æ¥è¯´ï¼Œå¦‚æœä½ æƒ³æˆä¸ºæš‘æœŸå®ä¹ ç”Ÿï¼Œå¤§æ¦‚éœ€è¦å››åˆ°äº”è½®é¢è¯•ï¼Œ3-4 è½®æŠ€æœ¯é¢+ä¸€è½® HR é¢è¯•ï¼Œæ¯æ¬¡é¢è¯•æ—¶é—´å¤§æ¦‚åœ¨ 0.5-1 å°æ—¶ä¹‹é—´ï¼Œæ¨èå¯¹è‡ªå·±èƒ½åŠ›æ²¡æœ‰æŠŠæ¡æˆ–è€…ç¼ºå°‘å·¥ä½œç»éªŒçš„åŒå­¦å°½å¯èƒ½åœ¨å¤§ä¸‰ä¸‹å­¦æœŸæ‰¾æ‰¾å®ä¹ ï¼Œå»è‡ªå·±æƒ³å»çš„å…¬å¸å®ä¹ ï¼Œå› ä¸ºå¤§ä¸‰çš„æš‘æœŸå®ä¹ æ—¢å¯ä»¥ä¸°å¯Œä½ çš„å±¥å†ï¼Œå¹¶ä¸”å®ä¹ æœŸé—´å¥½å¥½è¡¨ç°éƒ½æ˜¯å¯ä»¥ç›¸å¯¹å®¹æ˜“åœ°é€šè¿‡è½¬æ­£ï¼Œæ‹¿åˆ°æ ¡æ‹› offerã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç”³è¯·å®ä¹ æˆ–è€…æ ¡æ‹› offer çš„æ—¶å€™ï¼Œå°½å¯èƒ½å¤šæ‰¾äººå¸®å¿™å†…æ¨ï¼Œå› ä¸ºå¤§å…¬å¸éƒ¨é—¨æ¯”è¾ƒå¤šï¼Œä½ å¦‚æœç›´æ¥ä»å®˜ç½‘ä¸Šç½‘ç”³çš„è¯ï¼Œç®€å†ä¸å®¹æ˜“è¢«äººæŸ¥çœ‹ï¼Œæ‰¾è®¤è¯†çš„å¸ˆå…„å¸ˆå§å¸®å¿™å†…æ¨çš„ä¼˜åŠ¿åœ¨äºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;èƒ½å¤Ÿæ›´æœ‰æ•ˆå¢åŠ ä½ çš„ç®€å†çš„æ›å…‰ï¼Œè®©éƒ¨é—¨ä¸»ç®¡èƒ½å¤Ÿç›´æ¥æŸ¥é˜…åˆ°ä½ çš„ç®€å†&lt;/li&gt;
&lt;li&gt;åŠ å¿«é¢è¯•è¿›åº¦ï¼Œè”ç³»å¸ˆå…„å¸ˆå§æå‰çŸ¥é“é¢è¯•ç»“æœ&lt;/li&gt;
&lt;li&gt;å†…æ¨æˆ–è€…ç½‘ç”³(å¯èƒ½æœ‰ç¬”è¯•)å®Œä¹‹åï¼Œå°±ç­‰å¾…é¢è¯•å®˜æ‰“ç”µè¯ç»™ä½ ï¼Œä¸€èˆ¬ä»–ä»¬ä¼šè·Ÿä½ é€šè¿‡ç”µè¯æˆ–è€…çŸ­ä¿¡ç¡®è®¤ç°åœ¨æ˜¯å¦æ–¹ä¾¿æˆ–è€…çº¦ä¸ªæ—¶é—´è¿›è¡Œé¢è¯•ï¼Œé¢è¯•çš„æ–¹å¼ä¹Ÿåˆ†ä¸ºç”µè¯é¢è¯•ï¼Œè§†é¢‘é¢è¯•ï¼Œç°åœºé¢è¯•ç­‰ç­‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="é¢è¯•æµç¨‹"><a href="#é¢è¯•æµç¨‹" class="headerlink" title="é¢è¯•æµç¨‹"></a>é¢è¯•æµç¨‹</h2><p>å¤§å…¬å¸é¢è¯•æ— è®ºæ˜¯å®ä¹ è¿˜æ˜¯æ ¡æ‹›ï¼Œæ™®éå­˜åœ¨é¢è¯•è½®æ¬¡å¤šï¼Œé¢è¯•å‘¨æœŸé•¿çš„ç‰¹ç‚¹ï¼Œå°±æ‹¿è…¾è®¯æ¥è¯´ï¼Œå¦‚æœä½ æƒ³æˆä¸ºæš‘æœŸå®ä¹ ç”Ÿï¼Œå¤§æ¦‚éœ€è¦å››åˆ°äº”è½®é¢è¯•ï¼Œ3-4 è½®æŠ€æœ¯é¢+ä¸€è½® HR é¢è¯•ï¼Œæ¯æ¬¡é¢è¯•æ—¶é—´å¤§æ¦‚åœ¨ 0.5-1 å°æ—¶ä¹‹é—´ï¼Œæ¨èå¯¹è‡ªå·±èƒ½åŠ›æ²¡æœ‰æŠŠæ¡æˆ–è€…ç¼ºå°‘å·¥ä½œç»éªŒçš„åŒå­¦å°½å¯èƒ½åœ¨å¤§ä¸‰ä¸‹å­¦æœŸæ‰¾æ‰¾å®ä¹ ï¼Œå»è‡ªå·±æƒ³å»çš„å…¬å¸å®ä¹ ï¼Œå› ä¸ºå¤§ä¸‰çš„æš‘æœŸå®ä¹ æ—¢å¯ä»¥ä¸°å¯Œä½ çš„å±¥å†ï¼Œå¹¶ä¸”å®ä¹ æœŸé—´å¥½å¥½è¡¨ç°éƒ½æ˜¯å¯ä»¥ç›¸å¯¹å®¹æ˜“åœ°é€šè¿‡è½¬æ­£ï¼Œæ‹¿åˆ°æ ¡æ‹› offerã€‚</p><p>åœ¨ç”³è¯·å®ä¹ æˆ–è€…æ ¡æ‹› offer çš„æ—¶å€™ï¼Œå°½å¯èƒ½å¤šæ‰¾äººå¸®å¿™å†…æ¨ï¼Œå› ä¸ºå¤§å…¬å¸éƒ¨é—¨æ¯”è¾ƒå¤šï¼Œä½ å¦‚æœç›´æ¥ä»å®˜ç½‘ä¸Šç½‘ç”³çš„è¯ï¼Œç®€å†ä¸å®¹æ˜“è¢«äººæŸ¥çœ‹ï¼Œæ‰¾è®¤è¯†çš„å¸ˆå…„å¸ˆå§å¸®å¿™å†…æ¨çš„ä¼˜åŠ¿åœ¨äºï¼š</p><ol><li>èƒ½å¤Ÿæ›´æœ‰æ•ˆå¢åŠ ä½ çš„ç®€å†çš„æ›å…‰ï¼Œè®©éƒ¨é—¨ä¸»ç®¡èƒ½å¤Ÿç›´æ¥æŸ¥é˜…åˆ°ä½ çš„ç®€å†</li><li>åŠ å¿«é¢è¯•è¿›åº¦ï¼Œè”ç³»å¸ˆå…„å¸ˆå§æå‰çŸ¥é“é¢è¯•ç»“æœ</li><li>å†…æ¨æˆ–è€…ç½‘ç”³(å¯èƒ½æœ‰ç¬”è¯•)å®Œä¹‹åï¼Œå°±ç­‰å¾…é¢è¯•å®˜æ‰“ç”µè¯ç»™ä½ ï¼Œä¸€èˆ¬ä»–ä»¬ä¼šè·Ÿä½ é€šè¿‡ç”µè¯æˆ–è€…çŸ­ä¿¡ç¡®è®¤ç°åœ¨æ˜¯å¦æ–¹ä¾¿æˆ–è€…çº¦ä¸ªæ—¶é—´è¿›è¡Œé¢è¯•ï¼Œé¢è¯•çš„æ–¹å¼ä¹Ÿåˆ†ä¸ºç”µè¯é¢è¯•ï¼Œè§†é¢‘é¢è¯•ï¼Œç°åœºé¢è¯•ç­‰ç­‰ã€‚</li></ol><hr><a id="more"></a><p>æ— è®ºæ˜¯å“ªç§ç±»å‹çš„é¢è¯•ï¼Œå†…å®¹å¤§è‡´ä¸Šéƒ½æ˜¯ä¸€è‡´çš„(é™¤äº†ç°åœºé¢è¯•å¯èƒ½è¦æ±‚ä½ æ‰‹å†™ä»£ç å¤–)ï¼Œæˆ‘å°†ä¸“ä¸šæŠ€èƒ½é¢è¯•åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>è‡ªæˆ‘ä»‹ç»</li><li>è®¡ç®—æœºåŸºç¡€çŸ¥è¯†</li><li>å‰ç«¯çŸ¥è¯†</li><li>é¢è¯•è€…æé—®ç¯èŠ‚</li></ol><h3 id="è‡ªæˆ‘ä»‹ç»"><a href="#è‡ªæˆ‘ä»‹ç»" class="headerlink" title="è‡ªæˆ‘ä»‹ç»"></a>è‡ªæˆ‘ä»‹ç»</h3><p>é¦–å…ˆæ˜¯è‡ªæˆ‘ä»‹ç»ï¼Œé¢è¯•å‰æœ€å¥½èƒ½å¤Ÿå‡†å¤‡ä¸€æ®µä¸å°‘äº 30 ç§’çš„è‡ªæˆ‘ä»‹ç»å¹¶å¯¹ç€é•œå­åå¤ç»ƒä¹ ï¼Œå¯ä»¥ä»‹ç»ä»‹ç»ä½ çš„åå­—ï¼Œå­¦æ ¡ï¼Œä¸“ä¸šï¼Œå¯¹ä½ æŠ•é€’å²—ä½çš„ç†è§£ç­‰ç­‰ï¼Œåœ¨é¢è¯•è¿‡ç¨‹ä¸­å°½å¯èƒ½æµåˆ©åœ°å™è¿°ï¼Œè€Œä¸æ˜¯ä»‹ç»æ—¶ç£•ç£•ç¢°ç¢°ï¼Œç»™é¢è¯•å®˜ç•™ä¸‹ä¸å¥½çš„å°è±¡ã€‚</p><h3 id="è®¡ç®—æœºåŸºç¡€çŸ¥è¯†"><a href="#è®¡ç®—æœºåŸºç¡€çŸ¥è¯†" class="headerlink" title="è®¡ç®—æœºåŸºç¡€çŸ¥è¯†"></a>è®¡ç®—æœºåŸºç¡€çŸ¥è¯†</h3><p>ç¬¬äºŒéƒ¨åˆ†æ˜¯è®¡ç®—æœºåŸºç¡€çŸ¥è¯†ï¼Œå¯¹äºåº”å±Šç”Ÿæ¥è¯´ï¼Œé¢è¯•å®˜æ— éå–œæ¬¢è€ƒå¯Ÿè®¡ç®—æœºç½‘ç»œï¼Œæ“ä½œç³»ç»Ÿï¼Œæ•°æ®ç»“æ„ä¸ç®—æ³•è¿™ä¸‰å¤§ç±»ã€‚å½“ç„¶æ ¹æ®ä½ åº”è˜çš„å²—ä½æœ‰æ‰€ä¸åŒï¼Œå¦‚æœä½ æ˜¯åº”è˜ä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œè€ƒå¯Ÿç½‘ç»œçš„çŸ¥è¯†ç›¸å¯¹è¾ƒå¤šï¼Œå¯¹äºæ“ä½œç³»ç»Ÿã€æ•°æ®ç»“æ„å’Œç®—æ³•çš„è€ƒå¯Ÿä¼šç›¸å¯¹è¾ƒå°‘ï¼Œå¦‚æœä½ æ˜¯åº”è˜ä¸€ä¸ªåç«¯å·¥ç¨‹å¸ˆçš„è¯ï¼Œé‚£ä¹ˆæ¶‰åŠåˆ°æ“ä½œç³»ç»Ÿçš„çŸ¥è¯†è‚¯å®šä¼šç›¸å¯¹æ›´å¤šã€‚åŒç†ç®—æ³•å·¥ç¨‹å¸ˆå°±ä¼šæ¶‰åŠåˆ°æ›´å¤šæ•°æ®ç»“æ„å’Œç®—æ³•çš„çŸ¥è¯†ã€‚</p><p>é¢è¯•ç½‘ç»œçŸ¥è¯†çš„è¯ï¼Œå¯ä»¥å¤šå‡†å¤‡ HTTP/TCP ç›¸å…³çš„çŸ¥è¯†ï¼Œæ¯”å¦‚æˆ‘å°±å¸¸è¢«é—®åˆ°ï¼š</p><blockquote><p>HTTP çŠ¶æ€ç ï¼Œä»æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªç½‘å€èƒŒåéƒ½ç»å†äº†ä»€ä¹ˆTCP ä¸ UDP çš„åŒºåˆ«ï¼Œä¸ºä»€ä¹ˆ TCP éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹ç­‰ç­‰</p></blockquote><h3 id="å‰ç«¯çŸ¥è¯†"><a href="#å‰ç«¯çŸ¥è¯†" class="headerlink" title="å‰ç«¯çŸ¥è¯†"></a>å‰ç«¯çŸ¥è¯†</h3><p>ç¬¬ä¸‰å¤§å—ä¹Ÿå°±æ˜¯ä½ åº”è˜çš„å²—ä½ç›¸å…³çš„çŸ¥è¯†å†…å®¹äº†ï¼Œæ¯”å¦‚æ‹¿å‰ç«¯æ¥è¯´ï¼Œä¸€èˆ¬å‰ç«¯çŸ¥è¯†å¯ä»¥åˆ†ä¸ºä¸‰å¤§å—ï¼šè¯­è¨€åŸºç¡€ï¼Œæ¡†æ¶ä»¥åŠå®è·µã€‚</p><p>è¯­è¨€åŸºç¡€ä¸€èˆ¬ä¼šè€ƒå¯Ÿä½ å¯¹ JS è¯­è¨€æœ¬èº«çš„ç†è§£ï¼Œæ¯”å¦‚è¯´ï¼šé—­åŒ…ï¼Œç»§æ‰¿ï¼Œä½œç”¨åŸŸï¼Œthis ç”¨æ³•ï¼ŒES6 è¯­æ³•ç­‰ç­‰ï¼Œä¹Ÿä¼šé—®ä½ å…³äº HTML/CSS çš„åŸºç¡€çŸ¥è¯†ã€‚</p><p>æ¡†æ¶çš„è¯ä¸ä»…ä»…æ˜¯å±€é™äºè€ƒå¯Ÿå¯¹æ¡†æ¶çš„ç”¨æ³•ï¼Œä¸€èˆ¬æ˜¯ç»“åˆä½ çš„ç®€å†å†…å®¹æ¥è¿›è¡Œæé—®ï¼Œæ¯”å¦‚ä½ åœ¨ç®€å†ä¸Šå†™ä½ ç†Ÿæ‚‰ Reactï¼Œé¢è¯•å®˜å¯èƒ½å°±ä¼šé—®ä½  virtual-dom æ˜¯æ€ä¹ˆå®ç°çš„ï¼ŒRedux è®¾è®¡æ€æƒ³ç­‰ç­‰ï¼Œå¦‚æœä½ ç®€å†ä¸Šå†™ç†Ÿæ‚‰ Vueï¼Œé‚£å¯èƒ½å°±ä¼šé—®ä½ æ•°æ®åŒå‘ç»‘å®šæ˜¯æ€ä¹ˆå®ç°çš„ç­‰ç­‰ã€‚</p><p>è¿˜æœ‰å°±æ˜¯ä½ çš„å®è·µéƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†é¢è¯•å®˜ä¼šç»“åˆä½ çš„ç®€å†æåˆ°çš„ä¸€äº›ç»å†ï¼Œæ¯”å¦‚ä½ æœ‰ä»€ä¹ˆå®ä¹ ç»å†é˜¿ï¼Œæˆ–è€…åœ¨å­¦æ ¡åšè¿‡ä»€ä¹ˆé¡¹ç›®æ¥è¿›è¡Œæé—®ã€‚å¯èƒ½ä¼šåƒè¿™æ ·é—®ä½ ï¼š</p><blockquote><p>ä½ åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼ˆæˆ–è€…å®ä¹ ç»å†ï¼‰é‡åˆ°æœ€å¤§çš„æŒ‘æˆ˜(éš¾é¢˜)æ˜¯ä»€ä¹ˆï¼Œä½ æ€ä¹ˆè§£å†³çš„ä½ åœ¨é¡¹ç›®å¼€å‘çš„è¿‡ç¨‹ä¸­è¿ç”¨äº†ä»€ä¹ˆæŠ€æœ¯ï¼Œä¸ºä»€ä¹ˆä¼šä½¿ç”¨åˆ°è¿™äº›æŠ€æœ¯ç­‰ç­‰</p></blockquote><h3 id="é¢è¯•è€…æé—®ç¯èŠ‚"><a href="#é¢è¯•è€…æé—®ç¯èŠ‚" class="headerlink" title="é¢è¯•è€…æé—®ç¯èŠ‚"></a>é¢è¯•è€…æé—®ç¯èŠ‚</h3><p>ä¸€èˆ¬é¢è¯•ç»“æŸåé¢è¯•å®˜éƒ½ä¼šé—®ä½ ï¼Œè¿˜æœ‰ä»€ä¹ˆé—®é¢˜æƒ³é—®æˆ‘ï¼Œè¿™æ—¶å€™ä½ å¯ä»¥å°±ä½ æ„Ÿå…´è¶£çš„å†…å®¹è¿›è¡Œæé—®ï¼Œæ¯”å¦‚æˆ‘ä¸€èˆ¬å°±ä¼šé—®ä¸‹é¢ç±»å‹çš„é—®é¢˜ï¼š</p><ol><li>å¦‚æœæˆ‘æœ‰å¹¸è¢«å½•ç”¨äº†ï¼Œæˆ‘ä¼šä»äº‹ä»€ä¹ˆæ ·çš„å·¥ä½œå†…å®¹</li><li>å›¢é˜Ÿç»„ç»‡ç»“æ„æ˜¯æ€ä¹ˆæ ·çš„ï¼Œä¸»è¦è´Ÿè´£ä»€ä¹ˆæ ·çš„äº§å“</li><li>å·¥ä½œå¹³æ—¶åŠ ç­å¤šå—ï¼Œä¸€èˆ¬å‡ ç‚¹ä¸‹ç­</li><li>å°±åˆšæ‰çš„é¢è¯•æ¥çœ‹ï¼Œä½ è§‰å¾—æˆ‘æœ‰ä»€ä¹ˆä¸è¶³ä¹‹å¤„è¿™å°±æ˜¯æ ‡å‡†çš„é¢è¯•è¿‡ç¨‹ï¼Œé¢è¯•ç»“æŸåå¦‚æœä½ é€šè¿‡é¢è¯•çš„è¯ï¼Œä¸€èˆ¬ä¸€å‘¨å†…ä¼šç»™ç­”å¤æˆ–è€…è¿›è¡Œä¸‹ä¸€è½®é¢è¯•ã€‚</li></ol><p>æœ€åéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œå…¬å¸é¢è¯•å‘¨æœŸä¸€èˆ¬éƒ½ä¼šæ¯”è¾ƒé•¿ï¼Œå¯èƒ½ä½ ä»äºŒæœˆåº•å¼€å§‹é¢è¯•ï¼Œåˆ°äº†å››æœˆä»½ä½ æ‰ä¼šæ”¶åˆ° offerï¼Œæ‰€ä»¥ä½ åº”è¯¥å¤šæŠ•æŠ•å‡ å®¶å…¬å¸ï¼Œä¸è¦åœ¨ä¸€æ£µæ ‘ä¸ŠåŠæ­»ï¼Œä¸è¦æŠ±ç€é xxx å…¬å¸ä¸å»çš„å¿ƒæ€ï¼Œå› ä¸ºé¢è¯•è¿™ç§ä¸œè¥¿å…¶å®æ˜¯å¾ˆç„å­¦çš„ï¼Œä¸ƒåˆ†å®åŠ›ï¼Œä¸‰åˆ†è¿æ°”ï¼Œå¯èƒ½ä½ è§‰å¾—è‰¯å¥½ï¼Œä½†æ˜¯é¢è¯•å®˜å´æŠŠä½  pass æ‰äº†ï¼Œæ‰€ä»¥æ”¾å¹³å¸¸å¿ƒï¼Œå¤šè¯•è¯•å‡ å®¶å…¬å¸ï¼Œè¯´ä¸å®šä¼šæœ‰æ„å¤–çš„æ”¶è·ã€‚</p><h2 id="é¢è¯•å‡†å¤‡"><a href="#é¢è¯•å‡†å¤‡" class="headerlink" title="é¢è¯•å‡†å¤‡"></a>é¢è¯•å‡†å¤‡</h2><p>å‰é¢ä»‹ç»äº†é¢è¯•æµç¨‹ä¸­çš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œä¸‹é¢å°±æ¥è¯´è¯´å¦‚ä½•å»åšé¢è¯•å‰çš„å‡†å¤‡ã€‚æˆ‘å°†é¢è¯•å‡†å¤‡åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>å‡†å¤‡ç®€å†</li><li>ä¸“ä¸šçŸ¥è¯†æ¢³ç†</li><li>é¢è¯•ç»“æŸå</li></ol><h3 id="å‡†å¤‡ç®€å†"><a href="#å‡†å¤‡ç®€å†" class="headerlink" title="å‡†å¤‡ç®€å†"></a>å‡†å¤‡ç®€å†</h3><p>æˆ‘çœ‹å¾ˆå¤šäººå†™çš„ç®€å†ï¼Œå‘ç°ä»–ä»¬å†™çš„éƒ½å¾ˆå•°å—¦ï¼Œè®©äººä¸€çœ¼çœ‹è¿‡å»æŠ“ä¸ä½é‡ç‚¹ï¼Œæˆ‘å»ºè®®æœ€å¥½æŠŠç®€å†ç²¾ç®€ä¸€ä¸‹ï¼Œæ§åˆ¶åœ¨ 1-2 é¡µï¼Œå†™çš„ç»å†å’Œé¡¹ç›®è·Ÿä½ åº”è˜çš„å²—ä½æœ‰å¼ºç›¸å…³ï¼Œæ— å…³çš„ç»å†å°±ä¸è¦å†™äº†ï¼Œå†™äº†åè€Œæ˜¾å¾—å•°å—¦ã€‚</p><p>å¦å¤–è¿˜æœ‰ä¸‰ç‚¹éœ€è¦æ³¨æ„ï¼š</p><ol><li>æè¿°ç»å†æˆ–è€…é¡¹ç›®çš„æ—¶å€™å°½å¯èƒ½æè¿°è·Ÿè‡ªå·±è´Ÿè´£çš„æ¨¡å—ï¼Œæ— å…³çš„å†…å®¹å°±ä¸è¦å†™äº†ï¼Œä¸ç„¶è¢«é—®åˆ°äº†å¯èƒ½ä¼šé—®æƒ¨ä½ </li><li>å†™å®Œç®€å†çš„æ—¶å€™æœ€å¥½ä»¥ pdf çš„æ ¼å¼è¿›è¡Œå­˜å‚¨ï¼Œè¿™æ ·ä¿è¯é¢è¯•å®˜æ‰“å¼€çš„æ—¶å€™æ’ç‰ˆä¸ä¼šä¹±æ‰</li><li>ç®€å†åç§°æœ€å¥½å†™æˆåƒ å§“å-åº”è˜å²—ä½-xxå¤§å­¦-xxä¸“ä¸š-æ‰‹æœºå·ï¼Œè¿™æ ·æ–¹ä¾¿ HR ä¿ç•™å­˜å‚¨ä½ çš„ç®€å†ï¼Œä¸è¦ç›´æ¥å–åä¸ºç®€å†å°±ç›´æ¥å‘ç»™ HR</li></ol><p>ç®€å†æ˜¯ä½ è·å¾—é¢è¯•çš„ç¬¬ä¸€æ­¥ï¼Œç®€å†çš„å¥½åéœ€è¦è‡ªå·±ç”¨å¿ƒå‡†å¤‡ï¼Œå¸Œæœ›åŒå­¦ä»¬æå‰è®¤çœŸåœ°å‡†å¤‡å¥½ä¸€ä»½è§‰å¾—è®©è‡ªå·±æ»¡æ„çš„ç®€å†ï¼Œä»¥å…åˆ°æ—¶å€™å¤ªä»“ä¿ƒã€‚</p><h3 id="ä¸“ä¸šçŸ¥è¯†æ¢³ç†"><a href="#ä¸“ä¸šçŸ¥è¯†æ¢³ç†" class="headerlink" title="ä¸“ä¸šçŸ¥è¯†æ¢³ç†"></a>ä¸“ä¸šçŸ¥è¯†æ¢³ç†</h3><p>è¿™éƒ¨åˆ†å†…å®¹è‚¯å®šæ˜¯éœ€è¦é€šè¿‡è‡ªå·±çš„ä¸æ–­ç§¯ç´¯çš„ï¼Œä¸å¯èƒ½è¯´ä½ çœ‹äº†ä¸¤å¤© JS è¯­æ³•å°±è·‘æ¥é¢è¯•ï¼Œå­¦äº†ä¸¤å¤© Java å°±æ¥é¢è¯•åç«¯å·¥ç¨‹å¸ˆã€‚</p><p>æˆ‘ä»¬ç»å¸¸ä¼šé€šè¿‡ç½‘ä¸Šæ–‡ç« å­¦ä¹ å†…å®¹ï¼Œæˆ‘çš„å»ºè®®ï¼šå–„äºä½¿ç”¨æµè§ˆå™¨çš„ä¹¦ç­¾å¸®åŠ©ä½ è‡ªå·±æ•´ä½“çŸ¥è¯†ã€‚</p><ol><li>æ¯”å¦‚è¯´ä½ ä»Šå¤©çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä½†æ˜¯æ²¡æ—¶é—´çœ‹å®Œæ¶ˆåŒ–ï¼Œä½ å¯ä»¥æŠŠå®ƒæ”¾åˆ°ä¸€ä¸ªä¹¦ç­¾(do it later)ä»¥å…ä¹‹åæ‰¾ä¸åˆ°ï¼Œç­‰è‡ªå·±æœ‰æ—¶é—´äº†å†å›è¿‡å¤´æ¥ç»§ç»­çœ‹</li><li>å°†è‡ªå·±çœ‹è¿‡çš„ï¼Œè§‰å¾—ä¸é”™çš„æ–‡ç« è¿›è¡Œåˆ†ç±»æ•´ç†æ”¾åœ¨ä¹¦ç­¾ä¸­ï¼Œæ–¹ä¾¿ä»¥åé¢è¯•å‰å¯ä»¥å¤ä¹ </li></ol><p>ç½‘è·¯ä¸Šå­¦ä¹ æŠ€æœ¯çš„é€”å¾„ä¹Ÿå¾ˆå¤šï¼š</p><ol><li>å¦‚æœæƒ³çœ‹åˆ«äººå†™çš„æ–‡ç« ï¼Œå¯ä»¥å¤šé€›é€›æ˜é‡‘ã€çŸ¥ä¹ä¸“æ ç­‰ç­‰</li><li>å¦‚æœåƒé€šè¿‡çœ‹è§†é¢‘æ¥å­¦ä¹ çš„è¯ï¼Œå¯ä»¥é€šè¿‡æ…•è¯¾ç½‘å¹³å°ï¼Œä¸Šé¢æœ‰ä¸å°‘é«˜è´¨é‡è§†é¢‘å¯ä»¥å­¦ä¹ </li><li>é‡åˆ°é—®é¢˜å–„ç”¨æœç´¢å¼•æ“ï¼ŒåŸºæœ¬ä¸Šä½ é‡åˆ°çš„é—®é¢˜éƒ½å¯ä»¥é€šè¿‡è°·æ­Œ/Stackoverflow ä¸Šå¾—åˆ°ç­”æ¡ˆ</li></ol><p>æ¯ä¸ªå²—ä½éƒ½æœ‰è‡ªå·±ä¸åŒçš„çŸ¥è¯†ä½“ç³»ï¼Œåœ¨å…¶å®ƒé¢†åŸŸæˆ‘ä¹Ÿä¸æ˜¯ä¸“ä¸šçš„ï¼Œå°±ä¸ç­é—¨å¼„æ–§äº†ï¼Œæˆ‘å°±æ‹¿å‰ç«¯å·¥ç¨‹å¸ˆè§’åº¦æ¥çœ‹ï¼Œä½œä¸ºä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œè‡³å°‘è¦å¯¹æ•´ä½“çŸ¥è¯†ä½“ç³»æœ‰è‡ªå·±çš„ç†è§£.</p><h3 id="é¢è¯•ç»“æŸå"><a href="#é¢è¯•ç»“æŸå" class="headerlink" title="é¢è¯•ç»“æŸå"></a>é¢è¯•ç»“æŸå</h3><p>é¢è¯•å…¶å®å¾ˆå¤šæƒ…å†µä¸‹éƒ½æ˜¯å¾ˆç±»ä¼¼çš„ï¼Œæœ‰çš„æ—¶å€™ä¸€é¢å’ŒäºŒé¢çš„é¢è¯•å®˜éƒ½ä¼šé—®åˆ°ç›¸åŒçš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨é¢è¯•ç»“æŸå¯ä»¥æ€»ç»“æ€»ç»“åˆšæ‰é¢è¯•ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œä¸ºä»€ä¹ˆç­”ä¸ä¸Šæ¥ï¼Œå¦‚æœæ˜¯ä¹‹å‰æ²¡å‡†å¤‡çš„çŸ¥è¯†ï¼Œå¯ä»¥å»å¤ä¹ å¤ä¹ ï¼Œè¿™æ ·ä¸‹æ¬¡å†ç¢°åˆ°ç±»ä¼¼çš„é¢˜ç›®ï¼Œä½ å°±å¯ä»¥å¯¹ç­”å¦‚æµäº†ã€‚</p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ç¥å„ä½åŒå­¦èƒ½å¤Ÿæ‰¾åˆ°è‡ªå·±æ»¡æ„çš„offerï¼</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>è§‚å¯Ÿè€…æ¨¡å¼VSå‘å¸ƒè®¢é˜…æ¨¡å¼</title>
      <link>http://mydearest.cn/2020/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8FVS%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html</link>
      <guid>http://mydearest.cn/2020/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8FVS%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html</guid>
      <pubDate>Fri, 27 Mar 2020 16:08:14 GMT</pubDate>
      <description>
      
        &lt;p&gt;&lt;img src=&quot;http://cdn.mydearest.cn/subscribe.png&quot; alt=&quot;subscribe&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§‚å¯Ÿè€…ä¸ç›®æ ‡ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰æ˜¯ç›´æ¥è¿›è¡Œäº¤äº’çš„ï¼ŒåŒ…æ‹¬è®¢é˜…å’Œè§¦å‘ã€‚&lt;/li&gt;
&lt;li&gt;å‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯é€è¿‡ä¸€ä¸ªä¸­é—´è€…å½“è°ƒåº¦ä¸­å¿ƒï¼Œç›¸å…³çš„è®¢é˜…ä¸å‘å¸ƒéƒ½ç”±è°ƒåº¦ä¸­å¿ƒæ¥è¿›è¡Œåè°ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¤è€…çš„ä¼˜ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§‚å¯Ÿè€…æ¨¡å¼ï¼šä¼˜ç‚¹å°±æ˜¯ä¸€ä¸€å¯¹åº”ï¼Œæ¯”è¾ƒç›´è§‚æ˜äº†ï¼Œå ç”¨å†…å­˜èµ„æºå®¹æ˜“è¿›è¡Œå›æ”¶ã€‚ç¼ºç‚¹å°±æ˜¯ä¸¤è€…è€¦åˆã€‚&lt;/li&gt;
&lt;li&gt;å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼šä¼˜ç‚¹å°±æ˜¯ä¸€æ–¹é¢å®ç°äº†å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´çš„è§£è€¦ï¼Œä¸­é—´è€…å¯åœ¨ä¸¤è€…æ“ä½œä¹‹é—´è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚å¦‚ï¼šæ¡ä»¶è¿‡æ»¤å‘å¸ƒï¼Œæƒé™æ§åˆ¶ç­‰ç­‰ã€‚ç¼ºç‚¹å°±æ˜¯æ•´ä¸€ä¸ªä¸­é—´è°ƒåº¦ä¼šè¶Šæ¥è¶Šåºå¤§ï¼Œéœ€è¦æ‰‹åŠ¨æ¸…é™¤é‡Œé¢çš„å‘å¸ƒå›è°ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¾ä¸ªæ —å­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;è§‚å¯Ÿè€…æ¨¡å¼ï¼šå½©ç¥¨ä¸­å¿ƒé‡Œï¼Œç®¡ç†å‘˜å……å½“ç›®æ ‡å¯¹è±¡ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰ï¼Œå½©æ°‘å……å½“è§‚å¯Ÿè€…ï¼Œå½“ç®¡ç†å‘˜è¯´å…¬å¸ƒä¸€ç­‰å¥–å·ç æ—¶ï¼Œå³ç»™å„ä¸ªè§‚å¯Ÿè€…å‘å¸ƒäº†æ¶ˆæ¯ï¼Œç„¶åå½©æ°‘ï¼ˆè§‚å¯Ÿè€…ï¼‰å°±æ”¶åˆ°å‘å¸ƒæ¶ˆæ¯ï¼Œè¿›è¡Œè‡ªå·±çš„åç»­æ“ä½œï¼ˆå…‘å¥–ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼šæ¯å®¶æ¯æˆ·å‘ç‰›å¥¶è®¢è´­ä¸­å¿ƒè®¢è´­äº†ç‰›å¥¶ï¼Œä½†æ˜¯å„å®¶çš„ç‰›å¥¶å“ç‰Œä¸ä¸€æ ·ï¼Œæœ‰ç‡•å¡˜ã€è’™ç‰›ç­‰ç­‰ã€‚å½“ç‡•å¡˜ç‰›å¥¶æ¥è´§äº†ï¼Œè®¢é˜…ä¸­å¿ƒå°±ç»™è®¢è´­ç‡•å¡˜çš„å„å®¶å„æˆ·æ´¾å‘ç‡•å¡˜ç‰›å¥¶ã€‚åŒç†ï¼Œå½“è’™ç‰›åˆ°è´§æ—¶ï¼Œè®¢é˜…ä¸­å¿ƒå‘å¸ƒè’™ç‰›çš„ç‰›å¥¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p><img src="http://cdn.mydearest.cn/subscribe.png" alt="subscribe"></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼š</p><ul><li>è§‚å¯Ÿè€…ä¸ç›®æ ‡ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰æ˜¯ç›´æ¥è¿›è¡Œäº¤äº’çš„ï¼ŒåŒ…æ‹¬è®¢é˜…å’Œè§¦å‘ã€‚</li><li>å‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯é€è¿‡ä¸€ä¸ªä¸­é—´è€…å½“è°ƒåº¦ä¸­å¿ƒï¼Œç›¸å…³çš„è®¢é˜…ä¸å‘å¸ƒéƒ½ç”±è°ƒåº¦ä¸­å¿ƒæ¥è¿›è¡Œåè°ƒã€‚</li></ul><p>ä¸¤è€…çš„ä¼˜ç¼ºç‚¹ï¼š</p><ul><li>è§‚å¯Ÿè€…æ¨¡å¼ï¼šä¼˜ç‚¹å°±æ˜¯ä¸€ä¸€å¯¹åº”ï¼Œæ¯”è¾ƒç›´è§‚æ˜äº†ï¼Œå ç”¨å†…å­˜èµ„æºå®¹æ˜“è¿›è¡Œå›æ”¶ã€‚ç¼ºç‚¹å°±æ˜¯ä¸¤è€…è€¦åˆã€‚</li><li>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼šä¼˜ç‚¹å°±æ˜¯ä¸€æ–¹é¢å®ç°äº†å‘å¸ƒè€…ä¸è®¢é˜…è€…ä¹‹é—´çš„è§£è€¦ï¼Œä¸­é—´è€…å¯åœ¨ä¸¤è€…æ“ä½œä¹‹é—´è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚å¦‚ï¼šæ¡ä»¶è¿‡æ»¤å‘å¸ƒï¼Œæƒé™æ§åˆ¶ç­‰ç­‰ã€‚ç¼ºç‚¹å°±æ˜¯æ•´ä¸€ä¸ªä¸­é—´è°ƒåº¦ä¼šè¶Šæ¥è¶Šåºå¤§ï¼Œéœ€è¦æ‰‹åŠ¨æ¸…é™¤é‡Œé¢çš„å‘å¸ƒå›è°ƒã€‚</li></ul><p>ä¸¾ä¸ªæ —å­ï¼š</p><ul><li><p>è§‚å¯Ÿè€…æ¨¡å¼ï¼šå½©ç¥¨ä¸­å¿ƒé‡Œï¼Œç®¡ç†å‘˜å……å½“ç›®æ ‡å¯¹è±¡ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰ï¼Œå½©æ°‘å……å½“è§‚å¯Ÿè€…ï¼Œå½“ç®¡ç†å‘˜è¯´å…¬å¸ƒä¸€ç­‰å¥–å·ç æ—¶ï¼Œå³ç»™å„ä¸ªè§‚å¯Ÿè€…å‘å¸ƒäº†æ¶ˆæ¯ï¼Œç„¶åå½©æ°‘ï¼ˆè§‚å¯Ÿè€…ï¼‰å°±æ”¶åˆ°å‘å¸ƒæ¶ˆæ¯ï¼Œè¿›è¡Œè‡ªå·±çš„åç»­æ“ä½œï¼ˆå…‘å¥–ï¼‰ã€‚</p></li><li><p>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼šæ¯å®¶æ¯æˆ·å‘ç‰›å¥¶è®¢è´­ä¸­å¿ƒè®¢è´­äº†ç‰›å¥¶ï¼Œä½†æ˜¯å„å®¶çš„ç‰›å¥¶å“ç‰Œä¸ä¸€æ ·ï¼Œæœ‰ç‡•å¡˜ã€è’™ç‰›ç­‰ç­‰ã€‚å½“ç‡•å¡˜ç‰›å¥¶æ¥è´§äº†ï¼Œè®¢é˜…ä¸­å¿ƒå°±ç»™è®¢è´­ç‡•å¡˜çš„å„å®¶å„æˆ·æ´¾å‘ç‡•å¡˜ç‰›å¥¶ã€‚åŒç†ï¼Œå½“è’™ç‰›åˆ°è´§æ—¶ï¼Œè®¢é˜…ä¸­å¿ƒå‘å¸ƒè’™ç‰›çš„ç‰›å¥¶ã€‚</p></li></ul><hr><a id="more"></a><h2 id="è§‚å¯Ÿè€…æ¨¡å¼å®ç°"><a href="#è§‚å¯Ÿè€…æ¨¡å¼å®ç°" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼å®ç°"></a>è§‚å¯Ÿè€…æ¨¡å¼å®ç°</h2><p><img src="http://cdn.mydearest.cn/blog/images/observer.jpeg" alt="observer"></p><p>é¦–å…ˆç›®æ ‡å¯¹è±¡ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰ç§°ä¸º<code>Subject</code>ï¼Œæœ‰è‹¥å¹²ä¸ªè§‚å¯Ÿè€…<code>Observer</code>è¿›è¡Œè§‚å¯Ÿã€‚å½“<code>Subject</code>è¢«æŸäº›å¯¹åº”äº‹ä»¶é©±åŠ¨äº†ï¼Œåˆ™é€šçŸ¥ç›¸å¯¹åº”çš„è§‚å¯Ÿè€…ï¼Œè°ƒç”¨å…¶å›è°ƒæ“ä½œã€‚</p><p>ä»£ç å®ç°å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¢«è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> () &#123;</span><br><span class="line">        <span class="keyword">this</span>.obs = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">    addObserver (ob) &#123;</span><br><span class="line">        <span class="keyword">this</span>.obs.push(ob);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</span></span><br><span class="line">    notify () &#123;</span><br><span class="line">        <span class="keyword">this</span>.obs.forEach(<span class="function"><span class="params">ob</span> =&gt;</span> &#123;</span><br><span class="line">            ob.update();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observer</span></span>&#123;</span><br><span class="line">  update()&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'update'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">let</span> subject = <span class="keyword">new</span> Subject();</span><br><span class="line"><span class="keyword">let</span> ob = <span class="keyword">new</span> Observer();</span><br><span class="line"><span class="comment">// ç›®æ ‡æ·»åŠ è§‚å¯Ÿè€…äº†</span></span><br><span class="line">subject.addObserver(ob);</span><br><span class="line"><span class="comment">// ç›®æ ‡å‘å¸ƒæ¶ˆæ¯è°ƒç”¨è§‚å¯Ÿè€…çš„æ›´æ–°æ–¹æ³•äº†</span></span><br><span class="line">subject.notify();   <span class="comment">//update</span></span><br></pre></td></tr></table></figure></p><h2 id="å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°"><a href="#å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°" class="headerlink" title="å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°"></a>å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°</h2><p>é¦–å…ˆè¦æ„é€ ä¸€ä¸ªæ€»çº¿æ§åˆ¶ä¸­å¿ƒï¼Œè´Ÿè´£ä¸­é—´æ“ä½œï¼Œå®ç°ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½ï¼š</p><ul><li>è®¢é˜…xxxæ¶ˆæ¯</li><li>å‘å¸ƒxxxæ¶ˆæ¯</li><li>å–æ¶ˆè®¢é˜…xxxæ¶ˆæ¯</li></ul><p>ä»£ç å®ç°å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> eventProxy = &#123;</span><br><span class="line">  onList: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¢é˜…</span></span><br><span class="line">  on: <span class="function"><span class="keyword">function</span> (<span class="params">key, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.onList[key]) &#123;</span><br><span class="line">      <span class="keyword">this</span>.onList[key] = []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.onList[key].push(fn)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å–æ¶ˆè®¢é˜…</span></span><br><span class="line">  off: <span class="function"><span class="keyword">function</span>(<span class="params">key, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.onList[key]) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> fnIndex = <span class="keyword">this</span>.onList[key].indexOf(fn)</span><br><span class="line">    <span class="keyword">if</span> (fnIndex === <span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">this</span>.onList[key].splice(fnIndex, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å‘å¸ƒ</span></span><br><span class="line">  emit: <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!args.length) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰ä»»ä½•è®¢é˜…åˆ™è¿”å›  </span></span><br><span class="line">    <span class="keyword">const</span> key = args[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.onList[key] || !<span class="keyword">this</span>.onList[key].length) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘å¸ƒå¯¹åº”çš„è®¢é˜…äº‹ä»¶</span></span><br><span class="line">    <span class="keyword">const</span> subscriber = <span class="keyword">this</span>.onList[key]</span><br><span class="line">    <span class="keyword">const</span> newArgs = args.slice(<span class="number">1</span>)</span><br><span class="line">    subscriber.forEach(<span class="function"><span class="params">cb</span> =&gt;</span> &#123;</span><br><span class="line">      cb.apply(<span class="literal">null</span>, newArgs)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8FVS%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Shellå…¥é—¨æ•™ç¨‹</title>
      <link>http://mydearest.cn/2020/Shell%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html</link>
      <guid>http://mydearest.cn/2020/Shell%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html</guid>
      <pubDate>Sun, 22 Mar 2020 17:51:18 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;è„šæœ¬è¿è¡Œ&quot;&gt;&lt;a href=&quot;#è„šæœ¬è¿è¡Œ&quot; class=&quot;headerlink&quot; title=&quot;è„šæœ¬è¿è¡Œ&quot;&gt;&lt;/a&gt;è„šæœ¬è¿è¡Œ&lt;/h2&gt;&lt;p&gt;å»ºç«‹ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶demoï¼Œä»¥.shç»“å°¾çš„æˆ–è€…ä¸éœ€è¦åç¼€éƒ½å¯ä»¥ã€‚
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt;!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;NUM=10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;printf &quot;è¾“å‡ºæ•°å­—$NUM\n&quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;echo $NUM&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡shæˆ–è€…bashå‘½ä»¤è¿è¡Œè„šæœ¬ï¼Œsh scriptname è¿è¡Œä¸€ä¸ªBashè„šæœ¬å°†ä¼šç¦æ­¢æ‰€æœ‰Bashçš„æ‰©å±•ç‰¹æ€§ã€‚
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; ä½ èƒ½å¤Ÿè¿è¡Œå®ƒç”¨å‘½ä»¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sh demo&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; å¦å¤–ä¹Ÿä¹Ÿå¯ä»¥ç”¨bashæ¥æ‰§è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;bash demo&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è„šæœ¬ä»¥â€#!â€è¡Œå¼€å¤´ï¼Œè¡Œå°†ä¼šå‘½ä»¤è§£é‡Šå™¨(shæˆ–æ˜¯bash)ã€‚&lt;code&gt;#!/bin/rm&lt;/code&gt; å½“ä½ è¿è¡Œè¿™ä¸ªè„šæœ¬æ—¶ï¼Œé™¤äº†è¿™ä¸ªè„šæœ¬æ¶ˆå¤±äº†ä¹‹å¤–ï¼Œä½ ä¸ä¼šå‘ç°æ›´å¤šå…¶ä»–çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ³¨é‡Š&quot;&gt;&lt;a href=&quot;#æ³¨é‡Š&quot; class=&quot;headerlink&quot; title=&quot;æ³¨é‡Š&quot;&gt;&lt;/a&gt;æ³¨é‡Š&lt;/h2&gt;&lt;p&gt;ä»¥#å¼€å¤´çš„è¡Œå°±æ˜¯æ³¨é‡Šï¼Œä¼šè¢«è§£é‡Šå™¨å¿½ç•¥ã€‚æ³¨é‡Šè¡Œå‰é¢ä¹Ÿå¯ä»¥æœ‰ç©ºç™½å­—ç¬¦ã€‚
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;å‘½ä»¤åˆ†éš”ç¬¦&quot;&gt;&lt;a href=&quot;#å‘½ä»¤åˆ†éš”ç¬¦&quot; class=&quot;headerlink&quot; title=&quot;å‘½ä»¤åˆ†éš”ç¬¦&quot;&gt;&lt;/a&gt;å‘½ä»¤åˆ†éš”ç¬¦&lt;/h2&gt;&lt;p&gt;åˆ†å·;å‘½ä»¤åˆ†å‰²ç¬¦ï¼Œåˆ†å‰²ç¬¦å…è®¸åœ¨åŒä¸€è¡Œé‡Œæœ‰ä¸¤ä¸ªæˆ–æ›´å¤šçš„å‘½ä»¤ã€‚
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;echo hello; echo there         # è¾“å‡º hello å’Œ there&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;filename=&#39;cosyer&#39;               # å˜é‡æ–‡ä»¶å&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;if [ -x &quot;$filename&quot; ]; then    # æ³¨æ„ï¼š&quot;if&quot; and &quot;then&quot;éœ€è¦åˆ†éš”ç¬¦&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  echo &quot;File $filename exists.&quot;; cp $filename $filename.bak&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;else&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  echo &quot;File $filename not found.&quot;; touch $filename&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fi; echo &quot;File test complete.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç»“æŸç¬¦&quot;&gt;&lt;a href=&quot;#ç»“æŸç¬¦&quot; class=&quot;headerlink&quot; title=&quot;ç»“æŸç¬¦&quot;&gt;&lt;/a&gt;ç»“æŸç¬¦&lt;/h2&gt;&lt;p&gt;åŒåˆ†å·;;ï¼Œcaseè¯­å¥åˆ†æ”¯çš„ç»“æŸç¬¦ã€‚
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;read Keypress&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;case &quot;$Keypress&quot; in&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [[:lower:]]   ) echo &quot;Lowercase letter&quot;;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [[:upper:]]   ) echo &quot;Uppercase letter&quot;;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  [0-9]         ) echo &quot;Digit&quot;;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  *             ) echo &quot;Punctuation, whitespace, or other&quot;;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;esac      #  å…è®¸å­—ç¬¦ä¸²çš„èŒƒå›´å‡ºç°åœ¨[]ä¸­,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          #+ æˆ–è€…POSIXé£æ ¼çš„[[ä¸­.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;exit 0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="è„šæœ¬è¿è¡Œ"><a href="#è„šæœ¬è¿è¡Œ" class="headerlink" title="è„šæœ¬è¿è¡Œ"></a>è„šæœ¬è¿è¡Œ</h2><p>å»ºç«‹ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶demoï¼Œä»¥.shç»“å°¾çš„æˆ–è€…ä¸éœ€è¦åç¼€éƒ½å¯ä»¥ã€‚<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">NUM=10</span><br><span class="line">printf "è¾“å‡ºæ•°å­—$NUM\n"</span><br><span class="line">echo $NUM</span><br></pre></td></tr></table></figure></p><p>é€šè¿‡shæˆ–è€…bashå‘½ä»¤è¿è¡Œè„šæœ¬ï¼Œsh scriptname è¿è¡Œä¸€ä¸ªBashè„šæœ¬å°†ä¼šç¦æ­¢æ‰€æœ‰Bashçš„æ‰©å±•ç‰¹æ€§ã€‚<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä½ èƒ½å¤Ÿè¿è¡Œå®ƒç”¨å‘½ä»¤</span></span><br><span class="line">sh demo</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦å¤–ä¹Ÿä¹Ÿå¯ä»¥ç”¨bashæ¥æ‰§è¡Œ</span></span><br><span class="line">bash demo</span><br></pre></td></tr></table></figure></p><p>è„šæœ¬ä»¥â€#!â€è¡Œå¼€å¤´ï¼Œè¡Œå°†ä¼šå‘½ä»¤è§£é‡Šå™¨(shæˆ–æ˜¯bash)ã€‚<code>#!/bin/rm</code> å½“ä½ è¿è¡Œè¿™ä¸ªè„šæœ¬æ—¶ï¼Œé™¤äº†è¿™ä¸ªè„šæœ¬æ¶ˆå¤±äº†ä¹‹å¤–ï¼Œä½ ä¸ä¼šå‘ç°æ›´å¤šå…¶ä»–çš„ä¸œè¥¿ã€‚</p><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>ä»¥#å¼€å¤´çš„è¡Œå°±æ˜¯æ³¨é‡Šï¼Œä¼šè¢«è§£é‡Šå™¨å¿½ç•¥ã€‚æ³¨é‡Šè¡Œå‰é¢ä¹Ÿå¯ä»¥æœ‰ç©ºç™½å­—ç¬¦ã€‚<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š</span></span><br></pre></td></tr></table></figure></p><h2 id="å‘½ä»¤åˆ†éš”ç¬¦"><a href="#å‘½ä»¤åˆ†éš”ç¬¦" class="headerlink" title="å‘½ä»¤åˆ†éš”ç¬¦"></a>å‘½ä»¤åˆ†éš”ç¬¦</h2><p>åˆ†å·;å‘½ä»¤åˆ†å‰²ç¬¦ï¼Œåˆ†å‰²ç¬¦å…è®¸åœ¨åŒä¸€è¡Œé‡Œæœ‰ä¸¤ä¸ªæˆ–æ›´å¤šçš„å‘½ä»¤ã€‚<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo hello; echo there         # è¾“å‡º hello å’Œ there</span><br><span class="line">filename='cosyer'               # å˜é‡æ–‡ä»¶å</span><br><span class="line">if [ -x "$filename" ]; then    # æ³¨æ„ï¼š"if" and "then"éœ€è¦åˆ†éš”ç¬¦</span><br><span class="line">  echo "File $filename exists."; cp $filename $filename.bak</span><br><span class="line">else</span><br><span class="line">  echo "File $filename not found."; touch $filename</span><br><span class="line">fi; echo "File test complete.</span><br></pre></td></tr></table></figure></p><h2 id="ç»“æŸç¬¦"><a href="#ç»“æŸç¬¦" class="headerlink" title="ç»“æŸç¬¦"></a>ç»“æŸç¬¦</h2><p>åŒåˆ†å·;;ï¼Œcaseè¯­å¥åˆ†æ”¯çš„ç»“æŸç¬¦ã€‚<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">read Keypress</span><br><span class="line">case "$Keypress" in</span><br><span class="line">  [[:lower:]]   ) echo "Lowercase letter";;</span><br><span class="line">  [[:upper:]]   ) echo "Uppercase letter";;</span><br><span class="line">  [0-9]         ) echo "Digit";;</span><br><span class="line">  *             ) echo "Punctuation, whitespace, or other";;</span><br><span class="line">esac      #  å…è®¸å­—ç¬¦ä¸²çš„èŒƒå›´å‡ºç°åœ¨[]ä¸­,</span><br><span class="line">          #+ æˆ–è€…POSIXé£æ ¼çš„[[ä¸­.</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure></p><hr><a id="more"></a><h2 id="å¥å·-åœ†ç‚¹"><a href="#å¥å·-åœ†ç‚¹" class="headerlink" title="å¥å·/åœ†ç‚¹"></a>å¥å·/åœ†ç‚¹</h2><p>ä½œä¸ºä¸€ä¸ªæ–‡ä»¶åçš„ç»„æˆéƒ¨åˆ†.ï¼Œå½“ç‚¹.ä»¥ä¸€ä¸ªæ–‡ä»¶åä¸ºå‰ç¼€æ—¶ï¼Œèµ·ä½œç”¨ä½¿è¯¥æ–‡ä»¶å˜æˆäº†éšè—æ–‡ä»¶ã€‚è¿™ç§éšè—æ–‡ä»¶lsä¸€èˆ¬æ˜¯ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥çš„ã€‚</p><p>ä½œä¸ºç›®å½•åæ—¶ï¼Œå•ä¸ªç‚¹ï¼ˆ.ï¼‰è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œä¸¤ä¸ªç‚¹(..)è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ï¼ˆæˆ–ç§°ä¸ºçˆ¶ç›®å½•ï¼‰ã€‚</p><p>ç‚¹(.)å­—ç¬¦åŒ¹é…ã€‚ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†,åŒ¹é…å­—ç¬¦æ—¶ï¼Œå•ç‚¹ï¼ˆ.ï¼‰è¡¨ç¤ºåŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚</p><h2 id="å¼•å·"><a href="#å¼•å·" class="headerlink" title="å¼•å·"></a>å¼•å·</h2><p>å¼•å·ä¸€ä¸ªå¾ˆé‡è¦çš„ä½œç”¨æ˜¯ä¿æŠ¤å‘½ä»¤è¡Œä¸Šçš„ä¸€ä¸ªå‚æ•°ä¸è¢«shellè§£é‡Šï¼Œè€ŒæŠŠæ­¤å‚æ•°ä¼ é€’ç»™è¦æ‰§è¡Œçš„ç¨‹åºæ¥å¤„ç†å®ƒã€‚<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo "$(ls -al)"</span><br></pre></td></tr></table></figure></p><h3 id="å•å¼•å·"><a href="#å•å¼•å·" class="headerlink" title="å•å¼•å·"></a>å•å¼•å·</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str='this is a string'</span><br></pre></td></tr></table></figure><p>å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„ã€‚å•å¼•å·å­—ä¸²ä¸­ä¸èƒ½å‡ºç°å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰ã€‚</p><h3 id="åŒå¼•å·"><a href="#åŒå¼•å·" class="headerlink" title="åŒå¼•å·"></a>åŒå¼•å·</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">your_name='cosyer'</span><br><span class="line">str="Hello, I know your are \"$your_name\"! \n"</span><br></pre></td></tr></table></figure><p>åŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡ï¼ŒåŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦ã€‚</p><h2 id="å‘½ä»¤æ›¿æ¢"><a href="#å‘½ä»¤æ›¿æ¢" class="headerlink" title="å‘½ä»¤æ›¿æ¢"></a>å‘½ä»¤æ›¿æ¢</h2><p>å‘½ä»¤æ›¿æ¢â€`â€ï¼Œå°†ä¼šé‡æ–°åˆ†é…ä¸€ä¸ªå‘½ä»¤ç”šè‡³æ˜¯å¤šä¸ªå‘½ä»¤çš„è¾“å‡ºï¼›å®ƒä¼šå°†å‘½ä»¤çš„è¾“å‡ºå¦‚å®åœ°æ·»åŠ åˆ°å¦ä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­ã€‚<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">script_name=`basename $0`</span><br><span class="line">echo "The name of this script is $script_name."</span><br><span class="line"></span><br><span class="line">textfile_listing=`ls *`</span><br><span class="line"><span class="meta">#</span><span class="bash"> å˜é‡ä¸­åŒ…å«äº†å½“å‰å·¥ä½œç›®å½•ä¸‹æ‰€æœ‰çš„*æ–‡ä»¶</span></span><br><span class="line">echo $textfile_listing</span><br></pre></td></tr></table></figure></p><h2 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h2><h3 id="èµ‹å€¼"><a href="#èµ‹å€¼" class="headerlink" title="èµ‹å€¼"></a>èµ‹å€¼</h3><p>å˜é‡èµ‹å€¼ï¼Œåˆå§‹åŒ–æˆ–æ”¹å˜ä¸€ä¸ªå˜é‡çš„å€¼ï¼Œé€šç”¨çš„å˜é‡èµ‹å€¼æ“ä½œç¬¦ï¼Œå¯ä»¥ç”¨äºæ•°å€¼å’Œå­—ç¬¦ä¸²çš„èµ‹å€¼<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var=27</span><br><span class="line">category=minerals  # "="å­—ç¬¦åé¢ä¸èƒ½åŠ ç©ºç™½å­—ç¬¦.</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> = ç”¨äºæµ‹è¯•æ“ä½œç¬¦</span></span><br><span class="line">if [ "$string1" = "$string2" ]</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">if</span> [ <span class="string">"X<span class="variable">$string1</span>"</span> = <span class="string">"X<span class="variable">$string2</span>"</span> ] ä¼šæ›´å®‰å…¨,</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å®ƒä¸ºäº†é˜²æ­¢å…¶ä¸­æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºç©ºæ—¶äº§ç”Ÿé”™è¯¯ä¿¡æ¯.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> (å¢åŠ çš„<span class="string">"X"</span>å­—ç¬¦å¯ä»¥äº’ç›¸æŠµæ¶ˆ.) </span></span><br><span class="line">then</span><br><span class="line">   command</span><br><span class="line">fi</span><br></pre></td></tr></table></figure></p><h3 id="è®¡ç®—æ“ä½œç¬¦"><a href="#è®¡ç®—æ“ä½œç¬¦" class="headerlink" title="è®¡ç®—æ“ä½œç¬¦"></a>è®¡ç®—æ“ä½œç¬¦</h3><table><thead><tr><th>æ“ä½œç¬¦</th><th>æè¿°</th><th>æ“ä½œç¬¦</th><th>æè¿°</th><th>æ“ä½œç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>+</code></td><td>åŠ </td><td><code>/</code></td><td>é™¤</td><td><code>**</code></td><td>æ±‚å¹‚</td></tr><tr><td><code>-</code></td><td>å‡</td><td><code>*</code></td><td>ä¹˜</td><td><code>%</code></td><td>æ±‚æ¨¡</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Bashåœ¨ç‰ˆæœ¬2.02å¼•å…¥äº†<span class="string">"**"</span>æ±‚å¹‚æ“ä½œç¬¦.</span></span><br><span class="line">let "z=5**3"</span><br><span class="line">echo "z = $z"   # z = 125</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ±‚æ¨¡ï¼ˆå®ƒè¿”å›æ•´æ•°æ•´é™¤ä¸€ä¸ªæ•°åçš„ä½™æ•°ï¼‰</span></span><br><span class="line">let "y=5 % 3"</span><br><span class="line">echo "y = $y"   # y = 2</span><br></pre></td></tr></table></figure><table><thead><tr><th>æ“ä½œç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>+=</code></td><td>åŠ ç­‰(plus-equal) æŠŠåŸå˜é‡å€¼å¢åŠ ä¸€ä¸ªå¸¸é‡å¹¶é‡æ–°èµ‹å€¼ç»™å˜é‡</td></tr><tr><td><code>-=</code></td><td>å‡ç­‰(minus-equal) æŠŠåŸå˜é‡å€¼å‡å°‘ä¸€ä¸ªå¸¸é‡å¹¶é‡æ–°èµ‹å€¼ç»™å˜é‡</td></tr><tr><td><code>*=</code></td><td>ä¹˜ç­‰(times-equal) æŠŠåŸå˜é‡å€¼ä¹˜ä¸Šä¸€ä¸ªå¸¸é‡å¹¶é‡æ–°èµ‹å€¼ç»™å˜é‡</td></tr><tr><td><code>/=</code></td><td>é™¤ç­‰(slash-equal) æŠŠåŸå˜é‡å€¼é™¤ä»¥ä¸€ä¸ªå¸¸é‡å¹¶é‡æ–°èµ‹å€¼ç»™å˜é‡</td></tr><tr><td><code>%=</code></td><td>æ¨¡ç­‰(mod-equal) æŠŠåŸå˜é‡å€¼é™¤ä»¥ä¸€ä¸ªå¸¸é‡æ•´é™¤ï¼ˆå³å–æ¨¡ï¼‰å¹¶é‡æ–°èµ‹ä½™æ•°çš„å€¼ç»™å˜é‡</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let "var += 5" # ä¼šä½¿å˜é‡varå€¼åŠ äº†5å¹¶æŠŠå€¼èµ‹ç»™var.</span><br><span class="line">let "var *= 4" # ä½¿å˜é‡varçš„å€¼ä¹˜ä¸Š4å¹¶æŠŠå€¼èµ‹ç»™var.</span><br></pre></td></tr></table></figure><h3 id="ä½æ“ä½œç¬¦"><a href="#ä½æ“ä½œç¬¦" class="headerlink" title="ä½æ“ä½œç¬¦"></a>ä½æ“ä½œç¬¦</h3><p>ä½æ“ä½œç¬¦å¾ˆå°‘åœ¨è„šæœ¬ä¸­ä½¿ç”¨ã€‚ä»–ä»¬ä¸»è¦ç”¨äºæ“ä½œå’Œæµ‹è¯•ä»ç«¯å£æˆ–socketsä¸­è¯»åˆ°çš„æ•°æ®ã€‚â€œä½è¿ç®—â€æ›´å¤šåœ°ç”¨äºç¼–è¯‘å‹çš„è¯­è¨€ï¼Œæ¯”å¦‚è¯´Cå’ŒC++ï¼Œå®ƒä»¬è¿è¡Œèµ·æ¥å¿«åœ°åƒé£ã€‚</p><table><thead><tr><th>æ“ä½œç¬¦</th><th>æè¿°</th><th>æ“ä½œç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>&lt;&lt;</code></td><td>ä½å·¦ç§»ï¼ˆæ¯ç§»ä¸€ä½ç›¸å½“ä¹˜ä»¥2ï¼‰</td><td>`</td><td>`</td><td>ä½æˆ–</td></tr><tr><td><code>&lt;&lt;=</code></td><td>ä½å·¦ç§»èµ‹å€¼</td><td>`</td><td>=`</td><td>ä½æˆ–èµ‹å€¼</td></tr><tr><td><code>&gt;&gt;</code></td><td>ä½å³ç§»ï¼ˆæ¯ç§»ä¸€ä½ç›¸å½“é™¤ä»¥2ï¼‰</td><td><code>~</code></td><td>ä½å</td></tr><tr><td><code>&gt;&gt;=</code></td><td>â€œä½å³ç§»èµ‹å€¼â€ï¼ˆå’Œ&lt;&lt;=ç›¸åï¼‰</td><td><code>!</code></td><td>ä½é</td></tr><tr><td><code>&amp;</code></td><td>ä½ä¸</td><td><code>^</code></td><td>ä½æˆ–</td></tr><tr><td><code>&amp;=</code></td><td>ä½äºèµ‹å€¼</td><td><code>^=</code></td><td>ä½æˆ–èµ‹å€¼</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> &lt;&lt;=</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">"ä½å·¦ç§»èµ‹å€¼"</span></span></span><br><span class="line">let "var &lt;&lt;= 2" ç»“æœä½¿varçš„äºŒè¿›åˆ¶å€¼å·¦ç§»äº†äºŒä½ï¼ˆç›¸å½“äºä¹˜ä»¥4ï¼‰</span><br></pre></td></tr></table></figure><h3 id="é€»è¾‘æ“ä½œç¬¦"><a href="#é€»è¾‘æ“ä½œç¬¦" class="headerlink" title="é€»è¾‘æ“ä½œç¬¦"></a>é€»è¾‘æ“ä½œç¬¦</h3><p>é€»è¾‘ä¸<code>&amp;&amp;</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if [ $condition1 ] &amp;&amp; [ $condition2 ]</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç­‰åŒäº:  <span class="keyword">if</span> [ <span class="variable">$condition1</span> -a <span class="variable">$condition2</span> ]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœcondition1å’Œcondition2éƒ½ä¸ºçœŸåˆ™è¿”å›çœŸ...</span></span><br><span class="line">fi;</span><br><span class="line"></span><br><span class="line">if [[ $condition1 &amp;&amp; $condition2 ]]    # Also works.</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ³¨æ„&amp;&amp;æ“ä½œä¸èƒ½åœ¨[ ... ]ç»“æ„ä¸­ä½¿ç”¨.</span></span><br><span class="line">fi;</span><br></pre></td></tr></table></figure><p>é€»è¾‘æˆ–<code>||</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if [ $condition1 ] || [ $condition2 ]</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç­‰åŒäº:  <span class="keyword">if</span> [ <span class="variable">$condition1</span> -o <span class="variable">$condition2</span> ]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœcondition1å’Œcondition2æœ‰ä¸€ä¸ªä¸ºçœŸåˆ™è¿”å›çœŸ...</span></span><br><span class="line">fi;</span><br><span class="line">if [[ $condition1 || $condition2 ]]    # Also works.</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ³¨æ„||æ“ä½œä¸èƒ½åœ¨[ ... ]ç»“æ„ä¸­ä½¿ç”¨.</span></span><br><span class="line">fi;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨&amp;&amp;å’Œ||è¿›è¡Œæ··åˆæ¡ä»¶æµ‹è¯•ã€‚åœ¨ç®—æœ¯è®¡ç®—çš„ç¯å¢ƒä¸­ï¼Œ&amp;&amp;å’Œ||æ“ä½œç¬¦ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo $(( 1 &amp;&amp; 2 )) $((3 &amp;&amp; 0)) $((4 || 0)) $((0 || 0))</span><br><span class="line"><span class="meta">#</span><span class="bash"> 1 0 1 0</span></span><br></pre></td></tr></table></figure><h3 id="é€—å·æ“ä½œç¬¦"><a href="#é€—å·æ“ä½œç¬¦" class="headerlink" title="é€—å·æ“ä½œç¬¦"></a>é€—å·æ“ä½œç¬¦</h3><p>é€—å·<code>,</code>æ“ä½œç¬¦è¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„ç®—æœ¯æ“ä½œã€‚æ‰€æœ‰çš„æ“ä½œéƒ½è¢«æ±‚å€¼(å¯èƒ½ä¼šæœ‰å‰¯ä½œç”¨)ï¼Œä½†åªè¿”å›æœ€åä¸€ä¸ªæ“ä½œçš„ç»“æ„ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let "t1 = ((5 + 3, 7 - 1, 15 - 4))"</span><br><span class="line">echo "t1 = $t1"               # t1 = 11</span><br><span class="line"></span><br><span class="line">let "t2 = ((a = 9, 15 / 3))"  # åˆå§‹åŒ–"a"å¹¶æ±‚"t2"çš„å€¼.</span><br><span class="line">echo "t2 = $t2    a = $a"     # t2 = 5    a = 9</span><br></pre></td></tr></table></figure><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p>å˜é‡ï¼Œæ˜¯è„šæœ¬ç¼–ç¨‹ä¸­çš„å¦‚ä½•è¿›è¡Œæ•°æ®è¡¨ç°çš„åŠæ³•ã€‚å®ƒä»¬å¯ä»¥åœ¨ç®—æœ¯è®¡ç®—ä¸­ä½œä¸ºæ“ä½œæ•°ï¼Œåœ¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ä¸­ä½œä¸ºç¬¦å·è¡¨è¾¾æŠ½è±¡çš„æ„ä¹‰æˆ–æ˜¯å…¶ä»–çš„å…¶å®ƒæ„ä¹‰ã€‚å˜é‡æ˜¯è¡¨ç¤ºè®¡ç®—æœºå†…å­˜ä¸­ä¿å­˜ä¸€ç§æ•°æ®éœ€è¦å çš„ä¸€ä¸ªä½ç½®æˆ–ä¸€ç»„çš„ä½ç½®çš„æ ‡è¯†ã€‚</p><h3 id="å˜é‡å€¼"><a href="#å˜é‡å€¼" class="headerlink" title="å˜é‡å€¼"></a>å˜é‡å€¼</h3><p>å¦‚æœvariable1æ˜¯ä¸€ä¸ªå˜é‡çš„åå­—ï¼Œé‚£ä¹ˆ$variable1å°±æ˜¯å¼•ç”¨è¿™ä¸ªå˜é‡çš„å€¼â€•â€•å³è¿™ä¸ªå˜é‡å®ƒåŒ…å«çš„æ•°æ®ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t1=12</span><br><span class="line">echo $t1</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å˜é‡æœ‰ä¸€ä¸ªâ€nullâ€å€¼â€•â€•è¡¨ç¤ºä»æ²¡æœ‰è¢«èµ‹å€¼è¿‡ï¼ˆæ³¨æ„nullå€¼ä¸ç­‰äºé›¶ï¼‰ã€‚åœ¨ä¸€ä¸ªå˜é‡ä»æœªèµ‹å€¼ä¹‹å‰å°±ä½¿ç”¨å®ƒé€šå¸¸ä¼šå¼•èµ·é—®é¢˜ã€‚ç„¶è€Œï¼Œä»ç„¶æœ‰å¯èƒ½åœ¨æ‰§è¡Œç®—æœ¯è®¡ç®—æ—¶ä½¿ç”¨ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å˜é‡ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">echo "$uninitialized"      # (blank line)</span><br><span class="line">let "uninitialized += 5"   # Add 5 to it.</span><br><span class="line">echo "$uninitialized"      # 5</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">  ç»“è®º:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å˜é‡æ²¡æœ‰å€¼ï¼Œ</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  ä½†æ˜¯ä¼¼ä¹å®ƒåœ¨ç®—æœ¯è®¡ç®—ä¸­çš„å€¼æ˜¯é›¶ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  è¿™ä¸ªæ— æ³•è¯å®ï¼ˆä¹Ÿå¯èƒ½æ˜¯ä¸å¯ç§»æ¤ï¼‰çš„è¡Œä¸ºã€‚</span></span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰å˜é‡"><a href="#å®šä¹‰å˜é‡" class="headerlink" title="å®šä¹‰å˜é‡"></a>å®šä¹‰å˜é‡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å˜é‡åä¸åŠ ç¾å…ƒç¬¦å·</span></span><br><span class="line">your_var="elaine"</span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡æ–°å®šä¹‰</span></span><br><span class="line">your_var="newname"</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„âš ï¸</strong></p><ol><li>é¦–ä¸ªå­—ç¬¦å¿…é¡»ä¸ºå­—æ¯ï¼ˆa-zï¼ŒA-Zï¼‰ã€‚</li><li>ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ï¼Œç­‰å·å·¦å³ä¹Ÿä¸èƒ½æœ‰ç©ºæ ¼ã€‚</li><li>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚</li><li>ä¸èƒ½ä½¿ç”¨bashé‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨helpå‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚</li></ol><h3 id="åªè¯»å˜é‡"><a href="#åªè¯»å˜é‡" class="headerlink" title="åªè¯»å˜é‡"></a>åªè¯»å˜é‡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">github="https://jaywcjlove.github.io"</span><br><span class="line">readonly github</span><br><span class="line">github="https://www.github.com"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿è¡Œè„šæœ¬ï¼Œç»“æœå¦‚ä¸‹ï¼š</span></span><br><span class="line">/bin/sh: NAME: This variable is read only.</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨å˜é‡"><a href="#ä½¿ç”¨å˜é‡" class="headerlink" title="ä½¿ç”¨å˜é‡"></a>ä½¿ç”¨å˜é‡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_var="github"</span><br><span class="line">echo $your_var</span><br><span class="line">echo $&#123;your_var&#125;</span><br><span class="line">echo "your name is $&#123;your_var&#125;-l"</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å˜é‡unset"><a href="#åˆ é™¤å˜é‡unset" class="headerlink" title="åˆ é™¤å˜é‡unset"></a>åˆ é™¤å˜é‡unset</h3><p>å˜é‡è¢«åˆ é™¤åä¸èƒ½å†æ¬¡ä½¿ç”¨ã€‚unset å‘½ä»¤ä¸èƒ½åˆ é™¤åªè¯»å˜é‡ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myUrl="https://jaywcjlove.github.io"</span><br><span class="line">unset myUrl</span><br><span class="line">echo $myUrl</span><br></pre></td></tr></table></figure><h3 id="å˜é‡ç±»å‹"><a href="#å˜é‡ç±»å‹" class="headerlink" title="å˜é‡ç±»å‹"></a>å˜é‡ç±»å‹</h3><p>ä¸åŒä¸è®¸å¤šå…¶ä»–çš„ç¼–ç¨‹è¯­è¨€ï¼ŒBashä¸ä»¥â€ç±»å‹â€æ¥åŒºåˆ†å˜é‡ã€‚æœ¬è´¨ä¸Šæ¥è¯´ï¼ŒBashå˜é‡æ˜¯å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æ ¹æ®ç¯å¢ƒçš„ä¸åŒï¼ŒBashå…è®¸å˜é‡æœ‰æ•´æ•°è®¡ç®—å’Œæ¯”è¾ƒã€‚å…¶ä¸­çš„å†³å®šå› ç´ æ˜¯å˜é‡çš„å€¼æ˜¯ä¸æ˜¯åªå«æœ‰æ•°å­—ã€‚</p><ol><li><strong>å±€éƒ¨å˜é‡</strong> å±€éƒ¨å˜é‡åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆï¼Œå…¶ä»–shellå¯åŠ¨çš„ç¨‹åºä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡ã€‚</li><li><strong>ç¯å¢ƒå˜é‡</strong> æ‰€æœ‰çš„ç¨‹åºï¼ŒåŒ…æ‹¬shellå¯åŠ¨çš„ç¨‹åºï¼Œéƒ½èƒ½è®¿é—®ç¯å¢ƒå˜é‡ï¼Œæœ‰äº›ç¨‹åºéœ€è¦ç¯å¢ƒå˜é‡æ¥ä¿è¯å…¶æ­£å¸¸è¿è¡Œã€‚å¿…è¦çš„æ—¶å€™shellè„šæœ¬ä¹Ÿå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚</li><li><strong>shellå˜é‡</strong> shellå˜é‡æ˜¯ç”±shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ã€‚shellå˜é‡ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ</li></ol><h3 id="å†…éƒ¨å˜é‡"><a href="#å†…éƒ¨å˜é‡" class="headerlink" title="å†…éƒ¨å˜é‡"></a>å†…éƒ¨å˜é‡</h3><table><thead><tr><th>å†…éƒ¨å˜é‡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>$BASH</td><td>BashäºŒè¿›åˆ¶ç¨‹åºæ–‡ä»¶çš„è·¯å¾„</td></tr><tr><td>$BASH_ENV</td><td>è¯¥ç¯å¢ƒå˜é‡ä¿å­˜ä¸€ä¸ªBashå¯åŠ¨æ–‡ä»¶è·¯å¾„ï¼Œå½“å¯åŠ¨ä¸€ä¸ªè„šæœ¬ç¨‹åºæ—¶ä¼šå»è¯»è¯¥ç¯å¢ƒå˜é‡æŒ‡å®šçš„æ–‡ä»¶ã€‚</td></tr><tr><td>$BASH_SUBSHELL</td><td>ä¸€ä¸ªæŒ‡ç¤ºå­shell(subshell)ç­‰çº§çš„å˜é‡ã€‚å®ƒæ˜¯Bashç‰ˆæœ¬3æ–°åŠ å…¥çš„ã€‚</td></tr><tr><td>$BASH_VERSINFO[n]</td><td>è¿™ä¸ªæ•°ç»„å«æœ‰6ä¸ªå…ƒç´ ï¼ŒæŒ‡ç¤ºäº†å®‰è£…çš„Bashç‰ˆæœ¬çš„ä¿¡æ¯ã€‚å®ƒå’Œ$BASH_VERSIONç›¸ä¼¼ï¼Œä½†å®ƒä»¬è¿˜æ˜¯æœ‰ä¸€äº›å°å°çš„ä¸åŒã€‚</td></tr><tr><td>$BASH_VERSION</td><td>å®‰è£…åœ¨ç³»ç»Ÿé‡Œçš„Bashç‰ˆæœ¬ã€‚</td></tr><tr><td>$DIRSTACK</td><td>åœ¨ç›®å½•å †æ ˆé‡Œé¢æœ€é¡¶ç«¯çš„å€¼(å®ƒå—pushdå’Œpopdçš„æ§åˆ¶)</td></tr><tr><td>$EDITOR</td><td>ç”±è„šæœ¬è°ƒç”¨çš„é»˜è®¤çš„ç¼–è¾‘å™¨ï¼Œä¸€èˆ¬æ˜¯viæˆ–æ˜¯emacsã€‚</td></tr><tr><td>$EUID</td><td>æœ‰æ•ˆç”¨æˆ·ID</td></tr><tr><td>$FUNCNAME</td><td>å½“å‰å‡½æ•°çš„åå­—</td></tr><tr><td>$GLOBIGNORE</td><td>ç”±é€šé…ç¬¦(globbing)æ‰©å±•çš„ä¸€åˆ—æ–‡ä»¶åæ¨¡å¼ã€‚</td></tr><tr><td>$GROUPS</td><td>ç›®å‰ç”¨æˆ·æ‰€å±çš„ç»„</td></tr><tr><td>$HOME</td><td>ç”¨æˆ·çš„å®¶ç›®å½•ï¼Œé€šå¸¸æ˜¯/home/username</td></tr><tr><td>$HOSTNAME</td><td>åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ç”±ä¸€ä¸ªåˆå§‹åŒ–è„šæœ¬ä¸­ç”¨hostnameå‘½ä»¤ç»™ç³»ç»ŸæŒ‡æ´¾ä¸€ä¸ªåå­—ã€‚ç„¶è€Œï¼Œgethostname()å‡½æ•°èƒ½è®¾ç½®Bashå†…éƒ¨å˜é‡E$HOSTNAMEã€‚</td></tr><tr><td>$HOSTTYPE</td><td>æœºå™¨ç±»å‹ï¼Œåƒ$MACHTYPEä¸€æ ·æ ‡è¯†ç³»ç»Ÿç¡¬ä»¶ã€‚</td></tr><tr><td>$IFS</td><td>å†…éƒ¨å­—æ®µåˆ†éš”ç¬¦</td></tr><tr><td>$IGNOREEOF</td><td>å¿½ç•¥EOFï¼šåœ¨é€€å‡ºæ§åˆ¶å°å‰æœ‰å¤šå°‘æ–‡ä»¶ç»“å°¾æ ‡è¯†ï¼ˆend-of-files,control-Dï¼‰ä¼šè¢«shellå¿½ç•¥ã€‚</td></tr><tr><td>$LC_COLLATE</td><td>å®ƒå¸¸å¸¸åœ¨.bashrcæˆ–/etc/profileæ–‡ä»¶é‡Œè¢«è®¾ç½®ï¼Œå®ƒæ§åˆ¶æ–‡ä»¶åæ‰©å±•å’Œæ¨¡å¼åŒ¹é…çš„å±•å¼€é¡ºåºã€‚</td></tr><tr><td>$LINENO</td><td>è¿™ä¸ªå˜é‡è¡¨ç¤ºåœ¨æœ¬shellè„šæœ¬ä¸­è¯¥å˜é‡å‡ºç°æ—¶æ‰€åœ¨çš„è¡Œæ•°ã€‚å®ƒåªåœ¨è„šæœ¬ä¸­å®ƒå‡ºç°æ—¶æœ‰æ„ä¹‰ï¼Œå®ƒä¸€èˆ¬å¯ç”¨äºè°ƒè¯•ã€‚</td></tr><tr><td>$MACHTYPE</td><td>æœºå™¨ç±»å‹ï¼Œè¯†åˆ«ç³»ç»Ÿçš„ç¡¬ä»¶ç±»å‹ã€‚</td></tr><tr><td>$OLDPWD</td><td>ä¸Šä¸€æ¬¡å·¥ä½œçš„ç›®å½•(â€œOLD-print-working-directoryâ€,ä½ ä¸Šä¸€æ¬¡è¿›å…¥å·¥ä½œçš„ç›®å½•)</td></tr><tr><td>$TZ</td><td>æ—¶åŒº</td></tr><tr><td>$MAILCHECK</td><td>æ¯éš”å¤šå°‘ç§’æ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„ä¿¡ä»¶</td></tr><tr><td>$OSTYPE</td><td>æ“ä½œç³»ç»Ÿç±»å‹</td></tr><tr><td>$MANPATH man</td><td>æŒ‡ä»¤çš„æœå¯»è·¯å¾„</td></tr><tr><td>$PATH</td><td>å¯æ‰§è¡Œç¨‹åºæ–‡ä»¶çš„æœç´¢è·¯å¾„ã€‚ä¸€èˆ¬æœ‰/usr/bin/, /usr/X11R6/bin/, /usr/local/bin,ç­‰ç­‰ã€‚</td></tr><tr><td>$PIPESTATUS</td><td>æ­¤æ•°ç»„å˜é‡ä¿å­˜äº†æœ€åæ‰§è¡Œçš„å‰å°ç®¡é“çš„é€€å‡ºçŠ¶æ€ã€‚ç›¸å½“æœ‰è¶£çš„æ˜¯ï¼Œå®ƒä¸ä¸€å®šå’Œæœ€åæ‰§è¡Œçš„å‘½ä»¤çš„é€€å‡ºçŠ¶æ€ä¸€æ ·ã€‚</td></tr><tr><td>$PPID</td><td>ä¸€ä¸ªè¿›ç¨‹çš„$PPIDå˜é‡ä¿å­˜å®ƒçš„çˆ¶è¿›ç¨‹çš„è¿›ç¨‹ID(pid)ã€‚ç”¨è¿™ä¸ªå˜é‡å’Œpidofå‘½ä»¤æ¯”è¾ƒã€‚</td></tr><tr><td>$PROMPT_COMMAND</td><td>è¿™ä¸ªå˜é‡åœ¨ä¸»æç¤ºç¬¦å‰($PS1æ˜¾ç¤ºä¹‹å‰)æ‰§è¡Œå®ƒçš„å€¼é‡Œä¿å­˜çš„å‘½ä»¤ã€‚</td></tr><tr><td>$PS1</td><td>è¿™æ˜¯ä¸»æç¤ºç¬¦ï¼ˆç¬¬ä¸€æç¤ºç¬¦ï¼‰ï¼Œå®ƒèƒ½åœ¨å‘½ä»¤è¡Œä¸Šçœ‹è§ã€‚</td></tr><tr><td>$PS2</td><td>å‰¯æç¤ºç¬¦ï¼ˆç¬¬äºŒæç¤ºç¬¦ï¼‰ï¼Œå®ƒåœ¨æœŸæœ›æœ‰é™„åŠ çš„è¾“å…¥æ—¶èƒ½çœ‹è§ã€‚å®ƒæ˜¾ç¤ºåƒâ€&gt;â€çš„æç¤ºã€‚</td></tr><tr><td>$PS3</td><td>ç¬¬ä¸‰æç¤ºç¬¦ã€‚å®ƒåœ¨ä¸€ä¸ªselectå¾ªç¯é‡Œæ˜¾ç¤º (å‚è€ƒä¾‹å­ 10-29)ã€‚</td></tr><tr><td>$PS4</td><td>ç¬¬å››æç¤ºç¬¦ï¼Œå®ƒåœ¨ç”¨-xé€‰é¡¹è°ƒç”¨ä¸€ä¸ªè„šæœ¬æ—¶çš„è¾“å‡ºçš„æ¯ä¸€è¡Œå¼€å¤´æ˜¾ç¤ºã€‚å®ƒé€šå¸¸æ˜¾ç¤ºåƒâ€+â€çš„æç¤ºã€‚</td></tr><tr><td>$PWD</td><td>å·¥ä½œç›®å½•(å³ä½ ç°åœ¨æ‰€å¤„çš„ç›®å½•) ï¼Œå®ƒç±»ä¼¼äºå†…å»ºå‘½ä»¤pwdã€‚</td></tr><tr><td>$REPLY</td><td>æ²¡æœ‰å˜é‡æä¾›ç»™readå‘½ä»¤æ—¶çš„é»˜è®¤å˜é‡ï¼è¿™ä¹Ÿé€‚ç”¨äºselectå‘½ä»¤çš„ç›®å½•ï¼Œä½†åªæ˜¯æä¾›è¢«é€‰æ‹©çš„å˜é‡é¡¹ç›®ç¼–å·è€Œä¸æ˜¯å˜é‡æœ¬èº«çš„å€¼ã€‚</td></tr><tr><td>$SECONDS</td><td>è„šæœ¬å·²è¿è¡Œçš„ç§’æ•°ã€‚</td></tr><tr><td>$SHELLOPTS</td><td>å·²ç»æ¿€æ´»çš„shellé€‰é¡¹åˆ—è¡¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªåªè¯»å˜é‡ã€‚</td></tr><tr><td>$SHLVL</td><td>SHELLçš„åµŒå¥—çº§åˆ«ï¼æŒ‡ç¤ºäº†Bashè¢«åµŒå¥—äº†å¤šæ·±ï¼åœ¨å‘½ä»¤è¡Œé‡Œï¼Œ$SHLVLæ˜¯1ï¼Œå› æ­¤åœ¨ä¸€ä¸ªè„šæœ¬é‡Œï¼Œå®ƒæ˜¯2</td></tr><tr><td>$TMOUT</td><td>å¦‚æœ$TMOUTç¯å¢ƒå˜é‡è¢«è®¾ä¸ºéé›¶å€¼æ—¶é—´å€¼timeï¼Œé‚£ä¹ˆç»è¿‡timeè¿™ä¹ˆé•¿çš„æ—¶é—´åï¼Œshellæç¤ºç¬¦ä¼šè¶…æ—¶ï¼è¿™å°†ä½¿æ­¤shellé€€å‡ºç™»å½•</td></tr><tr><td>$UID</td><td>ç”¨æˆ·IDå·ï¼Œè¿™æ˜¯å½“å‰ç”¨æˆ·çš„ç”¨æˆ·æ ‡è¯†å·ï¼Œå®ƒåœ¨/etc/passwdæ–‡ä»¶ä¸­è®°å½•ã€‚</td></tr></tbody></table><h3 id="ä½ç½®å‚æ•°"><a href="#ä½ç½®å‚æ•°" class="headerlink" title="ä½ç½®å‚æ•°"></a>ä½ç½®å‚æ•°</h3><table><thead><tr><th>å‚æ•°å¤„ç†</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>$#</code></td><td>ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td></tr><tr><td><code>$*</code></td><td>ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ã€‚å¦‚â€âˆ—â€ç”¨ã€Œâ€ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥â€1 2â€¦nâ€çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚</td></tr><tr><td><code>$$</code></td><td>è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·</td></tr><tr><td><code>$!</code></td><td>åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·</td></tr><tr><td><code>$@</code></td><td>ä¸âˆ—ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚å¦‚â€@â€ç”¨ã€Œâ€ã€æ‹¬èµ·æ¥çš„æƒ…å†µã€ä»¥â€1â€â€2â€ â€¦ â€œ$nâ€ çš„å½¢å¼è¾“å‡ºæ‰€æœ‰å‚æ•°ã€‚</td></tr><tr><td><code>$-</code></td><td>æ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚</td></tr><tr><td><code>$?</code></td><td>æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚</td></tr></tbody></table><h3 id="å­—ä¸²ç§»åŠ¨"><a href="#å­—ä¸²ç§»åŠ¨" class="headerlink" title="å­—ä¸²ç§»åŠ¨"></a>å­—ä¸²ç§»åŠ¨</h3><p><code>${string#substring}</code>ä»$stringå·¦è¾¹å¼€å§‹ï¼Œå‰¥å»æœ€çŸ­åŒ¹é…$substringå­ä¸²ã€‚<br><code>${string##substring}</code>ä»$stringå·¦è¾¹å¼€å§‹ï¼Œå‰¥å»æœ€é•¿åŒ¹é…$substringå­ä¸²ã€‚<br><code>${string%substring}</code> ä»$stringç»“å°¾å¼€å§‹ï¼Œå‰¥å»æœ€çŸ­åŒ¹é…$substringå­ä¸²ã€‚<br><code>${string%%substring}</code>ä»$stringç»“å°¾å¼€å§‹ï¼Œå‰¥å»æœ€é•¿åŒ¹é…$substringå­ä¸²ã€‚  </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">String=abcABC123ABCabc</span><br><span class="line"><span class="meta">#</span><span class="bash">       â”œ----â”˜     â”†</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       â””----------â”˜</span></span><br><span class="line"></span><br><span class="line">echo $&#123;String#a*C&#125;      # 123ABCabc</span><br><span class="line"><span class="meta">#</span><span class="bash"> å‰¥å»åŒ¹é…<span class="string">'a'</span>åˆ°<span class="string">'C'</span>ä¹‹é—´æœ€çŸ­çš„å­—ç¬¦ä¸².</span></span><br><span class="line"></span><br><span class="line">echo $&#123;String##a*C&#125;     # abc</span><br><span class="line"><span class="meta">#</span><span class="bash"> å‰¥å»åŒ¹é…<span class="string">'a'</span>åˆ°<span class="string">'C'</span>ä¹‹é—´æœ€é•¿çš„å­—ç¬¦ä¸².</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">String=abcABC123ABCabc</span><br><span class="line"><span class="meta">#</span><span class="bash">       â”†           ||</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       â””------------â”˜</span></span><br><span class="line"></span><br><span class="line">echo $&#123;String%b*c&#125;      # abcABC123ABCa</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»<span class="variable">$String</span>åé¢å°¾éƒ¨å¼€å§‹ï¼Œå‰¥å»åŒ¹é…<span class="string">'a'</span>åˆ°<span class="string">'C'</span>ä¹‹é—´æœ€çŸ­çš„å­—ç¬¦ä¸².</span></span><br><span class="line"></span><br><span class="line">echo $&#123;String%%b*c&#125;     # a</span><br><span class="line"><span class="meta">#</span><span class="bash"> ä»<span class="variable">$String</span>åé¢å°¾éƒ¨å¼€å§‹ï¼Œå‰¥å»åŒ¹é…<span class="string">'a'</span>åˆ°<span class="string">'C'</span>ä¹‹é—´æœ€é•¿çš„å­—ç¬¦ä¸².</span></span><br></pre></td></tr></table></figure><h3 id="ç”¨awkå¤„ç†å­—ç¬¦ä¸²"><a href="#ç”¨awkå¤„ç†å­—ç¬¦ä¸²" class="headerlink" title="ç”¨awkå¤„ç†å­—ç¬¦ä¸²"></a>ç”¨awkå¤„ç†å­—ç¬¦ä¸²</h3><p>Bashè„šæœ¬å¯ä»¥è°ƒç”¨awkçš„å­—ç¬¦ä¸²æ“ä½œåŠŸèƒ½æ¥ä»£æ›¿å®ƒè‡ªå·±å†…å»ºçš„å­—ç¬¦ä¸²æ“ä½œç¬¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">String=23skidoo1</span><br><span class="line"><span class="meta">#</span><span class="bash">      012345678    Bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">      123456789    awk</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ³¨æ„ä¸Šé¢ä¸¤ä¸ªç¨‹åºå¯¹ç´¢å¼•çš„ä¸åŒå¤„ç†:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> BashæŠŠå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ ‡å·ç§°ä¸º<span class="string">'0'</span>ã€‚</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> AwkæŠŠå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„æ ‡å·ç§°ä¸º<span class="string">'1'</span>ã€‚</span></span><br><span class="line"></span><br><span class="line">echo $&#123;String:2:4&#125; # position 3 (0-1-2), 4 characters long</span><br><span class="line">                                         # skid</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨awkä¸­ä¸Bashçš„<span class="variable">$&#123;string:pos:length&#125;</span>ç­‰åŒçš„æ˜¯substr(string,pos,length)ã€‚</span></span><br><span class="line">echo | awk '&#123; </span><br><span class="line">  print substr("'"$&#123;String&#125;"'",3,4)      # skid</span><br><span class="line">&#125;'</span><br><span class="line"><span class="meta">#</span><span class="bash">  ç”¨ä¸€ä¸ªç©ºçš„<span class="string">"echo"</span>ç”±ç®¡é“ä¼ ä¸€ä¸ªç©ºçš„è¾“å…¥ç»™awk,</span></span><br><span class="line"><span class="meta">#</span><span class="bash">+ è¿™æ ·å°±ä¸å¿…æä¾›ä¸€ä¸ªæ–‡ä»¶åç»™awkã€‚</span></span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><h2 id="for-while"><a href="#for-while" class="headerlink" title="for/while"></a>for/while</h2><p>é‡å¤ä¸€äº›å‘½ä»¤çš„ä»£ç å—,å¦‚æœæ¡ä»¶ä¸æ»¡è¶³å°±é€€å‡ºå¾ªç¯ã€‚</p><h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><p>åœ¨å¾ªç¯çš„æ¯æ¬¡æ‰§è¡Œä¸­ï¼Œargå°†é¡ºåºçš„å­˜å–listä¸­åˆ—å‡ºçš„å˜é‡ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªåŸºæœ¬çš„å¾ªç¯ç»“æ„ã€‚</p><blockquote><p>for arg in [list]<br>do<br>   command(s)â€¦<br>done  </p></blockquote><p>æ¯ä¸ª<code>[list]</code>ä¸­çš„å…ƒç´ éƒ½å¯èƒ½åŒ…å«å¤šä¸ªå‚æ•°ï¼Œåœ¨å¤„ç†å‚æ•°ç»„æ—¶ï¼Œè¿™æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä½¿ç”¨setå‘½ä»¤æ¥å¼ºåˆ¶è§£ææ¯ä¸ª<code>[list]</code>ä¸­çš„å…ƒç´ ã€‚å¹¶ä¸”åˆ†é…æ¯ä¸ªè§£æå‡ºæ¥çš„éƒ¨åˆ†åˆ°ä¸€ä¸ªä½ç½®å‚æ•°ä¸­ã€‚</p><p>å¾ªç¯çš„ä¸€ä¸ªç®€å•ä¾‹å­</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for planet in Mercury Venus Earth Mars Jupiter Saturn Uranus Neptune Pluto</span><br><span class="line">do</span><br><span class="line">  echo $planet  # æ¯ä¸ªè¡Œæ˜Ÿè¢«å•ç‹¬æ‰“å°åœ¨ä¸€è¡Œä¸Š.</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><p>ä¸€ä¸ªwhileå¾ªç¯å¯ä»¥æœ‰å¤šä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œä½†æ˜¯åªæœ‰æœ€åä¸€ä¸ªæ‰èƒ½å†³å®šæ˜¯å¦é€€å‡ºå¾ªç¯ã€‚ç„¶è€Œè¿™éœ€è¦ä¸€ç§æœ‰ç‚¹ä¸åŒçš„å¾ªç¯è¯­æ³•ã€‚</p><blockquote><p>while [condition]<br>do<br>  commandâ€¦<br>done  </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> --------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç®€å•çš„<span class="keyword">while</span>å¾ªç¯</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --------------------------</span></span><br><span class="line">var0=0</span><br><span class="line">LIMIT=10</span><br><span class="line"></span><br><span class="line">while [ "$var0" -lt "$LIMIT" ]</span><br><span class="line">do</span><br><span class="line">  echo -n "$var0 "        # -n å°†ä¼šé˜»æ­¢äº§ç”Ÿæ–°è¡Œã€‚</span><br><span class="line"><span class="meta">  #</span><span class="bash">             ^           ç©ºæ ¼,æ•°å­—ä¹‹é—´çš„åˆ†éš”ã€‚</span></span><br><span class="line">  var0=`expr $var0 + 1`   # var0=$(($var0+1))  ä¹Ÿå¯ä»¥ã€‚</span><br><span class="line">                          # var0=$((var0 + 1)) ä¹Ÿå¯ä»¥ã€‚</span><br><span class="line">                          # let "var0 += 1"    ä¹Ÿå¯ä»¥ã€‚</span><br><span class="line">done                      # ä½¿ç”¨å…¶ä»–çš„æ–¹æ³•ä¹Ÿè¡Œã€‚</span><br><span class="line"><span class="meta">#</span><span class="bash"> --------------------------</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¤šæ¡ä»¶çš„<span class="keyword">while</span>å¾ªç¯</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --------------------------</span></span><br><span class="line">var1=unset</span><br><span class="line">previous=$var1</span><br><span class="line"></span><br><span class="line">while echo "previous-variable = $previous"</span><br><span class="line">      echo</span><br><span class="line">      previous=$var1</span><br><span class="line">      [ "$var1" != end ] # è®°å½•ä¹‹å‰çš„$var1.</span><br><span class="line">      # è¿™ä¸ª"while"å¾ªç¯ä¸­æœ‰4ä¸ªæ¡ä»¶, ä½†æ˜¯åªæœ‰æœ€åä¸€ä¸ªèƒ½æ§åˆ¶å¾ªç¯.</span><br><span class="line">      # é€€å‡ºçŠ¶æ€ç”±ç¬¬4ä¸ªæ¡ä»¶å†³å®š.</span><br><span class="line">do</span><br><span class="line">echo "Input variable #1 (end to exit) "</span><br><span class="line">  read var1</span><br><span class="line">  echo "variable #1 = $var1"</span><br><span class="line">done </span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><h3 id="until"><a href="#until" class="headerlink" title="until"></a>until</h3><p>è¿™ä¸ªç»“æ„åœ¨å¾ªç¯çš„é¡¶éƒ¨åˆ¤æ–­æ¡ä»¶ï¼Œå¹¶ä¸”å¦‚æœæ¡ä»¶ä¸€ç›´ä¸ºfalseé‚£å°±ä¸€ç›´å¾ªç¯ä¸‹å»ã€‚(ä¸whileç›¸å)ã€‚</p><blockquote><p>until [condition-is-true]<br>do<br>  commandâ€¦<br>done  </p></blockquote><p><strong>æ³¨æ„âš ï¸</strong></p><ol><li>untilå¾ªç¯çš„åˆ¤æ–­åœ¨å¾ªç¯çš„é¡¶éƒ¨ï¼Œè¿™ä¸æŸäº›ç¼–ç¨‹è¯­è¨€æ˜¯ä¸åŒçš„ã€‚</li><li>ä¸forå¾ªç¯ä¸€æ ·ï¼Œå¦‚æœæƒ³æŠŠdoå’Œæ¡ä»¶æ”¾åœ¨ä¸€è¡Œé‡Œï¼Œå°±ä½¿ç”¨â€;â€ã€‚</li></ol><blockquote><p>until [condition-is-true] ; do</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">END_CONDITION=end</span><br><span class="line">until [ "$var1" = "$END_CONDITION" ]</span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ¨å¾ªç¯çš„é¡¶éƒ¨åˆ¤æ–­æ¡ä»¶.</span></span><br><span class="line">do</span><br><span class="line">  echo "Input variable #1 "</span><br><span class="line">  echo "($END_CONDITION to exit)"</span><br><span class="line">  read var1</span><br><span class="line">  echo "variable #1 = $var1"</span><br><span class="line">done</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><h3 id="åµŒå¥—å¾ªç¯"><a href="#åµŒå¥—å¾ªç¯" class="headerlink" title="åµŒå¥—å¾ªç¯"></a>åµŒå¥—å¾ªç¯</h3><p>åµŒå¥—å¾ªç¯å°±æ˜¯åœ¨ä¸€ä¸ªå¾ªç¯ä¸­è¿˜æœ‰ä¸€ä¸ªå¾ªç¯ï¼Œå†…éƒ¨å¾ªç¯åœ¨å¤–éƒ¨å¾ªç¯ä½“ä¸­ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">outer=1             # è®¾ç½®å¤–éƒ¨å¾ªç¯è®¡æ•°.</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¼€å§‹å¤–éƒ¨å¾ªç¯.</span></span><br><span class="line">for a in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line">  echo "Pass $outer in outer loop."</span><br><span class="line">  echo "---------------------"</span><br><span class="line">  inner=1           # é‡è®¾å†…éƒ¨å¾ªç¯çš„è®¡æ•°.</span><br><span class="line"></span><br><span class="line"><span class="meta">  #</span><span class="bash"> ===============================================</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> å¼€å§‹å†…éƒ¨å¾ªç¯.</span></span><br><span class="line">  for b in 1 2 3 4 5</span><br><span class="line">  do</span><br><span class="line">    echo "Pass $inner in inner loop."</span><br><span class="line">    let "inner+=1"  # å¢åŠ å†…éƒ¨å¾ªç¯è®¡æ•°.</span><br><span class="line">  done</span><br><span class="line"><span class="meta">  #</span><span class="bash"> å†…éƒ¨å¾ªç¯ç»“æŸ.</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> ===============================================</span></span><br><span class="line"></span><br><span class="line">  let "outer+=1"    # å¢åŠ å¤–éƒ¨å¾ªç¯çš„è®¡æ•°.</span><br><span class="line">  echo              # æ¯æ¬¡å¤–éƒ¨å¾ªç¯ä¹‹é—´çš„é—´éš”.</span><br><span class="line">done               </span><br><span class="line"><span class="meta">#</span><span class="bash"> å¤–éƒ¨å¾ªç¯ç»“æŸ.</span></span><br><span class="line"></span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><h3 id="å¾ªç¯æ§åˆ¶"><a href="#å¾ªç¯æ§åˆ¶" class="headerlink" title="å¾ªç¯æ§åˆ¶"></a>å¾ªç¯æ§åˆ¶</h3><p>å½±å“å¾ªç¯è¡Œä¸ºçš„å‘½ä»¤ <code>break</code>ï¼Œ <code>continue</code>ï¼Œ breakå‘½ä»¤å°†ä¼šè·³å‡ºå¾ªç¯ï¼Œcontinueå‘½ä»¤å°†ä¼šè·³è¿‡æœ¬æ¬¡å¾ªç¯ä¸‹è¾¹çš„è¯­å¥ï¼Œç›´æ¥è¿›å…¥ä¸‹æ¬¡å¾ªç¯ã€‚</p><p><strong>continueï¼š</strong> continueå‘½ä»¤ä¸breakå‘½ä»¤ç±»ä¼¼ï¼Œåªæœ‰ä¸€ç‚¹å·®åˆ«ï¼Œå®ƒä¸ä¼šè·³å‡ºæ‰€æœ‰å¾ªç¯ï¼Œä»…ä»…è·³å‡ºå½“å‰å¾ªç¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">LIMIT=19  # ä¸Šé™</span><br><span class="line"></span><br><span class="line">echo "Printing Numbers 1 through 20 (but not 3 and 11)."</span><br><span class="line"></span><br><span class="line">a=0</span><br><span class="line"></span><br><span class="line">while [ $a -le "$LIMIT" ]</span><br><span class="line">do</span><br><span class="line">  a=$(($a+1))</span><br><span class="line">  if [ "$a" -eq 3 ] || [ "$a" -eq 11 ]  # Excludes 3 and 11.</span><br><span class="line">  then</span><br><span class="line">    continue      # è·³è¿‡æœ¬æ¬¡å¾ªç¯å‰©ä¸‹çš„è¯­å¥.</span><br><span class="line">  fi</span><br><span class="line">  echo -n "$a "   # åœ¨$aç­‰äº3å’Œ11çš„æ—¶å€™,è¿™å¥å°†ä¸ä¼šæ‰§è¡Œ.</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p><strong>breakï¼š</strong> breakå‘½ä»¤å…è®¸è·³å‡ºæ‰€æœ‰å¾ªç¯ï¼ˆç»ˆæ­¢æ‰§è¡Œåé¢çš„æ‰€æœ‰å¾ªç¯ï¼‰ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œè„šæœ¬è¿›å…¥æ­»å¾ªç¯ç›´è‡³ç”¨æˆ·è¾“å…¥æ•°å­—å¤§äº5ã€‚è¦è·³å‡ºè¿™ä¸ªå¾ªç¯ï¼Œè¿”å›åˆ°shellæç¤ºç¬¦ä¸‹ï¼Œå°±è¦ä½¿ç”¨breakå‘½ä»¤ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    echo -n "Input a number between 1 to 5: "</span><br><span class="line">    read aNum</span><br><span class="line">    case $aNum in</span><br><span class="line">        1|2|3|4|5) echo "Your number is $aNum!"</span><br><span class="line">        ;;</span><br><span class="line">        *) echo "You do not select a number between 1 to 5, game is over!"</span><br><span class="line">            break</span><br><span class="line">        ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>âš ï¸ åœ¨åµŒå¥—å¾ªç¯ä¸­ï¼Œbreak å‘½ä»¤åé¢è¿˜å¯ä»¥è·Ÿä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè·³å‡ºç¬¬å‡ å±‚å¾ªç¯ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">break n #è¡¨ç¤ºè·³å‡ºç¬¬ n å±‚å¾ªç¯ã€‚</span><br></pre></td></tr></table></figure><h2 id="case-select"><a href="#case-select" class="headerlink" title="case/select"></a>case/select</h2><p>case/selectä¾é åœ¨ä»£ç å—çš„é¡¶éƒ¨æˆ–åº•éƒ¨çš„æ¡ä»¶åˆ¤æ–­æ¥å†³å®šç¨‹åºçš„åˆ†æ”¯ã€‚</p><h3 id="case"><a href="#case" class="headerlink" title="case"></a>case</h3><p>caseå®ƒå…è®¸é€šè¿‡åˆ¤æ–­æ¥é€‰æ‹©ä»£ç å—ä¸­å¤šæ¡è·¯å¾„ä¸­çš„ä¸€æ¡ã€‚å®ƒçš„ä½œç”¨å’Œå¤šä¸ªif/then/elseè¯­å¥ç›¸åŒï¼Œæ˜¯å®ƒä»¬çš„ç®€åŒ–ç»“æ„ï¼Œç‰¹åˆ«é€‚ç”¨äºåˆ›å»ºç›®å½•ã€‚</p><blockquote><p>case â€œ$variableâ€ in<br>  ?â€$condition1â€ )<br>  ?commandâ€¦<br>  ?;;<br>  ?â€$condition2â€ )<br>  ?commandâ€¦<br>  ?;;<br>esac  </p></blockquote><ul><li>å¯¹å˜é‡ä½¿ç”¨<code>&quot;&quot;</code>å¹¶ä¸æ˜¯å¼ºåˆ¶çš„ï¼Œå› ä¸ºä¸ä¼šå‘ç”Ÿå•è¯åˆ†ç¦»ã€‚</li><li>æ¯å¥æµ‹è¯•è¡Œï¼Œéƒ½ä»¥å³å°æ‹¬å·<code>)</code>ç»“å°¾ã€‚</li><li>æ¯ä¸ªæ¡ä»¶å—éƒ½ä»¥ä¸¤ä¸ªåˆ†å·ç»“å°¾<code>;;</code>ã€‚</li><li>caseå—çš„ç»“æŸä»¥esac(caseçš„åå‘æ‹¼å†™)ç»“å°¾ã€‚</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">clear # æ¸…å±.</span><br><span class="line"></span><br><span class="line">echo "          æˆ‘çš„ç®€å†"</span><br><span class="line">echo "          ------- "</span><br><span class="line">echo "ä¸‹é¢é€šè¿‡shellè„šæœ¬è¾“å‡ºæˆ‘çš„ç®€å†" </span><br><span class="line">echo</span><br><span class="line">echo "[B]asicinfo, åŸºæœ¬ä¿¡æ¯"</span><br><span class="line">echo "[E]ducation, æ•™è‚²ç»å†"</span><br><span class="line">echo "[I]tskill, IT æŠ€èƒ½"</span><br><span class="line">echo</span><br><span class="line">read person</span><br><span class="line">case "$person" in</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ³¨æ„,å˜é‡æ˜¯è¢«å¼•ç”¨çš„.</span></span><br><span class="line">  "B" | "b" )</span><br><span class="line"><span class="meta">  #</span><span class="bash"> æ¥å—å¤§å†™æˆ–å°å†™è¾“å…¥.</span></span><br><span class="line">  echo</span><br><span class="line">  echo "å°å¼Ÿè°ƒè°ƒ"</span><br><span class="line">  echo "æ‰‹  æœº : 136*****13"</span><br><span class="line">  echo "E-mail :wowohoo@qq.com"</span><br><span class="line">  echo "é¦–  é¡µ : http://JSLite.io"</span><br><span class="line">  ;;</span><br><span class="line"><span class="meta">  #</span><span class="bash"> æ³¨æ„,åœ¨æ¯ä¸ªé€‰é¡¹åè¾¹éƒ½éœ€è¦ä»¥;;ç»“å°¾.</span></span><br><span class="line"></span><br><span class="line">  "E" | "e" )</span><br><span class="line"><span class="meta">  #</span><span class="bash"> æ¥å—å¤§å†™æˆ–å°å†™è¾“å…¥.</span></span><br><span class="line">  echo "â–  2003å¹´9æœˆ åˆ° 2006å¹´8æœˆ"</span><br><span class="line">  echo "----------------------------"</span><br><span class="line">  echo "â€º å­¦æ ¡ : é‡é¸Ÿé«˜ä¸­"</span><br><span class="line">  echo "â€º ä¸“ä¸š : è‰ºæœ¯ç±»"</span><br><span class="line">  echo "â€º å­¦å† : é«˜ä¸­"</span><br><span class="line">  ;;</span><br><span class="line"><span class="meta">  #</span><span class="bash"> åè¾¹çš„[I]tskillçš„ä¿¡æ¯åœ¨è¿™é‡Œå°±çœç•¥äº†.</span></span><br><span class="line">          * )</span><br><span class="line"><span class="meta">   #</span><span class="bash"> é»˜è®¤é€‰é¡¹.</span></span><br><span class="line"><span class="meta">   #</span><span class="bash"> ç©ºè¾“å…¥(æ•²RETURN).</span></span><br><span class="line">   echo</span><br><span class="line">   echo "æ²¡æœ‰æ•°æ®ï¼"</span><br><span class="line">  ;;</span><br><span class="line">esac</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><p>selectç»“æ„æ˜¯å»ºç«‹èœå•çš„å¦ä¸€ç§å·¥å…·ï¼Œè¿™ç§ç»“æ„æ˜¯ä»kshä¸­å¼•å…¥çš„ã€‚</p><blockquote><p>select variable [in list]<br>do<br>  ?commandâ€¦<br>  ?break<br>done  </p></blockquote><p>ç”¨selectæ¥åˆ›å»ºèœå•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">PS3='é€‰æ‹©ä½ å–œæ¬¢çš„è”¬èœ: ' # è®¾ç½®æç¤ºç¬¦å­—ä¸².</span><br><span class="line"></span><br><span class="line">echo</span><br><span class="line">select vegetable in "è±†" "èƒ¡èåœ" "åœŸè±†" "æ´‹è‘±" "èŠœèç”˜è“"</span><br><span class="line">do</span><br><span class="line">  echo</span><br><span class="line">  echo "ä½ æœ€å–œæ¬¢çš„è”¬èœæ˜¯ $vegetable ã€‚"</span><br><span class="line">  echo "è®¨åŒ!"</span><br><span class="line">  echo</span><br><span class="line">  break  # å¦‚æœè¿™é‡Œæ²¡æœ‰'break'ä¼šå‘ç”Ÿä»€ä¹ˆ?</span><br><span class="line">done</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><p>å¦‚æœå¿½ç•¥äº†in liståˆ—è¡¨,é‚£ä¹ˆselectå‘½ä»¤å°†ä½¿ç”¨ä¼ é€’åˆ°è„šæœ¬çš„å‘½ä»¤è¡Œå‚æ•°($@),æˆ–è€…æ˜¯å‡½æ•°å‚æ•°(å½“selectæ˜¯åœ¨å‡½æ•°ä¸­æ—¶ï¼‰ä¸å¿½ç•¥in listæ—¶çš„forè¯­å¥ç›¸æ¯”è¾ƒï¼š<strong>for variable [in list]</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">PS3='é€‰æ‹©ä½ å–œæ¬¢çš„è”¬èœ:  '</span><br><span class="line">echo</span><br><span class="line">choice_of()&#123;</span><br><span class="line">  select vegetable</span><br><span class="line"><span class="meta">  #</span><span class="bash"> [<span class="keyword">in</span> list] è¢«å¿½ç•¥, æ‰€ä»¥<span class="string">'select'</span>ç”¨ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°.</span></span><br><span class="line">  do</span><br><span class="line">    echo</span><br><span class="line">    echo "ä½ æœ€å–œæ¬¢çš„è”¬èœæ˜¯  $vegetableã€‚"</span><br><span class="line">    echo "è®¨åŒ!"</span><br><span class="line">    echo</span><br><span class="line">    break</span><br><span class="line">  done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">choice_of "è±†" "ç±³é¥­" "èƒ¡èåœ" "åœŸè±†" "æ´‹è‘±" "èŠœèç”˜è“"</span><br><span class="line"><span class="meta">#</span><span class="bash">         <span class="variable">$1</span>   <span class="variable">$2</span>     <span class="variable">$3</span>      <span class="variable">$4</span>    <span class="variable">$5</span>     <span class="variable">$6</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">         ä¼ é€’ç»™choice_of() å‡½æ•°çš„å‚æ•°</span></span><br><span class="line"></span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>å’Œâ€çœŸæ­£çš„â€ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒBashä¹Ÿæœ‰å‡½æ•°ï¼Œè™½ç„¶åœ¨æŸäº›å®ç°æ–¹é¢ç¨æœ‰äº›é™åˆ¶ã€‚ ä¸€ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªå­ç¨‹åºï¼Œç”¨äºå®ç°ä¸€ä¸²æ“ä½œçš„ä»£ç å—(code block)ï¼Œå®ƒæ˜¯å®Œæˆç‰¹å®šä»»åŠ¡çš„â€é»‘ç›’å­â€ã€‚ å½“æœ‰é‡å¤ä»£ç ï¼Œå½“ä¸€ä¸ªä»»åŠ¡åªéœ€è¦å¾ˆå°‘çš„ä¿®æ”¹å°±è¢«é‡å¤å‡ æ¬¡æ‰§è¡Œæ—¶, è¿™æ—¶ä½ åº”è€ƒè™‘ä½¿ç”¨å‡½æ•°ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function function_name &#123; </span><br><span class="line">  command... </span><br><span class="line">&#125; </span><br><span class="line"><span class="meta">#</span><span class="bash"> æˆ–</span></span><br><span class="line">function_name () &#123; </span><br><span class="line">  command... </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸€ä¸ªå‡½æ•°å†…åµŒå¥—å¦ä¸€ä¸ªå‡½æ•°ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¸å¸¸ç”¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">f1 ()&#123;</span><br><span class="line">  f2 ()&#123; # nested</span><br><span class="line">    echo "Function \"f2\", inside \"f1\"."</span><br><span class="line">  &#125;</span><br><span class="line">&#125;  </span><br><span class="line">f2  #  å¼•èµ·é”™è¯¯.</span><br><span class="line">    #  å°±æ˜¯ä½ å…ˆ"declare -f f2"äº†ä¹Ÿæ²¡ç”¨.</span><br><span class="line"></span><br><span class="line">f1  #  ä»€ä¹ˆä¹Ÿä¸åš,å› ä¸ºè°ƒç”¨"f1"ä¸ä¼šè‡ªåŠ¨è°ƒç”¨"f2".</span><br><span class="line">f2  #  ç°åœ¨,å¯ä»¥æ­£ç¡®çš„è°ƒç”¨"f2"äº†,</span><br><span class="line">    #+ å› ä¸ºä¹‹å‰è°ƒç”¨"f1"ä½¿"f2"åœ¨è„šæœ¬ä¸­å˜å¾—å¯è§äº†.</span><br></pre></td></tr></table></figure><h3 id="å±€éƒ¨å˜é‡"><a href="#å±€éƒ¨å˜é‡" class="headerlink" title="å±€éƒ¨å˜é‡"></a>å±€éƒ¨å˜é‡</h3><p>å¦‚æœå˜é‡ç”¨localæ¥å£°æ˜ï¼Œé‚£ä¹ˆå®ƒåªèƒ½åœ¨è¯¥å˜é‡å£°æ˜çš„ä»£ç å—(block of code)ä¸­å¯è§ï¼Œè¿™ä¸ªä»£ç å—å°±æ˜¯å±€éƒ¨â€èŒƒå›´â€ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åœ¨å‡½æ•°å†…éƒ¨çš„å…¨å±€å’Œå±€éƒ¨å˜é‡.</span></span><br><span class="line">func ()</span><br><span class="line">&#123;</span><br><span class="line">  local loc_var=23       # å£°æ˜ä¸ºå±€éƒ¨å˜é‡.</span><br><span class="line">  echo                   # ä½¿ç”¨å†…å»ºçš„'local'å…³é”®å­—.</span><br><span class="line">  echo "\"loc_var\" in function = $loc_var"</span><br><span class="line">  global_var=999         # æ²¡æœ‰å£°æ˜ä¸ºå±€éƒ¨å˜é‡.</span><br><span class="line">                         # é»˜è®¤ä¸ºå…¨å±€å˜é‡. </span><br><span class="line">  echo "\"global_var\" in function = $global_var"</span><br><span class="line">&#125;  </span><br><span class="line"></span><br><span class="line">func</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç°åœ¨ï¼Œæ¥çœ‹çœ‹æ˜¯å¦å±€éƒ¨å˜é‡<span class="string">"loc_var"</span>èƒ½å¦åœ¨å‡½æ•°å¤–é¢å¯è§.</span></span><br><span class="line">echo "\"loc_var\" outside function = $loc_var"</span><br><span class="line">                                   # $loc_var outside function = </span><br><span class="line">                                   # ä¸, $loc_varä¸æ˜¯å…¨å±€å¯è®¿é—®çš„.</span><br><span class="line">echo "\"global_var\" outside function = $global_var"</span><br><span class="line">                                      # $global_var outside function = 999</span><br><span class="line">                                      # $global_var æ˜¯å…¨å±€å¯è®¿é—®çš„.</span><br><span class="line">exit 0</span><br><span class="line"><span class="meta">#</span><span class="bash">  ä¸In contrast to Cç›¸æ¯”, åœ¨å‡½æ•°å†…å£°æ˜çš„Bashå˜é‡åªæœ‰åœ¨</span></span><br><span class="line"><span class="meta">#</span><span class="bash">+ å®ƒè¢«æ˜ç¡®å£°æ˜æˆå±€éƒ¨çš„å˜é‡æ—¶æ‰æ˜¯å±€éƒ¨çš„</span></span><br></pre></td></tr></table></figure><p>âš ï¸ ï¼šåœ¨å‡½æ•°è°ƒç”¨ä¹‹å‰ï¼Œæ‰€æœ‰åœ¨å‡½æ•°å†…å£°æ˜ä¸”æ²¡æœ‰æ˜ç¡®å£°æ˜ä¸ºlocalçš„å˜é‡éƒ½å¯åœ¨å‡½æ•°ä½“å¤–å¯è§</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">func ()&#123;</span><br><span class="line">  global_var=37    #  åœ¨å‡½æ•°è¿˜æ²¡æœ‰è¢«è°ƒç”¨å‰</span><br><span class="line">                   #+ å˜é‡åªåœ¨å‡½æ•°å†…å¯è§. </span><br><span class="line">&#125;                  #  å‡½æ•°ç»“æŸ</span><br><span class="line">echo "global_var = $global_var"  # global_var =</span><br><span class="line">                                 #  å‡½æ•°"func"è¿˜æ²¡æœ‰è¢«è°ƒç”¨,</span><br><span class="line">                                 #+ æ‰€ä»¥å˜é‡$global_varè¿˜ä¸èƒ½è¢«è®¿é—®.</span><br><span class="line">func</span><br><span class="line">echo "global_var = $global_var"  # global_var = 37</span><br><span class="line">                                 # å·²ç»åœ¨å‡½æ•°è°ƒç”¨æ—¶è®¾ç½®äº†å€¼.</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°å‚æ•°"><a href="#å‡½æ•°å‚æ•°" class="headerlink" title="å‡½æ•°å‚æ•°"></a>å‡½æ•°å‚æ•°</h3><p>åœ¨Shellä¸­ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¯ä»¥å‘å…¶ä¼ é€’å‚æ•°ã€‚åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œé€šè¿‡ <code>$n</code> çš„å½¢å¼æ¥è·å–å‚æ•°çš„å€¼ï¼Œä¾‹å¦‚ï¼Œ$1è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ$2è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">funWithParam()&#123;</span><br><span class="line">    echo "ç¬¬ä¸€ä¸ªå‚æ•°ä¸º $1 !"</span><br><span class="line">    echo "ç¬¬äºŒä¸ªå‚æ•°ä¸º $2 !"</span><br><span class="line">    echo "ç¬¬åä¸ªå‚æ•°ä¸º $10 !"</span><br><span class="line">    echo "ç¬¬åä¸ªå‚æ•°ä¸º $&#123;10&#125; !"</span><br><span class="line">    echo "ç¬¬åä¸€ä¸ªå‚æ•°ä¸º $&#123;11&#125; !"</span><br><span class="line">    echo "å‚æ•°æ€»æ•°æœ‰ $# ä¸ª!"</span><br><span class="line">    echo "ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !"</span><br><span class="line">&#125;</span><br><span class="line">funWithParam 1 2 3 4 5 6 7 8 9 34 73</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°è¿”å›å€¼"><a href="#å‡½æ•°è¿”å›å€¼" class="headerlink" title="å‡½æ•°è¿”å›å€¼"></a>å‡½æ•°è¿”å›å€¼</h3><p>å®šä¹‰ä¸€ä¸ªå¸¦æœ‰returnè¯­å¥çš„å‡½æ•°ã€‚å‡½æ•°è¿”å›å€¼åœ¨è°ƒç”¨è¯¥å‡½æ•°åé€šè¿‡ <code>$?</code> æ¥è·å¾—ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">funWithReturn()&#123;</span><br><span class="line">    echo "è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—..."</span><br><span class="line">    echo "è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: "</span><br><span class="line">    read aNum</span><br><span class="line">    echo "è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: "</span><br><span class="line">    read anotherNum</span><br><span class="line">    echo "ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º $aNum å’Œ $anotherNum !"</span><br><span class="line">    return $(($aNum+$anotherNum))</span><br><span class="line">&#125;</span><br><span class="line">funWithReturn</span><br><span class="line">echo "è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º $? !"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: </span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º 1 å’Œ 2 !</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º 3 !</span></span><br></pre></td></tr></table></figure><p>âš ï¸ <code>$10</code> ä¸èƒ½è·å–ç¬¬åä¸ªå‚æ•°ï¼Œè·å–ç¬¬åä¸ªå‚æ•°éœ€è¦${10}ã€‚å½“n&gt;=10æ—¶ï¼Œéœ€è¦ä½¿ç”¨${n}æ¥è·å–å‚æ•°ã€‚</p><p><strong>ç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š</strong></p><table><thead><tr><th>å‚æ•°å¤„ç†</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>$#</td><td>ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td></tr><tr><td>$*</td><td>ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°</td></tr><tr><td>$$</td><td>è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·</td></tr><tr><td>$!</td><td>åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·</td></tr><tr><td>$@</td><td>ä¸$*ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚</td></tr><tr><td>$-</td><td>æ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚</td></tr><tr><td>$?</td><td>æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚</td></tr></tbody></table><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><h3 id="æµ‹è¯•ç»“æ„"><a href="#æµ‹è¯•ç»“æ„" class="headerlink" title="æµ‹è¯•ç»“æ„"></a>æµ‹è¯•ç»“æ„</h3><p>ä¸€ä¸ªif/thenç»“æ„èƒ½åŒ…å«åµŒå¥—çš„æ¯”è¾ƒå’Œæµ‹è¯•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo "Testing \"false\""</span><br><span class="line">if [ "false" ]              #  "false"æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸².</span><br><span class="line">then</span><br><span class="line">  echo "\"false\" is true." #+ å®ƒè¢«æµ‹è¯•ä¸ºçœŸ.</span><br><span class="line">else</span><br><span class="line">  echo "\"false\" is false."</span><br><span class="line">fi            # "false"ä¸ºçœŸ.</span><br></pre></td></tr></table></figure><p>Else if å’Œ elif</p><p>elifæ˜¯else ifçš„ç¼©å†™ã€‚ä½œç”¨æ˜¯åœ¨ä¸€ä¸ªif/thené‡ŒåµŒå…¥ä¸€ä¸ªå†…éƒ¨çš„if/thenç»“æ„ã€‚</p><p><code>[[]]</code>ç»“æ„æ¯”Bashç‰ˆæœ¬çš„<code>[]</code>æ›´é€šç”¨ã€‚ç”¨<code>[[ ... ]]</code>æµ‹è¯•ç»“æ„æ¯”ç”¨<code>[ ... ]</code>æ›´èƒ½é˜²æ­¢è„šæœ¬é‡Œçš„è®¸å¤šé€»è¾‘é”™è¯¯ã€‚æ¯”å¦‚è¯´ï¼Œ<code>&amp;&amp;</code>,<code>||</code>,<code>&lt;</code>å’Œ<code>&gt;</code>æ“ä½œç¬¦èƒ½åœ¨ä¸€ä¸ª<code>[[]]</code>æµ‹è¯•é‡Œé€šè¿‡ï¼Œä½†åœ¨<code>[]</code>ç»“æ„ä¼šå‘ç”Ÿé”™è¯¯ã€‚</p><p><code>(( ))</code>ç»“æ„æ‰©å±•å¹¶è®¡ç®—ä¸€ä¸ªç®—æœ¯è¡¨è¾¾å¼çš„å€¼ã€‚å¦‚æœè¡¨è¾¾å¼å€¼ä¸º0ï¼Œä¼šè¿”å›1æˆ–å‡ä½œä¸ºé€€å‡ºçŠ¶æ€ç ã€‚ä¸€ä¸ªéé›¶å€¼çš„è¡¨è¾¾å¼è¿”å›ä¸€ä¸ª0æˆ–çœŸä½œä¸ºé€€å‡ºçŠ¶æ€ç ã€‚è¿™ä¸ªç»“æ„å’Œå…ˆå‰testå‘½ä»¤åŠ<code>[]</code>ç»“æ„çš„è®¨è®ºåˆšå¥½ç›¸åã€‚</p><h3 id="æ–‡ä»¶æµ‹è¯•æ“ä½œç¬¦"><a href="#æ–‡ä»¶æµ‹è¯•æ“ä½œç¬¦" class="headerlink" title="æ–‡ä»¶æµ‹è¯•æ“ä½œç¬¦"></a>æ–‡ä»¶æµ‹è¯•æ“ä½œç¬¦</h3><p>å¦‚æœä¸‹é¢çš„æ¡ä»¶æˆç«‹è¿”å›çœŸã€‚</p><table><thead><tr><th>æ“ä½œç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td>-e</td><td>æ–‡ä»¶å­˜åœ¨</td></tr><tr><td>-a</td><td>æ–‡ä»¶å­˜åœ¨ï¼Œè¿™ä¸ªå’Œ-eçš„ä½œç”¨ä¸€æ ·. å®ƒæ˜¯ä¸èµæˆä½¿ç”¨çš„ï¼Œæ‰€ä»¥å®ƒçš„ç”¨å¤„ä¸å¤§ã€‚</td></tr><tr><td>-f</td><td>æ–‡ä»¶æ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶(ä¸æ˜¯ä¸€ä¸ªç›®å½•æˆ–æ˜¯ä¸€ä¸ªè®¾å¤‡æ–‡ä»¶)</td></tr><tr><td>-s</td><td>æ–‡ä»¶å¤§å°ä¸ä¸ºé›¶</td></tr><tr><td>-d</td><td>æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•</td></tr><tr><td>-b</td><td>æ–‡ä»¶æ˜¯ä¸€ä¸ªå—è®¾å¤‡(è½¯ç›˜ï¼Œå…‰é©±ï¼Œç­‰ç­‰ã€‚)</td></tr><tr><td>-c</td><td>æ–‡ä»¶æ˜¯ä¸€ä¸ªå­—ç¬¦è®¾å¤‡(é”®ç›˜ï¼Œè°ƒåˆ¶è§£è°ƒå™¨ï¼Œå£°å¡ï¼Œç­‰ç­‰ã€‚)</td></tr><tr><td>-p</td><td>æ–‡ä»¶æ˜¯ä¸€ä¸ªç®¡é“</td></tr><tr><td>-h</td><td>æ–‡ä»¶æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥</td></tr><tr><td>-L</td><td>æ–‡ä»¶æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥</td></tr><tr><td>-S</td><td>æ–‡ä»¶æ˜¯ä¸€ä¸ªsocket</td></tr><tr><td>-t</td><td>æ–‡ä»¶(æè¿°ç¬¦)ä¸ä¸€ä¸ªç»ˆç«¯è®¾å¤‡ç›¸å…³ã€‚</td></tr><tr><td>-r</td><td>æ–‡ä»¶æ˜¯å¦å¯è¯» (æŒ‡è¿è¡Œè¿™ä¸ªæµ‹è¯•å‘½ä»¤çš„ç”¨æˆ·çš„è¯»æƒé™)</td></tr><tr><td>-w</td><td>æ–‡ä»¶æ˜¯å¦å¯å†™ (æŒ‡è¿è¡Œè¿™ä¸ªæµ‹è¯•å‘½ä»¤çš„ç”¨æˆ·çš„è¯»æƒé™)</td></tr><tr><td>-x</td><td>æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ (æŒ‡è¿è¡Œè¿™ä¸ªæµ‹è¯•å‘½ä»¤çš„ç”¨æˆ·çš„è¯»æƒé™)</td></tr><tr><td>-g</td><td>æ–‡ä»¶æˆ–ç›®å½•çš„è®¾ç½®-ç»„-ID(sgid)æ ‡è®°è¢«è®¾ç½®ã€‚</td></tr><tr><td>-u</td><td>æ–‡ä»¶çš„è®¾ç½®-ç”¨æˆ·-ID(suid)æ ‡å¿—è¢«è®¾ç½®</td></tr><tr><td>-k</td><td>ç²˜ä½ä½è®¾ç½®</td></tr><tr><td>-N</td><td>æ–‡ä»¶æœ€åä¸€æ¬¡è¯»åè¢«ä¿®æ”¹</td></tr><tr><td>f1 -nt f2</td><td>æ–‡ä»¶f1æ¯”f2æ–°</td></tr><tr><td>f1 -ot f2</td><td>æ–‡ä»¶f1æ¯”f2æ—§</td></tr><tr><td>f1 -ef f2</td><td>æ–‡ä»¶f1å’Œf2 æ˜¯ç›¸åŒæ–‡ä»¶çš„ç¡¬é“¾æ¥</td></tr><tr><td>!</td><td>â€œéâ€ â€“ åè½¬ä¸Šé¢æ‰€æœ‰æµ‹è¯•çš„ç»“æœ(å¦‚æœæ²¡æœ‰ç»™å‡ºæ¡ä»¶åˆ™è¿”å›çœŸ)ã€‚</td></tr></tbody></table><p><strong>æ³¨æ„âš ï¸</strong></p><ol><li><code>-t</code> è¿™ä¸ªæµ‹è¯•é€‰é¡¹å¯ä»¥ç”¨äºæ£€æŸ¥è„šæœ¬ä¸­æ˜¯å¦æ ‡å‡†è¾“å…¥ ([ -t 0 ])æˆ–æ ‡å‡†è¾“å‡º([ -t 1 ])æ˜¯ä¸€ä¸ªç»ˆç«¯ã€‚</li><li><code>-g</code> å¦‚æœä¸€ä¸ªç›®å½•çš„sgidæ ‡å¿—è¢«è®¾ç½®ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹åˆ›å»ºçš„æ–‡ä»¶éƒ½å±äºæ‹¥æœ‰æ­¤ç›®å½•çš„ç”¨æˆ·ç»„ï¼Œè€Œä¸å¿…æ˜¯åˆ›å»ºæ–‡ä»¶çš„ç”¨æˆ·æ‰€å±çš„ç»„ã€‚è¿™ä¸ªç‰¹æ€§å¯¹åœ¨ä¸€ä¸ªå·¥ä½œç»„é‡Œçš„åŒäº«ç›®å½•å¾ˆæœ‰ç”¨å¤„ã€‚</li></ol><h3 id="æ¯”è¾ƒæ“ä½œç¬¦"><a href="#æ¯”è¾ƒæ“ä½œç¬¦" class="headerlink" title="æ¯”è¾ƒæ“ä½œç¬¦"></a>æ¯”è¾ƒæ“ä½œç¬¦</h3><p>äºŒå…ƒæ¯”è¾ƒæ“ä½œç¬¦æ¯”è¾ƒä¸¤ä¸ªå˜é‡æˆ–æ˜¯æ•°å€¼ã€‚æ³¨æ„æ•´æ•°å’Œå­—ç¬¦ä¸²æ¯”è¾ƒçš„åˆ†åˆ«ã€‚</p><p><strong>æ•´æ•°æ¯”è¾ƒ</strong></p><table><thead><tr><th>æ¯”è¾ƒæ“ä½œç¬¦</th><th>æè¿°</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td><code>-eq</code></td><td>ç­‰äº</td><td><code>if [ &quot;$a&quot; -eq &quot;$b&quot; ]</code></td></tr><tr><td><code>-ne</code></td><td>ä¸ç­‰äº</td><td><code>if [ &quot;$a&quot; -ne &quot;$b&quot; ]</code></td></tr><tr><td><code>-gt</code></td><td>å¤§äº</td><td><code>if [ &quot;$a&quot; -gt &quot;$b&quot; ]</code></td></tr><tr><td><code>-ge</code></td><td>å¤§äºç­‰äº</td><td><code>if [ &quot;$a&quot; -ge &quot;$b&quot; ]</code></td></tr><tr><td><code>-lt</code></td><td>å°äº</td><td><code>if [ &quot;$a&quot; -lt &quot;$b&quot; ]</code></td></tr><tr><td><code>-le</code></td><td>å°äºç­‰äº</td><td><code>if [ &quot;$a&quot; -le &quot;$b&quot; ]</code></td></tr><tr><td><code>&lt;</code></td><td>å°äº(åœ¨åŒæ‹¬å·é‡Œä½¿ç”¨)</td><td><code>((&quot;$a&quot; &lt; &quot;$b&quot;))</code></td></tr><tr><td><code>&lt;=</code></td><td>å°äºç­‰äº (åœ¨åŒæ‹¬å·é‡Œä½¿ç”¨)</td><td><code>((&quot;$a&quot; &lt;= &quot;$b&quot;))</code></td></tr><tr><td><code>&gt;</code></td><td>å¤§äº (åœ¨åŒæ‹¬å·é‡Œä½¿ç”¨)</td><td><code>((&quot;$a&quot; &gt; &quot;$b&quot;))</code></td></tr><tr><td><code>&gt;=</code></td><td>å¤§äºç­‰äº(åœ¨åŒæ‹¬å·é‡Œä½¿ç”¨)</td><td><code>((&quot;$a&quot; &gt;= &quot;$b&quot;))</code></td></tr></tbody></table><p><strong>å­—ç¬¦ä¸²æ¯”è¾ƒ</strong></p><table><thead><tr><th>æ¯”è¾ƒæ“ä½œç¬¦</th><th>æè¿°</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td>=</td><td>ç­‰äº</td><td><code>if [ &quot;$a&quot; = &quot;$b&quot; ]</code></td></tr><tr><td>==</td><td>ç­‰äºï¼Œå®ƒå’Œ=æ˜¯åŒä¹‰è¯ã€‚</td><td><code>if [ &quot;$a&quot; == &quot;$b&quot; ]</code></td></tr><tr><td>!=</td><td>ä¸ç›¸ç­‰ï¼Œæ“ä½œç¬¦åœ¨[[ â€¦ ]]ç»“æ„é‡Œä½¿ç”¨æ¨¡å¼åŒ¹é….</td><td><code>if [ &quot;$a&quot; != &quot;$b&quot; ]</code></td></tr><tr><td>&lt;</td><td>å°äºï¼Œä¾ç…§ASCIIå­—ç¬¦æ’åˆ—é¡ºåºï¼Œæ³¨æ„â€&lt;â€å­—ç¬¦åœ¨[ ] ç»“æ„é‡Œéœ€è¦è½¬ä¹‰</td><td><code>if [[ &quot;$a&quot; &lt; &quot;$b&quot; ]]</code> <code>if [ &quot;$a&quot; \&lt; &quot;$b&quot; ]</code></td></tr><tr><td>&gt;</td><td>å¤§äºï¼Œä¾ç…§ASCIIå­—ç¬¦æ’åˆ—é¡ºåºï¼Œæ³¨æ„â€&gt;â€å­—ç¬¦åœ¨[ ] ç»“æ„é‡Œéœ€è¦è½¬ä¹‰.</td><td><code>if [[ &quot;$a&quot; &gt; &quot;$b&quot; ]]</code> <code>if [ &quot;$a&quot; \&gt; &quot;$b&quot; ]</code></td></tr><tr><td>-z</td><td>å­—ç¬¦ä¸²ä¸ºâ€nullâ€ï¼Œå³æ˜¯æŒ‡å­—ç¬¦ä¸²é•¿åº¦ä¸ºé›¶ã€‚</td><td>-</td></tr><tr><td>-n</td><td>å­—ç¬¦ä¸²ä¸ä¸ºâ€nullâ€ï¼Œå³é•¿åº¦ä¸ä¸ºé›¶ã€‚</td><td>-</td></tr></tbody></table><p><strong>æ··åˆæ¯”è¾ƒ</strong></p><table><thead><tr><th>æ¯”è¾ƒæ“ä½œç¬¦</th><th>æè¿°</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td>-a</td><td>é€»è¾‘ä¸ï¼Œå¦‚æœexp1å’Œexp2éƒ½ä¸ºçœŸï¼Œåˆ™exp1 -a exp2è¿”å›çœŸã€‚</td><td><code>if [ &quot;$exp1&quot; -a &quot;$exp2&quot; ]</code></td></tr><tr><td>-o</td><td>é€»è¾‘æˆ–ï¼Œåªè¦exp1å’Œexp2ä»»ä½•ä¸€ä¸ªä¸ºçœŸï¼Œåˆ™exp1 -o exp2 è¿”å›çœŸã€‚</td><td><code>if [ &quot;$exp1&quot; -o &quot;$exp2&quot; ]</code></td></tr></tbody></table><p>åœ¨ä¸€ä¸ªæ··åˆæµ‹è¯•ä¸­ï¼ŒæŠŠä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡å¼•å·å¼•èµ·æ¥å¯èƒ½è¿˜ä¸å¤Ÿã€‚å¦‚æœ$stringå˜é‡æ˜¯ç©ºçš„è¯ï¼Œè¡¨è¾¾å¼<code>[ -n &quot;$string&quot; -o &quot;$a&quot; = &quot;$b&quot; ]</code>åœ¨ä¸€äº›Bashç‰ˆæœ¬ä¸­å¯èƒ½ä¼šå¼•èµ·é”™è¯¯ã€‚å®‰å…¨çš„åŠæ³•æ˜¯é™„åŠ ä¸€ä¸ªå¤–éƒ¨çš„å­—ç¬¦ä¸²ç»™å¯èƒ½æœ‰ç©ºå­—ç¬¦ä¸²å˜é‡æ¯”è¾ƒçš„æ‰€æœ‰å˜é‡ï¼Œ<code>[ &quot;x$string&quot; != x -o &quot;x$a&quot; = &quot;x$b&quot; ]</code> (xå­—ç¬¦å¯ä»¥äº’ç›¸æŠµæ¶ˆ)</p><h2 id="æ“ä½œå­—ç¬¦ä¸²"><a href="#æ“ä½œå­—ç¬¦ä¸²" class="headerlink" title="æ“ä½œå­—ç¬¦ä¸²"></a>æ“ä½œå­—ç¬¦ä¸²</h2><p>Bashå·²ç»æ”¯æŒäº†ä»¤äººæƒŠè®¶çš„å­—ç¬¦ä¸²æ“ä½œçš„æ•°é‡ã€‚ä¸ä¸€è‡´çš„å‘½ä»¤è¯­æ³•å’Œå†—ä½™çš„åŠŸèƒ½ï¼Œå¯¼è‡´çœŸçš„å­¦èµ·æ¥æœ‰å›°éš¾ã€‚</p><h3 id="å­—ç¬¦ä¸²é•¿åº¦"><a href="#å­—ç¬¦ä¸²é•¿åº¦" class="headerlink" title="å­—ç¬¦ä¸²é•¿åº¦"></a>å­—ç¬¦ä¸²é•¿åº¦</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String=abcABC123ABCabc</span><br><span class="line"></span><br><span class="line">echo $&#123;#String&#125;                 # 15</span><br><span class="line">echo `expr length $String`      # 15</span><br><span class="line">echo `expr "$String" : '.*'`    # 15</span><br></pre></td></tr></table></figure><p>åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´çš„å­—ä¸²çš„é•¿åº¦ï¼Œä¸‹é¢ä¸¤ç§æ–¹æ³•çš„ $substring æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p><code>expr match &quot;$string&quot; &#39;$substring&#39;</code><br><code>expr &quot;$string&quot; : &#39;$substring&#39;</code>   </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String=abcABC123ABCabc</span><br><span class="line"><span class="meta">#</span><span class="bash">       â””------â”˜</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       </span></span><br><span class="line">echo `expr match "$String" 'abc[A-Z]*.2'`   # 8</span><br><span class="line">echo `expr "$String" : 'abc[A-Z]*.2'`       # 8</span><br></pre></td></tr></table></figure><h3 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h3><p><code>expr index $string $substring</code> åœ¨å­—ç¬¦ä¸²$stringä¸­$substringç¬¬ä¸€æ¬¡å‡ºç°çš„æ•°å­—ä½ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String=abcABC123ABCabc</span><br><span class="line">echo `expr index "$String" C12`             # 6</span><br><span class="line">                                             # C å­—ç¬¦çš„ä½ç½®.</span><br><span class="line"></span><br><span class="line">echo `expr index "$String" 1c`              # 3</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">'c'</span> (<span class="keyword">in</span> <span class="comment">#3 position) matches before '1'.</span></span></span><br></pre></td></tr></table></figure><h3 id="å­—ä¸²æå–"><a href="#å­—ä¸²æå–" class="headerlink" title="å­—ä¸²æå–"></a>å­—ä¸²æå–</h3><p><code>${string:position}</code> æŠŠ$stringä¸­ä»ç¬¬$postionä¸ªå­—ç¬¦å¼€å§‹å­—ç¬¦ä¸²æå–å‡ºæ¥ã€‚å¦‚æœ$stringæ˜¯â€*â€æˆ–â€@â€ï¼Œåˆ™è¡¨ç¤ºä»ä½ç½®å‚æ•°ä¸­æå–ç¬¬$postionåé¢çš„å­—ç¬¦ä¸²ã€‚<br><code>${string:position:length}</code> æŠŠ$stringä¸­$postionä¸ªå­—ç¬¦åé¢çš„é•¿åº¦ä¸º$lengthçš„å­—ç¬¦ä¸²æå–å‡ºæ¥ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å­—ä¸²æå–</span></span><br><span class="line">String=abcABC123ABCabc</span><br><span class="line"><span class="meta">#</span><span class="bash">       0123456789.....</span></span><br><span class="line"><span class="meta">#</span><span class="bash">       ä»¥0å¼€å§‹è®¡ç®—.</span></span><br><span class="line"></span><br><span class="line">echo $&#123;String:0&#125;                            # abcABC123ABCabc</span><br><span class="line">echo $&#123;String:1&#125;                            # bcABC123ABCabc</span><br><span class="line">echo $&#123;String:7&#125;                            # 23ABCabc</span><br><span class="line">echo $&#123;String:7:3&#125;                          # 23A</span><br><span class="line">                                            # æå–çš„å­—ä¸²é•¿ä¸º3</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æœ‰æ²¡æœ‰å¯èƒ½ä»å­—ç¬¦ä¸²çš„å³è¾¹ç»“å°¾å¤„æå–?</span></span><br><span class="line">    </span><br><span class="line">echo $&#123;String:-4&#125;                           # abcABC123ABCabc</span><br><span class="line"><span class="meta">#</span><span class="bash"> é»˜è®¤æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œå°±ç›¸å½“äº<span class="variable">$&#123;parameter:-default&#125;</span>.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç„¶è€Œ. . .</span></span><br><span class="line"></span><br><span class="line">echo $&#123;String:(-4)&#125;                         # Cabc </span><br><span class="line">echo $&#123;String: -4&#125;                          # Cabc</span><br><span class="line"><span class="meta">#</span><span class="bash"> è¿™æ ·,å®ƒå¯ä»¥å·¥ä½œäº†.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœ†æ‹¬å·æˆ–é™„åŠ çš„ç©ºç™½å­—ç¬¦å¯ä»¥è½¬ä¹‰<span class="variable">$position</span>å‚æ•°.</span></span><br></pre></td></tr></table></figure><h2 id="è½¬ä¹‰å­—ç¬¦"><a href="#è½¬ä¹‰å­—ç¬¦" class="headerlink" title="è½¬ä¹‰å­—ç¬¦"></a>è½¬ä¹‰å­—ç¬¦</h2><p>åœ¨å•ä¸ªå­—ç¬¦å‰é¢çš„è½¬ä¹‰ç¬¦<code>\</code>å‘Šè¯‰shellä¸å¿…ç‰¹æ®Šè§£é‡Šè¿™ä¸ªå­—ç¬¦ï¼ŒåªæŠŠå®ƒå½“æˆå­—é¢ä¸Šçš„æ„æ€ã€‚ä½†åœ¨ä¸€äº›å‘½ä»¤å’Œè½¯ä»¶åŒ…é‡Œï¼Œæ¯”å¦‚è¯´echoå’Œsed,è½¬ä¹‰ä¸€ä¸ªå­—ç¬¦å¯èƒ½ä¼šå¼•èµ·ä¸€ä¸ªç›¸åçš„æ•ˆæœï¼ï¼å› ä¸ºå®ƒä»¬å¯èƒ½è§¦å‘é‚£ä¸ªå­—ç¬¦çš„ç‰¹æ®Šæ„æ€ã€‚</p><p><code>\r</code> å›è½¦<br><code>\n</code> æ¢è¡Œ<br><code>\c</code> ä¸æ¢è¡Œ<br><code>\t</code> æ°´å¹³åˆ¶è¡¨ç¬¦<br><code>\v</code> å‚ç›´åˆ¶è¡¨ç¬¦<br><code>\a</code> è¡¨ç¤ºâ€œè­¦å‘Šâ€ï¼ˆèœ‚é¸£æˆ–æ˜¯é—ªåŠ¨ï¼‰<br><code>\\</code> åæ–œæ å­—ç¬¦<br><code>\0ddd</code> å°†è‡ªè´Ÿè¡¨ç¤ºæˆ1åˆ°3çš„å…«è¿›åˆ¶æ•°å€¼  </p><h2 id="é€€å‡º-é€€å‡ºçŠ¶æ€"><a href="#é€€å‡º-é€€å‡ºçŠ¶æ€" class="headerlink" title="é€€å‡º/é€€å‡ºçŠ¶æ€"></a>é€€å‡º/é€€å‡ºçŠ¶æ€</h2><p><code>$?</code> å˜é‡ç”¨äºæµ‹è¯•è„šæœ¬ä¸­çš„å‘½ä»¤æ‰§è¡Œç»“æœéå¸¸çš„æœ‰ç”¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">echo hello</span><br><span class="line">echo $?    # å› ä¸ºä¸Šä¸€æ¡å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œæ‰“å°0ã€‚</span><br><span class="line"></span><br><span class="line">lskdf      # æ— æ•ˆå‘½ä»¤ã€‚</span><br><span class="line">echo $?    # å› ä¸ºä¸Šé¢çš„æ— æ•ˆå‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œæ‰“å°ä¸€ä¸ªéé›¶çš„å€¼ã€‚</span><br><span class="line"></span><br><span class="line">exit 113   # è¿”å›113çŠ¶æ€ç ç»™shellã€‚</span><br><span class="line">           # å¯ä»¥è¿è¡Œè„šæœ¬ç»“æŸåç«‹å³æ‰§è¡Œå‘½ä»¤"echo $?" æ£€éªŒã€‚</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">  ä¾ç…§æƒ¯ä¾‹,å‘½ä»¤<span class="string">'exit 0'</span>è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸ,</span></span><br><span class="line"><span class="meta">#</span><span class="bash">  å½“äº§ç”Ÿä¸€ä¸ªéé›¶é€€å‡ºå€¼æ—¶è¡¨ç¤ºä¸€ä¸ªé”™è¯¯æˆ–æ˜¯åå¸¸çš„æ¡ä»¶ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="å˜é‡é—´æ¥å¼•ç”¨"><a href="#å˜é‡é—´æ¥å¼•ç”¨" class="headerlink" title="å˜é‡é—´æ¥å¼•ç”¨"></a>å˜é‡é—´æ¥å¼•ç”¨</h3><p>å‡è®¾ä¸€ä¸ªå˜é‡çš„å€¼æ˜¯ç¬¬äºŒä¸ªå˜é‡çš„åå­—ã€‚è¿™æ ·è¦å¦‚ä½•æ‰èƒ½ä»ç¬¬ä¸€ä¸ªå˜é‡å¤„é‡æ–°è·å¾—ç¬¬äºŒä¸ªå˜é‡çš„å€¼ï¼Ÿä¾‹å¦‚ï¼Œ<code>a=letter_of_alphabet</code>å’Œ<code>letter_of_alphabet=z</code>ï¼Œæ˜¯å¦èƒ½ç”±aå¼•ç”¨å¾—åˆ°z ? è¿™ç¡®å®å¯ä»¥åŠåˆ°ï¼Œè¿™ç§æŠ€æœ¯è¢«ç§°ä¸ºé—´æ¥å¼•ç”¨ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=letter_of_alphabet   # å˜é‡"a"ä¿å­˜ç€å¦å¤–ä¸€ä¸ªå˜é‡çš„åå­—.</span><br><span class="line">letter_of_alphabet=z</span><br><span class="line"><span class="meta">#</span><span class="bash"> ç›´æ¥å¼•ç”¨.</span></span><br><span class="line">echo "a = $a"          # a = letter_of_alphabet</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é—´æ¥å¼•ç”¨.</span></span><br><span class="line">eval a=\$$a</span><br><span class="line">echo "Now a = $a"      # ç°åœ¨ a = z</span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure><h3 id="åŒæ‹¬å·ç»“æ„"><a href="#åŒæ‹¬å·ç»“æ„" class="headerlink" title="åŒæ‹¬å·ç»“æ„"></a>åŒæ‹¬å·ç»“æ„</h3><p>ç”¨<code>((...))</code>ç»“æ„æ¥ä½¿ç”¨Cé£æ ¼æ“ä½œç¬¦æ¥å¤„ç†å˜é‡ã€‚<a href="./example/demo26">demo26</a></p><p><code>`</code>shell(( a = 23 ))  # ä»¥Cé£æ ¼æ¥è®¾ç½®ä¸€ä¸ªå€¼ï¼Œåœ¨â€=â€ä¸¤è¾¹å¯ä»¥æœ‰ç©ºæ ¼.echo â€œa (initial value) = $aâ€</p><p>(( a++ ))     # Cé£æ ¼çš„è®¡ç®—åè‡ªå¢.echo â€œa (after a++) = $aâ€</p><p>(( aâ€“ ))     # Cé£æ ¼çš„è®¡ç®—åè‡ªå‡.echo â€œa (after aâ€“) = $aâ€</p><p>(( ++a ))     # Cé£æ ¼çš„è®¡ç®—å‰è‡ªå¢.echo â€œa (after ++a) = $aâ€</p><p>(( â€“a ))     # Cé£æ ¼çš„è®¡ç®—å‰è‡ªå‡.echo </p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Shell%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Angularç»„ä»¶é€šè®¯</title>
      <link>http://mydearest.cn/2020/Angular%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF.html</link>
      <guid>http://mydearest.cn/2020/Angular%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF.html</guid>
      <pubDate>Sun, 15 Mar 2020 14:54:18 GMT</pubDate>
      <description>
      
        &lt;p&gt;ç»„ä»¶é€šè®¯ï¼Œæ„åœ¨ä¸åŒçš„æŒ‡ä»¤å’Œç»„ä»¶ä¹‹é—´å…±äº«ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&quot;çˆ¶-gt-å­-input&quot;&gt;&lt;a href=&quot;#çˆ¶-gt-å­-input&quot; class=&quot;headerlink&quot; title=&quot;çˆ¶-&amp;gt;å­ input&quot;&gt;&lt;/a&gt;çˆ¶-&amp;gt;å­ input&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// parent.html&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;child [content]=&amp;quot;i&amp;quot;&amp;gt;&amp;lt;/child&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// child.ts&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@Input() content:string;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å­-gt-çˆ¶-output&quot;&gt;&lt;a href=&quot;#å­-gt-çˆ¶-output&quot; class=&quot;headerlink&quot; title=&quot;å­-&amp;gt;çˆ¶ output&quot;&gt;&lt;/a&gt;å­-&amp;gt;çˆ¶ output&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;// parent.html&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;child (changeNumber)=&amp;quot;changeNumber($event)&amp;quot;&amp;gt;&amp;lt;/child&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// child.ts&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@Output() changeNumber: EventEmitter&amp;lt;number&amp;gt; = new EventEmitter();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;this.changeNumber(1);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>ç»„ä»¶é€šè®¯ï¼Œæ„åœ¨ä¸åŒçš„æŒ‡ä»¤å’Œç»„ä»¶ä¹‹é—´å…±äº«ä¿¡æ¯ã€‚</p><h2 id="çˆ¶-gt-å­-input"><a href="#çˆ¶-gt-å­-input" class="headerlink" title="çˆ¶-&gt;å­ input"></a>çˆ¶-&gt;å­ input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// parent.html</span><br><span class="line">&lt;child [content]=&quot;i&quot;&gt;&lt;/child&gt;</span><br><span class="line"></span><br><span class="line">// child.ts</span><br><span class="line">@Input() content:string;</span><br></pre></td></tr></table></figure><h2 id="å­-gt-çˆ¶-output"><a href="#å­-gt-çˆ¶-output" class="headerlink" title="å­-&gt;çˆ¶ output"></a>å­-&gt;çˆ¶ output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// parent.html</span><br><span class="line">&lt;child (changeNumber)=&quot;changeNumber($event)&quot;&gt;&lt;/child&gt;</span><br><span class="line"></span><br><span class="line">// child.ts</span><br><span class="line">@Output() changeNumber: EventEmitter&lt;number&gt; = new EventEmitter();</span><br><span class="line"></span><br><span class="line">this.changeNumber(1);</span><br></pre></td></tr></table></figure><hr><a id="more"></a><h2 id="å­è·å–çˆ¶å®ä¾‹"><a href="#å­è·å–çˆ¶å®ä¾‹" class="headerlink" title="å­è·å–çˆ¶å®ä¾‹"></a>å­è·å–çˆ¶å®ä¾‹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// child.ts</span><br><span class="line">import &#123; Component, Input, EventEmitter, Output,Host,Inject,forwardRef &#125; from &apos;@angular/core&apos;;</span><br><span class="line"></span><br><span class="line">constructor( @Host() @Inject(forwardRef(() =&gt; ParentPage)) app: ParentPage) &#123;</span><br><span class="line">    app.content // è·å–çˆ¶å®ä¾‹çš„å‚æ•°</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çˆ¶è·å–å­å®ä¾‹"><a href="#çˆ¶è·å–å­å®ä¾‹" class="headerlink" title="çˆ¶è·å–å­å®ä¾‹"></a>çˆ¶è·å–å­å®ä¾‹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@ViewChild(ChildPage) child:ChildPage;</span><br><span class="line"></span><br><span class="line">this.child.content //è·å–å­å®ä¾‹çš„å‚æ•°</span><br></pre></td></tr></table></figure><h2 id="service-å…¬å…±çš„"><a href="#service-å…¬å…±çš„" class="headerlink" title="service å…¬å…±çš„"></a>service å…¬å…±çš„</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// parent.ts</span><br><span class="line">import&#123;myService&#125;from &apos;../child/myService&apos;</span><br><span class="line"></span><br><span class="line">å®ä¾‹åŒ– service.i++;</span><br><span class="line"></span><br><span class="line">// child.ts</span><br><span class="line">service.i</span><br></pre></td></tr></table></figure><p>è®°å¾—åœ¨app.module.ts åŠ ä¸Šproviders</p><h2 id="EventEmitter-eventbus"><a href="#EventEmitter-eventbus" class="headerlink" title="EventEmitter(eventbus)"></a>EventEmitter(eventbus)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// eventbus.service.ts</span><br><span class="line">import &#123;Component,Injectable,EventEmitter&#125; from &apos;@angular/core&apos;;</span><br><span class="line">@Injectable()</span><br><span class="line">export class myService &#123;</span><br><span class="line">    change: EventEmitter&lt;number&gt;;</span><br><span class="line"></span><br><span class="line">    constructor()&#123;</span><br><span class="line">        this.change = new EventEmitter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// parent.ts</span><br><span class="line">service.change.emit(&apos;123&apos;);</span><br><span class="line"></span><br><span class="line">// child.ts</span><br><span class="line">service.change.subscribe((value:string)=&gt;&#123;&#125;)</span><br></pre></td></tr></table></figure><h2 id="è®¢é˜…"><a href="#è®¢é˜…" class="headerlink" title="è®¢é˜…"></a>è®¢é˜…</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// service</span><br><span class="line">import &#123; Injectable &#125; from &apos;@angular/core&apos;;</span><br><span class="line">import &#123; Subject &#125; from &apos;rxjs/Subject&apos;;</span><br><span class="line"></span><br><span class="line">@Injectable()</span><br><span class="line">export class myService &#123;</span><br><span class="line"></span><br><span class="line">    private Source = new Subject&lt;any&gt;();</span><br><span class="line">    Status$ = this.Source.asObservable();</span><br><span class="line">    StatusMission(message: any) &#123;</span><br><span class="line">        this.Source.next(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// parent.ts</span><br><span class="line">this.service.StatusMission(&apos;123&apos;);</span><br><span class="line"></span><br><span class="line">// child.ts</span><br><span class="line">this.subscription = service.Status$.subscribe(message =&gt; &#123;&#125;);</span><br><span class="line"></span><br><span class="line">ngOnDestroy() &#123;</span><br><span class="line">    this.subscription.unsubscribe();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¸ƒç§ç»„ä»¶ä¸ç»„ä»¶çš„é€šè®¯æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©åº”ç”¨äºé€‚åˆçš„åœºæ™¯ã€‚</p><p>é¡ºå¸¦ä»‹ç»ä¸‹é‡è½½å½“å‰è·¯ç”±ï¼Œåœ¨Angularä¸­ï¼Œå½“ç‚¹å‡»å½“å‰è·¯ç”±çš„é“¾æ¥æ—¶ï¼Œé»˜è®¤æ˜¯å¿½ç•¥çš„ã€‚</p><h2 id="ç³Ÿç³•çš„è§£å†³æ–¹æ¡ˆ"><a href="#ç³Ÿç³•çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ç³Ÿç³•çš„è§£å†³æ–¹æ¡ˆ"></a>ç³Ÿç³•çš„è§£å†³æ–¹æ¡ˆ</h2><ol><li>è·³å‡ºå»ï¼Œå†è·³å›æ¥ã€‚</li><li>è®©æµè§ˆå™¨åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚ç„¶è€Œç›®å‰æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>onSameUrlNavigation</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li></ol><p><code>onSameUrlNavigation</code> æœ‰ä¸¤ä¸ªå€¼â€™reloadâ€™å’Œâ€™ignoreâ€™ã€‚é»˜è®¤ä¸ºâ€™ignoreâ€™ã€‚</p><ul><li><p>å®šä¹‰å½“è·¯ç”±å™¨æ”¶åˆ°ä¸€ä¸ªå¯¼èˆªåˆ°å½“å‰ URL çš„è¯·æ±‚æ—¶åº”è¯¥æ€ä¹ˆåšã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè·¯ç”±å™¨å°†ä¼šå¿½ç•¥è¿™æ¬¡å¯¼èˆªã€‚ä½†è¿™æ ·ä¼šé˜»æ­¢ç±»ä¼¼äº â€œåˆ·æ–°â€ æŒ‰é’®çš„ç‰¹æ€§ã€‚ ä½¿ç”¨è¯¥é€‰é¡¹å¯ä»¥é…ç½®å¯¼èˆªåˆ°å½“å‰ URL æ—¶çš„è¡Œä¸ºã€‚</p></li><li><p>è·¯ç”±å¯åŠ¨é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.routing.module.ts</span></span><br><span class="line">imports: [RouterModule.forRoot(routes, &#123;<span class="attr">onSameUrlNavigation</span>: <span class="string">'reload'</span>&#125;)]</span><br></pre></td></tr></table></figure></li></ul><p><code>reload</code>å¹¶ä¸ä¼šçœŸæ­£çš„æ‰§è¡ŒåŠ è½½å·¥ä½œï¼Œå®ƒåªæ˜¯é‡æ–°è§¦å‘äº†è·¯ç”±ä¸Šçš„eventsäº‹ä»¶å¾ªç¯ã€‚ä¹Ÿå¯ä»¥åŠ¨æ€é…ç½®reload<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.router.onSameUrlNavigation = <span class="string">'reload'</span>;</span><br><span class="line"><span class="keyword">this</span>.router.navigateByUrl(<span class="keyword">this</span>.router.url).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.router.onSameUrlNavigation = <span class="string">'ignore'</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><ul><li>Routeé…ç½®ä¸€ç³»åˆ—çš„è·¯ç”±äº‹ä»¶åœ¨ä½•ç§æƒ…å†µä¸‹åº”è¯¥è¢«è§¦å‘ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦é…ç½® runGuardsAndResolvers é€‰é¡¹ï¼Œå®ƒæœ‰3ä¸ªå¯é€‰å€¼ã€‚</li></ul><ol><li><p>paramsChange åªæœ‰å½“å‚æ•°å˜åŒ–æ—¶æ‰é‡æ–°å¯åŠ¨ï¼Œä¾‹å¦‚ â€˜article/:idâ€™ï¼Œå‚æ•°æŒ‡çš„å°±æ˜¯è¿™é‡Œçš„idã€‚</p></li><li><p>paramsOrQueryParamsChange å½“å‚æ•°æˆ–æŸ¥è¯¢å‚æ•°å˜åŒ–æ—¶é‡æ–°å¯åŠ¨ã€‚ä¾‹å¦‚ï¼šâ€™article/:category?limit=10ï¼Œå‚æ•°æŒ‡ â€˜categoryâ€™ï¼ŒæŸ¥è¯¢å‚æ•°æŒ‡â€™limitâ€™ï¼›</p></li><li><p>always æ— è®ºä½•ç§æƒ…å†µéƒ½é‡æ–°å¯åŠ¨</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> routes: Routes = [</span><br><span class="line">   &#123;</span><br><span class="line">       path: <span class="string">'article/:id'</span>,</span><br><span class="line">       component: ArticleComponent,</span><br><span class="line">       runGuardsAndResolvers: <span class="string">'paramsChange'</span>,</span><br><span class="line">   &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ul><li>ç»„ä»¶ä¸­å¤„ç†è·¯ç”±äº‹ä»¶<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">ArticleComponent</span> <span class="title">implement</span> <span class="title">OnInit</span>, <span class="title">OnDestroy</span> </span>&#123;</span><br><span class="line">   subscription: Subscription;</span><br><span class="line">   <span class="keyword">constructor</span>(private router: Router) &#123; &#125;</span><br><span class="line">   ngOnInit() &#123;</span><br><span class="line">       <span class="keyword">this</span>.subscription = <span class="keyword">this</span>.router.events.pipe(</span><br><span class="line">           filter(<span class="function"><span class="params">event</span> =&gt;</span> event instanceOf NavigationEnd)</span><br><span class="line">       ).subscribe(<span class="function"><span class="params">_</span> =&gt;</span> &#123;...&#125;) <span class="comment">// æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span></span><br><span class="line">   &#125;</span><br><span class="line">   ngOnDestroy() &#123;</span><br><span class="line">       <span class="keyword">this</span>.subscription.unsubscribe(); <span class="comment">// ä¸è¦å¿˜è®°å¤„ç†æ‰‹åŠ¨è®¢é˜…</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Angular%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>javascriptè®¾è®¡æ¨¡å¼</title>
      <link>http://mydearest.cn/2019/javascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html</link>
      <guid>http://mydearest.cn/2019/javascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html</guid>
      <pubDate>Tue, 17 Dec 2019 17:15:46 GMT</pubDate>
      <description>
      
        &lt;p&gt;å¦‚æœä»ä½œç”¨ä¸Šæ¥åˆ’åˆ†ï¼ŒJavaScriptè®¾è®¡æ¨¡å¼å¤§æ¦‚åˆ†ä¸ºäº”ç§è®¾è®¡ç±»å‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:left&quot;&gt;åˆ›å»ºå‹è®¾è®¡æ¨¡å¼&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;ç»“æ„å‹è®¾è®¡æ¨¡å¼&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;æŠ€å·§å‹è®¾è®¡æ¨¡å¼&lt;/th&gt;
&lt;th style=&quot;text-align:left&quot;&gt;æ¶æ„å‹è®¾è®¡æ¨¡å¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ç®€å•å·¥å‚æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å¤–è§‚æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;æ¨¡æ¿æ–¹æ³•æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;é“¾æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;åŒæ­¥æ¨¡å—&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å·¥å‚æ–¹æ³•æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;é€‚é…å™¨æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;è§‚å¯Ÿè€…æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å§”æ‰˜æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å¼‚æ­¥æ¨¡å—æ¨¡å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;æŠ½è±¡å·¥å‚æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ä»£ç†æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;çŠ¶æ€æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;æ•°æ®è®¿é—®å¯¹è±¡æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;Widgetæ¨¡å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å»ºé€ è€…æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;è£…é¥°è€…æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ç­–ç•¥æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;èŠ‚æµæ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;MVCæ¨¡å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;åŸå‹æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;æ¡¥æ¥æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;èŒè´£è¿æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ç®€å•æ¨¡æ¿æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;MVPæ¨¡å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å•ä¾‹æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ç»„åˆæ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å‘½ä»¤æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;æƒ°æ€§æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;MVVMæ¨¡å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;äº«å…ƒæ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;è®¿é—®è€…æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å‚ä¸è€…æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ä¸­ä»‹è€…æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;ç­‰å¾…è€…æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;å¤‡å¿˜å½•æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;è¿­ä»£å™¨æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;è§£é‡Šå™¨æ¨¡å¼&lt;/td&gt;
&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å¦‚æœä»ä½œç”¨ä¸Šæ¥åˆ’åˆ†ï¼ŒJavaScriptè®¾è®¡æ¨¡å¼å¤§æ¦‚åˆ†ä¸ºäº”ç§è®¾è®¡ç±»å‹ï¼š</p><table><thead><tr><th style="text-align:left">åˆ›å»ºå‹è®¾è®¡æ¨¡å¼</th><th style="text-align:left">ç»“æ„å‹è®¾è®¡æ¨¡å¼</th><th style="text-align:left">è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼</th><th style="text-align:left">æŠ€å·§å‹è®¾è®¡æ¨¡å¼</th><th style="text-align:left">æ¶æ„å‹è®¾è®¡æ¨¡å¼</th></tr></thead><tbody><tr><td style="text-align:left">ç®€å•å·¥å‚æ¨¡å¼</td><td style="text-align:left">å¤–è§‚æ¨¡å¼</td><td style="text-align:left">æ¨¡æ¿æ–¹æ³•æ¨¡å¼</td><td style="text-align:left">é“¾æ¨¡å¼</td><td style="text-align:left">åŒæ­¥æ¨¡å—</td></tr><tr><td style="text-align:left">å·¥å‚æ–¹æ³•æ¨¡å¼</td><td style="text-align:left">é€‚é…å™¨æ¨¡å¼</td><td style="text-align:left">è§‚å¯Ÿè€…æ¨¡å¼</td><td style="text-align:left">å§”æ‰˜æ¨¡å¼</td><td style="text-align:left">å¼‚æ­¥æ¨¡å—æ¨¡å¼</td></tr><tr><td style="text-align:left">æŠ½è±¡å·¥å‚æ¨¡å¼</td><td style="text-align:left">ä»£ç†æ¨¡å¼</td><td style="text-align:left">çŠ¶æ€æ¨¡å¼</td><td style="text-align:left">æ•°æ®è®¿é—®å¯¹è±¡æ¨¡å¼</td><td style="text-align:left">Widgetæ¨¡å¼</td></tr><tr><td style="text-align:left">å»ºé€ è€…æ¨¡å¼</td><td style="text-align:left">è£…é¥°è€…æ¨¡å¼</td><td style="text-align:left">ç­–ç•¥æ¨¡å¼</td><td style="text-align:left">èŠ‚æµæ¨¡å¼</td><td style="text-align:left">MVCæ¨¡å¼</td></tr><tr><td style="text-align:left">åŸå‹æ¨¡å¼</td><td style="text-align:left">æ¡¥æ¥æ¨¡å¼</td><td style="text-align:left">èŒè´£è¿æ¨¡å¼</td><td style="text-align:left">ç®€å•æ¨¡æ¿æ¨¡å¼</td><td style="text-align:left">MVPæ¨¡å¼</td></tr><tr><td style="text-align:left">å•ä¾‹æ¨¡å¼</td><td style="text-align:left">ç»„åˆæ¨¡å¼</td><td style="text-align:left">å‘½ä»¤æ¨¡å¼</td><td style="text-align:left">æƒ°æ€§æ¨¡å¼</td><td style="text-align:left">MVVMæ¨¡å¼</td></tr><tr><td style="text-align:left"></td><td style="text-align:left">äº«å…ƒæ¨¡å¼</td><td style="text-align:left">è®¿é—®è€…æ¨¡å¼</td><td style="text-align:left">å‚ä¸è€…æ¨¡å¼</td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left">ä¸­ä»‹è€…æ¨¡å¼</td><td style="text-align:left">ç­‰å¾…è€…æ¨¡å¼</td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left">å¤‡å¿˜å½•æ¨¡å¼</td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left">è¿­ä»£å™¨æ¨¡å¼</td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left">è§£é‡Šå™¨æ¨¡å¼</td><td style="text-align:left"></td></tr></tbody></table><hr><a id="more"></a><h2 id="ç¬¬-33-ç« -å¼‚å›½æˆ˜åœº-å‚ä¸è€…æ¨¡å¼"><a href="#ç¬¬-33-ç« -å¼‚å›½æˆ˜åœº-å‚ä¸è€…æ¨¡å¼" class="headerlink" title="ç¬¬ 33 ç«  å¼‚å›½æˆ˜åœº-å‚ä¸è€…æ¨¡å¼"></a>ç¬¬ 33 ç«  å¼‚å›½æˆ˜åœº-å‚ä¸è€…æ¨¡å¼</h2><ul><li>å‚ä¸è€…æ¨¡å¼ï¼šåœ¨ç‰¹å®šçš„ä½œç”¨åŸŸä¸­æ‰§è¡Œç»™å®šçš„å‡½æ•°,å¹¶å°†å‚æ•°åŸå°ä¸åŠ¨åœ°ä¼ é€’ã€‚</li></ul><h3 id="äº‹ä»¶ç»‘å®šæ–¹æ³•"><a href="#äº‹ä»¶ç»‘å®šæ–¹æ³•" class="headerlink" title="äº‹ä»¶ç»‘å®šæ–¹æ³•"></a>äº‹ä»¶ç»‘å®šæ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> A = &#123;</span><br><span class="line">    event: &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// äº‹ä»¶æ¨¡å—ï¼ˆäº‹ä»¶ç»‘å®šæ–¹æ³•ï¼‰</span></span><br><span class="line">A.event.on = <span class="function"><span class="keyword">function</span> (<span class="params">dom, type, fn</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç»‘å®š w3c æ ‡å‡†äº‹ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (dom.addEventListener) &#123;</span><br><span class="line">        dom.addEventListener(type, fn, <span class="literal">false</span>);</span><br><span class="line">    <span class="comment">// ç»‘å®š ie æ ‡å‡†äº‹ä»¶</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dom.attachEvent) &#123;</span><br><span class="line">        dom.attachEvent(<span class="string">'on'</span> + type, fn);</span><br><span class="line">    <span class="comment">// ç»‘å®š dom äº‹ä»¶</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        dom[<span class="string">'on'</span> + type] = fn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä¸Šé¢å­˜åœ¨çš„é—®é¢˜ï¼Œ addEventListener æ²¡æœ‰åŠæ³•åœ¨å›è°ƒå‡½æ•°ä¸­ä¼ é€’å‚æ•°ï¼Œ åšå¦‚ä¸‹çš„ä¿®æ”¹*/</span></span><br><span class="line">A.event.on2 = <span class="function"><span class="keyword">function</span> (<span class="params">dom, tyoe, fn, data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (dom.addEventListener) &#123;</span><br><span class="line">        dom.addEventListener(type, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// åœ¨domç¯å¢ƒä¸­è°ƒç”¨fn,å¹¶ä¼ é€’äº‹ä»¶å¯¹è±¡ä»¥åŠå‚æ•°</span></span><br><span class="line">            fn.call(dom, e, data)</span><br><span class="line">        &#125;, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// .............</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ call å’Œ apply æ–¹æ³•ä½¿æˆ‘ä»¬åœ¨ç‰¹å®šä½œç”¨åŸŸä¸­æ‰§è¡ŒæŸä¸ªå‡½æ•°å¹¶ä¼ å…¥å‚æ•°ã€‚</p><h3 id="å®ç°-bind-æ–¹æ³•"><a href="#å®ç°-bind-æ–¹æ³•" class="headerlink" title="å®ç° bind æ–¹æ³•"></a>å®ç° bind æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ä¸Šé¢çš„æ–¹æ³•ç¡®å®æ˜¯è§£å†³äº†å‚æ•°ä¼ é€’çš„é—®é¢˜ï¼Œ ä½†æ˜¯å¼•å‘äº†ä¸€ä¸ªæ–°çš„é—®é¢˜</span></span><br><span class="line"><span class="comment">* æ–°çš„é—®é¢˜å°±æ˜¯æ·»åŠ çš„æ˜¯åŒ¿åå‡½æ•°å¯¼è‡´äº‹ä»¶å›è°ƒå‡½æ•°ä¸èƒ½ç§»é™¤äº†</span></span><br><span class="line"><span class="comment">* ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ å°±å¼•å…¥äº†bind é—­åŒ…</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">let</span> bind = <span class="function"><span class="keyword">function</span> (<span class="params">fn, context</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é—­åŒ…è¿”å›æ–°å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// å¯¹ fn è£…é¥°å¹¶è¿”å›</span></span><br><span class="line">        <span class="keyword">return</span> fn.apply(context, <span class="built_in">arguments</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹äºbind æ–¹æ³•çš„æµ‹è¯•</span></span><br><span class="line"><span class="keyword">let</span> demoObj = &#123;</span><br><span class="line">    title: <span class="string">'è¿™æ˜¯ä¸€ä¸ªä¾‹å­'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> demoFn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.title)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> bindFn = bind(demoFn, demoObj);</span><br><span class="line">demoFn();               <span class="comment">// undefined</span></span><br><span class="line">bindFn();               <span class="comment">// 'è¿™æ˜¯ä¸€ä¸ªä¾‹å­'</span></span><br></pre></td></tr></table></figure><p>bindFnè¿”å›äº†ç»“æœï¼Œå› ä¸º bindFn åœ¨æ‰§è¡Œæ—¶ demoObj å‚ä¸äº†è¿›æ¥å¹¶æä¾›äº†ä½œç”¨åŸŸã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* å®é™…åº”ç”¨</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">let</span> button = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'button'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> p = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'p'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// è¾“å‡ºå‚æ•°å’Œ this å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> demoFn = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>, <span class="keyword">this</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“æ²¡æœ‰ä¼ å…¥å‚ä¸å¯¹è±¡å¼ æµè§ˆå™¨ä¸‹ this æŒ‡å‘ Window</span></span><br><span class="line"><span class="keyword">let</span> bindFn = bind(demoFn);</span><br><span class="line">button.addEventListener(<span class="string">'click'</span>, bindFn); <span class="comment">// [MouseEvent]  Window</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å…¥button this æŒ‡å‘äº†button</span></span><br><span class="line">bindFn = bind(demoFn, button); <span class="comment">// [MouseEvent] &lt;button&gt;æŒ‰é’®&lt;/button&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å…¥P this æŒ‡å‘äº†P</span></span><br><span class="line">bindFn = bind(demoFn, p); <span class="comment">// [MouseEvent] &lt;p&gt;p&lt;/p&gt;</span></span><br><span class="line"></span><br><span class="line">button.removeEventListener(<span class="string">'click'</span>, bindFn)</span><br></pre></td></tr></table></figure><p>ä¸ä½¿ç”¨å®ç°çš„ bind æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨åŸç”Ÿçš„ bind</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bindFN = demoFn.bind()</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°æŸ¯é‡ŒåŒ–"><a href="#å‡½æ•°æŸ¯é‡ŒåŒ–" class="headerlink" title="å‡½æ•°æŸ¯é‡ŒåŒ–"></a>å‡½æ•°æŸ¯é‡ŒåŒ–</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ç¬¬ä¸€ä¸ªéœ€æ±‚æ˜¯æ·»åŠ äº‹ä»¶å’Œç§»é™¤äº‹ä»¶å·²ç»æˆåŠŸäº†</span></span><br><span class="line"><span class="comment">* ç¬¬äºŒä¸ªéœ€æ±‚å°±æ˜¯å‡½æ•°æ·»åŠ é¢å¤–çš„è‡ªå®šä¹‰å‚æ•°</span></span><br><span class="line"><span class="comment">* è¿™ä¸ªæ—¶å€™å°±éœ€è¦å€ŸåŠ©äºå‡½æ•°æŸ¯é‡ŒåŒ–äº†</span></span><br><span class="line"><span class="comment">* å‡½æ•°æŸ¯é‡ŒåŒ–ï¼š æ ¹æ®ä¼ é€’çš„å‚æ•°ä¸åŒï¼Œ è®©ä¸€ä¸ªå‡½æ•°å­˜åœ¨å¤šç§çŠ¶æ€ï¼Œ å¤„ç†çš„æ˜¯å‡½æ•°ã€‚</span></span><br><span class="line"><span class="comment">* */</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°æŸ¯é‡ŒåŒ–ï¼ˆfunction curryingï¼‰åˆç§°éƒ¨åˆ†æ±‚å€¼ã€‚ä¸€ä¸ªå‡½æ•°é¦–å…ˆä¼šæ¥å—ä¸€äº›å‚æ•°ï¼Œæ¥å—äº†è¿™äº›å‚æ•°åï¼Œ</p><p>è¯¥å‡½æ•°å¹¶ä¸ä¼šç«‹å³æ±‚å€¼ï¼Œè€Œæ˜¯ç»§ç»­è¿”å›å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œåˆšæ‰ä¼ å…¥çš„å‚æ•°åœ¨å‡½æ•°å½¢æˆçš„é—­åŒ…é‡Œè¢«ä¿å­˜èµ·æ¥ã€‚å¾…åˆ°å‡½æ•°çœŸæ­£éœ€è¦æ±‚å€¼çš„æ—¶å€™ï¼Œä¹‹å‰ä¼ å…¥çš„å‚æ•°éƒ½ä¼šè¢«ä¸€æ¬¡æ€§ç”¨äºæ±‚å€¼ã€‚</p><p>æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> curry = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç¼“å­˜æ•°ç»„çš„ slice æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">let</span> Slice = [].slice;</span><br><span class="line">    <span class="comment">// ä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹æˆªå–</span></span><br><span class="line">    <span class="keyword">let</span> args = Slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// é—­åŒ…è¿”å›æ–°å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// arguments ç±»æ•°ç»„ è½¬åŒ–ä¸ºæ•°ç»„</span></span><br><span class="line">        <span class="keyword">let</span> addArgs = Slice.call(<span class="built_in">arguments</span>),</span><br><span class="line">            <span class="comment">// æ‹¼æ¥å‚æ•°</span></span><br><span class="line">            allArgs = args.concat(addArgs);</span><br><span class="line">            <span class="comment">// è¿”å›æ–°å‡½æ•°</span></span><br><span class="line">        <span class="keyword">return</span> fn.apply(<span class="literal">null</span>, allArgs);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æŸ¯é‡ŒåŒ–çš„æµ‹è¯•</span></span><br><span class="line"><span class="keyword">let</span> add = <span class="function"><span class="keyword">function</span> (<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> add5 = <span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> add(<span class="number">5</span>, num)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">2</span>));          <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(add5(<span class="number">6</span>));           <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line">add5 = curry(add, <span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(add5(<span class="number">6</span>));           <span class="comment">// 11</span></span><br><span class="line"><span class="keyword">let</span> add7and8 = curry(add, <span class="number">7</span>, <span class="number">8</span>);</span><br><span class="line"><span class="built_in">console</span>.log(add7and8());        <span class="comment">// 15</span></span><br></pre></td></tr></table></figure><p>å¯¹ add æ–¹æ³•çš„å¤šæ€æ‰©å±•ä¸éœ€è¦å†å£°æ˜å‡½æ•°äº†ã€‚</p><h3 id="é€šè¿‡æŸ¯é‡ŒåŒ–é‡å†™-bind"><a href="#é€šè¿‡æŸ¯é‡ŒåŒ–é‡å†™-bind" class="headerlink" title="é€šè¿‡æŸ¯é‡ŒåŒ–é‡å†™ bind"></a>é€šè¿‡æŸ¯é‡ŒåŒ–é‡å†™ bind</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* é€šè¿‡æŸ¯é‡ŒåŒ–é‡å†™bind</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">let</span> bind = <span class="function"><span class="keyword">function</span> (<span class="params">fn, context</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> Slice = <span class="built_in">Array</span>.prototype.slice,</span><br><span class="line">        args = Slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> addArgs = Slice.call(<span class="built_in">arguments</span>),</span><br><span class="line">            allArgs = addArgs.concat(args);</span><br><span class="line">        <span class="keyword">return</span> fn.apply(context, allArgs);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">let</span> demoData1 = &#123;</span><br><span class="line">    text: <span class="string">'è¿™æ˜¯ç¬¬ä¸€ç»„æ•°æ®'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> demoData2 = &#123;</span><br><span class="line">    text: <span class="string">'è¿™æ˜¯ç¬¬äºŒç»„æ•°æ®'</span></span><br><span class="line">&#125;;</span><br><span class="line">bindFn = bind(demoFn, button, demoData1); <span class="comment">// [MouseEvent, Object] &lt;button&gt;æŒ‰é’®&lt;/button&gt;</span></span><br><span class="line">bindFn = bind(demoFn, button, demoData1, demoData2); <span class="comment">// [MouseEvent, Object, Object] &lt;button&gt;æŒ‰é’®&lt;/button&gt;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¹‹å‰çš„ button ä¸ºä¾‹ï¼Œæˆ‘ä»¬ç°åœ¨èƒ½åœ¨å›è°ƒå‡½æ•°ä¸­è·å–ä¼ é€’çš„è‡ªå®šä¹‰çš„æ•°æ®äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bindFn = demoFn.bind(button, demoData1); <span class="comment">// [Object, MouseEvent] &lt;button&gt;æŒ‰é’®&lt;/button&gt; äº‹ä»¶å¯¹è±¡æ”¾åé¢çš„</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* ä¸ºäº†æµè§ˆå™¨å…¼å®¹æ€§çš„å®ç°ï¼Œ æˆ‘ä»¬éœ€è¦ç»™æœªæä¾›bindæ–¹æ³•çš„æµè§ˆå™¨æ·»åŠ bindæ–¹æ³•</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">Function</span>.prototype.bind === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> Slice = <span class="built_in">Array</span>.prototype.slice,</span><br><span class="line">            args = Slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> addArgs = Slice.call(<span class="built_in">arguments</span>),</span><br><span class="line">                allArgs = args.concat(addArgs);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.apply(context, allArgs);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å¯¹äºå‡½æ•°ç»‘å®šï¼Œå°†å‡½æ•°ä»¥å‡½æ•°æŒ‡é’ˆï¼ˆå‡½æ•°åçš„æ–¹å¼ä¼ é€’ï¼‰ï¼Œä½¿å‡½æ•°åœ¨è¢«ç»‘å®šå¯¹è±¡ä¸Šçš„ä½œç”¨åŸŸä¸­æ‰§è¡Œï¼Œå¯ä»¥é¡ºåˆ©è®¿é—®åˆ°å¯¹è±¡å†…éƒ¨çš„æ•°æ®ã€‚ç¼ºç‚¹ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜æ‰§è¡Œé€Ÿåº¦ä¼šç¨æ…¢ã€‚æ¯”è¾ƒå¸¸ç”¨äºäº‹ä»¶ï¼ŒsetTimeoutç­‰å¼‚æ­¥é€»è¾‘çš„å›è°ƒå‡½æ•°ã€‚</p><p>å¯¹äºå‡½æ•°æŸ¯é‡ŒåŒ–åˆ™æ˜¯å°†æ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬åŒ–æˆæ¥å—ä¸€éƒ¨åˆ†å‚æ•°çš„æ–°å‡½æ•°ï¼Œä½™ä¸‹çš„å‚æ•°ä¿å­˜ä¸‹æ¥ã€‚å½“è°ƒç”¨å¼ä¼ å…¥çš„å‚æ•°å’Œä¿å­˜çš„å‚æ•°ä¸€èµ·æ‰§è¡Œã€‚å› ä¸ºè¦ä¿å­˜å‚æ•°åˆ°é—­åŒ…å†…ï¼Œæ‰€ä»¥åŒæ ·ä¹Ÿä¼šå¤šæ¶ˆè€—äº›èµ„æºã€‚</p><h2 id="ç¬¬-34-ç« -å…¥åœºæ¨¡å¼-ç­‰å¾…è€…æ¨¡å¼"><a href="#ç¬¬-34-ç« -å…¥åœºæ¨¡å¼-ç­‰å¾…è€…æ¨¡å¼" class="headerlink" title="ç¬¬ 34 ç«   å…¥åœºæ¨¡å¼-ç­‰å¾…è€…æ¨¡å¼"></a>ç¬¬ 34 ç«   å…¥åœºæ¨¡å¼-ç­‰å¾…è€…æ¨¡å¼</h2><ul><li><p>ç­‰å¾…è€…æ¨¡å¼: é€šè¿‡å¯¹å¤šä¸ªå¼‚æ­¥è¿›ç¨‹è¿›è¡Œç›‘å¬ï¼Œæ¥è§¦å‘æœªæ¥çš„åŠ¨ä½œã€‚(æ„å»ºç®€æ˜“Promiseå¯¹è±¡ï¼Œå®ç°çŠ¶æ€æœº)</p></li><li><p>åœºæ™¯: ä¸èƒ½ç¡®å®šå…ˆåçš„å¼‚æ­¥é€»è¾‘ï¼Œä½†éœ€è¦ç­‰å¾…æ‰€æœ‰å¼‚æ­¥é€»è¾‘çš„å®Œæˆã€‚æ‰€æœ‰æˆåŠŸåæ‰§è¡ŒæˆåŠŸå›è°ƒï¼Œæœ‰ä¸€ä¸ªå¤±è´¥å°±æ‰§è¡Œå¤±è´¥çš„å›è°ƒå‡½æ•°ã€‚</p></li></ul><p>ä¸éœ€è¦å®æ—¶ç›‘å¬æ‰€æœ‰å¼‚æ­¥é€»è¾‘æ˜¯å¦å®Œæˆï¼Œåªéœ€è¦ç›‘å¬æ³¨å†Œçš„å¼‚æ­¥é€»è¾‘çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¯¹æ‰€æœ‰çš„å¼‚æ­¥é€»è¾‘çš„çŠ¶æ€è¿›è¡Œä¸€æ¬¡ç¡®è®¤è¿­ä»£ã€‚</p><h3 id="æ¥å£æ‹†åˆ†"><a href="#æ¥å£æ‹†åˆ†" class="headerlink" title="æ¥å£æ‹†åˆ†"></a>æ¥å£æ‹†åˆ†</h3><p>ä¸€ä¸ªç­‰å¾…è€…å¯¹è±¡å†…éƒ¨å®šä¹‰äº†3ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«å­˜å‚¨ç›‘å¬å¯¹è±¡ï¼ŒæˆåŠŸå›è°ƒå’Œå¤±è´¥å›è°ƒï¼›1ä¸ªç›‘æ§å¯¹è±¡çš„ç±»ï¼Œæœ‰2ä¸ªå±æ€§ï¼ˆæˆåŠŸçŠ¶æ€å’Œå¤±è´¥çŠ¶æ€ï¼‰ï¼Œ2ä¸ªæ–¹æ³•ï¼ˆæˆåŠŸå’Œå¤±è´¥æ–¹æ³•ï¼‰ï¼›ç§æœ‰æ–¹æ³•_execæ¥å¤„ç†æˆåŠŸæˆ–å¤±è´¥çš„å›è°ƒï¼›3ä¸ªå…±æœ‰æ–¹æ³•æ¥å£ï¼šwhenï¼ˆç›‘å¬å¼‚æ­¥é€»è¾‘ï¼‰ã€doneï¼ˆæ·»åŠ æˆåŠŸå›è°ƒï¼‰ã€failï¼ˆæ·»åŠ å¤±è´¥å›è°ƒï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­‰å¾…è€…å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> Waiter = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ³¨å†Œäº†ç­‰å¾…å¯¹è±¡å®¹å™¨</span></span><br><span class="line">    <span class="keyword">var</span> dfd = [] ;</span><br><span class="line">    <span class="comment">// æˆåŠŸå›è°ƒæ–¹æ³•å®¹å™¨</span></span><br><span class="line">    <span class="keyword">var</span> doneArr = [] ;</span><br><span class="line">    <span class="comment">// å¤±è´¥å›è°ƒæ–¹æ³•å®¹å™¨</span></span><br><span class="line">    <span class="keyword">var</span> failArr = [] ;</span><br><span class="line">    <span class="comment">// ç¼“å­˜Arrayæ–¹æ³•slice</span></span><br><span class="line">    <span class="keyword">var</span> _slice = <span class="built_in">Array</span>.prototype.slice;</span><br><span class="line">    <span class="comment">// ä¿å­˜å½“å‰ç­‰å¾…è€…å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span> ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘æ§å¯¹è±¡ç±»</span></span><br><span class="line">    <span class="keyword">var</span> Primise = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// ç›‘æ§å¯¹è±¡æ˜¯å¦è§£å†³æˆåŠŸçŠ¶æ€</span></span><br><span class="line">        <span class="keyword">this</span>.resolved = <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">// ç›‘æ§å¯¹è±¡æ˜¯å¦è§£å†³å¤±è´¥çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">this</span>.rejected = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›‘æ§å¯¹è±¡ç±»åŸå‹æ–¹æ³•</span></span><br><span class="line">    Primise.prototype = &#123;</span><br><span class="line">        <span class="comment">// è§£å†³æˆåŠŸ</span></span><br><span class="line">        resolve : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">        <span class="comment">// è§£å†³å¤±è´¥</span></span><br><span class="line">        reject : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºç›‘æ§å¯¹è±¡</span></span><br><span class="line">    that.Deferred = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Primise() ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å›è°ƒæ‰§è¡Œæ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">_exec</span>(<span class="params">arr</span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘æ§å¼‚æ­¥æ–¹æ³• å‚æ•°ï¼šç›‘æ§å¯¹è±¡</span></span><br><span class="line">    that.when = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£å†³æˆåŠŸå›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•</span></span><br><span class="line">    that.done = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£å†³å¤±è´¥å›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•</span></span><br><span class="line">    that.fail = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç›‘æ§å¯¹è±¡ç±»åŸå‹æ–¹æ³•"><a href="#ç›‘æ§å¯¹è±¡ç±»åŸå‹æ–¹æ³•" class="headerlink" title="ç›‘æ§å¯¹è±¡ç±»åŸå‹æ–¹æ³•"></a>ç›‘æ§å¯¹è±¡ç±»åŸå‹æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Primise.prototype = &#123;</span><br><span class="line">    <span class="comment">// è§£å†³æˆåŠŸ</span></span><br><span class="line">    resolve : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®å½“å‰ç›‘æ§å¯¹è±¡è§£å†³æˆåŠŸ</span></span><br><span class="line">        <span class="keyword">this</span>.resolved = <span class="literal">true</span> ;</span><br><span class="line">        <span class="comment">// å¦‚æœæ²¡æœ‰ç›‘æ§å¯¹è±¡åˆ™å–æ¶ˆæ‰§è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span>(!dfd.length) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// éå†æ‰€æœ‰æ³¨å†Œäº†çš„ç›‘æ§å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = dfd.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœæœ‰ä»»æ„ä¸€ä¸ªç›‘æ§å¯¹è±¡æ²¡æœ‰è¢«è§£å†³æˆ–è€…è§£å†³å¤±è´¥åˆ™è¿”å›</span></span><br><span class="line">            <span class="keyword">if</span>(dfd[i] &amp;&amp; !dfd[i].resolved || dfd[i].rejected) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// æ¸…é™¤ç›‘æ§å¯¹è±¡ æˆåŠŸäº†å°±ä¸éœ€è¦å†ç›‘æ§</span></span><br><span class="line">            dfd.splice(i, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‰§è¡Œè§£å†³æˆåŠŸå›è°ƒæ–¹æ³•</span></span><br><span class="line">        _exec(doneArr);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è§£å†³å¤±è´¥</span></span><br><span class="line">    reject : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®å½“å‰ç›‘æ§å¯¹è±¡è§£å†³å¤±è´¥</span></span><br><span class="line">        <span class="keyword">this</span>.rejected = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// å¦‚æœæ²¡æœ‰ç›‘æ§å¯¹è±¡åˆ™å–æ¶ˆæ‰§è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span>(!dfd.length) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¸…é™¤æ‰€æœ‰ç›‘æ§å¯¹è±¡</span></span><br><span class="line">        dfd.splice(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">// æ‰§è¡Œè§£å†³æˆåŠŸå›è°ƒæ–¹æ³•</span></span><br><span class="line">        _exec(failArr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å›è°ƒæ‰§è¡Œæ–¹æ³•"><a href="#å›è°ƒæ‰§è¡Œæ–¹æ³•" class="headerlink" title="å›è°ƒæ‰§è¡Œæ–¹æ³•"></a>å›è°ƒæ‰§è¡Œæ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_exec</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> len = arr.length;</span><br><span class="line">    <span class="comment">// éå†å›è°ƒæ•°ç»„æ‰§è¡Œå›è°ƒ</span></span><br><span class="line">    <span class="keyword">for</span>(; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œå›è°ƒå‡½æ•°</span></span><br><span class="line">            arr[i] &amp;&amp; arr[i]();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(e) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç›‘æ§å¼‚æ­¥æ–¹æ³•-å‚æ•°ï¼šç›‘æ§å¯¹è±¡"><a href="#ç›‘æ§å¼‚æ­¥æ–¹æ³•-å‚æ•°ï¼šç›‘æ§å¯¹è±¡" class="headerlink" title="ç›‘æ§å¼‚æ­¥æ–¹æ³• å‚æ•°ï¼šç›‘æ§å¯¹è±¡"></a>ç›‘æ§å¼‚æ­¥æ–¹æ³• å‚æ•°ï¼šç›‘æ§å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">that.when = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®ç›‘æ§å¯¹è±¡</span></span><br><span class="line">    dfd = _slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="comment">// è·å–ç›‘æ§å¯¹è±¡æ•°ç»„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">var</span> i = dfd.length;</span><br><span class="line">    <span class="comment">// å‘å‰éå†ç›‘æ§å¯¹è±¡ï¼Œæœ€åä¸€ä¸ªç›‘æ§å¯¹è±¡çš„ç´¢å¼•å€¼ä¸ºlength-1</span></span><br><span class="line">    <span class="keyword">for</span>(--i; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœä¸å­˜åœ¨ç›‘æ§å¯¹è±¡ï¼Œæˆ–è€…ç›‘æ§å¯¹è±¡å·²ç»è§£å†³ï¼Œæˆ–è€…ä¸æ˜¯ç›‘æ§å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">if</span>(!dfd[i] || dfd[i].resolved || dfd[i].rejected || !dfd[i] <span class="keyword">instanceof</span> Primise) &#123;</span><br><span class="line">            <span class="comment">// æ¸…ç†å†…å­˜ï¼Œæ¸…é™¤å½“å‰ç›‘æ§å¯¹è±¡</span></span><br><span class="line">            dfd.splice(i, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›ç­‰å¾…è€…å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è§£å†³æˆåŠŸå›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•"><a href="#è§£å†³æˆåŠŸå›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•" class="headerlink" title="è§£å†³æˆåŠŸå›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•"></a>è§£å†³æˆåŠŸå›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">that.done = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å‘æˆåŠŸå›è°ƒå‡½æ•°å®¹å™¨ä¸­æ·»åŠ å›è°ƒæ–¹æ³•</span></span><br><span class="line">    doneArr = doneArr.concat(_slice.call(<span class="built_in">arguments</span>));</span><br><span class="line">    <span class="comment">// è¿”å›ç­‰å¾…è€…å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è§£å†³å¤±è´¥å›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•"><a href="#è§£å†³å¤±è´¥å›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•" class="headerlink" title="è§£å†³å¤±è´¥å›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•"></a>è§£å†³å¤±è´¥å›è°ƒå‡½æ•°æ·»åŠ æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">that.fail = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å‘å¤±è´¥å›è°ƒå‡½æ•°å®¹å™¨ä¸­æ·»åŠ å›è°ƒæ–¹æ³•</span></span><br><span class="line">    failArr = failArr.concat(_slice.call(<span class="built_in">arguments</span>));</span><br><span class="line">    <span class="comment">// è¿”å›ç­‰å¾…è€…å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> that;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç­‰å¾…è€…å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> waiter = <span class="keyword">new</span> Waiter();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå½©è›‹ï¼Œ3ç§’åœæ­¢</span></span><br><span class="line"><span class="keyword">var</span> first = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºç›‘å¬å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> dtd = waiter.Deferred();</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'first finish'</span>);</span><br><span class="line">        <span class="comment">// å‘å¸ƒè§£å†³æˆåŠŸé—®é¢˜</span></span><br><span class="line">        dtd.resolve();</span><br><span class="line">        <span class="comment">// å‘å¸ƒè§£å†³å¤±è´¥é—®é¢˜</span></span><br><span class="line">        <span class="comment">// dtd.reject();</span></span><br><span class="line">    &#125;, <span class="number">3000</span>) ;</span><br><span class="line">    <span class="comment">// è¿”å›ç›‘å¬å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> dtd;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒä¸ªå½©è›‹ï¼Œ6ç§’ååœæ­¢</span></span><br><span class="line"><span class="keyword">var</span> second = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºç®€ä½“ä½ å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> dtd = waiter.Deferred();</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'second finish'</span>);</span><br><span class="line">        <span class="comment">// å‘å¸ƒè§£å†³æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line">        dtd.resolve();</span><br><span class="line">        <span class="comment">// å‘å¸ƒè§£å†³å¤±è´¥é—®é¢˜</span></span><br><span class="line">        <span class="comment">// dtd.reject();</span></span><br><span class="line">    &#125;, <span class="number">6000</span>);</span><br><span class="line">    <span class="comment">// è¿”å›ç›‘æ§å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> dtd;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ä¸¤ä¸ªå½©è›‹çš„å·¥ä½œçŠ¶æ€ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„æˆåŠŸå›è°ƒå‡½æ•°ä¸å¤±è´¥å›è°ƒå‡½æ•°</span></span><br><span class="line">waiter</span><br><span class="line">    <span class="comment">// ç›‘å¬ä¸¤ä¸ªå½©è›‹</span></span><br><span class="line">    .when(first, second)</span><br><span class="line">    <span class="comment">// æ·»åŠ æˆåŠŸå›è°ƒå‡½æ•°</span></span><br><span class="line">    .done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'success'</span>);</span><br><span class="line">    &#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'success again'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// æ·»åŠ å¤±è´¥å›è°ƒå‡½æ•°</span></span><br><span class="line">    .fail(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'fail'</span>);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°è£…getè¯·æ±‚</span></span><br><span class="line"><span class="keyword">var</span> ajaxGet = <span class="function"><span class="keyword">function</span>(<span class="params">url, success, fail</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    <span class="comment">// åˆ›å»ºç›‘æµ‹å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> dtd = waiter.Deferred();</span><br><span class="line">    xhr.onload = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// è¯·æ±‚æˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span>(xhr.status &gt;= <span class="number">200</span> &amp;&amp; xhr.status &lt; <span class="number">300</span> || xhr.status == <span class="number">304</span>) &#123;</span><br><span class="line">            success &amp;&amp; success() ;</span><br><span class="line">        <span class="comment">// è¯·æ±‚å¤±è´¥ </span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            dtd.reject() ;</span><br><span class="line">            fail &amp;&amp; fail() ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; ;</span><br><span class="line">    xhr.open(<span class="string">'get'</span>, url, <span class="literal">true</span>);</span><br><span class="line">    xhr.send(<span class="literal">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">// é•¿è½®è¯¢</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">getAjaxData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ä¿å­˜å½“å‰å‡½æ•°</span></span><br><span class="line">    <span class="keyword">var</span> fn = <span class="built_in">arguments</span>.callee;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        $.get(<span class="string">'./test.php'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'è½®è¯¢ä¸€æ¬¡'</span>);</span><br><span class="line">            <span class="comment">// å†ä¸€æ¬¡æ‰§è¡Œè½®è¯¢</span></span><br><span class="line">            fn();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;, <span class="number">5000</span>);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç­‰å¾…è€…æ¨¡å¼é€‚åˆç”¨äºå¤„ç†æ¯”è¾ƒè€—æ—¶çš„æ“ä½œæ¯”å¦‚å®šæ—¶å™¨æ“ä½œã€å¼‚æ­¥è¯·æ±‚ç­‰ã€‚ç­‰å¾…è€…æ¨¡å¼æä¾›äº†æŠ½è±¡éé˜»å¡çš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡åˆ›å»º Promise å¯¹è±¡ï¼Œå¯¹åº”çŠ¶æ€å˜åŒ–è¿”å›å“åº”ï¼ŒåŒæ—¶ç›‘å¬è¿™äº›å“åº”ä¿¡æ¯ï¼Œå¹¶ä¸ºä¹‹æä¾›ç›¸åº”çš„å›è°ƒï¼Œæ ¹æ®çŠ¶æ€æ‰§è¡Œç›¸åº”çš„å›è°ƒæ–¹æ³•ã€‚</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2019/javascript%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>äº‹ä»¶æœºåˆ¶</title>
      <link>http://mydearest.cn/2019/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html</link>
      <guid>http://mydearest.cn/2019/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html</guid>
      <pubDate>Sun, 24 Nov 2019 14:26:18 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;äº‹ä»¶æœºåˆ¶çš„æ ¸å¿ƒå°±æ˜¯å‘å¸ƒ-è®¢é˜…æ¨¡å¼ã€‚ç»´æŠ¤ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„ key å­˜çš„æ˜¯äº‹ä»¶ typeï¼Œå¯¹åº”çš„ value ä¸ºè§¦å‘ç›¸åº” type çš„å›è°ƒå‡½æ•°ï¼Œå³ listenersï¼Œç„¶å trigger æ—¶éå†é€šçŸ¥ï¼Œå³ forEach è¿›è¡Œå›è°ƒæ‰§è¡Œã€‚&lt;/p&gt;
&lt;figure class=&quot;h
        
      
      </description>
      
      <content:encoded><![CDATA[<p>äº‹ä»¶æœºåˆ¶çš„æ ¸å¿ƒå°±æ˜¯å‘å¸ƒ-è®¢é˜…æ¨¡å¼ã€‚ç»´æŠ¤ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„ key å­˜çš„æ˜¯äº‹ä»¶ typeï¼Œå¯¹åº”çš„ value ä¸ºè§¦å‘ç›¸åº” type çš„å›è°ƒå‡½æ•°ï¼Œå³ listenersï¼Œç„¶å trigger æ—¶éå†é€šçŸ¥ï¼Œå³ forEach è¿›è¡Œå›è°ƒæ‰§è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventTarget</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="keyword">this</span>.listener = [];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›‘å¬äº‹ä»¶</span></span><br><span class="line">    on(type, callback) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ç›‘å¬è¯¥äº‹ä»¶ï¼Œåˆ™åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.listeners[type]) <span class="keyword">this</span>.listeners[type] = [];</span><br><span class="line">        <span class="keyword">this</span>.listeners[type].push(callback);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åªç›‘å¬ä¸€æ¬¡</span></span><br><span class="line">    once(type, callback) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.listeners[type]) <span class="keyword">this</span>.listeners[type] = [];</span><br><span class="line">        <span class="comment">// once åªè§¦å‘ä¸€æ¬¡ï¼Œè§¦å‘å off å³å¯ å›è°ƒå‡½æ•°åŠ ä¸Šæ ‡è¯†</span></span><br><span class="line">        callback._once = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">this</span>.listeners[type].push(callback); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–æ¶ˆç›‘å¬</span></span><br><span class="line">    off(type, callback) &#123;</span><br><span class="line">        <span class="keyword">const</span> listeners = <span class="keyword">this</span>.listeners[type];</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(listeners)) &#123;</span><br><span class="line">            <span class="comment">// filter è¿”å›æ–°çš„æ•°ç»„ï¼Œä¼šæ¯æ¬¡å¯¹ this.listeners[type] åˆ†é…æ–°çš„ç©ºé—´</span></span><br><span class="line">            <span class="comment">// this.listeners[type] = listeners.filter(l =&gt; l !== callback);</span></span><br><span class="line">            <span class="comment">// æ ¹æ® type å–æ¶ˆå¯¹åº”çš„å›è°ƒ</span></span><br><span class="line">            <span class="keyword">const</span> index = listeners.indexOf(callback);</span><br><span class="line">            <span class="comment">// ç”¨ splice è¦å¥½äº›ï¼Œç›´æ¥æ“ä½œåŸæ•°ç»„</span></span><br><span class="line">            <span class="keyword">this</span>.listeners[type].splice(index, <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// å¦‚æœå›è°ƒä¸ºç©ºï¼Œåˆ é™¤å¯¹è¯¥äº‹ä»¶çš„ç›‘å¬</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.listeners[type].length === <span class="number">0</span>) <span class="keyword">delete</span> <span class="keyword">this</span>.listeners[type];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œ æ‰³æœºç¤¾</span></span><br><span class="line">    trigger(event) &#123;</span><br><span class="line">        <span class="comment">// type ä¸ºå¿…ä¼ å±æ€§</span></span><br><span class="line">        <span class="keyword">const</span> &#123; type &#125; = event;</span><br><span class="line">        <span class="keyword">if</span> (!type) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'æ²¡æœ‰è¦è§¦å‘çš„äº‹ä»¶ï¼'</span>);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦ä¹‹å‰å¯¹è¯¥äº‹ä»¶è¿›è¡Œç›‘å¬äº†</span></span><br><span class="line">        <span class="keyword">const</span> listeners = <span class="keyword">this</span>.listeners[type];</span><br><span class="line">        <span class="keyword">if</span> (!listeners) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`æ²¡æœ‰å¯¹è±¡ç›‘å¬ <span class="subst">$&#123;type&#125;</span> äº‹ä»¶ï¼`</span>);</span><br><span class="line">        <span class="keyword">if</span> (!event.target) event.target = <span class="keyword">this</span>;</span><br><span class="line">        listeners.forEach(<span class="function"><span class="params">l</span> =&gt;</span> &#123;</span><br><span class="line">            l(event);</span><br><span class="line">            <span class="comment">// å¦‚æœé€šè¿‡ once ç›‘å¬ï¼Œæ‰§è¡Œä¸€æ¬¡åå–æ¶ˆ</span></span><br><span class="line">            <span class="keyword">if</span> (l._once) <span class="keyword">this</span>.off(type, l);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMessage</span>(<span class="params">event</span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">`message received: <span class="subst">$&#123; event.message &#125;</span>`</span>); &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleMessage2</span>(<span class="params">event</span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">`message2 received: <span class="subst">$&#123; event.message &#125;</span>`</span>); &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> target = <span class="keyword">new</span> EventTarget();</span><br><span class="line"></span><br><span class="line">target.on(<span class="string">'message'</span>, handleMessage);</span><br><span class="line">target.on(<span class="string">'message'</span>, handleMessage2);</span><br><span class="line">target.trigger(&#123; <span class="attr">type</span>: <span class="string">'message'</span>, <span class="attr">message</span>: <span class="string">'hello custom event'</span> &#125;); <span class="comment">// æ‰“å° messageï¼Œmessage2</span></span><br><span class="line"></span><br><span class="line">target.off(<span class="string">'message'</span>, handleMessage);</span><br><span class="line">target.trigger(&#123; <span class="attr">type</span>: <span class="string">'message'</span>, <span class="attr">message</span>: <span class="string">'off the event'</span> &#125;); <span class="comment">// åªæ‰“å° message2</span></span><br><span class="line"></span><br><span class="line">target.once(<span class="string">'words'</span>, handleMessage);</span><br><span class="line">target.trigger(&#123; <span class="attr">type</span>: <span class="string">'words'</span>, <span class="attr">message</span>: <span class="string">'hello2 once event'</span> &#125;); <span class="comment">// æ‰“å° words</span></span><br><span class="line">target.trigger(&#123; <span class="attr">type</span>: <span class="string">'words'</span>, <span class="attr">message</span>: <span class="string">'hello2 once event'</span> &#125;); <span class="comment">// æŠ¥é”™ï¼šæ²¡æœ‰å¯¹è±¡ç›‘å¬ words äº‹ä»¶ï¼</span></span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2019/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å…³äºrequestAnimationFrame</title>
      <link>http://mydearest.cn/2019/%E5%85%B3%E4%BA%8ErequestAnimationFrame.html</link>
      <guid>http://mydearest.cn/2019/%E5%85%B3%E4%BA%8ErequestAnimationFrame.html</guid>
      <pubDate>Sun, 22 Sep 2019 04:24:48 GMT</pubDate>
      <description>
      
        
        
          &lt;p&gt;åœ¨JSä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;setTimeout&lt;/code&gt; å’Œ &lt;code&gt;setIntarval&lt;/code&gt; å®ç°åŠ¨ç”»ï¼Œä½†æ˜¯ H5 çš„å‡ºç°ï¼Œè®©æˆ‘ä»¬åˆå¤šäº†ä¸¤ç§å®ç°åŠ¨ç”»çš„æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ CSS åŠ¨ç”»ï¼ˆ&lt;code&gt;transition&lt;/code&gt;ã€&lt;code&gt;an
        
      
      </description>
      
      <content:encoded><![CDATA[<p>åœ¨JSä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>setTimeout</code> å’Œ <code>setIntarval</code> å®ç°åŠ¨ç”»ï¼Œä½†æ˜¯ H5 çš„å‡ºç°ï¼Œè®©æˆ‘ä»¬åˆå¤šäº†ä¸¤ç§å®ç°åŠ¨ç”»çš„æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ CSS åŠ¨ç”»ï¼ˆ<code>transition</code>ã€<code>animation</code>ï¼‰å’Œ H5çš„<code>canvas</code> å®ç°ã€‚é™¤æ­¤ä»¥å¤–ï¼ŒH5è¿˜æä¾›äº†ä¸€ä¸ªä¸“é—¨ç”¨äºè¯·æ±‚åŠ¨ç”»çš„APIï¼Œè®© DOM åŠ¨ç”»ã€canvasåŠ¨ç”»ã€svgåŠ¨ç”»ã€webGLåŠ¨ç”»ç­‰æœ‰ä¸€ä¸ªä¸“é—¨çš„åˆ·æ–°æœºåˆ¶ã€‚</p><h3 id="1-å®šä¹‰"><a href="#1-å®šä¹‰" class="headerlink" title="1. å®šä¹‰"></a>1. å®šä¹‰</h3><p><code>requestAnimationFrame</code> æ–¹æ³•ä¼šå‘Šè¯‰æµè§ˆå™¨å¸Œæœ›æ‰§è¡ŒåŠ¨ç”»å¹¶è¯·æ±‚æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨å›è°ƒå‡½æ•°æ¥æ›´æ–°åŠ¨ç”»ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.requestAnimationFrame(callback)</span><br></pre></td></tr></table></figure><ul><li>callbackï¼šä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ›´æ–°åŠ¨ç”»å¸§æ‰€è°ƒç”¨çš„å‡½æ•°ï¼Œ<strong>callbackä»…æœ‰ä¸€ä¸ªå‚æ•°ï¼Œä¸ºDOMHighResTimeStampå‚æ•°ï¼Œè¡¨ç¤ºrequestAnimationFrame()å¼€å§‹æ‰§è¡Œå›è°ƒå‡½æ•°çš„æ—¶åˆ»ã€‚</strong></li><li>è¿”å›å€¼ï¼šä¸€ä¸ª long ç±»å‹æ•´æ•°ï¼Œå”¯ä¸€æ ‡å¿—å…ƒç»„åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œä½ å¯ä»¥ä¼ è¿™ä¸ªå€¼ç»™<code>cancelAnimationFrame()</code> ä»¥å–æ¶ˆåŠ¨ç”»ã€‚</li></ul><p>åœ¨ä½¿ç”¨å’Œå®ç°ä¸Šï¼Œ <code>requestAnimationFrame</code> ä¸ <code>setTimeout</code> ç±»ä¼¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> rafId = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="comment"> * @param time requestAnimationFrame è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œè‡ªåŠ¨ä¼ å…¥çš„ä¸€ä¸ªæ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestAnimation</span>(<span class="params">time</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(time); <span class="comment">// æ‰“å°æ‰§è¡ŒrequestAnimationå‡½æ•°çš„æ—¶åˆ»</span></span><br><span class="line">  <span class="comment">// åŠ¨ç”»æ²¡æœ‰æ‰§è¡Œå®Œï¼Œåˆ™é€’å½’æ¸²æŸ“</span></span><br><span class="line">  <span class="keyword">if</span> (count &lt; <span class="number">5</span>) &#123;</span><br><span class="line">    count++;</span><br><span class="line">    <span class="comment">// æ¸²æŸ“ä¸‹ä¸€å¸§</span></span><br><span class="line">    rafId = <span class="built_in">window</span>.requestAnimationFrame(requestAnimation);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ¸²æŸ“ç¬¬ä¸€å¸§</span></span><br><span class="line"><span class="built_in">window</span>.requestAnimationFrame(requestAnimation);</span><br></pre></td></tr></table></figure><h3 id="2-æ€æ ·æ‰§è¡Œ"><a href="#2-æ€æ ·æ‰§è¡Œ" class="headerlink" title="2.æ€æ ·æ‰§è¡Œ"></a>2.æ€æ ·æ‰§è¡Œ</h3><ul><li>é¦–å…ˆåˆ¤æ–­ <code>document.hidden</code> å±æ€§æ˜¯å¦å¯è§ï¼ˆtrueï¼‰ï¼Œå¯è§çŠ¶æ€ä¸‹æ‰èƒ½ç»§ç»­æ‰§è¡Œä»¥ä¸‹æ­¥éª¤</li><li>æµè§ˆå™¨æ¸…ç©ºä¸Šä¸€è½®çš„åŠ¨ç”»å‡½æ•°</li><li><code>requestAnimationFrame</code> å°†å›è°ƒå‡½æ•°è¿½åŠ åˆ°åŠ¨ç”»å¸§è¯·æ±‚å›è°ƒå‡½æ•°åˆ—è¡¨çš„æœ«å°¾<strong>æ³¨æ„ï¼šå½“æ‰§è¡Œ requestAnimationFrame(callback)çš„æ—¶å€™ï¼Œä¸ä¼šç«‹å³è°ƒç”¨ callback å›è°ƒå‡½æ•°ï¼Œåªæ˜¯å°†å…¶æ”¾å…¥å›è°ƒå‡½æ•°é˜Ÿåˆ—è€Œå·²ï¼ŒåŒæ—¶æ³¨æ„ï¼Œæ¯ä¸ª callbackå›è°ƒå‡½æ•°éƒ½æœ‰ä¸€ä¸ª cancelled æ ‡å¿—ç¬¦ï¼Œåˆå§‹å€¼ä¸º falseï¼Œå¹¶å¯¹å¤–ä¸å¯è§ã€‚</strong></li><li>å½“é¡µé¢å¯è§å¹¶ä¸”åŠ¨ç”»å¸§è¯·æ±‚callback<strong>å›è°ƒå‡½æ•°åˆ—è¡¨</strong>ä¸ä¸ºç©ºæ—¶ï¼Œæµè§ˆå™¨ä¼š<strong>å®šæœŸ</strong>å°†è¿™äº›å›è°ƒå‡½æ•°åŠ å…¥åˆ°æµè§ˆå™¨ UI çº¿ç¨‹çš„é˜Ÿåˆ—ä¸­ï¼ˆ<strong>ç”±ç³»ç»Ÿæ¥å†³å®šå›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶æœº</strong>ï¼‰ã€‚å½“æµè§ˆå™¨æ‰§è¡Œè¿™äº› callback å›è°ƒå‡½æ•°çš„æ—¶å€™ï¼Œä¼šåˆ¤æ–­æ¯ä¸ªå…ƒç»„çš„ callback çš„cancelledæ ‡å¿—ç¬¦ï¼Œåªæœ‰ <strong>cancelled ä¸º false</strong> æ—¶ï¼Œæ‰æ‰§è¡Œcallbackå›è°ƒå‡½æ•°ã€‚</li></ul><h3 id="3-ä¼˜ç‚¹"><a href="#3-ä¼˜ç‚¹" class="headerlink" title="3. ä¼˜ç‚¹"></a>3. ä¼˜ç‚¹</h3><ol><li><code>requestAnimationFrame</code> è‡ªå¸¦<strong>å‡½æ•°èŠ‚æµ</strong>åŠŸèƒ½ï¼Œé‡‡ç”¨<strong>ç³»ç»Ÿæ—¶é—´é—´éš”</strong>ï¼Œä¿æŒæœ€ä½³ç»˜åˆ¶æ•ˆç‡ï¼Œä¸ä¼šå› ä¸ºé—´éš”æ—¶é—´çš„è¿‡çŸ­ï¼Œé€ æˆè¿‡åº¦ç»˜åˆ¶ï¼Œå¢åŠ é¡µé¢å¼€é”€ï¼Œä¹Ÿä¸ä¼šå› ä¸ºé—´éš”æ—¶é—´è¿‡é•¿ï¼Œé€ æˆåŠ¨ç”»å¡é¡¿ï¼Œä¸æµç¨‹ï¼Œå½±å“é¡µé¢ç¾è§‚ã€‚æµè§ˆå™¨çš„é‡ç»˜é¢‘ç‡ä¸€èˆ¬ä¼šå’Œæ˜¾ç¤ºå™¨çš„åˆ·æ–°ç‡ä¿æŒåŒæ­¥ã€‚å¤§å¤šæ•°é‡‡ç”¨ W3Cè§„èŒƒï¼Œæµè§ˆå™¨çš„æ¸²æŸ“é¡µé¢çš„æ ‡å‡†é¢‘ç‡ä¹Ÿä¸º 60 FPSï¼ˆframes/per secondï¼‰å³æ¯ç§’é‡ç»˜60æ¬¡ï¼Œ<strong>requestAnimationFrameçš„åŸºæœ¬æ€æƒ³æ˜¯ è®©é¡µé¢é‡ç»˜çš„é¢‘ç‡å’Œåˆ·æ–°é¢‘ç‡ä¿æŒåŒæ­¥</strong>ï¼Œå³æ¯ 1000ms / 60 = <strong>16.7ms</strong>æ‰§è¡Œä¸€æ¬¡ã€‚é€šè¿‡ <code>requestAnimationFrame</code> è°ƒç”¨å›è°ƒå‡½æ•°å¼•èµ·çš„é¡µé¢é‡ç»˜æˆ–å›æµçš„æ—¶é—´é—´éš”å’Œæ˜¾ç¤ºå™¨çš„åˆ·æ–°æ—¶é—´é—´éš”ç›¸åŒã€‚æ‰€ä»¥  <code>requestAnimationFrame</code>  ä¸éœ€è¦åƒ <code>setTimeout</code> é‚£æ ·ä¼ é€’æ—¶é—´é—´éš”ï¼Œè€Œæ˜¯æµè§ˆå™¨é€šè¿‡ç³»ç»Ÿè·å–å¹¶ä½¿ç”¨æ˜¾ç¤ºå™¨åˆ·æ–°é¢‘ç‡ã€‚ä¾‹å¦‚åœ¨æŸäº›é«˜é¢‘äº‹ä»¶ï¼ˆresizeï¼Œscroll ç­‰ï¼‰ä¸­ï¼Œä½¿ç”¨ <code>requestAnimationFrame</code> å¯ä»¥é˜²æ­¢åœ¨ä¸€ä¸ªåˆ·æ–°é—´éš”å†…å‘ç”Ÿå¤šæ¬¡å‡½æ•°æ‰§è¡Œï¼Œè¿™æ ·ä¿è¯äº†æµç¨‹åº¦ï¼Œä¹ŸèŠ‚çœäº†å¼€é”€</li><li>å¦å¤–ï¼Œè¯¥å‡½æ•°çš„<strong>å»¶æ—¶æ•ˆæœæ˜¯ç²¾ç¡®çš„</strong>ï¼Œæ²¡æœ‰<code>setTimeout</code>æˆ–<code>setInterval</code>ä¸å‡†çš„æƒ…å†µï¼ˆJSæ˜¯å•çº¿ç¨‹çš„ï¼Œ<code>setTimeout</code> ä»»åŠ¡è¢«æ”¾è¿›å¼‚æ­¥é˜Ÿåˆ—ä¸­ï¼Œåªæœ‰å½“ä¸»çº¿ç¨‹ä¸Šçš„ä»»åŠ¡æ‰§è¡Œå®Œä»¥åï¼Œæ‰ä¼šå»æ£€æŸ¥è¯¥é˜Ÿåˆ—çš„ä»»åŠ¡æ˜¯å¦éœ€è¦å¼€å§‹æ‰§è¡Œï¼Œé€ æˆæ—¶é—´å»¶æ—¶ï¼‰ã€‚<code>setTimeout</code><strong>çš„æ‰§è¡Œåªæ˜¯åœ¨å†…å­˜ä¸­å¯¹å›¾åƒå±æ€§è¿›è¡Œæ”¹å˜ï¼Œè¿™ä¸ªæ”¹å˜å¿…é¡»è¦ç­‰åˆ°ä¸‹æ¬¡æµè§ˆå™¨é‡ç»˜æ—¶æ‰ä¼šè¢«æ›´æ–°åˆ°å±å¹•ä¸Š</strong>ã€‚å¦‚æœå’Œå±å¹•åˆ·æ–°æ­¥è°ƒä¸ä¸€è‡´ï¼Œå°±å¯èƒ½å¯¼è‡´ä¸­é—´æŸäº›å¸§çš„æ“ä½œè¢«è·¨è¶Šè¿‡å»ï¼Œç›´æ¥æ›´æ–°ä¸‹ä¸‹ä¸€å¸§çš„å›¾åƒã€‚å³ <strong>æ‰å¸§</strong>ä½¿ç”¨  <code>requestAnimationFrame</code> æ‰§è¡ŒåŠ¨ç”»ï¼Œæœ€å¤§ä¼˜åŠ¿æ˜¯<strong>èƒ½ä¿è¯å›è°ƒå‡½æ•°åœ¨å±å¹•æ¯ä¸€æ¬¡åˆ·æ–°é—´éš”ä¸­åªè¢«æ‰§è¡Œä¸€æ¬¡</strong>ï¼Œè¿™æ ·å°±ä¸ä¼šå¼•èµ·ä¸¢å¸§ï¼ŒåŠ¨ç”»ä¹Ÿå°±ä¸ä¼šå¡é¡¿</li><li><p>èŠ‚çœèµ„æºï¼ŒèŠ‚çœå¼€é”€åœ¨ä¹‹å‰ä»‹ç»<code>requestAnimationFrame</code>æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬çŸ¥é“åªæœ‰å½“é¡µé¢æ¿€æ´»çš„çŠ¶æ€ä¸‹ï¼Œé¡µé¢åˆ·æ–°ä»»åŠ¡æ‰ä¼šå¼€å§‹ï¼Œæ‰æ‰§è¡Œ <code>requestAnimationFrame</code>ï¼Œå½“é¡µé¢éšè—æˆ–æœ€å°åŒ–æ—¶ï¼Œä¼šè¢«æš‚åœï¼Œé¡µé¢æ˜¾ç¤ºï¼Œä¼šç»§ç»­æ‰§è¡Œã€‚<strong>èŠ‚çœäº† CPU å¼€é”€</strong>ã€‚<strong>æ³¨æ„ï¼šå½“é¡µé¢è¢«éšè—æˆ–æœ€å°åŒ–æ—¶ï¼Œå®šæ—¶å™¨<code>setTimeout</code>ä»åœ¨åå°æ‰§è¡ŒåŠ¨ç”»ä»»åŠ¡ï¼Œæ­¤æ—¶åˆ·æ–°åŠ¨ç”»æ˜¯å®Œå…¨æ²¡æœ‰æ„ä¹‰çš„ï¼ˆå®é™…ä¸Š FireFox/Chrome æµè§ˆå™¨å¯¹å®šæ—¶å™¨åšäº†ä¼˜åŒ–ï¼šé¡µé¢é—²ç½®æ—¶ï¼Œå¦‚æœæ—¶é—´é—´éš”å°äº 1000msï¼Œåˆ™åœæ­¢å®šæ—¶å™¨ï¼Œä¸<code>requestAnimationFrame</code>è¡Œä¸ºç±»ä¼¼ã€‚å¦‚æœæ—¶é—´é—´éš”&gt;=1000msï¼Œå®šæ—¶å™¨ä¾ç„¶åœ¨åå°æ‰§è¡Œï¼‰</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„Consoleé¡µæ‰§è¡Œä¸‹é¢ä»£ç ã€‚</span></span><br><span class="line"><span class="comment">// å½“å¼€å§‹è¾“å‡ºcountåï¼Œåˆ‡æ¢æµè§ˆå™¨tabé¡µï¼Œå†åˆ‡æ¢å›æ¥ï¼Œå¯ä»¥å‘ç°æ‰“å°çš„å€¼ä»ç¦»å¼€å‰çš„å€¼ç»§ç»­è¾“å‡º</span></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">requestAnimation</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (count &lt; <span class="number">100</span>) &#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="built_in">console</span>.log(count);</span><br><span class="line">            requestAnimationFrame(requestAnimation);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">requestAnimationFrame(requestAnimation);</span><br></pre></td></tr></table></figure></li><li><p>èƒ½å¤Ÿåœ¨åŠ¨ç”»æµåˆ·æ–°ä¹‹åæ‰§è¡Œï¼Œå³<strong>ä¸Šä¸€ä¸ªåŠ¨ç”»æµä¼šå®Œæ•´æ‰§è¡Œ</strong></p></li></ol><h3 id="4-å®ç°"><a href="#4-å®ç°" class="headerlink" title="4. å®ç°"></a>4. å®ç°</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>requestAnimationFrame</code> å®ç°<code>setInterval</code>åŠ <code>setTimeout</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// setIntervalå®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setInterval</span>(<span class="params">callback, interval</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer</span><br><span class="line">    <span class="keyword">const</span> now = <span class="built_in">Date</span>.now</span><br><span class="line">    <span class="keyword">let</span> startTime = now()</span><br><span class="line">    <span class="keyword">let</span> endTime = startTime</span><br><span class="line">    <span class="keyword">const</span> loop = () =&#123;</span><br><span class="line">        timer = <span class="built_in">window</span>.requestAnimationFrame(loop)</span><br><span class="line">        endTime = now()</span><br><span class="line">        <span class="keyword">if</span> (endTime - startTime &gt;= interval) &#123;</span><br><span class="line">            startTime = endTime = now()</span><br><span class="line">            callback(timer)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    timer = <span class="built_in">window</span>.requestAnimationFrame(loop)</span><br><span class="line">    <span class="keyword">return</span> timer</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">0</span></span><br><span class="line">setInterval(timer =&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    a++</span><br><span class="line">    <span class="keyword">if</span> (a === <span class="number">3</span>) <span class="built_in">window</span>.cancelAnimationFrame(timer)</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// setTimeout å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setTimeout</span>(<span class="params">callback, interval</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer</span><br><span class="line">    <span class="keyword">const</span> now = <span class="built_in">Date</span>.now</span><br><span class="line">    <span class="keyword">let</span> startTime = now()</span><br><span class="line">    <span class="keyword">let</span> endTime = startTime</span><br><span class="line">    <span class="keyword">const</span> loop = () =&#123;</span><br><span class="line">        timer = <span class="built_in">window</span>.requestAnimationFrame(loop)</span><br><span class="line">        endTime = now()</span><br><span class="line">        <span class="keyword">if</span> (endTime - startTime &gt;= interval) &#123;</span><br><span class="line">            callback(timer)</span><br><span class="line">            <span class="built_in">window</span>.cancelAnimationFrame(timer)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    timer = <span class="built_in">window</span>.requestAnimationFrame(loop)</span><br><span class="line">    <span class="keyword">return</span> timer</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">0</span></span><br><span class="line">setTimeout(timer =&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    a++</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"><span class="comment">// 0</span></span><br></pre></td></tr></table></figure><h3 id="5-å‚è€ƒ"><a href="#5-å‚è€ƒ" class="headerlink" title="5. å‚è€ƒ"></a>5. å‚è€ƒ</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame" target="_blank" rel="noopener">MDN</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2019/%E5%85%B3%E4%BA%8ErequestAnimationFrame.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>gitç›¸å…³é—®é¢˜åœºæ™¯å’Œå‘½ä»¤</title>
      <link>http://mydearest.cn/2019/git%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E5%9C%BA%E6%99%AF%E5%92%8C%E5%91%BD%E4%BB%A4.html</link>
      <guid>http://mydearest.cn/2019/git%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E5%9C%BA%E6%99%AF%E5%92%8C%E5%91%BD%E4%BB%A4.html</guid>
      <pubDate>Fri, 20 Sep 2019 16:51:40 GMT</pubDate>
      <description>
      
        &lt;h3 id=&quot;ä¸€ã€å¿…å¤‡çŸ¥è¯†ç‚¹&quot;&gt;&lt;a href=&quot;#ä¸€ã€å¿…å¤‡çŸ¥è¯†ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€å¿…å¤‡çŸ¥è¯†ç‚¹&quot;&gt;&lt;/a&gt;ä¸€ã€å¿…å¤‡çŸ¥è¯†ç‚¹&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/git.png&quot; alt=&quot;git&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="ä¸€ã€å¿…å¤‡çŸ¥è¯†ç‚¹"><a href="#ä¸€ã€å¿…å¤‡çŸ¥è¯†ç‚¹" class="headerlink" title="ä¸€ã€å¿…å¤‡çŸ¥è¯†ç‚¹"></a>ä¸€ã€å¿…å¤‡çŸ¥è¯†ç‚¹</h3><p><img src="http://cdn.mydearest.cn/blog/images/git.png" alt="git"></p><hr><a id="more"></a><h4 id="ä»“åº“"><a href="#ä»“åº“" class="headerlink" title="ä»“åº“"></a>ä»“åº“</h4><ol><li><strong>Remote:</strong> è¿œç¨‹ä¸»ä»“åº“ï¼›</li><li><strong>Repositoryï¼š</strong> æœ¬åœ°ä»“åº“ï¼›</li><li><strong>Indexï¼š</strong> Gitè¿½è¸ªæ ‘,æš‚å­˜åŒºï¼›</li><li><strong>workspaceï¼š</strong> æœ¬åœ°å·¥ä½œåŒºï¼ˆå³ä½ ç¼–è¾‘å™¨çš„ä»£ç ï¼‰</li></ol><h3 id="äºŒã€git-add-æäº¤åˆ°æš‚å­˜åŒºï¼Œå‡ºé”™æ€ä¹ˆåŠ"><a href="#äºŒã€git-add-æäº¤åˆ°æš‚å­˜åŒºï¼Œå‡ºé”™æ€ä¹ˆåŠ" class="headerlink" title="äºŒã€git add æäº¤åˆ°æš‚å­˜åŒºï¼Œå‡ºé”™æ€ä¹ˆåŠ"></a>äºŒã€git add æäº¤åˆ°æš‚å­˜åŒºï¼Œå‡ºé”™æ€ä¹ˆåŠ</h3><p>ä¸€èˆ¬ä»£ç æäº¤æµç¨‹ä¸ºï¼š<strong>å·¥ä½œåŒº</strong> -<code>git status</code> æŸ¥çœ‹çŠ¶æ€ -<code>git add .</code> å°†æ‰€æœ‰ä¿®æ”¹åŠ å…¥<strong>æš‚å­˜åŒº</strong>-<code>git commit -m &quot;æäº¤æè¿°&quot;</code> å°†ä»£ç æäº¤åˆ° <strong>æœ¬åœ°ä»“åº“</strong> -<code>git push</code> å°†æœ¬åœ°ä»“åº“ä»£ç æ›´æ–°åˆ° <strong>è¿œç¨‹ä»“åº“</strong></p><h4 id="åœºæ™¯1ï¼šå·¥ä½œåŒº"><a href="#åœºæ™¯1ï¼šå·¥ä½œåŒº" class="headerlink" title="åœºæ™¯1ï¼šå·¥ä½œåŒº"></a>åœºæ™¯1ï¼šå·¥ä½œåŒº</h4><p>å½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤<code>git checkout -- file</code>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹</span></span><br><span class="line">git checkout -- <span class="xml"><span class="tag">&lt;<span class="name">æ–‡ä»¶å</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="åœºæ™¯2ï¼šæš‚å­˜åŒº"><a href="#åœºæ™¯2ï¼šæš‚å­˜åŒº" class="headerlink" title="åœºæ™¯2ï¼šæš‚å­˜åŒº"></a>åœºæ™¯2ï¼šæš‚å­˜åŒº</h4><p>å½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜ <code>git add</code> æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤ <code>git reset HEAD file</code>ï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD &lt;æ–‡ä»¶å<span class="comment">// æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒºã€‚</span></span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€git-commit-æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œå‡ºé”™æ€ä¹ˆåŠï¼Ÿ"><a href="#ä¸‰ã€git-commit-æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œå‡ºé”™æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="ä¸‰ã€git commit æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œå‡ºé”™æ€ä¹ˆåŠï¼Ÿ"></a>ä¸‰ã€git commit æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼Œå‡ºé”™æ€ä¹ˆåŠï¼Ÿ</h3><h4 id="1-æäº¤ä¿¡æ¯å‡ºé”™"><a href="#1-æäº¤ä¿¡æ¯å‡ºé”™" class="headerlink" title="1. æäº¤ä¿¡æ¯å‡ºé”™"></a>1. æäº¤ä¿¡æ¯å‡ºé”™</h4><p>æ›´æ”¹ commit ä¿¡æ¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend -mâ€œæ–°æäº¤æ¶ˆæ¯â€</span><br></pre></td></tr></table></figure><h4 id="2-æ¼æäº¤"><a href="#2-æ¼æäº¤" class="headerlink" title="2. æ¼æäº¤"></a>2. æ¼æäº¤</h4><p>commit æ—¶ï¼Œé—æ¼æäº¤éƒ¨åˆ†æ›´æ–°ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>æ–¹æ¡ˆä¸€ï¼šå†æ¬¡ commit<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -mâ€œæäº¤æ¶ˆæ¯â€</span><br></pre></td></tr></table></figure></li></ul><p>  æ­¤æ—¶ï¼Œgit ä¸Šä¼šå‡ºç°ä¸¤æ¬¡ commit</p><ul><li>æ–¹æ¡ˆäºŒï¼šé—æ¼æ–‡ä»¶æäº¤åˆ°ä¹‹å‰ commit ä¸Š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add missed-file <span class="comment">// missed-file ä¸ºé—æ¼æäº¤æ–‡ä»¶</span></span><br><span class="line">git commit --amend --no-edit</span><br></pre></td></tr></table></figure></li></ul><p>  <code>--no-edit</code> è¡¨ç¤ºæäº¤æ¶ˆæ¯ä¸ä¼šæ›´æ”¹ï¼Œåœ¨ git ä¸Šä»…ä¸ºä¸€æ¬¡æäº¤</p><h4 id="3-æäº¤é”™è¯¯æ–‡ä»¶ï¼Œå›é€€åˆ°ä¸Šä¸€ä¸ª-commit-ç‰ˆæœ¬ï¼Œå†-commit"><a href="#3-æäº¤é”™è¯¯æ–‡ä»¶ï¼Œå›é€€åˆ°ä¸Šä¸€ä¸ª-commit-ç‰ˆæœ¬ï¼Œå†-commit" class="headerlink" title="3. æäº¤é”™è¯¯æ–‡ä»¶ï¼Œå›é€€åˆ°ä¸Šä¸€ä¸ª commit ç‰ˆæœ¬ï¼Œå† commit"></a>3. æäº¤é”™è¯¯æ–‡ä»¶ï¼Œå›é€€åˆ°ä¸Šä¸€ä¸ª commit ç‰ˆæœ¬ï¼Œå† commit</h4><h5 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h5><p>åˆ é™¤æŒ‡å®šçš„ commit</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹ç‰ˆæœ¬åº“ï¼Œä¿ç•™æš‚å­˜åŒºï¼Œä¿ç•™å·¥ä½œåŒº</span></span><br><span class="line"><span class="comment">// å°†ç‰ˆæœ¬åº“è½¯å›é€€1ä¸ªç‰ˆæœ¬ï¼Œè½¯å›é€€è¡¨ç¤ºå°†æœ¬åœ°ç‰ˆæœ¬åº“çš„å¤´æŒ‡é’ˆå…¨éƒ¨é‡ç½®åˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œä¸”å°†è¿™æ¬¡æäº¤ä¹‹åçš„æ‰€æœ‰å˜æ›´éƒ½ç§»åŠ¨åˆ°æš‚å­˜åŒºã€‚</span></span><br><span class="line">git reset --soft HEAD~<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹ç‰ˆæœ¬åº“ï¼Œä¿®æ”¹æš‚å­˜åŒºï¼Œä¿®æ”¹å·¥ä½œåŒº</span></span><br><span class="line"><span class="comment">// å°†ç‰ˆæœ¬åº“å›é€€1ä¸ªç‰ˆæœ¬ï¼Œä¸ä»…ä»…æ˜¯å°†æœ¬åœ°ç‰ˆæœ¬åº“çš„å¤´æŒ‡é’ˆå…¨éƒ¨é‡ç½®åˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œä¹Ÿä¼šé‡ç½®æš‚å­˜åŒºï¼Œå¹¶ä¸”ä¼šå°†å·¥ä½œåŒºä»£ç ä¹Ÿå›é€€åˆ°è¿™ä¸ªç‰ˆæœ¬</span></span><br><span class="line">git reset --hard HEAD~<span class="number">1</span></span><br><span class="line"><span class="comment">// gitç‰ˆæœ¬å›é€€ï¼Œå›é€€åˆ°ç‰¹å®šçš„commit_idç‰ˆæœ¬ï¼Œå¯ä»¥é€šè¿‡git logæŸ¥çœ‹æäº¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬(commit ä¹‹åçš„å³ä¸ºID);</span></span><br><span class="line">git reset --hard commit_id</span><br></pre></td></tr></table></figure><h5 id="git-revert"><a href="#git-revert" class="headerlink" title="git revert"></a>git revert</h5><p>æ’¤é”€ æŸæ¬¡æ“ä½œï¼Œæ­¤æ¬¡æ“ä½œä¹‹å‰å’Œä¹‹åçš„commitå’Œhistoryéƒ½ä¼šä¿ç•™ï¼Œå¹¶ä¸”æŠŠè¿™æ¬¡æ’¤é”€</p><p>ä½œä¸ºä¸€æ¬¡æœ€æ–°çš„æäº¤</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ’¤é”€å‰ä¸€æ¬¡ commit</span></span><br><span class="line">git revert HEAD</span><br><span class="line"><span class="comment">// æ’¤é”€å‰å‰ä¸€æ¬¡ commit</span></span><br><span class="line">git revert HEAD^</span><br><span class="line"><span class="comment">// (æ¯”å¦‚ï¼šfa042ce57ebbe5bb9c8db709f719cec2c58ee7ffï¼‰æ’¤é”€æŒ‡å®šçš„ç‰ˆæœ¬ï¼Œæ’¤é”€ä¹Ÿä¼šä½œä¸ºä¸€æ¬¡æäº¤è¿›è¡Œä¿å­˜ã€‚</span></span><br><span class="line">git revert commit</span><br></pre></td></tr></table></figure><p><code>git revert</code>æ˜¯æäº¤ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œå°†éœ€è¦<code>revert</code>çš„ç‰ˆæœ¬çš„å†…å®¹å†åå‘ä¿®æ”¹å›å»ï¼Œç‰ˆæœ¬ä¼šé€’å¢ï¼Œä¸å½±å“ä¹‹å‰æäº¤çš„å†…å®¹</p><h5 id="git-revert-å’Œ-git-reset-çš„åŒºåˆ«"><a href="#git-revert-å’Œ-git-reset-çš„åŒºåˆ«" class="headerlink" title="git revert å’Œ git reset çš„åŒºåˆ«"></a><code>git revert</code> å’Œ <code>git reset</code> çš„åŒºåˆ«</h5><ul><li><code>git revert</code>æ˜¯ç”¨ä¸€æ¬¡æ–°çš„commitæ¥å›æ»šä¹‹å‰çš„commitï¼Œ<code>git reset</code>æ˜¯ç›´æ¥åˆ é™¤æŒ‡å®šçš„commitã€‚</li><li>åœ¨å›æ»šè¿™ä¸€æ“ä½œä¸Šçœ‹ï¼Œæ•ˆæœå·®ä¸å¤šã€‚ä½†æ˜¯åœ¨æ—¥åç»§ç»­mergeä»¥å‰çš„è€ç‰ˆæœ¬æ—¶æœ‰åŒºåˆ«ã€‚å› ä¸º<code>git revert</code>æ˜¯ç”¨ä¸€æ¬¡é€†å‘çš„commitâ€œä¸­å’Œâ€ä¹‹å‰çš„æäº¤ï¼Œå› æ­¤æ—¥ååˆå¹¶è€çš„branchæ—¶ï¼Œå¯¼è‡´è¿™éƒ¨åˆ†æ”¹å˜ä¸ä¼šå†æ¬¡å‡ºç°ï¼Œä½†æ˜¯<code>git reset</code>æ˜¯ä¹‹é—´æŠŠæŸäº›commitåœ¨æŸä¸ªbranchä¸Šåˆ é™¤ï¼Œå› è€Œå’Œè€çš„branchå†æ¬¡mergeæ—¶ï¼Œè¿™äº›è¢«å›æ»šçš„commitåº”è¯¥è¿˜ä¼šè¢«å¼•å…¥ã€‚</li><li><code>git reset</code> æ˜¯æŠŠHEADå‘åç§»åŠ¨äº†ä¸€ä¸‹ï¼Œè€Œ<code>git revert</code>æ˜¯HEADç»§ç»­å‰è¿›ï¼Œåªæ˜¯æ–°çš„commitçš„å†…å®¹å’Œè¦revertçš„å†…å®¹æ­£å¥½ç›¸åï¼Œèƒ½å¤ŸæŠµæ¶ˆè¦è¢«revertçš„å†…å®¹ã€‚</li></ul><h3 id="å››ã€å¸¸ç”¨å‘½ä»¤"><a href="#å››ã€å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å››ã€å¸¸ç”¨å‘½ä»¤"></a>å››ã€å¸¸ç”¨å‘½ä»¤</h3><h4 id="1-åˆå§‹å¼€å‘-git-æ“ä½œæµç¨‹"><a href="#1-åˆå§‹å¼€å‘-git-æ“ä½œæµç¨‹" class="headerlink" title="1. åˆå§‹å¼€å‘ git æ“ä½œæµç¨‹"></a>1. åˆå§‹å¼€å‘ git æ“ä½œæµç¨‹</h4><ul><li>å…‹éš†æœ€æ–°ä¸»åˆ†æ”¯é¡¹ç›®ä»£ç  <code>git clone åœ°å€</code></li><li>åˆ›å»ºæœ¬åœ°åˆ†æ”¯ <code>git branch åˆ†æ”¯å</code></li><li>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ <code>git branch</code></li><li>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ <code>git branch -a</code></li><li>åˆ‡æ¢åˆ†æ”¯  <code>git checkout åˆ†æ”¯å</code> (ä¸€èˆ¬ä¿®æ”¹æœªæäº¤åˆ™æ— æ³•åˆ‡æ¢ï¼Œå¤§å°å†™é—®é¢˜ç»å¸¸ä¼šæœ‰ï¼Œå¯å¼ºåˆ¶åˆ‡æ¢  <code>git checkout åˆ†æ”¯å -f</code>  éå¿…é¡»æ…ç”¨)</li><li>å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ <code>git push &lt;è¿œç¨‹ä»“åº“&lt;æœ¬åœ°åˆ†æ”¯&gt;:&lt;è¿œç¨‹åˆ†æ”¯&gt;</code></li></ul><h4 id="2-git-fetch"><a href="#2-git-fetch" class="headerlink" title="2. git fetch"></a>2. git fetch</h4><p>å°†æŸä¸ªè¿œç¨‹ä¸»æœºçš„æ›´æ–°ï¼Œå…¨éƒ¨/åˆ†æ”¯ å–å›æœ¬åœ°ï¼ˆæ­¤æ—¶ä¹‹æ›´æ–°äº†Repositoryï¼‰å®ƒå–å›çš„ä»£ç å¯¹ä½ æœ¬åœ°çš„å¼€å‘ä»£ç æ²¡æœ‰å½±å“ï¼Œå¦‚éœ€å½»åº•æ›´æ–°éœ€åˆå¹¶æˆ–ä½¿ç”¨<code>git pull</code></p><h4 id="3-git-pull"><a href="#3-git-pull" class="headerlink" title="3. git pull"></a>3. git pull</h4><p>æ‹‰å–è¿œç¨‹ä¸»æœºæŸåˆ†æ”¯çš„æ›´æ–°ï¼Œå†ä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶ï¼ˆç›¸å½“ä¸fetchåŠ ä¸Šäº†åˆå¹¶åˆ†æ”¯åŠŸèƒ½çš„æ“ä½œï¼‰</p><h4 id="4-git-push"><a href="#4-git-push" class="headerlink" title="4. git push"></a>4. git push</h4><p>å°†æœ¬åœ°åˆ†æ”¯çš„æ›´æ–°ï¼Œæ¨é€åˆ°è¿œç¨‹ä¸»æœºï¼Œå…¶å‘½ä»¤æ ¼å¼ä¸<code>git pull</code>ç›¸ä¼¼</p><h4 id="5-åˆ†æ”¯æ“ä½œ"><a href="#5-åˆ†æ”¯æ“ä½œ" class="headerlink" title="5. åˆ†æ”¯æ“ä½œ"></a>5. åˆ†æ”¯æ“ä½œ</h4><ul><li>ä½¿ç”¨ Git ä¸‹è½½æŒ‡å®šåˆ†æ”¯å‘½ä»¤ä¸ºï¼š<code>git clone -b åˆ†æ”¯åä»“åº“åœ°å€</code></li><li>æ‹‰å–è¿œç¨‹æ–°åˆ†æ”¯ <code>git checkout -b serverfix origin/serverfix</code></li><li>åˆå¹¶æœ¬åœ°åˆ†æ”¯ <code>git merge hotfix</code>ï¼š(å°† hotfix åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯)</li><li>åˆå¹¶è¿œç¨‹åˆ†æ”¯ <code>git merge origin/serverfix</code></li><li>åˆ é™¤æœ¬åœ°åˆ†æ”¯ <code>git branch -d hotfix</code>ï¼š(åˆ é™¤æœ¬åœ° hotfix åˆ†æ”¯)</li><li>åˆ é™¤è¿œç¨‹åˆ†æ”¯ <code>git push origin --delete serverfix</code></li><li>ä¸Šä¼ æ–°å‘½åçš„æœ¬åœ°åˆ†æ”¯ï¼š<code>git push origin newName</code>;</li><li>åˆ›å»ºæ–°åˆ†æ”¯ï¼š<code>git branch branchName</code>ï¼š(åˆ›å»ºåä¸º branchName çš„æœ¬åœ°åˆ†æ”¯)</li><li>åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼š<code>git checkout branchName</code>ï¼š(åˆ‡æ¢åˆ° branchName åˆ†æ”¯)</li><li>åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ï¼š<code>git checkout -b branchName</code>ï¼š(ç›¸å½“äºä»¥ä¸Šä¸¤æ¡å‘½ä»¤çš„åˆå¹¶)</li><li>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼š<code>git branch</code></li><li>æŸ¥çœ‹è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯ï¼š<code>git branch -a</code></li><li>æœ¬åœ°åˆ†æ”¯é‡å‘½åï¼š <code>git branch -m oldName newName</code></li><li>é‡å‘½åè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„æœ¬åœ°åˆ†æ”¯ï¼š<code>git branch -m oldName newName</code></li><li>æŠŠä¿®æ”¹åçš„æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å…³è”ï¼š<code>git branch --set-upstream-to origin/newName</code></li></ul><h3 id="äº”ã€ä¼˜åŒ–æ“ä½œ"><a href="#äº”ã€ä¼˜åŒ–æ“ä½œ" class="headerlink" title="äº”ã€ä¼˜åŒ–æ“ä½œ"></a>äº”ã€ä¼˜åŒ–æ“ä½œ</h3><h4 id="1-æ‹‰å–ä»£ç -pull-â€“rebase"><a href="#1-æ‹‰å–ä»£ç -pull-â€“rebase" class="headerlink" title="1. æ‹‰å–ä»£ç  pull â€“rebase"></a>1. æ‹‰å–ä»£ç  pull â€“rebase</h4><p>åœ¨å›¢é˜Ÿåä½œè¿‡ç¨‹ä¸­ï¼Œå‡è®¾ä½ å’Œä½ çš„åŒä¼´åœ¨æœ¬åœ°ä¸­åˆ†åˆ«æœ‰å„è‡ªçš„æ–°æäº¤ï¼Œè€Œä½ çš„åŒä¼´å…ˆäºä½  <code>push</code> äº†ä»£ç åˆ°è¿œç¨‹åˆ†æ”¯ä¸Šï¼Œæ‰€ä»¥ä½ å¿…é¡»å…ˆæ‰§è¡Œ <code>git pull</code> æ¥è·å–åŒä¼´çš„æäº¤ï¼Œç„¶åæ‰èƒ½<code>push</code> è‡ªå·±çš„æäº¤åˆ°è¿œç¨‹åˆ†æ”¯ã€‚</p><p>è€ŒæŒ‰ç…§ Git çš„é»˜è®¤ç­–ç•¥ï¼Œå¦‚æœè¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯ä¹‹é—´çš„æäº¤çº¿å›¾æœ‰åˆ†å‰çš„è¯ï¼ˆå³ä¸æ˜¯ fast-forwardedï¼‰ï¼ŒGit ä¼šæ‰§è¡Œä¸€æ¬¡ <code>merge</code> æ“ä½œï¼Œå› æ­¤äº§ç”Ÿä¸€æ¬¡æ²¡æ„ä¹‰çš„æäº¤è®°å½•ï¼Œä»è€Œé€ æˆäº†åƒä¸Šå›¾é‚£æ ·çš„æ··ä¹±ã€‚</p><p>å…¶å®åœ¨ pull æ“ä½œçš„æ—¶å€™ï¼Œï¼Œä½¿ç”¨ <code>git pull --rebase</code>é€‰é¡¹å³å¯å¾ˆå¥½åœ°è§£å†³ä¸Šè¿°é—®é¢˜ã€‚ åŠ ä¸Š <code>--rebase</code> å‚æ•°çš„ä½œç”¨æ˜¯ï¼Œæäº¤çº¿å›¾æœ‰åˆ†å‰çš„è¯ï¼ŒGit ä¼š rebase ç­–ç•¥æ¥ä»£æ›¿é»˜è®¤çš„ merge ç­–ç•¥ã€‚</p><p>å‡è®¾æäº¤çº¿å›¾åœ¨æ‰§è¡Œ pull å‰æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">      A---B---C  remotes/origin/master</span><br><span class="line">     /</span><br><span class="line">D---E---F---G  master</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯æ‰§è¡Œ <code>git pull</code> åï¼Œæäº¤çº¿å›¾ä¼šå˜æˆè¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">      A---B---C remotes/origin/master</span><br><span class="line">     /         \</span><br><span class="line">D---E---F---G---H master</span><br></pre></td></tr></table></figure><p>ç»“æœå¤šå‡ºäº† <code>H</code> è¿™ä¸ªæ²¡å¿…è¦çš„æäº¤è®°å½•ã€‚å¦‚æœæ˜¯æ‰§è¡Œ <code>git pull --rebase</code> çš„è¯ï¼Œæäº¤çº¿å›¾å°±ä¼šå˜æˆè¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">            remotes/origin/master</span><br><span class="line">                |</span><br><span class="line">D---E---A---B---C---F&apos;---G&apos;  master</span><br></pre></td></tr></table></figure><p><code>F</code> <code>G</code> ä¸¤ä¸ªæäº¤é€šè¿‡ <code>rebase</code> æ–¹å¼é‡æ–°æ‹¼æ¥åœ¨ <code>C</code> ä¹‹åï¼Œå¤šä½™çš„åˆ†å‰å»æ‰äº†ï¼Œç›®çš„è¾¾åˆ°ã€‚</p><h5 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h5><p>å¤§å¤šæ•°æ—¶å€™ï¼Œä½¿ç”¨ <code>git pull --rebase</code>æ˜¯ä¸ºäº†ä½¿æäº¤çº¿å›¾æ›´å¥½çœ‹ï¼Œä»è€Œæ–¹ä¾¿ code reviewã€‚</p><p>ä¸è¿‡ï¼Œå¦‚æœä½ å¯¹ä½¿ç”¨ git è¿˜ä¸æ˜¯ååˆ†ç†Ÿç»ƒçš„è¯ï¼Œæˆ‘çš„å»ºè®®æ˜¯ <code>git pull --rebase</code>å¤šç»ƒä¹ å‡ æ¬¡ä¹‹åå†ä½¿ç”¨ï¼Œå› ä¸º <strong>rebase åœ¨ git ä¸­ï¼Œç®—å¾—ä¸Šæ˜¯ã€å±é™©è¡Œä¸ºã€</strong>ã€‚</p><p>å¦å¤–ï¼Œè¿˜éœ€æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ <code>git pull --rebase</code>æ¯”ç›´æ¥ pull å®¹æ˜“å¯¼è‡´å†²çªçš„äº§ç”Ÿï¼Œå¦‚æœé¢„æœŸå†²çªæ¯”è¾ƒå¤šçš„è¯ï¼Œå»ºè®®è¿˜æ˜¯ç›´æ¥ pullã€‚</p><p>æ³¨æ„ï¼šgit pull = git fetch + git mergegit pull â€“rebase = git fetch + git rebase</p><h4 id="2-åˆä»£ç -merge-â€“no-ff"><a href="#2-åˆä»£ç -merge-â€“no-ff" class="headerlink" title="2. åˆä»£ç  merge â€“no-ff"></a>2. åˆä»£ç  merge â€“no-ff</h4><p>ä¸Šè¿°çš„ <code>git pull --rebase</code> ç­–ç•¥ç›®çš„æ˜¯ä¿®æ•´æäº¤çº¿å›¾ï¼Œä½¿å…¶å½¢æˆä¸€æ¡ç›´çº¿ï¼Œè€Œå³å°†è¦ç”¨åˆ°çš„ <code>git merge --no-ff &lt;branch-name&gt;</code> ç­–ç•¥ååæ˜¯åè¡Œå…¶é“ï¼Œåˆ»æ„åœ°å¼„å‡ºæäº¤çº¿å›¾åˆ†å‰å‡ºæ¥ã€‚</p><p>å‡è®¾ä½ åœ¨æœ¬åœ°å‡†å¤‡åˆå¹¶ä¸¤ä¸ªåˆ†æ”¯ï¼Œè€Œåˆšå¥½è¿™ä¸¤ä¸ªåˆ†æ”¯æ˜¯ fast-forwarded çš„ï¼Œé‚£ä¹ˆç›´æ¥åˆå¹¶åä½ å¾—åˆ°ä¸€ä¸ªç›´çº¿çš„æäº¤çº¿å›¾ï¼Œå½“ç„¶è¿™æ ·æ²¡ä»€ä¹ˆåå¤„ï¼Œä½†å¦‚æœä½ æƒ³æ›´æ¸…æ™°åœ°å‘Šè¯‰ä½ åŒä¼´ï¼š<strong>è¿™ä¸€ç³»åˆ—çš„æäº¤éƒ½æ˜¯ä¸ºäº†å®ç°åŒä¸€ä¸ªç›®çš„</strong>ï¼Œé‚£ä¹ˆä½ å¯ä»¥åˆ»æ„åœ°å°†è¿™æ¬¡æäº¤å†…å®¹å¼„æˆä¸€æ¬¡æäº¤çº¿å›¾åˆ†å‰ã€‚</p><p>æ‰§è¡Œ <code>git merge --no-ff &lt;branch-name&gt;</code> çš„ç»“æœå¤§æ¦‚ä¼šæ˜¯è¿™æ ·çš„ï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/git-chain1.png" alt="git merge --no-ff"></p><p>ä¸­é—´çš„åˆ†å‰çº¿è·¯å›¾å¾ˆæ¸…æ™°çš„æ˜¾ç¤ºè¿™äº›æäº¤éƒ½æ˜¯ä¸ºäº†å®ç° <strong>complete adjusting user domains and tags</strong></p><h5 id="æ›´è¿›ä¸€æ­¥"><a href="#æ›´è¿›ä¸€æ­¥" class="headerlink" title="æ›´è¿›ä¸€æ­¥"></a>æ›´è¿›ä¸€æ­¥</h5><p>å¾€å¾€æˆ‘çš„ä¹ æƒ¯æ˜¯ï¼Œåœ¨åˆå¹¶åˆ†æ”¯ä¹‹å‰ï¼ˆå‡è®¾è¦åœ¨æœ¬åœ°å°† feature åˆ†æ”¯åˆå¹¶åˆ° dev åˆ†æ”¯ï¼‰ï¼Œä¼šå…ˆæ£€æŸ¥ feature åˆ†æ”¯æ˜¯å¦ã€éƒ¨åˆ†è½åã€äº<strong>è¿œç¨‹ dev åˆ†æ”¯</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout dev</span><br><span class="line">git pull # æ›´æ–° dev åˆ†æ”¯</span><br><span class="line">git log feature..dev</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰è¾“å‡ºä»»ä½•æäº¤ä¿¡æ¯çš„è¯ï¼Œå³è¡¨ç¤º feature å¯¹äº dev åˆ†æ”¯æ˜¯ up-to-date çš„ã€‚å¦‚æœæœ‰è¾“å‡ºçš„è¯è€Œé©¬ä¸Šæ‰§è¡Œäº† <code>git merge --no-ff</code> çš„è¯ï¼Œæäº¤çº¿å›¾ä¼šå˜æˆè¿™æ ·ï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/git-chain2.png" alt="git-merge"></p><p>æ‰€ä»¥è¿™æ—¶åœ¨åˆå¹¶å‰ï¼Œé€šå¸¸æˆ‘ä¼šå…ˆæ‰§è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout feature</span><br><span class="line">git rebase dev</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥å°† feature é‡æ–°æ‹¼æ¥åˆ°æ›´æ–°äº†çš„ dev ä¹‹åï¼Œç„¶åå°±å¯ä»¥åˆå¹¶äº†ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå¹²å‡€èˆ’æœçš„æäº¤çº¿å›¾ã€‚</p><p><strong>å†æ¬¡æé†’ï¼šåƒä¹‹å‰æåˆ°çš„ï¼Œrebase æ˜¯ã€å±é™©è¡Œä¸ºã€ï¼Œå»ºè®®ä½ è¶³å¤Ÿç†Ÿæ‚‰ git æ—¶æ‰è¿™ä¹ˆåšï¼Œå¦åˆ™çš„è¯æ˜¯å¾—ä¸å¿å¤±å•Šã€‚</strong></p><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>ä½¿ç”¨ <code>git pull --rebase</code> å’Œ <code>git merge --no-ff</code> å…¶å®å’Œç›´æ¥ä½¿ç”¨ <code>git pull</code> <code>git merge</code> å¾—åˆ°çš„ä»£ç åº”è¯¥æ˜¯ä¸€æ ·ã€‚</p><p>ä½¿ç”¨ <code>git pull --rebase</code> ä¸»è¦æ˜¯ä¸ºæ˜¯å°†æäº¤çº¦çº¿å›¾å¹³å¦åŒ–ï¼Œè€Œ <code>git merge --no-ff</code> åˆ™æ˜¯åˆ»æ„åˆ¶é€ åˆ†å‰ã€‚</p><h3 id="å…­ã€SSH"><a href="#å…­ã€SSH" class="headerlink" title="å…­ã€SSH"></a>å…­ã€SSH</h3><h4 id="1-æŸ¥çœ‹æ˜¯å¦ç”Ÿæˆäº†-SSH-å…¬é’¥"><a href="#1-æŸ¥çœ‹æ˜¯å¦ç”Ÿæˆäº†-SSH-å…¬é’¥" class="headerlink" title="1. æŸ¥çœ‹æ˜¯å¦ç”Ÿæˆäº† SSH å…¬é’¥"></a>1. æŸ¥çœ‹æ˜¯å¦ç”Ÿæˆäº† SSH å…¬é’¥</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/.ssh</span><br><span class="line">$ ls</span><br><span class="line">id_rsa      id_rsa.pub      known_hosts</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ id_rsa æ˜¯ç§é’¥ï¼Œid_rsa.pub æ˜¯å…¬é’¥ã€‚</p><h4 id="2-å¦‚æœæ²¡æœ‰é‚£å°±å¼€å§‹ç”Ÿæˆï¼Œè®¾ç½®å…¨å±€çš„user-nameä¸user-email"><a href="#2-å¦‚æœæ²¡æœ‰é‚£å°±å¼€å§‹ç”Ÿæˆï¼Œè®¾ç½®å…¨å±€çš„user-nameä¸user-email" class="headerlink" title="2. å¦‚æœæ²¡æœ‰é‚£å°±å¼€å§‹ç”Ÿæˆï¼Œè®¾ç½®å…¨å±€çš„user.nameä¸user.email"></a>2. å¦‚æœæ²¡æœ‰é‚£å°±å¼€å§‹ç”Ÿæˆï¼Œè®¾ç½®å…¨å±€çš„user.nameä¸user.email</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --list <span class="comment">// æŸ¥çœ‹æ˜¯å¦è®¾ç½®äº†user.nameä¸user.emailï¼Œæ²¡æœ‰çš„è¯ï¼Œå»è®¾ç½®</span></span><br><span class="line"><span class="comment">// è®¾ç½®å…¨å±€çš„user.nameä¸user.email</span></span><br><span class="line">git config --global user.name <span class="string">"XX"</span></span><br><span class="line">git config --global user.email <span class="string">"XX"</span></span><br></pre></td></tr></table></figure><h4 id="3-è¾“å…¥-ssh-keygen-å³å¯ï¼ˆæˆ–ssh-keygen-t-rsa-C-quot-email-quot-ï¼‰"><a href="#3-è¾“å…¥-ssh-keygen-å³å¯ï¼ˆæˆ–ssh-keygen-t-rsa-C-quot-email-quot-ï¼‰" class="headerlink" title="3. è¾“å…¥ ssh-keygen å³å¯ï¼ˆæˆ–ssh-keygen -t rsa -C &quot;email&quot;ï¼‰"></a>3. è¾“å…¥ ssh-keygen å³å¯ï¼ˆæˆ–<code>ssh-keygen -t rsa -C &quot;email&quot;</code>ï¼‰</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file in which to save the key (/Users/schacon/.ssh/id_rsa):</span><br><span class="line">Enter passphrase (empty for no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in /Users/schacon/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved in /Users/schacon/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br></pre></td></tr></table></figure><h4 id="4-ç”Ÿæˆä¹‹åè·å–å…¬é’¥å†…å®¹ï¼Œè¾“å…¥-cat-ssh-id-rsa-pub-å³å¯ï¼Œ-å¤åˆ¶-ssh-rsa-ä¸€ç›´åˆ°-localè¿™ä¸€æ•´æ®µå†…å®¹"><a href="#4-ç”Ÿæˆä¹‹åè·å–å…¬é’¥å†…å®¹ï¼Œè¾“å…¥-cat-ssh-id-rsa-pub-å³å¯ï¼Œ-å¤åˆ¶-ssh-rsa-ä¸€ç›´åˆ°-localè¿™ä¸€æ•´æ®µå†…å®¹" class="headerlink" title="4. ç”Ÿæˆä¹‹åè·å–å…¬é’¥å†…å®¹ï¼Œè¾“å…¥ cat ~/.ssh/id_rsa.pub å³å¯ï¼Œ å¤åˆ¶ ssh-rsa ä¸€ç›´åˆ° .localè¿™ä¸€æ•´æ®µå†…å®¹"></a>4. ç”Ÿæˆä¹‹åè·å–å…¬é’¥å†…å®¹ï¼Œè¾“å…¥ cat ~/.ssh/id_rsa.pub å³å¯ï¼Œ å¤åˆ¶ ssh-rsa ä¸€ç›´åˆ° .localè¿™ä¸€æ•´æ®µå†…å®¹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cat ~/.ssh/id_rsa.pub</span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU</span><br><span class="line">GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3</span><br><span class="line">Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA</span><br><span class="line">t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En</span><br><span class="line">mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx</span><br><span class="line">NrRFi9wrf+M7Q== schacon@agadorlaptop.local</span><br></pre></td></tr></table></figure><h4 id="5-æ‰“å¼€-GitLab-æˆ–è€…-GitHubï¼Œç‚¹å‡»å¤´åƒï¼Œæ‰¾åˆ°è®¾ç½®é¡µ"><a href="#5-æ‰“å¼€-GitLab-æˆ–è€…-GitHubï¼Œç‚¹å‡»å¤´åƒï¼Œæ‰¾åˆ°è®¾ç½®é¡µ" class="headerlink" title="5. æ‰“å¼€ GitLab æˆ–è€… GitHubï¼Œç‚¹å‡»å¤´åƒï¼Œæ‰¾åˆ°è®¾ç½®é¡µ"></a>5. æ‰“å¼€ GitLab æˆ–è€… GitHubï¼Œç‚¹å‡»å¤´åƒï¼Œæ‰¾åˆ°è®¾ç½®é¡µ</h4><h4 id="6-å·¦ä¾§æ‰¾åˆ°-SSH-keys-æŒ‰é’®å¹¶ç‚¹å‡»ï¼Œè¾“å…¥åˆšåˆšå¤åˆ¶çš„å…¬é’¥å³å¯"><a href="#6-å·¦ä¾§æ‰¾åˆ°-SSH-keys-æŒ‰é’®å¹¶ç‚¹å‡»ï¼Œè¾“å…¥åˆšåˆšå¤åˆ¶çš„å…¬é’¥å³å¯" class="headerlink" title="6. å·¦ä¾§æ‰¾åˆ° SSH keys æŒ‰é’®å¹¶ç‚¹å‡»ï¼Œè¾“å…¥åˆšåˆšå¤åˆ¶çš„å…¬é’¥å³å¯"></a>6. å·¦ä¾§æ‰¾åˆ° SSH keys æŒ‰é’®å¹¶ç‚¹å‡»ï¼Œè¾“å…¥åˆšåˆšå¤åˆ¶çš„å…¬é’¥å³å¯</h4><h3 id="ä¸ƒã€æš‚å­˜"><a href="#ä¸ƒã€æš‚å­˜" class="headerlink" title="ä¸ƒã€æš‚å­˜"></a>ä¸ƒã€æš‚å­˜</h3><p><code>git stash</code> å¯ç”¨æ¥æš‚å­˜å½“å‰æ­£åœ¨è¿›è¡Œçš„å·¥ä½œï¼Œæ¯”å¦‚æƒ³ pull æœ€æ–°ä»£ç åˆä¸æƒ³ commit ï¼Œ æˆ–è€…å¦ä¸ºäº†ä¿®æ”¹ä¸€ä¸ªç´§æ€¥çš„ bug ï¼Œå…ˆ stashï¼Œä½¿è¿”å›åˆ°è‡ªå·±ä¸Šä¸€ä¸ª commit,ï¼Œæ”¹å®Œ bug ä¹‹åå† stash pop , ç»§ç»­åŸæ¥çš„å·¥ä½œï¼›</p><ul><li>æ·»åŠ ç¼“å­˜æ ˆï¼š <code>git stash</code> ;</li><li>æŸ¥çœ‹ç¼“å­˜æ ˆï¼š <code>git stash list</code> ;</li><li>æ¨å‡ºç¼“å­˜æ ˆï¼š <code>git stash pop</code> ;</li><li>å–å‡ºç‰¹å®šç¼“å­˜å†…å®¹ï¼š <code>git stash apply stash@{1}</code> ;</li></ul><h3 id="å…«ã€æ–‡ä»¶åè¿‡é•¿é”™è¯¯"><a href="#å…«ã€æ–‡ä»¶åè¿‡é•¿é”™è¯¯" class="headerlink" title="å…«ã€æ–‡ä»¶åè¿‡é•¿é”™è¯¯"></a>å…«ã€æ–‡ä»¶åè¿‡é•¿é”™è¯¯</h3><p>Filename too long warning: Clone succeeded, but checkout failed.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --system core.longpaths true</span><br></pre></td></tr></table></figure><h3 id="ä¹ã€é‚®ç®±å’Œç”¨æˆ·å"><a href="#ä¹ã€é‚®ç®±å’Œç”¨æˆ·å" class="headerlink" title="ä¹ã€é‚®ç®±å’Œç”¨æˆ·å"></a>ä¹ã€é‚®ç®±å’Œç”¨æˆ·å</h3><h4 id="æŸ¥çœ‹"><a href="#æŸ¥çœ‹" class="headerlink" title="æŸ¥çœ‹"></a>æŸ¥çœ‹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config user.name</span><br><span class="line"></span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;username&quot;</span><br><span class="line"></span><br><span class="line">git config --global user.email &quot;email&quot;</span><br></pre></td></tr></table></figure><h3 id="åã€-gitignore-æ›´æ–°åç”Ÿæ•ˆï¼š"><a href="#åã€-gitignore-æ›´æ–°åç”Ÿæ•ˆï¼š" class="headerlink" title="åã€.gitignore æ›´æ–°åç”Ÿæ•ˆï¼š"></a>åã€.gitignore æ›´æ–°åç”Ÿæ•ˆï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached .</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;.gitignore is now workingâ€</span><br></pre></td></tr></table></figure><h3 id="åä¸€ã€åŒæ­¥Github-fork-å‡ºæ¥çš„åˆ†æ”¯"><a href="#åä¸€ã€åŒæ­¥Github-fork-å‡ºæ¥çš„åˆ†æ”¯" class="headerlink" title="åä¸€ã€åŒæ­¥Github fork å‡ºæ¥çš„åˆ†æ”¯"></a>åä¸€ã€åŒæ­¥Github fork å‡ºæ¥çš„åˆ†æ”¯</h3><p>1ã€é…ç½®remoteï¼ŒæŒ‡å‘åŸå§‹ä»“åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add upstream https://github.com/cosyer/jelly.git</span><br></pre></td></tr></table></figure><p>2ã€ä¸Šæ¸¸ä»“åº“è·å–åˆ°åˆ†æ”¯ï¼ŒåŠç›¸å…³çš„æäº¤ä¿¡æ¯ï¼Œå®ƒä»¬å°†è¢«ä¿å­˜åœ¨æœ¬åœ°çš„ upstream/master åˆ†æ”¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git fetch upstream</span><br><span class="line"># remote: Counting objects: 75, done.</span><br><span class="line"># remote: Compressing objects: 100% (53/53), done.</span><br><span class="line"># remote: Total 62 (delta 27), reused 44 (delta 9)</span><br><span class="line"># Unpacking objects: 100% (62/62), done.</span><br><span class="line"># From https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY</span><br><span class="line"># * [new branch] master -upstream/master</span><br></pre></td></tr></table></figure><p>3ã€åˆ‡æ¢åˆ°æœ¬åœ°çš„ master åˆ†æ”¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line"># Switched to branch &apos;master&apos;</span><br></pre></td></tr></table></figure><p>4ã€æŠŠ upstream/master åˆ†æ”¯åˆå¹¶åˆ°æœ¬åœ°çš„ master åˆ†æ”¯ï¼Œæœ¬åœ°çš„ master åˆ†æ”¯ä¾¿è·Ÿä¸Šæ¸¸ä»“åº“ä¿æŒåŒæ­¥äº†ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸¢å¤±æœ¬åœ°çš„ä¿®æ”¹ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git merge upstream/master</span><br><span class="line"># Updating a422352..5fdff0f</span><br><span class="line"># Fast-forward</span><br><span class="line"># README | 9 -------</span><br><span class="line"># README.md | 7 ++++++</span><br><span class="line"># 2 files changed, 7 insertions(+), 9 deletions(-)</span><br><span class="line"># delete mode 100644 README</span><br><span class="line"># create mode 100644 README.md</span><br></pre></td></tr></table></figure><p>5ã€ä¸Šä¼ åˆ°è‡ªå·±çš„è¿œç¨‹ä»“åº“ä¸­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure><h3 id="gitåˆå¹¶å¤šä¸ªcommit"><a href="#gitåˆå¹¶å¤šä¸ªcommit" class="headerlink" title="gitåˆå¹¶å¤šä¸ªcommit"></a>gitåˆå¹¶å¤šä¸ªcommit</h3><p>è¿‡å»æ€»æ˜¯ä½¿ç”¨<code>git reset --soft</code>å›é€€åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œå† commit å push orgin master -f å¼ºæ¨åˆ°è¿œç¨‹åº“ï¼Œèƒ½å¤Ÿè¦†ç›–æ‰ä¹‹å‰çš„ commit ã€‚</p><p>ä½†åœ¨å›¢é˜Ÿåä½œæ—¶ï¼Œæ¯æ¬¡ commit å‰è¿˜éœ€è¦ rebase upstreamï¼Œè¿™ä¼šè‡ªåŠ¨å°†ä¸€äº›å…¶ä»–äººåšçš„ä¿®æ”¹ä¹Ÿè‡ªåŠ¨mergeåˆ°æœ¬åœ°çš„æºç ä¸­ã€‚å¦‚æœæ­¤æ—¶å¸Œæœ›è¦†ç›–å‰ä¸€æ¬¡ commit ï¼Œreset åˆ°ä¹‹å‰çš„çŠ¶æ€åï¼Œå†æ¬¡ commit çš„å†…å®¹å°±åŒ…å«äº†å…¶ä»–äººçš„ä¿®æ”¹ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ git rebase -i ã€‚</p><h4 id="åŸºæœ¬æ­¥éª¤"><a href="#åŸºæœ¬æ­¥éª¤" class="headerlink" title="åŸºæœ¬æ­¥éª¤"></a>åŸºæœ¬æ­¥éª¤</h4><ul><li><ol><li>git logæŸ¥çœ‹æ‰€æœ‰commitçš„æƒ…å†µï¼Œæ‰¾åˆ°è‡ªå·±æƒ³è¦åˆå¹¶çš„commitä¹‹å‰çš„é‚£ä¸ªcommitçš„sshç ï¼›</li></ol></li><li><ol><li>git rebase -i 43jk2l3ba343ï¼Œè¿™æ ·ä¼šå¼¹å‡ºä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼›git reset â€“soft  HEAD^ ä¸Šä¸ªcommit ^^ä¸Šä¸Šä¸ªcommit HEAD~6ï¼›</li></ol></li><li><ol><li>ä¿®æ”¹pickä¸ºsquashä¼šå°†è¿™ä¸ªcommitåˆå¹¶åˆ°å‰ä¸€ä¸ªcommitä¸­ï¼Œä¿å­˜é€€å‡ºï¼›</li></ol></li><li><ol><li>æç¤ºå†™ä¸‹æ–°çš„commit messageï¼Œä¹‹å‰çš„messageå¯ä»¥ç”¨#æ³¨é‡Šæ‰ï¼Œä¿å­˜é€€å‡ºï¼›</li></ol></li><li><ol><li>æ­¤æ—¶å†git logå°±ä¼šå‘ç°ï¼Œä¸¤ä¸ªcommitè¢«åˆå¹¶åˆ°ä¸€ä¸ªcommitä¸­ã€‚</li></ol></li></ul><h3 id="Commit-message-å‰ç¼€è§„èŒƒæè¦"><a href="#Commit-message-å‰ç¼€è§„èŒƒæè¦" class="headerlink" title="Commit message å‰ç¼€è§„èŒƒæè¦"></a>Commit message å‰ç¼€è§„èŒƒæè¦</h3><table><thead><tr><th>code</th><th>info          </th></tr></thead><tbody><tr><td><strong>feat</strong>:msg</td><td>æ–°åŠŸèƒ½ feature</td></tr><tr><td><strong>fix</strong>:msg</td><td>ä¿®å¤bug</td></tr><tr><td><strong>merge</strong>:msg</td><td>merge ä¿¡æ¯</td></tr><tr><td><strong>docs</strong>:msg</td><td>æ–‡æ¡£ä¿®æ”¹</td></tr><tr><td><strong>style</strong>:msg</td><td>æ ¼å¼ï¼Œä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨</td></tr><tr><td><strong>refactor</strong>: msg</td><td>é‡æ„å³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨</td></tr><tr><td><strong>test</strong>:msg</td><td>å¢åŠ æµ‹è¯•</td></tr><tr><td><strong>chore</strong>:msg</td><td>æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</td></tr><tr><td><strong>rm</strong>:msg</td><td>åˆ é™¤æ–‡ä»¶æˆ–ä»£ç </td></tr></tbody></table><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p>æœ¬æ–‡å‚è€ƒäº† <a href="http://hungyuhei.github.io/2012/08/07/better-git-commit-graph-using-pull---rebase-and-merge---no-ff.html" target="_blank" rel="noopener">æ´ç™–è€…ç”¨ Gitï¼špull â€“rebase å’Œ merge â€“no-ff</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2019/git%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E5%9C%BA%E6%99%AF%E5%92%8C%E5%91%BD%E4%BB%A4.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
