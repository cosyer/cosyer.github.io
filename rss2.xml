<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>cosyer&#39;s Blog</title>
    <link>http://mydearest.cn/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>é™ˆå®‡çš„åšå®¢</description>
    <pubDate>Wed, 01 Jul 2020 17:01:28 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>å…³äºnodeçš„é‚£äº›äº‹(è¿›é˜¶ç¯‡)</title>
      <link>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E8%BF%9B%E9%98%B6%E7%AF%87).html</link>
      <guid>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E8%BF%9B%E9%98%B6%E7%AF%87).html</guid>
      <pubDate>Wed, 01 Jul 2020 16:31:02 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;ğŸ‘¨æé—®ï¼šæ³¨å†Œè·¯ç”±æ—¶-app-getã€app-useã€app-all-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#ğŸ‘¨æé—®ï¼šæ³¨å†Œè·¯ç”±æ—¶-app-getã€app-useã€app-all-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ğŸ‘¨æé—®ï¼šæ³¨å†Œè·¯ç”±æ—¶ app.getã€app.useã€app.all çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;ğŸ‘¨æé—®ï¼šæ³¨å†Œè·¯ç”±æ—¶ app.getã€app.useã€app.all çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;&lt;h3 id=&quot;app-use-path-callback&quot;&gt;&lt;a href=&quot;#app-use-path-callback&quot; class=&quot;headerlink&quot; title=&quot;app.use(path,callback)&quot;&gt;&lt;/a&gt;app.use(path,callback)&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;app.useæ˜¯expressç”¨æ¥è°ƒç”¨ä¸­é—´ä»¶çš„æ–¹æ³•ã€‚ä¸­é—´ä»¶é€šå¸¸ä¸å¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œä¸€èˆ¬åªå¤„ç†è¾“å…¥æ•°æ®ï¼Œå¹¶å°†å…¶äº¤ç»™é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†ç¨‹åºï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­app.use
(â€˜/userâ€™)ï¼Œé‚£ä¹ˆåªè¦è·¯å¾„ä»¥ /user å¼€å§‹å³å¯åŒ¹é…ï¼Œå¦‚ /user/tree å°±å¯ä»¥åŒ¹é…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;app-all&quot;&gt;&lt;a href=&quot;#app-all&quot; class=&quot;headerlink&quot; title=&quot;app.all()&quot;&gt;&lt;/a&gt;app.all()&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;app.all æ˜¯è·¯ç”±ä¸­æŒ‡ä»£æ‰€æœ‰çš„è¯·æ±‚æ–¹å¼ï¼Œç”¨ä½œè·¯ç”±å¤„ç†ï¼ŒåŒ¹é…å®Œæ•´è·¯å¾„ï¼Œåœ¨app.useä¹‹åå¯ä»¥ç†è§£ä¸ºåŒ…å«äº†app.getã€app.postç­‰çš„å®šä¹‰ï¼Œæ¯”å¦‚app.all(â€˜/
user/treeâ€™),èƒ½åŒæ—¶è¦†ç›–ï¼šget(â€˜/user/treeâ€™) ã€ post(â€˜/user/treeâ€™)ã€ put(â€˜/user/treeâ€™) ,ä¸è¿‡ç›¸å¯¹äºapp.use()çš„å‰ç¼€åŒ¹é…ï¼Œå®ƒåˆ™æ˜¯åŒ¹é…å…·ä½“çš„è·¯
ç”±ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;allå®Œæ•´åŒ¹é…ï¼ŒuseåªåŒ¹é…å‰ç¼€&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="ğŸ‘¨æé—®ï¼šæ³¨å†Œè·¯ç”±æ—¶-app-getã€app-useã€app-all-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ‘¨æé—®ï¼šæ³¨å†Œè·¯ç”±æ—¶-app-getã€app-useã€app-all-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ‘¨æé—®ï¼šæ³¨å†Œè·¯ç”±æ—¶ app.getã€app.useã€app.all çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸ‘¨æé—®ï¼šæ³¨å†Œè·¯ç”±æ—¶ app.getã€app.useã€app.all çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2><h3 id="app-use-path-callback"><a href="#app-use-path-callback" class="headerlink" title="app.use(path,callback)"></a>app.use(path,callback)</h3><blockquote><p>app.useæ˜¯expressç”¨æ¥è°ƒç”¨ä¸­é—´ä»¶çš„æ–¹æ³•ã€‚ä¸­é—´ä»¶é€šå¸¸ä¸å¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œä¸€èˆ¬åªå¤„ç†è¾“å…¥æ•°æ®ï¼Œå¹¶å°†å…¶äº¤ç»™é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†ç¨‹åºï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­app.use(â€˜/userâ€™)ï¼Œé‚£ä¹ˆåªè¦è·¯å¾„ä»¥ /user å¼€å§‹å³å¯åŒ¹é…ï¼Œå¦‚ /user/tree å°±å¯ä»¥åŒ¹é…ã€‚</p></blockquote><h3 id="app-all"><a href="#app-all" class="headerlink" title="app.all()"></a>app.all()</h3><blockquote><p>app.all æ˜¯è·¯ç”±ä¸­æŒ‡ä»£æ‰€æœ‰çš„è¯·æ±‚æ–¹å¼ï¼Œç”¨ä½œè·¯ç”±å¤„ç†ï¼ŒåŒ¹é…å®Œæ•´è·¯å¾„ï¼Œåœ¨app.useä¹‹åå¯ä»¥ç†è§£ä¸ºåŒ…å«äº†app.getã€app.postç­‰çš„å®šä¹‰ï¼Œæ¯”å¦‚app.all(â€˜/user/treeâ€™),èƒ½åŒæ—¶è¦†ç›–ï¼šget(â€˜/user/treeâ€™) ã€ post(â€˜/user/treeâ€™)ã€ put(â€˜/user/treeâ€™) ,ä¸è¿‡ç›¸å¯¹äºapp.use()çš„å‰ç¼€åŒ¹é…ï¼Œå®ƒåˆ™æ˜¯åŒ¹é…å…·ä½“çš„è·¯ç”±ã€‚</p></blockquote><p><code>allå®Œæ•´åŒ¹é…ï¼ŒuseåªåŒ¹é…å‰ç¼€</code></p><hr><a id="more"></a><h2 id="express-responseæœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•"><a href="#express-responseæœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•" class="headerlink" title="express responseæœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•?"></a>express responseæœ‰å“ªäº›å¸¸ç”¨æ–¹æ³•?</h2><p>express responseå¯¹è±¡æ˜¯å¯¹Node.jsåŸç”Ÿå¯¹è±¡ServerResponseçš„æ‰©å±•ï¼Œexpress responseå¸¸è§çš„æœ‰ï¼šres.end()ã€res.send()ã€res.render()ã€res.redirect()ï¼Œè€Œè¿™å‡ ä¸ªæœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿæ›´å¤šè¯·çœ‹æ–‡æ¡£<a href="https://www.expressjs.com.cn/4x/api.html#res" target="_blank" rel="noopener">express Response</a></p><h3 id="res-end"><a href="#res-end" class="headerlink" title="res.end()"></a>res.end()</h3><p>ç»“æŸresponse - å¦‚æœæœåŠ¡ç«¯æ²¡æœ‰æ•°æ®å›ä¼ ç»™å®¢æˆ·ç«¯åˆ™å¯ä»¥ç›´æ¥ç”¨res.endè¿”å›ï¼Œä»¥æ­¤æ¥ç»“æŸå“åº”è¿‡ç¨‹ã€‚</p><h3 id="res-send-body"><a href="#res-send-body" class="headerlink" title="res.send(body)"></a>res.send(body)</h3><p>å¦‚æœæœåŠ¡ç«¯æœ‰æ•°æ®å¯ä»¥ä½¿ç”¨res.send,å¯ä»¥å¿½ç•¥res.endï¼Œbodyå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªBufferå¯¹è±¡ï¼Œä¸€ä¸ªStringå¯¹è±¡æˆ–ä¸€ä¸ªArrayã€‚</p><h3 id="res-render"><a href="#res-render" class="headerlink" title="res.render"></a>res.render</h3><p>res.renderç”¨æ¥æ¸²æŸ“æ¨¡æ¿æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç»“åˆæ¨¡ç‰ˆå¼•æ“æ¥ä½¿ç”¨ï¼Œä¸‹é¢çœ‹ä¸ªç®€å•çš„demo (express+ejsæ¨¡ç‰ˆå¼•æ“)</p><p><a href="http://cdn.mydearest.cn/blog/images/node-ejs.png" target="_blank" rel="noopener">node-ejs</a></p><ul><li>é…ç½®<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app.set(<span class="string">'views'</span>, path.join(__dirname, <span class="string">'views'</span>)); <span class="comment">// viewsï¼šæ¨¡ç‰ˆæ–‡ä»¶å­˜æ”¾çš„ä½ç½®ï¼Œé»˜è®¤æ˜¯åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹</span></span><br><span class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'ejs'</span>); <span class="comment">// view engineï¼šä½¿ç”¨ä»€ä¹ˆæ¨¡ç‰ˆå¼•æ“</span></span><br></pre></td></tr></table></figure></li></ul><p>å…¶æ¬¡æ˜¯æ ¹æ®ä½¿ç”¨çš„æ¨¡ç‰ˆå¼•æ“è¯­æ³•ç¼–å†™æ¨¡ç‰ˆï¼Œæœ€åé€šè¿‡res.render(view,locals, callback)å¯¼å‡ºï¼Œå…·ä½“ä½¿ç”¨å‚æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">viewï¼šæ¨¡æ¿çš„è·¯å¾„</span><br><span class="line">localsï¼šæ¸²æŸ“æ¨¡æ¿æ—¶ä¼ è¿›å»çš„æœ¬åœ°å˜é‡</span><br><span class="line">callbackï¼šå¦‚æœå®šä¹‰äº†å›è°ƒå‡½æ•°ï¼Œåˆ™å½“æ¸²æŸ“å·¥ä½œå®Œæˆæ—¶æ‰è¢«è°ƒç”¨ï¼Œè¿”å›æ¸²æŸ“å¥½çš„å­—ç¬¦ä¸²ï¼ˆæ­£ç¡®ï¼‰æˆ–è€…é”™è¯¯ä¿¡æ¯ âŒ</span><br></pre></td></tr></table></figure><h3 id="res-redirect"><a href="#res-redirect" class="headerlink" title="res.redirect"></a>res.redirect</h3><p>é‡å®šä¹‰åˆ°pathæ‰€æŒ‡å®šçš„URLï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é‡å®šå‘æ—¶å®šä¹‰å¥½HTTPçŠ¶æ€ç ï¼ˆé»˜è®¤ä¸º302ï¼‰<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res.redirect(<span class="string">'http://baidu.com'</span>);</span><br><span class="line">res.redirect(<span class="number">301</span>, <span class="string">'http://baidu.com'</span>);</span><br></pre></td></tr></table></figure></p><h2 id="nodeå¦‚ä½•åˆ©ç”¨å¤šæ ¸CPUä»¥åŠåˆ›å»ºé›†ç¾¤"><a href="#nodeå¦‚ä½•åˆ©ç”¨å¤šæ ¸CPUä»¥åŠåˆ›å»ºé›†ç¾¤" class="headerlink" title="nodeå¦‚ä½•åˆ©ç”¨å¤šæ ¸CPUä»¥åŠåˆ›å»ºé›†ç¾¤?"></a>nodeå¦‚ä½•åˆ©ç”¨å¤šæ ¸CPUä»¥åŠåˆ›å»ºé›†ç¾¤?</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œnodejsæ˜¯åŸºäºchromeæµè§ˆå™¨çš„V8å¼•æ“æ„å»ºçš„ï¼Œä¸€ä¸ªnodejsè¿›ç¨‹åªèƒ½ä½¿ç”¨ä¸€ä¸ªCPU(ä¸€ä¸ªCPUè¿è¡Œä¸€ä¸ªnodeå®ä¾‹)ï¼Œä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬ç°åœ¨æœ‰ä¸€å°8æ ¸çš„æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå¦‚æœä¸åˆ©ç”¨å¤šæ ¸CPUï¼Œæ˜¯å¾ˆä¸€ç§æµªè´¹èµ„æºçš„è¡Œä¸ºï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥é€šè¿‡å¯åŠ¨å¤šä¸ªè¿›ç¨‹æ¥åˆ©ç”¨å¤šæ ¸CPUã€‚</p><p>Node.jsç»™æˆ‘ä»¬æä¾›äº†clusteræ¨¡å—ï¼Œç”¨äºnodejså¤šæ ¸å¤„ç†ï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡å®ƒæ¥æ­å»ºä¸€ä¸ªç”¨äºè´Ÿè½½å‡è¡¡çš„nodeæœåŠ¡é›†ç¾¤ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cluster = <span class="built_in">require</span>(<span class="string">'cluster'</span>)</span><br><span class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">'os'</span>)</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> ejs = <span class="built_in">require</span>(<span class="string">'ejs'</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numCPUs = os.cpus().length</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (cluster.isMaster) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i =<span class="number">0</span> ;i&lt;numCPUs.length;++i) &#123;</span><br><span class="line">        cluster.fork()</span><br><span class="line">    &#125;</span><br><span class="line">    cluster.on(<span class="string">'exit'</span>, (worker, code, signal) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`worker <span class="subst">$&#123;worker.process.pid&#125;</span> died`</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`worker <span class="subst">$&#123;worker.process.pid&#125;</span> started`</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸€ä¸ªç«¯å£è¢«å¤šä¸ªè¿›ç¨‹ç›‘å¬</span></span><br></pre></td></tr></table></figure></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lsof -i -P -n | grep 3000</span><br><span class="line">ps -ef | grep pid</span><br></pre></td></tr></table></figure><p>Master é€šè¿‡ cluster.fork() è¿™ä¸ªæ–¹æ³•åˆ›å»ºçš„ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ä½¿ç”¨çš„ child_process.fork()</p><h2 id="nodeæ˜¯æ€æ ·æ”¯æŒhttps"><a href="#nodeæ˜¯æ€æ ·æ”¯æŒhttps" class="headerlink" title="nodeæ˜¯æ€æ ·æ”¯æŒhttps?"></a>nodeæ˜¯æ€æ ·æ”¯æŒhttps?</h2><p>httpså®ç°ï¼Œç¦»ä¸å¼€è¯ä¹¦ï¼Œé€šè¿‡opensslç”Ÿæˆå…¬é’¥ç§é’¥ï¼ˆä¸åšè¯¦ç»†ä»‹ç»ï¼‰ï¼Œç„¶ååŸºäº expressçš„ httpsæ¨¡å— å®ç°ï¼Œè®¾ç½®optionsé…ç½®, optionsæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œä¸€ä¸ªæ˜¯è¯ä¹¦æœ¬ä½“ï¼Œä¸€ä¸ªæ˜¯å¯†ç ã€‚</p><h2 id="nodeå’Œå®¢æˆ·ç«¯æ€ä¹ˆè§£å†³è·¨åŸŸçš„é—®é¢˜ï¼Ÿ"><a href="#nodeå’Œå®¢æˆ·ç«¯æ€ä¹ˆè§£å†³è·¨åŸŸçš„é—®é¢˜ï¼Ÿ" class="headerlink" title="nodeå’Œå®¢æˆ·ç«¯æ€ä¹ˆè§£å†³è·¨åŸŸçš„é—®é¢˜ï¼Ÿ"></a>nodeå’Œå®¢æˆ·ç«¯æ€ä¹ˆè§£å†³è·¨åŸŸçš„é—®é¢˜ï¼Ÿ</h2><p>app.all(â€˜*â€™,(req,res,next)=&gt;{}) æ•ˆæœç›¸å½“äºapp.use((req,res,next)=&gt;{}), è¿™ä¹Ÿæ˜¯app.allçš„ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„åº”ç”¨ï¼Œå°±æ˜¯ç”¨æ¥å¤„ç†è·¨åŸŸè¯·æ±‚ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">app.all(<span class="string">'*'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'*'</span>);</span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Headers'</span>, <span class="string">'X-Requested-With'</span>);</span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Methods'</span>, <span class="string">'PUT, POST, GET, DELETE, OPTIONS'</span>);</span><br><span class="line">    res.header(<span class="string">'Content-Type'</span>, <span class="string">'application/json;charset=utf-8'</span>);</span><br><span class="line">    <span class="keyword">if</span> (req.method == <span class="string">'OPTIONS'</span>) &#123;</span><br><span class="line">        res.send(<span class="number">200</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        next();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><ul><li>corsæ¨¡å—</li></ul><h2 id="ä¸¤ä¸ªnodeç¨‹åºä¹‹é—´æ€æ ·äº¤äº’"><a href="#ä¸¤ä¸ªnodeç¨‹åºä¹‹é—´æ€æ ·äº¤äº’" class="headerlink" title="ä¸¤ä¸ªnodeç¨‹åºä¹‹é—´æ€æ ·äº¤äº’?"></a>ä¸¤ä¸ªnodeç¨‹åºä¹‹é—´æ€æ ·äº¤äº’?</h2><p>é€šè¿‡forkï¼ŒåŸç†æ˜¯å­ç¨‹åºç”¨process.onæ¥ç›‘å¬çˆ¶ç¨‹åºçš„æ¶ˆæ¯ï¼Œç”¨ process.sendç»™å­ç¨‹åºå‘æ¶ˆæ¯ï¼Œçˆ¶ç¨‹åºé‡Œç”¨child.on,child.sendè¿›è¡Œäº¤äº’ï¼Œæ¥å®ç°çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹äº’ç›¸å‘é€æ¶ˆæ¯ã€‚</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E8%BF%9B%E9%98%B6%E7%AF%87).html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å®ç°å›¾ç‰‡æ‡’åŠ è½½</title>
      <link>http://mydearest.cn/2020/%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD.html</link>
      <guid>http://mydearest.cn/2020/%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD.html</guid>
      <pubDate>Wed, 01 Jul 2020 15:58:45 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å›¾ç‰‡æ‡’åŠ è½½åœ¨ä¸€äº›å›¾ç‰‡å¯†é›†å‹çš„ç½‘ç«™ä¸­è¿ç”¨æ¯”è¾ƒå¤šï¼Œé€šè¿‡å›¾ç‰‡æ‡’åŠ è½½å¯ä»¥è®©ä¸€äº›ä¸å¯è§†çš„å›¾ç‰‡ä¸å»åŠ è½½ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šçš„å›¾ç‰‡å¯¼è‡´è¯·æ±‚é˜»å¡ï¼ˆæµè§ˆå™¨ä¸€èˆ¬å¯¹åŒä¸€åŸŸå
ä¸‹çš„å¹¶å‘è¯·æ±‚çš„è¿æ¥æ•°æœ‰é™åˆ¶ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥æé«˜ç½‘ç«™çš„åŠ è½½é€Ÿåº¦ï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚ &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://cdn.mydearest.cn/blog/images/lazyload.png&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ•ˆæœé¢„è§ˆ&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å›¾ç‰‡æ‡’åŠ è½½åœ¨ä¸€äº›å›¾ç‰‡å¯†é›†å‹çš„ç½‘ç«™ä¸­è¿ç”¨æ¯”è¾ƒå¤šï¼Œé€šè¿‡å›¾ç‰‡æ‡’åŠ è½½å¯ä»¥è®©ä¸€äº›ä¸å¯è§†çš„å›¾ç‰‡ä¸å»åŠ è½½ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šçš„å›¾ç‰‡å¯¼è‡´è¯·æ±‚é˜»å¡ï¼ˆæµè§ˆå™¨ä¸€èˆ¬å¯¹åŒä¸€åŸŸåä¸‹çš„å¹¶å‘è¯·æ±‚çš„è¿æ¥æ•°æœ‰é™åˆ¶ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥æé«˜ç½‘ç«™çš„åŠ è½½é€Ÿåº¦ï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚ </p><p><a href="http://cdn.mydearest.cn/blog/images/lazyload.png" target="_blank" rel="noopener">æ•ˆæœé¢„è§ˆ</a></p><hr><a id="more"></a><h2 id="å¦‚ä½•åš"><a href="#å¦‚ä½•åš" class="headerlink" title="å¦‚ä½•åš"></a>å¦‚ä½•åš</h2><h3 id="æ­¥éª¤ä¸€"><a href="#æ­¥éª¤ä¸€" class="headerlink" title="æ­¥éª¤ä¸€"></a>æ­¥éª¤ä¸€</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦è®©æˆ‘ä»¬htmlä¸­éœ€è¦æ‡’åŠ è½½çš„imgæ ‡ç­¾çš„srcè®¾ç½®ç¼©ç•¥å›¾æˆ–è€…ä¸è®¾ç½®srcï¼Œç„¶åè‡ªå®šä¹‰ä¸€ä¸ªå±æ€§ï¼Œå€¼ä¸ºçœŸæ­£çš„å›¾ç‰‡æˆ–è€…åŸå›¾çš„åœ°å€ï¼ˆæ¯”å¦‚ä¸‹é¢çš„data-srcï¼‰ï¼Œå¹¶ä¸”å®šä¹‰ä¸€ä¸ªç±»åï¼Œè¡¨ç¤ºè¯¥å›¾ç‰‡æ˜¯éœ€è¦æ‡’åŠ è½½çš„ï¼ˆæ¯”å¦‚ä¸‹é¢ä¾‹å­çš„lazy-imageï¼‰ï¼Œè¿™æœ‰ä¸¤ä¸ªä½œç”¨ï¼š</p><ol><li>ä¸ºä»¥åè·å–éœ€è¦æ‡’åŠ è½½å›¾ç‰‡çš„imgå…ƒç´  </li><li>å¯ä»¥ç»™è¿™ä¸ªç±»åè®¾ç½®èƒŒæ™¯å›¾ç‰‡ï¼Œä½œä¸ºå›¾ç‰‡æœªåŠ è½½å‰çš„è¿‡åº¦å›¾ç‰‡ï¼Œæ¯”å¦‚æ˜¾ç¤ºä¸ºloadingçš„å›¾ç‰‡ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;img data-src=<span class="string">"https://tb1.bdstatic.com/tb/cms/liveshow/ent_slid2.jpg"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"lazy-image"</span>/&gt; </span><br><span class="line"><span class="comment">// csséƒ¨åˆ† </span></span><br><span class="line">.lazy-image &#123; </span><br><span class="line">    background: url(<span class="string">'../img/loading.gif'</span>) no-repeat center; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ­¥éª¤äºŒ"><a href="#æ­¥éª¤äºŒ" class="headerlink" title="æ­¥éª¤äºŒ"></a>æ­¥éª¤äºŒ</h3><p>é¡µé¢åŠ è½½å®Œåï¼Œæˆ‘ä»¬éœ€è¦è·å–æ‰€æœ‰éœ€è¦æ‡’åŠ è½½çš„å›¾ç‰‡çš„å…ƒç´ é›†åˆï¼Œåˆ¤æ–­æ˜¯å¦åœ¨å¯è§†åŒºåŸŸï¼Œå¦‚æœæ˜¯åœ¨å¯è§†åŒºåŸŸçš„è¯ï¼Œè®¾ç½®å…ƒç´ çš„srcå±æ€§å€¼ä¸ºçœŸæ­£å›¾ç‰‡çš„åœ°å€ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">inViewShow() &#123;     </span><br><span class="line">    <span class="keyword">let</span> imageElements = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.lazy-image'</span>))    </span><br><span class="line">    <span class="keyword">let</span> len = imageElements.length     </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;         </span><br><span class="line">        <span class="keyword">let</span> imageElement = imageElements[i]        </span><br><span class="line">        <span class="keyword">const</span> rect = imageElement.getBoundingClientRect() <span class="comment">// å‡ºç°åœ¨è§†é‡çš„æ—¶å€™åŠ è½½å›¾ç‰‡         </span></span><br><span class="line">        <span class="keyword">if</span>(rect.top &lt; <span class="built_in">document</span>.documentElement.clientHeight) &#123;             </span><br><span class="line">            imageElement.src = imageElement.dataset.src <span class="comment">// ç§»é™¤æ‰å·²ç»æ˜¾ç¤ºçš„             </span></span><br><span class="line">            imageElements.splice(i, <span class="number">1</span>)             </span><br><span class="line">            len--             </span><br><span class="line">            i--         </span><br><span class="line">        &#125;     </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåˆ¤æ–­æ˜¯å¦å‡ºç°åœ¨å¯è§†åŒºåŸŸå†…ï¼Œæ˜¯é€šè¿‡è·å–å…ƒç´ çš„getBoundingClientRectå±æ€§çš„topå€¼å’Œé¡µé¢çš„clientHeightè¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœtopå€¼å°äºclientHeightï¼Œåˆ™è¯´æ˜å…ƒç´ å‡ºç°åœ¨å¯è§†åŒºåŸŸäº†ã€‚BoundingClientRectæ˜¯è·å–æŸä¸ªå…ƒç´ ç›¸å¯¹äºè§†çª—çš„ä½ç½®é›†åˆï¼Œè§ä¸‹å›¾ï¼Œæ³¨æ„bottomå’Œrightå’Œæˆ‘ä»¬å¹³æ—¶çš„bottomå’Œrightä¸ä¸€æ ·ã€‚ </p><p><a href="http://cdn.mydearest.cn/blog/images/lazyload2.png" target="_blank" rel="noopener">lazyload2</a></p><h3 id="æ­¥éª¤ä¸‰"><a href="#æ­¥éª¤ä¸‰" class="headerlink" title="æ­¥éª¤ä¸‰"></a>æ­¥éª¤ä¸‰</h3><p>ç”¨æˆ·æ»šåŠ¨çª—å£çš„æ—¶å€™ï¼Œéå†æ‰€æœ‰éœ€è¦æ‡’åŠ è½½çš„å…ƒç´ ï¼Œé€šè¿‡æ¯ä¸ªå…ƒç´ çš„BoundingClientRectå±æ€§æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å‡ºç°åœ¨å¯è§†åŒºåŸŸå†…ï¼Œåˆ¤æ–­æ–¹æ³•åŒç¬¬äºŒæ­¥ä¸€æ ·ã€‚ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'scroll'</span>, inViewShow)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¼˜åŒ–ä¸‹ï¼Œå¯ä»¥é€šè¿‡å‡½æ•°èŠ‚æµä¼˜åŒ–æ»šåŠ¨äº‹ä»¶çš„å¤„ç†å‡½æ•°ã€‚</p><h3 id="è¡¥å……-åˆ©ç”¨é«˜çº§ç‰¹æ€§Intersection-Observeræ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ã€‚"><a href="#è¡¥å……-åˆ©ç”¨é«˜çº§ç‰¹æ€§Intersection-Observeræ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ã€‚" class="headerlink" title="è¡¥å……-åˆ©ç”¨é«˜çº§ç‰¹æ€§Intersection Observeræ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ã€‚"></a>è¡¥å……-åˆ©ç”¨é«˜çº§ç‰¹æ€§Intersection Observeræ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ã€‚</h3><p>ä¸Šé¢æˆ‘ä»¬åˆ©ç”¨å…ƒç´ çš„BoundingClientRectçš„topå±æ€§å’Œbodyçš„clientHeightæ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ï¼Œè¿™ç§ä¼ ç»Ÿæ–¹å¼è·å–å…ƒç´ æ˜¯å¦å¯è§çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯æˆ‘ä»¬è¿˜éœ€è¦ç»‘å®šscrolläº‹ä»¶ï¼Œscrolläº‹ä»¶æ˜¯ä¼´éšç€å¤§é‡è®¡ç®—çš„ï¼Œä¼šé€ æˆèµ„æºæµªè´¹ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡èŠ‚æµå‡½æ•°æ¥æé«˜æ€§èƒ½ï¼Œä½†è¿˜æ˜¯ä¼šæœ‰æ€§èƒ½æµªè´¹çš„é—®é¢˜ï¼Œè€ŒIntersection Observerå¯ä»¥ä¸ç”¨ç›‘å¬scrolläº‹ä»¶ï¼Œåšåˆ°å…ƒç´ ä¸€å¯è§ä¾¿è°ƒç”¨å›è°ƒï¼Œåœ¨å›è°ƒé‡Œé¢æˆ‘ä»¬æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">"IntersectionObserver"</span> <span class="keyword">in</span> <span class="built_in">window</span>) &#123;        </span><br><span class="line">    <span class="keyword">let</span> lazyImageObserver = <span class="keyword">new</span> IntersectionObserver(<span class="function">(<span class="params">entries, observer</span>) =&gt;</span> &#123;          </span><br><span class="line">        entries.forEach(<span class="function">(<span class="params">entry, index</span>) =&gt;</span> &#123;            </span><br><span class="line">            <span class="comment">// å¦‚æœå…ƒç´ å¯è§            </span></span><br><span class="line">            <span class="keyword">if</span> (entry.intersectionRatio &gt; <span class="number">0</span>) &#123;              </span><br><span class="line">                <span class="keyword">let</span> lazyImage = entry.target              </span><br><span class="line">                lazyImage.src = lazyImage.dataset.src              </span><br><span class="line">                lazyImage.classList.remove(<span class="string">"lazy-image"</span>)              </span><br><span class="line">                lazyImageObserver.unobserve(lazyImage)              </span><br><span class="line">                <span class="comment">// this.lazyImages.splice(index, 1)            </span></span><br><span class="line">            &#125;          </span><br><span class="line">        &#125;)        </span><br><span class="line">    &#125;)        </span><br><span class="line">    <span class="keyword">this</span>.lazyImages.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">lazyImage</span>) </span>&#123;          </span><br><span class="line">        lazyImageObserver.observe(lazyImage);        </span><br><span class="line">    &#125;)      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»“åº“ä»£ç "><a href="#ä»“åº“ä»£ç " class="headerlink" title="ä»“åº“ä»£ç "></a>ä»“åº“ä»£ç </h2><p><a href="https://github.com/cosyer/jelly/tree/gh-pages/lazyload" target="_blank" rel="noopener">lazyload</a></p><p><a href="https://cosyer.github.io/jelly/lazyload/" target="_blank" rel="noopener">åœ¨çº¿é¢„è§ˆ</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>è¶…è¯¦ç»†çš„TypeScriptæ•™ç¨‹</title>
      <link>http://mydearest.cn/2020/%E8%B6%85%E8%AF%A6%E7%BB%86%E7%9A%84TypeScript%E6%95%99%E7%A8%8B.html</link>
      <guid>http://mydearest.cn/2020/%E8%B6%85%E8%AF%A6%E7%BB%86%E7%9A%84TypeScript%E6%95%99%E7%A8%8B.html</guid>
      <pubDate>Sun, 28 Jun 2020 09:12:42 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;typescript&quot;&gt;&lt;a href=&quot;#typescript&quot; class=&quot;headerlink&quot; title=&quot;typescript&quot;&gt;&lt;/a&gt;typescript&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;TypeScript&lt;/a&gt; æ˜¯ä¸€ç§ç”±å¾®è½¯å¼€å‘çš„è‡ªç”±å’Œå¼€æºçš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ˜¯ JavaScript çš„ä¸€ä¸ªè¶…é›†ï¼Œè€Œä¸”æœ¬è´¨ä¸Šå‘è¿™ä¸ªè¯­è¨€æ·»åŠ äº†å¯é€‰çš„é™æ€ç±»å‹å’ŒåŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;åŒºåˆ«&quot;&gt;&lt;a href=&quot;#åŒºåˆ«&quot; class=&quot;headerlink&quot; title=&quot;åŒºåˆ«&quot;&gt;&lt;/a&gt;åŒºåˆ«&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;TypeScript&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;JavaScript&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;JavaScript çš„è¶…é›†ç”¨äºè§£å†³å¤§å‹é¡¹ç›®çš„ä»£ç å¤æ‚æ€§&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œç”¨äºåˆ›å»ºåŠ¨æ€ç½‘é¡µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;å¯ä»¥åœ¨ç¼–è¯‘æœŸé—´å‘ç°å¹¶çº æ­£é”™è¯¯&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ä½œä¸ºä¸€ç§è§£é‡Šå‹è¯­è¨€ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶å‘ç°é”™è¯¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;å¼ºç±»å‹ï¼Œæ”¯æŒé™æ€å’ŒåŠ¨æ€ç±»å‹&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;å¼±ç±»å‹ï¼Œæ²¡æœ‰é™æ€ç±»å‹é€‰é¡¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æœ€ç»ˆè¢«ç¼–è¯‘æˆ JavaScript ä»£ç ï¼Œä½¿æµè§ˆå™¨å¯ä»¥ç†è§£&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æ”¯æŒæ¨¡å—ã€æ³›å‹å’Œæ¥å£&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ä¸æ”¯æŒæ¨¡å—ï¼Œæ³›å‹æˆ–æ¥å£&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;æ”¯æŒ ES3ï¼ŒES4ï¼ŒES5 å’Œ ES6 ç­‰&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ä¸æ”¯æŒç¼–è¯‘å…¶ä»– ES3ï¼ŒES4ï¼ŒES5 æˆ– ES6 åŠŸèƒ½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;ç¤¾åŒºçš„æ”¯æŒä»åœ¨å¢é•¿ï¼Œè€Œä¸”è¿˜ä¸æ˜¯å¾ˆå¤§&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;å¤§é‡çš„ç¤¾åŒºæ”¯æŒä»¥åŠå¤§é‡æ–‡æ¡£å’Œè§£å†³é—®é¢˜çš„æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;npm install -g typescript&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;ç¼–è¯‘&quot;&gt;&lt;a href=&quot;#ç¼–è¯‘&quot; class=&quot;headerlink&quot; title=&quot;ç¼–è¯‘&quot;&gt;&lt;/a&gt;ç¼–è¯‘&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;tsc helloworld.ts&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// helloworld.ts =&amp;gt; helloworld.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/play&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åœ¨çº¿å­¦ä¹ è¯­æ³•å’Œç‰¹æ€§&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="typescript"><a href="#typescript" class="headerlink" title="typescript"></a>typescript</h1><p><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">TypeScript</a> æ˜¯ä¸€ç§ç”±å¾®è½¯å¼€å‘çš„è‡ªç”±å’Œå¼€æºçš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæ˜¯ JavaScript çš„ä¸€ä¸ªè¶…é›†ï¼Œè€Œä¸”æœ¬è´¨ä¸Šå‘è¿™ä¸ªè¯­è¨€æ·»åŠ äº†å¯é€‰çš„é™æ€ç±»å‹å’ŒåŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚</p><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><table><thead><tr><th style="text-align:center">TypeScript</th><th style="text-align:center">JavaScript</th></tr></thead><tbody><tr><td style="text-align:center">JavaScript çš„è¶…é›†ç”¨äºè§£å†³å¤§å‹é¡¹ç›®çš„ä»£ç å¤æ‚æ€§</td><td style="text-align:center">ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œç”¨äºåˆ›å»ºåŠ¨æ€ç½‘é¡µ</td></tr><tr><td style="text-align:center">å¯ä»¥åœ¨ç¼–è¯‘æœŸé—´å‘ç°å¹¶çº æ­£é”™è¯¯</td><td style="text-align:center">ä½œä¸ºä¸€ç§è§£é‡Šå‹è¯­è¨€ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶å‘ç°é”™è¯¯</td></tr><tr><td style="text-align:center">å¼ºç±»å‹ï¼Œæ”¯æŒé™æ€å’ŒåŠ¨æ€ç±»å‹</td><td style="text-align:center">å¼±ç±»å‹ï¼Œæ²¡æœ‰é™æ€ç±»å‹é€‰é¡¹</td></tr><tr><td style="text-align:center">æœ€ç»ˆè¢«ç¼–è¯‘æˆ JavaScript ä»£ç ï¼Œä½¿æµè§ˆå™¨å¯ä»¥ç†è§£</td><td style="text-align:center">å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨</td></tr><tr><td style="text-align:center">æ”¯æŒæ¨¡å—ã€æ³›å‹å’Œæ¥å£</td><td style="text-align:center">ä¸æ”¯æŒæ¨¡å—ï¼Œæ³›å‹æˆ–æ¥å£</td></tr><tr><td style="text-align:center">æ”¯æŒ ES3ï¼ŒES4ï¼ŒES5 å’Œ ES6 ç­‰</td><td style="text-align:center">ä¸æ”¯æŒç¼–è¯‘å…¶ä»– ES3ï¼ŒES4ï¼ŒES5 æˆ– ES6 åŠŸèƒ½</td></tr><tr><td style="text-align:center">ç¤¾åŒºçš„æ”¯æŒä»åœ¨å¢é•¿ï¼Œè€Œä¸”è¿˜ä¸æ˜¯å¾ˆå¤§</td><td style="text-align:center">å¤§é‡çš„ç¤¾åŒºæ”¯æŒä»¥åŠå¤§é‡æ–‡æ¡£å’Œè§£å†³é—®é¢˜çš„æ”¯æŒ</td></tr></tbody></table><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tsc helloworld.ts</span><br><span class="line"><span class="comment">// helloworld.ts =&gt; helloworld.js</span></span><br></pre></td></tr></table></figure><p><a href="https://www.typescriptlang.org/play" target="_blank" rel="noopener">åœ¨çº¿å­¦ä¹ è¯­æ³•å’Œç‰¹æ€§</a></p><hr><a id="more"></a><h2 id="ç±»å‹-11ç§"><a href="#ç±»å‹-11ç§" class="headerlink" title="ç±»å‹ (11ç§)"></a>ç±»å‹ (11ç§)</h2><h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isDone: boolean = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">// ES5ï¼švar isDone = false;</span></span><br></pre></td></tr></table></figure><h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count: number = <span class="number">10</span>;</span><br><span class="line"><span class="comment">// ES5ï¼švar count = 10;</span></span><br></pre></td></tr></table></figure><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name: string = <span class="string">"cosyer"</span>;</span><br><span class="line"><span class="comment">// ES5ï¼švar name = 'cosyer';</span></span><br></pre></td></tr></table></figure><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> list: number[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="comment">// ES5ï¼švar list = [1,2,3];</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> list: <span class="built_in">Array</span>&lt;number&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; <span class="comment">// Array&lt;number&gt;æ³›å‹è¯­æ³•</span></span><br><span class="line"><span class="comment">// ES5ï¼švar list = [1,2,3];</span></span><br></pre></td></tr></table></figure><h3 id="Enum"><a href="#Enum" class="headerlink" title="Enum"></a>Enum</h3><p>ä½¿ç”¨æšä¸¾æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€äº›å¸¦åå­—çš„å¸¸é‡ã€‚ä½¿ç”¨æšä¸¾å¯ä»¥æ¸…æ™°åœ°è¡¨è¾¾æ„å›¾æˆ–åˆ›å»ºä¸€ç»„æœ‰åŒºåˆ«çš„ç”¨ä¾‹ã€‚ TypeScript æ”¯æŒæ•°å­—çš„å’ŒåŸºäºå­—ç¬¦ä¸²çš„æšä¸¾ã€‚</p><h4 id="æ•°å­—æšä¸¾"><a href="#æ•°å­—æšä¸¾" class="headerlink" title="æ•°å­—æšä¸¾"></a>æ•°å­—æšä¸¾</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">enum Direction &#123;</span><br><span class="line">  NORTH,</span><br><span class="line">  SOUTH,</span><br><span class="line">  EAST,</span><br><span class="line">  WEST,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dir: Direction = Direction.NORTH;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒNORTH çš„åˆå§‹å€¼ä¸º 0ï¼Œå…¶ä½™çš„æˆå‘˜ä¼šä» 1 å¼€å§‹è‡ªåŠ¨å¢é•¿ã€‚æ¢å¥è¯è¯´ï¼ŒDirection.SOUTH çš„å€¼ä¸º 1ï¼ŒDirection.EAST çš„å€¼ä¸º 2ï¼ŒDirection.WEST çš„å€¼ä¸º 3ã€‚ä¸Šé¢çš„æšä¸¾ç¤ºä¾‹ä»£ç ç»è¿‡ç¼–è¯‘åä¼šç”Ÿæˆä»¥ä¸‹ä»£ç ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> Direction;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">Direction</span>) </span>&#123;</span><br><span class="line">  Direction[(Direction[<span class="string">"NORTH"</span>] = <span class="number">0</span>)] = <span class="string">"NORTH"</span>;</span><br><span class="line">  Direction[(Direction[<span class="string">"SOUTH"</span>] = <span class="number">1</span>)] = <span class="string">"SOUTH"</span>;</span><br><span class="line">  Direction[(Direction[<span class="string">"EAST"</span>] = <span class="number">2</span>)] = <span class="string">"EAST"</span>;</span><br><span class="line">  Direction[(Direction[<span class="string">"WEST"</span>] = <span class="number">3</span>)] = <span class="string">"WEST"</span>;</span><br><span class="line">&#125;)(Direction || (Direction = &#123;&#125;));</span><br><span class="line"><span class="keyword">var</span> dir = Direction.NORTH;</span><br></pre></td></tr></table></figure>ä¹Ÿå¯ä»¥è®¾ç½® NORTH çš„åˆå§‹å€¼ï¼Œæ¯”å¦‚ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">enum Direction &#123;</span><br><span class="line">  NORTH = <span class="number">3</span>,</span><br><span class="line">  SOUTH,</span><br><span class="line">  EAST,</span><br><span class="line">  WEST,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="å­—ç¬¦ä¸²æšä¸¾"><a href="#å­—ç¬¦ä¸²æšä¸¾" class="headerlink" title="å­—ç¬¦ä¸²æšä¸¾"></a>å­—ç¬¦ä¸²æšä¸¾</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">enum Direction &#123;</span><br><span class="line">  NORTH = <span class="string">"NORTH"</span>,</span><br><span class="line">  SOUTH = <span class="string">"SOUTH"</span>,</span><br><span class="line">  EAST = <span class="string">"EAST"</span>,</span><br><span class="line">  WEST = <span class="string">"WEST"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ç”Ÿæˆï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> Direction;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">Direction</span>) </span>&#123;</span><br><span class="line">    Direction[<span class="string">"NORTH"</span>] = <span class="string">"NORTH"</span>;</span><br><span class="line">    Direction[<span class="string">"SOUTH"</span>] = <span class="string">"SOUTH"</span>;</span><br><span class="line">    Direction[<span class="string">"EAST"</span>] = <span class="string">"EAST"</span>;</span><br><span class="line">    Direction[<span class="string">"WEST"</span>] = <span class="string">"WEST"</span>;</span><br><span class="line">&#125;)(Direction || (Direction = &#123;&#125;));</span><br></pre></td></tr></table></figure></p><h4 id="å¼‚æ„æšä¸¾"><a href="#å¼‚æ„æšä¸¾" class="headerlink" title="å¼‚æ„æšä¸¾"></a>å¼‚æ„æšä¸¾</h4><p>å¼‚æ„æšä¸¾çš„æˆå‘˜å€¼æ˜¯æ•°å­—å’Œå­—ç¬¦ä¸²çš„æ··åˆï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">enum Enum &#123;</span><br><span class="line">  A,</span><br><span class="line">  B,</span><br><span class="line">  C = <span class="string">"C"</span>,</span><br><span class="line">  D = <span class="string">"D"</span>,</span><br><span class="line">  E = <span class="number">8</span>,</span><br><span class="line">  F,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>ç¼–è¯‘ç”Ÿæˆï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> Enum;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">Enum</span>) </span>&#123;</span><br><span class="line">    Enum[Enum[<span class="string">"A"</span>] = <span class="number">0</span>] = <span class="string">"A"</span>;</span><br><span class="line">    Enum[Enum[<span class="string">"B"</span>] = <span class="number">1</span>] = <span class="string">"B"</span>;</span><br><span class="line">    Enum[<span class="string">"C"</span>] = <span class="string">"C"</span>;</span><br><span class="line">    Enum[<span class="string">"D"</span>] = <span class="string">"D"</span>;</span><br><span class="line">    Enum[Enum[<span class="string">"E"</span>] = <span class="number">8</span>] = <span class="string">"E"</span>;</span><br><span class="line">    Enum[Enum[<span class="string">"F"</span>] = <span class="number">9</span>] = <span class="string">"F"</span>;</span><br><span class="line">&#125;)(Enum || (Enum = &#123;&#125;));</span><br></pre></td></tr></table></figure>æ•°å­—æšä¸¾ç›¸å¯¹å­—ç¬¦ä¸²æšä¸¾å¤šäº† â€œåå‘æ˜ å°„â€ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Enum.A) <span class="comment">//è¾“å‡ºï¼š0</span></span><br><span class="line"><span class="built_in">console</span>.log(Enum[<span class="number">0</span>]) <span class="comment">// è¾“å‡ºï¼šA</span></span><br></pre></td></tr></table></figure></p><h3 id="Any"><a href="#Any" class="headerlink" title="Any"></a>Any</h3><p>åœ¨ TypeScript ä¸­ï¼Œä»»ä½•ç±»å‹éƒ½å¯ä»¥è¢«å½’ä¸º any ç±»å‹ã€‚è¿™è®© any ç±»å‹æˆä¸ºäº†ç±»å‹ç³»ç»Ÿçš„é¡¶çº§ç±»å‹ï¼ˆä¹Ÿè¢«ç§°ä½œå…¨å±€è¶…çº§ç±»å‹ï¼‰ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l et notSure: any = <span class="number">666</span>;</span><br><span class="line">notSure = <span class="string">"cosyer"</span>;</span><br><span class="line">notSure = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>any ç±»å‹æœ¬è´¨ä¸Šæ˜¯ç±»å‹ç³»ç»Ÿçš„ä¸€ä¸ªé€ƒé€¸èˆ±ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œè¿™ç»™äº†æˆ‘ä»¬å¾ˆå¤§çš„è‡ªç”±ï¼šTypeScript å…è®¸æˆ‘ä»¬å¯¹ any ç±»å‹çš„å€¼æ‰§è¡Œä»»ä½•æ“ä½œï¼Œè€Œæ— éœ€äº‹å…ˆæ‰§è¡Œä»»ä½•å½¢å¼çš„æ£€æŸ¥ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: any;</span><br><span class="line"></span><br><span class="line">value.foo.bar; <span class="comment">// OK</span></span><br><span class="line">value.trim(); <span class="comment">// OK</span></span><br><span class="line">value(); <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">new</span> value(); <span class="comment">// OK</span></span><br><span class="line">value[<span class="number">0</span>][<span class="number">1</span>]; <span class="comment">// OK</span></span><br></pre></td></tr></table></figure>åœ¨è®¸å¤šåœºæ™¯ä¸‹ï¼Œè¿™å¤ªå®½æ¾äº†ã€‚ä½¿ç”¨ any ç±»å‹ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ç¼–å†™ç±»å‹æ­£ç¡®ä½†åœ¨è¿è¡Œæ—¶æœ‰é—®é¢˜çš„ä»£ç ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ any ç±»å‹ï¼Œå°±æ— æ³•ä½¿ç”¨ TypeScript æä¾›çš„å¤§é‡çš„ä¿æŠ¤æœºåˆ¶ã€‚ä¸ºäº†è§£å†³ any å¸¦æ¥çš„é—®é¢˜ï¼ŒTypeScript 3.0 å¼•å…¥äº† unknown ç±»å‹ã€‚AnyScript 2333.</p><h3 id="Unknown"><a href="#Unknown" class="headerlink" title="Unknown"></a>Unknown</h3><p>å°±åƒæ‰€æœ‰ç±»å‹éƒ½å¯ä»¥èµ‹å€¼ç»™ anyï¼Œæ‰€æœ‰ç±»å‹ä¹Ÿéƒ½å¯ä»¥èµ‹å€¼ç»™ unknownã€‚è¿™ä½¿å¾— unknown æˆä¸º TypeScript ç±»å‹ç³»ç»Ÿçš„å¦ä¸€ç§é¡¶çº§ç±»å‹ï¼ˆå¦ä¸€ç§æ˜¯ anyï¼‰ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ unknown ç±»å‹çš„ä½¿ç”¨ç¤ºä¾‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: unknown;</span><br><span class="line"></span><br><span class="line">value = <span class="literal">true</span>; <span class="comment">// OK</span></span><br><span class="line">value = <span class="number">42</span>; <span class="comment">// OK</span></span><br><span class="line">value = <span class="string">"Hello World"</span>; <span class="comment">// OK</span></span><br><span class="line">value = []; <span class="comment">// OK</span></span><br><span class="line">value = &#123;&#125;; <span class="comment">// OK</span></span><br><span class="line">value = <span class="built_in">Math</span>.random; <span class="comment">// OK</span></span><br><span class="line">value = <span class="literal">null</span>; <span class="comment">// OK</span></span><br><span class="line">value = <span class="literal">undefined</span>; <span class="comment">// OK</span></span><br><span class="line">value = <span class="keyword">new</span> <span class="built_in">TypeError</span>(); <span class="comment">// OK</span></span><br><span class="line">value = <span class="built_in">Symbol</span>(<span class="string">"type"</span>); <span class="comment">// OK</span></span><br></pre></td></tr></table></figure></p><p>å¯¹ value å˜é‡çš„æ‰€æœ‰èµ‹å€¼éƒ½è¢«è®¤ä¸ºæ˜¯ç±»å‹æ­£ç¡®çš„ã€‚ä½†æ˜¯ï¼Œå½“æˆ‘ä»¬å°è¯•å°†ç±»å‹ä¸º unknown çš„å€¼èµ‹å€¼ç»™å…¶ä»–ç±»å‹çš„å˜é‡æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: unknown;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> value1: unknown = value; <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">let</span> value2: any = value; <span class="comment">// OK</span></span><br><span class="line"><span class="keyword">let</span> value3: boolean = value; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value4: number = value; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value5: string = value; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value6: object = value; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value7: any[] = value; <span class="comment">// Error</span></span><br><span class="line"><span class="keyword">let</span> value8: <span class="built_in">Function</span> = value; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><p>unknown ç±»å‹åªèƒ½è¢«èµ‹å€¼ç»™ any ç±»å‹å’Œ unknown ç±»å‹æœ¬èº«ã€‚ç›´è§‚åœ°è¯´ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ï¼šåªæœ‰èƒ½å¤Ÿä¿å­˜ä»»æ„ç±»å‹å€¼çš„å®¹å™¨æ‰èƒ½ä¿å­˜ unknown ç±»å‹çš„å€¼ã€‚æ¯•ç«Ÿæˆ‘ä»¬ä¸çŸ¥é“å˜é‡ value ä¸­å­˜å‚¨äº†ä»€ä¹ˆç±»å‹çš„å€¼ã€‚</p><p>å°† value å˜é‡ç±»å‹è®¾ç½®ä¸º unknown åï¼Œè¿™äº›æ“ä½œéƒ½ä¸å†è¢«è®¤ä¸ºæ˜¯ç±»å‹æ­£ç¡®çš„ã€‚é€šè¿‡å°† any ç±»å‹æ”¹å˜ä¸º unknown ç±»å‹ï¼Œæˆ‘ä»¬å·²å°†å…è®¸æ‰€æœ‰æ›´æ”¹çš„é»˜è®¤è®¾ç½®ï¼Œæ›´æ”¹ä¸ºç¦æ­¢ä»»ä½•æ›´æ”¹ã€‚</p><h3 id="Tuple"><a href="#Tuple" class="headerlink" title="Tuple"></a>Tuple</h3><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæ•°ç»„ä¸€èˆ¬ç”±åŒç§ç±»å‹çš„å€¼ç»„æˆï¼Œä½†æœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨å•ä¸ªå˜é‡ä¸­å­˜å‚¨ä¸åŒç±»å‹çš„å€¼ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å…ƒç»„ã€‚åœ¨ JavaScript ä¸­æ˜¯æ²¡æœ‰å…ƒç»„çš„ï¼Œå…ƒç»„æ˜¯ TypeScript ä¸­ç‰¹æœ‰çš„ç±»å‹ï¼Œå…¶å·¥ä½œæ–¹å¼ç±»ä¼¼äºæ•°ç»„ã€‚</p><p>å…ƒç»„å¯ç”¨äºå®šä¹‰å…·æœ‰æœ‰é™æ•°é‡çš„æœªå‘½åå±æ€§çš„ç±»å‹ã€‚æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªå…³è”çš„ç±»å‹ã€‚ä½¿ç”¨å…ƒç»„æ—¶ï¼Œå¿…é¡»æä¾›æ¯ä¸ªå±æ€§çš„å€¼ã€‚ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£å…ƒç»„çš„æ¦‚å¿µï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tupleType: [string, boolean]; <span class="comment">// å¼ºåˆ¶ç±»å‹åŒ¹é…</span></span><br><span class="line">tupleType = [<span class="string">"cosyer"</span>, <span class="literal">true</span>];</span><br></pre></td></tr></table></figure></p><h3 id="Void"><a href="#Void" class="headerlink" title="Void"></a>Void</h3><p>æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œvoid ç±»å‹åƒæ˜¯ä¸ any ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ voidï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜å‡½æ•°è¿”å›å€¼ä¸ºvoid</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">warnUser</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"This is my warning message"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå£°æ˜ä¸€ä¸ª void ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆä½œç”¨ï¼Œå› ä¸ºå®ƒçš„å€¼åªèƒ½ä¸º undefined æˆ– nullï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> unusable: <span class="keyword">void</span> = <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure></p><h3 id="Null-Undefined"><a href="#Null-Undefined" class="headerlink" title="Null/Undefined"></a>Null/Undefined</h3><p>TypeScript é‡Œï¼Œundefined å’Œ null ä¸¤è€…æœ‰å„è‡ªçš„ç±»å‹åˆ†åˆ«ä¸º undefined å’Œ nullã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> u: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> n: <span class="literal">null</span> = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>é»˜è®¤æƒ…å†µä¸‹ null å’Œ undefined æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ å°±æ˜¯è¯´ä½ å¯ä»¥æŠŠ null å’Œ undefined èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æŒ‡å®šäº†â€“strictNullChecks æ ‡è®°ï¼Œnull å’Œ undefined åªèƒ½èµ‹å€¼ç»™ void å’Œå®ƒä»¬å„è‡ªçš„ç±»å‹ã€‚</p><h3 id="Never"><a href="#Never" class="headerlink" title="Never"></a>Never</h3><p>never ç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚ ä¾‹å¦‚ï¼Œnever ç±»å‹æ˜¯é‚£äº›æ€»æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–æ ¹æœ¬å°±ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°è¡¨è¾¾å¼æˆ–ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¿”å›å€¼ç±»å‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message: string</span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">infiniteLoop</span>(<span class="params"></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ TypeScript ä¸­ï¼Œå¯ä»¥åˆ©ç”¨ never ç±»å‹çš„ç‰¹æ€§æ¥å®ç°å…¨é¢æ€§æ£€æŸ¥ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">type Foo = string | number;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">controlFlowAnalysisWithNever</span>(<span class="params">foo: Foo</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> foo === <span class="string">"string"</span>) &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œ foo è¢«æ”¶çª„ä¸º string ç±»å‹</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> foo === <span class="string">"number"</span>) &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œ foo è¢«æ”¶çª„ä¸º number ç±»å‹</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// foo åœ¨è¿™é‡Œæ˜¯ never</span></span><br><span class="line">    <span class="keyword">const</span> check: never = foo;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„åœ¨ else åˆ†æ”¯é‡Œé¢ï¼Œæˆ‘ä»¬æŠŠæ”¶çª„ä¸º never çš„ foo èµ‹å€¼ç»™ä¸€ä¸ªæ˜¾ç¤ºå£°æ˜çš„ never å˜é‡ã€‚å¦‚æœä¸€åˆ‡é€»è¾‘æ­£ç¡®ï¼Œé‚£ä¹ˆè¿™é‡Œåº”è¯¥èƒ½å¤Ÿç¼–è¯‘é€šè¿‡ã€‚ä½†æ˜¯å‡å¦‚åæ¥æœ‰ä¸€å¤©ä½ çš„åŒäº‹ä¿®æ”¹äº† Foo çš„ç±»å‹ï¼štype Foo = string | number | boolean;å¤åˆ¶ä»£ç ç„¶è€Œä»–å¿˜è®°åŒæ—¶ä¿®æ”¹ controlFlowAnalysisWithNever æ–¹æ³•ä¸­çš„æ§åˆ¶æµç¨‹ï¼Œè¿™æ—¶å€™ else åˆ†æ”¯çš„ foo ç±»å‹ä¼šè¢«æ”¶çª„ä¸º boolean ç±»å‹ï¼Œå¯¼è‡´æ— æ³•èµ‹å€¼ç»™ never ç±»å‹ï¼Œè¿™æ—¶å°±ä¼šäº§ç”Ÿä¸€ä¸ªç¼–è¯‘é”™è¯¯ã€‚é€šè¿‡è¿™ä¸ªæ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿controlFlowAnalysisWithNever æ–¹æ³•æ€»æ˜¯ç©·å°½äº† Foo çš„æ‰€æœ‰å¯èƒ½ç±»å‹ã€‚ é€šè¿‡è¿™ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š<code>ä½¿ç”¨ never é¿å…å‡ºç°æ–°å¢äº†è”åˆç±»å‹æ²¡æœ‰å¯¹åº”çš„å®ç°ï¼Œç›®çš„å°±æ˜¯å†™å‡ºç±»å‹ç»å¯¹å®‰å…¨çš„ä»£ç ã€‚</code></p><h2 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h2><h3 id="å°–æ‹¬å·"><a href="#å°–æ‹¬å·" class="headerlink" title="å°–æ‹¬å·"></a>å°–æ‹¬å·</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> someValue: any = <span class="string">"this is a string"</span>;</span><br><span class="line"><span class="keyword">let</span> strLength: number = (<span class="xml"><span class="tag">&lt;<span class="name">string</span>&gt;</span>someValue).length;</span></span><br></pre></td></tr></table></figure><h3 id="as"><a href="#as" class="headerlink" title="as"></a>as</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> someValue: any = <span class="string">"this is a string"</span>;</span><br><span class="line"><span class="keyword">let</span> strLength: number = (someValue <span class="keyword">as</span> string).length;</span><br></pre></td></tr></table></figure><h2 id="ç±»å‹å®ˆå«"><a href="#ç±»å‹å®ˆå«" class="headerlink" title="ç±»å‹å®ˆå«"></a>ç±»å‹å®ˆå«</h2><p>ç±»å‹ä¿æŠ¤æ˜¯å¯æ‰§è¡Œè¿è¡Œæ—¶æ£€æŸ¥çš„ä¸€ç§è¡¨è¾¾å¼ï¼Œç”¨äºç¡®ä¿è¯¥ç±»å‹åœ¨ä¸€å®šçš„èŒƒå›´å†…ã€‚æ¢å¥è¯è¯´ï¼Œç±»å‹ä¿æŠ¤å¯ä»¥ä¿è¯ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°½ç®¡å®ƒçš„å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ•°å€¼ã€‚ç±»å‹ä¿æŠ¤ä¸ç‰¹æ€§æ£€æµ‹å¹¶ä¸æ˜¯å®Œå…¨ä¸åŒï¼Œå…¶ä¸»è¦æ€æƒ³æ˜¯å°è¯•æ£€æµ‹å±æ€§ã€æ–¹æ³•æˆ–åŸå‹ï¼Œä»¥ç¡®å®šå¦‚ä½•å¤„ç†å€¼ã€‚ç›®å‰ä¸»è¦æœ‰å››ç§çš„æ–¹å¼æ¥å®ç°ç±»å‹ä¿æŠ¤ï¼š</p><h3 id="in-å…³é”®å­—"><a href="#in-å…³é”®å­—" class="headerlink" title="in å…³é”®å­—"></a>in å…³é”®å­—</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">interface Admin &#123;</span><br><span class="line">  name: string;</span><br><span class="line">  privileges: string[];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Employee &#123;</span><br><span class="line">  name: string;</span><br><span class="line">  startDate: <span class="built_in">Date</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type UnknownEmployee = Employee | Admin;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printEmployeeInformation</span>(<span class="params">emp: UnknownEmployee</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Name: "</span> + emp.name);</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">"privileges"</span> <span class="keyword">in</span> emp) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Privileges: "</span> + emp.privileges);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">"startDate"</span> <span class="keyword">in</span> emp) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Start Date: "</span> + emp.startDate);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="typeof-å…³é”®å­—"><a href="#typeof-å…³é”®å­—" class="headerlink" title="typeof å…³é”®å­—"></a>typeof å…³é”®å­—</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padLeft</span>(<span class="params">value: string, padding: string | number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> padding === <span class="string">"number"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Array</span>(padding + <span class="number">1</span>).join(<span class="string">" "</span>) + value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> padding === <span class="string">"string"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> padding + value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`Expected string or number, got '<span class="subst">$&#123;padding&#125;</span>'.`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>typeof ç±»å‹ä¿æŠ¤åªæ”¯æŒä¸¤ç§å½¢å¼ï¼štypeof v === â€œtypenameâ€ å’Œ typeof v !== typenameï¼Œâ€typenameâ€ å¿…é¡»æ˜¯ â€œnumberâ€ï¼Œ â€œstringâ€ï¼Œ â€œbooleanâ€ æˆ– â€œsymbolâ€ã€‚ ä½†æ˜¯ TypeScript å¹¶ä¸ä¼šé˜»æ­¢ä½ ä¸å…¶å®ƒå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œè¯­è¨€ä¸ä¼šæŠŠé‚£äº›è¡¨è¾¾å¼è¯†åˆ«ä¸ºç±»å‹ä¿æŠ¤ã€‚</p><h3 id="instanceof-å…³é”®å­—"><a href="#instanceof-å…³é”®å­—" class="headerlink" title="instanceof å…³é”®å­—"></a>instanceof å…³é”®å­—</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">interface Padder &#123;</span><br><span class="line">  getPaddingString(): string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SpaceRepeatingPadder</span> <span class="title">implements</span> <span class="title">Padder</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(private numSpaces: number) &#123;&#125;</span><br><span class="line">  getPaddingString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>(<span class="keyword">this</span>.numSpaces + <span class="number">1</span>).join(<span class="string">" "</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StringPadder</span> <span class="title">implements</span> <span class="title">Padder</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(private value: string) &#123;&#125;</span><br><span class="line">  getPaddingString() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> padder: Padder = <span class="keyword">new</span> SpaceRepeatingPadder(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (padder <span class="keyword">instanceof</span> SpaceRepeatingPadder) &#123;</span><br><span class="line">  <span class="comment">// padderçš„ç±»å‹æ”¶çª„ä¸º 'SpaceRepeatingPadder'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤çš„ç±»å‹è°“è¯"><a href="#è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤çš„ç±»å‹è°“è¯" class="headerlink" title="è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤çš„ç±»å‹è°“è¯"></a>è‡ªå®šä¹‰ç±»å‹ä¿æŠ¤çš„ç±»å‹è°“è¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumber</span>(<span class="params">x: any</span>): <span class="title">x</span> <span class="title">is</span> <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">typeof</span> x === <span class="string">"number"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isString</span>(<span class="params">x: any</span>): <span class="title">x</span> <span class="title">is</span> <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">typeof</span> x === <span class="string">"string"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è”åˆç±»å‹å’Œç±»å‹åˆ«å"><a href="#è”åˆç±»å‹å’Œç±»å‹åˆ«å" class="headerlink" title="è”åˆç±»å‹å’Œç±»å‹åˆ«å"></a>è”åˆç±»å‹å’Œç±»å‹åˆ«å</h2><h3 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h3><p>è”åˆç±»å‹é€šå¸¸ä¸ null æˆ– undefined ä¸€èµ·ä½¿ç”¨ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sayHello = <span class="function">(<span class="params">name: string | <span class="literal">undefined</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>ä¾‹å¦‚ï¼Œè¿™é‡Œ name çš„ç±»å‹æ˜¯ string | undefined æ„å‘³ç€å¯ä»¥å°† string æˆ– undefined çš„å€¼ä¼ é€’ç»™sayHello å‡½æ•°ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sayHello(<span class="string">"cosyer"</span>);</span><br><span class="line">sayHello(<span class="literal">undefined</span>);</span><br></pre></td></tr></table></figure></p><h3 id="å¯è¾¨è¯†è”åˆ"><a href="#å¯è¾¨è¯†è”åˆ" class="headerlink" title="å¯è¾¨è¯†è”åˆ"></a>å¯è¾¨è¯†è”åˆ</h3><p>TypeScript å¯è¾¨è¯†è”åˆï¼ˆDiscriminated Unionsï¼‰ç±»å‹ï¼Œä¹Ÿç§°ä¸ºä»£æ•°æ•°æ®ç±»å‹æˆ–æ ‡ç­¾è”åˆç±»å‹ã€‚å®ƒåŒ…å« 3 ä¸ªè¦ç‚¹ï¼š<code>å¯è¾¨è¯†ã€è”åˆç±»å‹å’Œç±»å‹å®ˆå«ã€‚</code></p><p>è¿™ç§ç±»å‹çš„æœ¬è´¨æ˜¯ç»“åˆè”åˆç±»å‹å’Œå­—é¢é‡ç±»å‹çš„ä¸€ç§ç±»å‹ä¿æŠ¤æ–¹æ³•ã€‚<code>å¦‚æœä¸€ä¸ªç±»å‹æ˜¯å¤šä¸ªç±»å‹çš„è”åˆç±»å‹ï¼Œä¸”å¤šä¸ªç±»å‹å«æœ‰ä¸€ä¸ªå…¬å…±å±æ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªå…¬å…±å±æ€§ï¼Œæ¥åˆ›å»ºä¸åŒçš„ç±»å‹ä¿æŠ¤åŒºå—ã€‚</code></p><h4 id="å¯è¾¨è¯†"><a href="#å¯è¾¨è¯†" class="headerlink" title="å¯è¾¨è¯†"></a>å¯è¾¨è¯†</h4><p>å¯è¾¨è¯†è¦æ±‚è”åˆç±»å‹ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å«æœ‰ä¸€ä¸ªå•ä¾‹ç±»å‹å±æ€§(å…¬å…±å±æ€§)ï¼Œæ¯”å¦‚ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">enum CarTransmission &#123;</span><br><span class="line">  Automatic = <span class="number">200</span>,</span><br><span class="line">  Manual = <span class="number">300</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Motorcycle &#123;</span><br><span class="line">  vType: <span class="string">"motorcycle"</span>; <span class="comment">// discriminant</span></span><br><span class="line">  make: number; <span class="comment">// year</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Car &#123;</span><br><span class="line">  vType: <span class="string">"car"</span>; <span class="comment">// discriminant</span></span><br><span class="line">  transmission: CarTransmission</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Truck &#123;</span><br><span class="line">  vType: <span class="string">"truck"</span>; <span class="comment">// discriminant</span></span><br><span class="line">  capacity: number; <span class="comment">// in tons</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«å®šä¹‰äº† Motorcycleã€ Car å’Œ Truck ä¸‰ä¸ªæ¥å£ï¼Œåœ¨è¿™äº›æ¥å£ä¸­éƒ½åŒ…å«ä¸€ä¸ª vType å±æ€§ï¼Œè¯¥å±æ€§è¢«ç§°ä¸ºå¯è¾¨è¯†çš„å±æ€§ï¼Œè€Œå…¶å®ƒçš„å±æ€§åªè·Ÿç‰¹æ€§çš„æ¥å£ç›¸å…³ã€‚</p><h4 id="è”åˆç±»å‹-1"><a href="#è”åˆç±»å‹-1" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h4><p>åŸºäºå‰é¢å®šä¹‰äº†ä¸‰ä¸ªæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª Vehicle è”åˆç±»å‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type Vehicle = Motorcycle | Car | Truck;</span><br></pre></td></tr></table></figure>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ Vehicle è”åˆç±»å‹ï¼Œå¯¹äº Vehicle ç±»å‹çš„å˜é‡ï¼Œå®ƒå¯ä»¥è¡¨ç¤ºä¸åŒç±»å‹çš„è½¦è¾†ã€‚</p><h4 id="ç±»å‹å®ˆå«-1"><a href="#ç±»å‹å®ˆå«-1" class="headerlink" title="ç±»å‹å®ˆå«"></a>ç±»å‹å®ˆå«</h4><p>ä¸‹é¢æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ª evaluatePrice æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºæ ¹æ®è½¦è¾†çš„ç±»å‹ã€å®¹é‡å’Œè¯„ä¼°å› å­æ¥è®¡ç®—ä»·æ ¼ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> EVALUATION_FACTOR = <span class="built_in">Math</span>.PI; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">evaluatePrice</span>(<span class="params">vehicle: Vehicle</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> vehicle.capacity * EVALUATION_FACTOR;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myTruck: Truck = &#123; <span class="attr">vType</span>: <span class="string">"truck"</span>, <span class="attr">capacity</span>: <span class="number">9.5</span> &#125;;</span><br><span class="line">evaluatePrice(myTruck);</span><br></pre></td></tr></table></figure>å¯¹äºä»¥ä¸Šä»£ç ï¼ŒTypeScript ç¼–è¯‘å™¨å°†ä¼šæç¤ºä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Property <span class="string">'capacity'</span> does not exist on type <span class="string">'Vehicle'</span>.</span><br><span class="line">Property <span class="string">'capacity'</span> does not exist on type <span class="string">'Motorcycle'</span>.</span><br></pre></td></tr></table></figure></p><p>åŸå› æ˜¯åœ¨ Motorcycle æ¥å£ä¸­ï¼Œå¹¶ä¸å­˜åœ¨ capacity å±æ€§ï¼Œè€Œå¯¹äº Car æ¥å£æ¥è¯´ï¼Œå®ƒä¹Ÿä¸å­˜åœ¨ capacity å±æ€§ã€‚é‚£ä¹ˆï¼Œç°åœ¨æˆ‘ä»¬åº”è¯¥å¦‚ä½•è§£å†³ä»¥ä¸Šé—®é¢˜å‘¢ï¼Ÿè¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»å‹å®ˆå«ã€‚ä¸‹é¢æˆ‘ä»¬æ¥é‡æ„ä¸€ä¸‹å‰é¢å®šä¹‰çš„ evaluatePrice æ–¹æ³•ï¼Œé‡æ„åçš„ä»£ç å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">evaluatePrice</span>(<span class="params">vehicle: Vehicle</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(vehicle.vType) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"car"</span>:</span><br><span class="line">      <span class="keyword">return</span> vehicle.transmission * EVALUATION_FACTOR;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"truck"</span>:</span><br><span class="line">      <span class="keyword">return</span> vehicle.capacity * EVALUATION_FACTOR;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"motorcycle"</span>:</span><br><span class="line">      <span class="keyword">return</span> vehicle.make * EVALUATION_FACTOR;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="ç±»å‹åˆ«å"><a href="#ç±»å‹åˆ«å" class="headerlink" title="ç±»å‹åˆ«å"></a>ç±»å‹åˆ«å</h3><p>ç±»å‹åˆ«åç”¨æ¥ç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—(alias)ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">type Message = string | string[];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> greet = <span class="function">(<span class="params">message: Message</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="headerlink" title="äº¤å‰ç±»å‹"></a>äº¤å‰ç±»å‹</h2><p>TypeScript äº¤å‰ç±»å‹æ˜¯å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ã€‚ è¿™è®©æˆ‘ä»¬å¯ä»¥æŠŠç°æœ‰çš„å¤šç§ç±»å‹å åŠ åˆ°ä¸€èµ·æˆä¸ºä¸€ç§ç±»å‹ï¼Œå®ƒåŒ…å«äº†æ‰€éœ€çš„æ‰€æœ‰ç±»å‹çš„ç‰¹æ€§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">interface IPerson &#123;</span><br><span class="line">  id: string;</span><br><span class="line">  age: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface IWorker &#123;</span><br><span class="line">  companyId: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type IStaff = IPerson &amp; IWorker;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> staff: IStaff = &#123;</span><br><span class="line">  id: <span class="string">'E1006'</span>,</span><br><span class="line">  age: <span class="number">33</span>,</span><br><span class="line">  companyId: <span class="string">'EFT'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(staff)</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä¸º IPerson å’Œ IWorker ç±»å‹å®šä¹‰äº†ä¸åŒçš„æˆå‘˜ï¼Œç„¶åé€šè¿‡ &amp; è¿ç®—ç¬¦å®šä¹‰äº† IStaff äº¤å‰ç±»å‹ï¼Œæ‰€ä»¥è¯¥ç±»å‹åŒæ—¶æ‹¥æœ‰ IPerson å’Œ IWorker è¿™ä¸¤ç§ç±»å‹çš„æˆå‘˜ã€‚</p><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="åŒºåˆ«-1"><a href="#åŒºåˆ«-1" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h3><table><thead><tr><th style="text-align:center">TypeScript</th><th style="text-align:center">JavaScript</th></tr></thead><tbody><tr><td style="text-align:center">å«æœ‰ç±»å‹</td><td style="text-align:center">æ— ç±»å‹</td></tr><tr><td style="text-align:center">ç®­å¤´å‡½æ•°</td><td style="text-align:center">ç®­å¤´å‡½æ•°ï¼ˆES2015ï¼‰</td></tr><tr><td style="text-align:center">å‡½æ•°ç±»å‹</td><td style="text-align:center">æ— å‡½æ•°ç±»å‹</td></tr><tr><td style="text-align:center">å¿…å¡«å’Œå¯é€‰å‚æ•°</td><td style="text-align:center">æ‰€æœ‰å‚æ•°éƒ½æ˜¯å¯é€‰çš„</td></tr><tr><td style="text-align:center">é»˜è®¤å‚æ•°</td><td style="text-align:center">é»˜è®¤å‚æ•°</td></tr><tr><td style="text-align:center">å‰©ä½™å‚æ•°</td><td style="text-align:center">å‰©ä½™å‚æ•°</td></tr><tr><td style="text-align:center">å‡½æ•°é‡è½½</td><td style="text-align:center">æ— å‡½æ•°é‡è½½</td></tr></tbody></table><h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p>ç®€å•çœ‹ä¸‹ç¤ºä¾‹ï¼Œè¯¦ç»†å¯è§<a href="https://mydearest.cn/jsthis.html">JavaScript ä¸­ this çš„è¯¦è§£</a><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">myBooks.forEach(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'reading'</span>));</span><br><span class="line"></span><br><span class="line">myBooks.forEach(<span class="function"><span class="params">title</span> =&gt;</span> <span class="built_in">console</span>.log(title));</span><br><span class="line"></span><br><span class="line">myBooks.forEach(<span class="function">(<span class="params">title, idx, arr</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">console</span>.log(idx + <span class="string">'-'</span> + title);</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">myBooks.forEach(<span class="function">(<span class="params">title, idx, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(idx + <span class="string">'-'</span> + title);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h3 id="å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹"><a href="#å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹" class="headerlink" title="å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹"></a>å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createUserId</span>(<span class="params">name: string, id: number</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> name + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> IdGenerator: <span class="function">(<span class="params">chars: string, nums: number</span>) =&gt;</span> string;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createUserId</span>(<span class="params">name: string, id: number</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> name + id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">IdGenerator = createUserId;</span><br></pre></td></tr></table></figure><h3 id="å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°"><a href="#å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°" class="headerlink" title="å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°"></a>å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯é€‰å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createUserId</span>(<span class="params">name: string, id: number, age?: number</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> name + id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createUserId</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  name: string = <span class="string">"cosyer"</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  id: number,</span></span></span><br><span class="line"><span class="function"><span class="params">  age?: number</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> name + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡ ? å·æ¥å®šä¹‰å¯é€‰å‚æ•°ï¼Œæ¯”å¦‚ age?: number è¿™ç§å½¢å¼ã€‚åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¯é€‰å‚æ•°è¦æ”¾åœ¨æ™®é€šå‚æ•°çš„åé¢ï¼Œä¸ç„¶ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</p><h3 id="å‰©ä½™å‚æ•°"><a href="#å‰©ä½™å‚æ•°" class="headerlink" title="å‰©ä½™å‚æ•°"></a>å‰©ä½™å‚æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">array, ...items</span>) </span>&#123;</span><br><span class="line">  items.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>&#123;</span><br><span class="line">    array.push(item);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = [];</span><br><span class="line">push(a, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><p>å‡½æ•°é‡è½½æˆ–æ–¹æ³•é‡è½½æ˜¯ä½¿ç”¨ç›¸åŒåç§°å’Œä¸åŒå‚æ•°æ•°é‡æˆ–ç±»å‹åˆ›å»ºå¤šä¸ªæ–¹æ³•çš„ä¸€ç§èƒ½åŠ›ã€‚è¦è§£å†³å‰é¢é‡åˆ°çš„é—®é¢˜ï¼Œæ–¹æ³•å°±æ˜¯ä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªå‡½æ•°ç±»å‹å®šä¹‰æ¥è¿›è¡Œå‡½æ•°é‡è½½ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®è¿™ä¸ªåˆ—è¡¨å»å¤„ç†å‡½æ•°çš„è°ƒç”¨ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a: number, b: number</span>): <span class="title">number</span>;</span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">add</span>(<span class="params">a: string, b: string</span>): <span class="title">string</span>;</span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">add</span>(<span class="params">a: string, b: number</span>): <span class="title">string</span>;</span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">add</span>(<span class="params">a: number, b: string</span>): <span class="title">string</span>;</span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">add</span>(<span class="params">a: Combinable, b: Combinable</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> a === <span class="string">"string"</span> || <span class="keyword">typeof</span> b === <span class="string">"string"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.toString() + b.toString();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ–¹æ³•é‡è½½æ˜¯æŒ‡åœ¨åŒä¸€ä¸ªç±»ä¸­æ–¹æ³•åŒåï¼Œå‚æ•°ä¸åŒï¼ˆå‚æ•°ç±»å‹ä¸åŒã€å‚æ•°ä¸ªæ•°ä¸åŒæˆ–å‚æ•°ä¸ªæ•°ç›¸åŒæ—¶å‚æ•°çš„å…ˆåé¡ºåºä¸åŒï¼‰ï¼Œè°ƒç”¨æ—¶æ ¹æ®å®å‚çš„å½¢å¼ï¼Œé€‰æ‹©ä¸å®ƒåŒ¹é…çš„æ–¹æ³•æ‰§è¡Œæ“ä½œçš„ä¸€ç§æŠ€æœ¯ã€‚æ‰€ä»¥ç±»ä¸­æˆå‘˜æ–¹æ³•æ»¡è¶³é‡è½½çš„æ¡ä»¶æ˜¯ï¼šåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•åç›¸åŒä¸”å‚æ•°åˆ—è¡¨ä¸åŒã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªæˆå‘˜æ–¹æ³•é‡è½½çš„ä¾‹å­ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> </span>&#123;</span><br><span class="line">  add(a: number, <span class="attr">b</span>: number): number;</span><br><span class="line">  add(a: string, <span class="attr">b</span>: string): string;</span><br><span class="line">  add(a: string, <span class="attr">b</span>: number): string;</span><br><span class="line">  add(a: number, <span class="attr">b</span>: string): string;</span><br><span class="line">  add(a: Combinable, <span class="attr">b</span>: Combinable) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> a === <span class="string">"string"</span> || <span class="keyword">typeof</span> b === <span class="string">"string"</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> a.toString() + b.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> calculator = <span class="keyword">new</span> Calculator();</span><br><span class="line"><span class="keyword">const</span> result = calculator.add(<span class="string">"cosyer"</span>, <span class="string">" chenyu"</span>);</span><br></pre></td></tr></table></figure>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ TypeScript ç¼–è¯‘å™¨å¤„ç†å‡½æ•°é‡è½½æ—¶ï¼Œå®ƒä¼šæŸ¥æ‰¾é‡è½½åˆ—è¡¨ï¼Œå°è¯•ä½¿ç”¨ç¬¬ä¸€ä¸ªé‡è½½å®šä¹‰ã€‚ å¦‚æœåŒ¹é…çš„è¯å°±ä½¿ç”¨è¿™ä¸ªã€‚ å› æ­¤ï¼Œåœ¨å®šä¹‰é‡è½½çš„æ—¶å€™ï¼Œä¸€å®šè¦æŠŠæœ€ç²¾ç¡®çš„å®šä¹‰æ”¾åœ¨æœ€å‰é¢ã€‚å¦å¤–åœ¨ Calculator ç±»ä¸­ï¼Œadd(a: Combinable, b: Combinable){ } å¹¶ä¸æ˜¯é‡è½½åˆ—è¡¨çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤å¯¹äº add æˆå‘˜æ–¹æ³•æ¥è¯´ï¼Œæˆ‘ä»¬åªå®šä¹‰äº†å››ä¸ªé‡è½½æ–¹æ³•ã€‚</p><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><h3 id="æ•°ç»„è§£æ„"><a href="#æ•°ç»„è§£æ„" class="headerlink" title="æ•°ç»„è§£æ„"></a>æ•°ç»„è§£æ„</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x: number; <span class="keyword">let</span> y: number; <span class="keyword">let</span> z: number;</span><br><span class="line"><span class="keyword">let</span> five_array = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">[x,y,z] = five_array; <span class="comment">// 0 1 2</span></span><br></pre></td></tr></table></figure><h3 id="æ‰©å±•è¿ç®—ç¬¦"><a href="#æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦"></a>æ‰©å±•è¿ç®—ç¬¦</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> two_array = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line"><span class="keyword">let</span> five_array = [...two_array, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„éå†"><a href="#æ•°ç»„éå†" class="headerlink" title="æ•°ç»„éå†"></a>æ•°ç»„éå†</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors: string[] = [<span class="string">"red"</span>, <span class="string">"green"</span>, <span class="string">"blue"</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> colors) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><h3 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">"cosyer"</span>,</span><br><span class="line">  gender: <span class="string">"Male"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; name, gender &#125; = person;</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡å±•å¼€æ‰©å±•"><a href="#å¯¹è±¡å±•å¼€æ‰©å±•" class="headerlink" title="å¯¹è±¡å±•å¼€æ‰©å±•"></a>å¯¹è±¡å±•å¼€æ‰©å±•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">"cosyer"</span>,</span><br><span class="line">  gender: <span class="string">"Male"</span>,</span><br><span class="line">  address: <span class="string">"Nanjing"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»„è£…å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> personWithAge = &#123; ...person, <span class="attr">age</span>: <span class="number">33</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–é™¤äº†æŸäº›é¡¹å¤–çš„å…¶å®ƒé¡¹</span></span><br><span class="line"><span class="keyword">let</span> &#123; name, ...rest &#125; = person;</span><br></pre></td></tr></table></figure><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œæ¥å£æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œè€Œå…·ä½“å¦‚ä½•è¡ŒåŠ¨éœ€è¦ç”±ç±»å»å®ç°ã€‚</p><p>TypeScript ä¸­çš„æ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äºå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ã€Œå¯¹è±¡çš„å½¢çŠ¶ï¼ˆShapeï¼‰ã€è¿›è¡Œæè¿°</p><h3 id="å¯¹è±¡çš„å½¢çŠ¶-æè¿°"><a href="#å¯¹è±¡çš„å½¢çŠ¶-æè¿°" class="headerlink" title="å¯¹è±¡çš„å½¢çŠ¶(æè¿°)"></a>å¯¹è±¡çš„å½¢çŠ¶(æè¿°)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  name: string;</span><br><span class="line">  age: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cosyer: Person = &#123;</span><br><span class="line">  name: <span class="string">"cosyer"</span>,</span><br><span class="line">  age: <span class="number">25</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="å¯é€‰ã€åªè¯»å±æ€§"><a href="#å¯é€‰ã€åªè¯»å±æ€§" class="headerlink" title="å¯é€‰ã€åªè¯»å±æ€§"></a>å¯é€‰ã€åªè¯»å±æ€§</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  readonly name: string;</span><br><span class="line">  age?: number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªè¯»å±æ€§ç”¨äºé™åˆ¶åªèƒ½åœ¨å¯¹è±¡åˆšåˆšåˆ›å»ºçš„æ—¶å€™ä¿®æ”¹å…¶å€¼ã€‚æ­¤å¤– TypeScript è¿˜æä¾›äº† ReadonlyArray<T> ç±»å‹ï¼Œå®ƒä¸ Array<T> ç›¸ä¼¼ï¼Œåªæ˜¯æŠŠæ‰€æœ‰å¯å˜æ–¹æ³•å»æ‰äº†ï¼Œå› æ­¤å¯ä»¥ç¡®ä¿æ•°ç»„åˆ›å»ºåå†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ã€‚</T></T></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: number[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> ro: ReadonlyArray&lt;number&gt; = a;</span><br><span class="line">ro[<span class="number">0</span>] = <span class="number">12</span>; <span class="comment">// error!</span></span><br><span class="line">ro.push(<span class="number">5</span>); <span class="comment">// error!</span></span><br><span class="line">ro.length = <span class="number">100</span>; <span class="comment">// error!</span></span><br><span class="line">a = ro; <span class="comment">// error!</span></span><br></pre></td></tr></table></figure><h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><p>è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦åˆ›å»ºä¸€è‡´çš„å®šä¹‰è‰¯å¥½çš„ APIï¼ŒåŒæ—¶ä¹Ÿè¦è€ƒè™‘å¯é‡ç”¨æ€§ã€‚ ç»„ä»¶ä¸ä»…èƒ½å¤Ÿæ”¯æŒå½“å‰çš„æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ï¼Œè¿™åœ¨åˆ›å»ºå¤§å‹ç³»ç»Ÿæ—¶ä¸ºä½ æä¾›äº†ååˆ†çµæ´»çš„åŠŸèƒ½ã€‚</p><blockquote><p>åœ¨åƒ C# å’Œ Java è¿™æ ·çš„è¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ã€‚ è¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä»¥è‡ªå·±çš„æ•°æ®ç±»å‹æ¥ä½¿ç”¨ç»„ä»¶ã€‚</p></blockquote><p>è®¾è®¡æ³›å‹çš„å…³é”®ç›®çš„æ˜¯åœ¨æˆå‘˜ä¹‹é—´æä¾›æœ‰æ„ä¹‰çš„çº¦æŸï¼Œè¿™äº›æˆå‘˜å¯ä»¥æ˜¯ï¼šç±»çš„å®ä¾‹æˆå‘˜ã€ç±»çš„æ–¹æ³•ã€å‡½æ•°å‚æ•°å’Œå‡½æ•°è¿”å›å€¼ã€‚</p><p>æ³›å‹ï¼ˆGenericsï¼‰æ˜¯å…è®¸åŒä¸€ä¸ªå‡½æ•°æ¥å—ä¸åŒç±»å‹å‚æ•°çš„ä¸€ç§æ¨¡æ¿ã€‚ç›¸æ¯”äºä½¿ç”¨ any ç±»å‹ï¼Œä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯å¤ç”¨çš„ç»„ä»¶è¦æ›´å¥½ï¼Œå› ä¸ºæ³›å‹ä¼šä¿ç•™å‚æ•°ç±»å‹ã€‚</p><h3 id="æ³›å‹æ¥å£"><a href="#æ³›å‹æ¥å£" class="headerlink" title="æ³›å‹æ¥å£"></a>æ³›å‹æ¥å£</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">interface GenericIdentityFn&lt;T&gt; &#123;</span><br><span class="line">  (arg: T): T;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GenericNumber</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  zeroValue: T;</span><br><span class="line">  add: <span class="function">(<span class="params">x: T, y: T</span>) =&gt;</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myGenericNumber = <span class="keyword">new</span> GenericNumber&lt;number&gt;();</span><br><span class="line">myGenericNumber.zeroValue = <span class="number">0</span>;</span><br><span class="line">myGenericNumber.add = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹å˜é‡"><a href="#æ³›å‹å˜é‡" class="headerlink" title="æ³›å‹å˜é‡"></a>æ³›å‹å˜é‡</h3><p>å¯¹åˆšæ¥è§¦ TypeScript æ³›å‹çš„å°ä¼™ä¼´æ¥è¯´ï¼Œçœ‹åˆ° T å’Œ Eï¼Œè¿˜æœ‰ K å’Œ V è¿™äº›æ³›å‹å˜é‡æ—¶ï¼Œä¼°è®¡ä¼šä¸€è„¸æ‡µé€¼ã€‚å…¶å®è¿™äº›å¤§å†™å­—æ¯å¹¶æ²¡æœ‰ä»€ä¹ˆæœ¬è´¨çš„åŒºåˆ«ï¼Œåªä¸è¿‡æ˜¯ä¸€ä¸ªçº¦å®šå¥½çš„è§„èŒƒè€Œå·²ã€‚ä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨å¤§å†™å­—æ¯ A-Z å®šä¹‰çš„ç±»å‹å˜é‡éƒ½å±äºæ³›å‹ï¼ŒæŠŠ T æ¢æˆ Aï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹ä¸€äº›å¸¸è§æ³›å‹å˜é‡ä»£è¡¨çš„æ„æ€ï¼š</p><ul><li>Tï¼ˆTypeï¼‰ï¼šè¡¨ç¤ºä¸€ä¸ª TypeScript ç±»å‹</li><li>Kï¼ˆKeyï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡ä¸­çš„é”®ç±»å‹</li><li>Vï¼ˆValueï¼‰ï¼šè¡¨ç¤ºå¯¹è±¡ä¸­çš„å€¼ç±»å‹</li><li>Eï¼ˆElementï¼‰ï¼šè¡¨ç¤ºå…ƒç´ ç±»å‹</li></ul><h3 id="æ³›å‹å·¥å…·ç±»å‹-6ç§"><a href="#æ³›å‹å·¥å…·ç±»å‹-6ç§" class="headerlink" title="æ³›å‹å·¥å…·ç±»å‹(6ç§)"></a>æ³›å‹å·¥å…·ç±»å‹(6ç§)</h3><p>ä¸ºäº†æ–¹ä¾¿å¼€å‘è€… TypeScript å†…ç½®äº†ä¸€äº›å¸¸ç”¨çš„å·¥å…·ç±»å‹ï¼Œæ¯”å¦‚ Partialã€Requiredã€Readonlyã€Record å’Œ ReturnType ç­‰ã€‚</p><h4 id="type"><a href="#type" class="headerlink" title="type"></a>type</h4><p>typeof æ“ä½œç¬¦å¯ä»¥ç”¨æ¥è·å–ä¸€ä¸ªå˜é‡å£°æ˜æˆ–å¯¹è±¡çš„ç±»å‹ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  name: string;</span><br><span class="line">  age: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cosyer: Person = &#123; <span class="attr">name</span>: <span class="string">'cosyer'</span>, <span class="attr">age</span>: <span class="number">25</span> &#125;;</span><br><span class="line">type Cosyer= <span class="keyword">typeof</span> cosyer; <span class="comment">// -&gt; Person</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toArray</span>(<span class="params">x: number</span>): <span class="title">Array</span>&lt;<span class="title">number</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [x];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Func = <span class="keyword">typeof</span> toArray; <span class="comment">// -&gt; (x: number) =&gt; number[]</span></span><br></pre></td></tr></table></figure></p><h4 id="keyof"><a href="#keyof" class="headerlink" title="keyof"></a>keyof</h4><p>keyof æ“ä½œç¬¦å¯ä»¥ç”¨æ¥ä¸€ä¸ªå¯¹è±¡ä¸­çš„æ‰€æœ‰ key å€¼ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">    name: string;</span><br><span class="line">    age: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type K1 = keyof Person; <span class="comment">// "name" | "age"</span></span><br><span class="line">type K2 = keyof Person[]; <span class="comment">// "length" | "toString" | "pop" | "push" | "concat" | "join" </span></span><br><span class="line">type K3 = keyof &#123; [x: string]: Person &#125;;  <span class="comment">// string | number</span></span><br></pre></td></tr></table></figure></p><h4 id="in"><a href="#in" class="headerlink" title="in"></a>in</h4><p>in ç”¨æ¥éå†æšä¸¾ç±»å‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">type Keys = <span class="string">"a"</span> | <span class="string">"b"</span> | <span class="string">"c"</span></span><br><span class="line"></span><br><span class="line">type Obj =  &#123;</span><br><span class="line">  [p <span class="keyword">in</span> Keys]: any</span><br><span class="line">&#125; <span class="comment">// -&gt; &#123; a: any, b: any, c: any &#125;</span></span><br></pre></td></tr></table></figure></p><h4 id="infer"><a href="#infer" class="headerlink" title="infer"></a>infer</h4><p>åœ¨æ¡ä»¶ç±»å‹è¯­å¥ä¸­ï¼Œå¯ä»¥ç”¨ infer å£°æ˜ä¸€ä¸ªç±»å‹å˜é‡å¹¶ä¸”å¯¹å®ƒè¿›è¡Œä½¿ç”¨ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type ReturnType&lt;T&gt; = T extends (</span><br><span class="line">  ...args: any[]</span><br><span class="line">) =&gt; infer R ? R : any;</span><br></pre></td></tr></table></figure>ä»¥ä¸Šä»£ç ä¸­ infer R å°±æ˜¯å£°æ˜ä¸€ä¸ªå˜é‡æ¥æ‰¿è½½ä¼ å…¥å‡½æ•°ç­¾åçš„è¿”å›å€¼ç±»å‹ï¼Œç®€å•è¯´å°±æ˜¯ç”¨å®ƒå–åˆ°å‡½æ•°è¿”å›å€¼çš„ç±»å‹æ–¹ä¾¿ä¹‹åä½¿ç”¨ã€‚</p><h4 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬å®šä¹‰çš„æ³›å‹ä¸æƒ³è¿‡äºçµæ´»æˆ–è€…è¯´æƒ³ç»§æ‰¿æŸäº›ç±»ç­‰ï¼Œå¯ä»¥é€šè¿‡ extends å…³é”®å­—æ·»åŠ æ³›å‹çº¦æŸã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface ILengthwise &#123;</span><br><span class="line">  length: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loggingIdentity</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">ILengthwise</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arg.length);</span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// error, number doesn't have a .length property</span></span><br><span class="line">loggingIdentity(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">loggingIdentity(&#123;<span class="attr">length</span>: <span class="number">10</span>, <span class="attr">value</span>: <span class="number">3</span>&#125;);</span><br></pre></td></tr></table></figure></p><h4 id="Partial"><a href="#Partial" class="headerlink" title="Partial"></a>Partial</h4><p>Partial<T> çš„ä½œç”¨å°±æ˜¯å°†æŸä¸ªç±»å‹é‡Œçš„å±æ€§å…¨éƒ¨å˜ä¸ºå¯é€‰é¡¹ ?ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * node_modules/typescript/lib/lib.es5.d.ts</span></span><br><span class="line"><span class="comment"> * Make all properties in T optional</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">type Partial&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T]?: T[P];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></T></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">interface Todo &#123;</span><br><span class="line">  title: string;</span><br><span class="line">  description: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateTodo</span>(<span class="params">todo: Todo, fieldsToUpdate: Partial&lt;Todo&gt;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; ...todo, ...fieldsToUpdate &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todo1 = &#123;</span><br><span class="line">  title: <span class="string">"organize desk"</span>,</span><br><span class="line">  description: <span class="string">"clear clutter"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todo2 = updateTodo(todo1, &#123;</span><br><span class="line">  description: <span class="string">"throw out trash"</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="è£…é¥°å™¨"><a href="#è£…é¥°å™¨" class="headerlink" title="è£…é¥°å™¨"></a>è£…é¥°å™¨</h2><h3 id="è£…é¥°å™¨æ˜¯ä»€ä¹ˆ"><a href="#è£…é¥°å™¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="è£…é¥°å™¨æ˜¯ä»€ä¹ˆ"></a>è£…é¥°å™¨æ˜¯ä»€ä¹ˆ</h3><ul><li>å®ƒæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</li><li>è¯¥è¡¨è¾¾å¼è¢«æ‰§è¡Œåï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°</li><li>å‡½æ•°çš„å…¥å‚åˆ†åˆ«ä¸º targetã€name å’Œ descriptor</li><li>æ‰§è¡Œè¯¥å‡½æ•°åï¼Œå¯èƒ½è¿”å› descriptor å¯¹è±¡ï¼Œç”¨äºé…ç½® target å¯¹è±¡</li></ul><h3 id="è£…é¥°å™¨çš„åˆ†ç±»"><a href="#è£…é¥°å™¨çš„åˆ†ç±»" class="headerlink" title="è£…é¥°å™¨çš„åˆ†ç±»"></a>è£…é¥°å™¨çš„åˆ†ç±»</h3><ul><li>ç±»è£…é¥°å™¨ï¼ˆClass decoratorsï¼‰</li><li>å±æ€§è£…é¥°å™¨ï¼ˆProperty decoratorsï¼‰</li><li>æ–¹æ³•è£…é¥°å™¨ï¼ˆMethod decoratorsï¼‰</li><li>å‚æ•°è£…é¥°å™¨ï¼ˆParameter decoratorsï¼‰</li></ul><h4 id="ç±»è£…é¥°å™¨"><a href="#ç±»è£…é¥°å™¨" class="headerlink" title="ç±»è£…é¥°å™¨"></a>ç±»è£…é¥°å™¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">declare type ClassDecorator = <span class="xml"><span class="tag">&lt;<span class="name">TFunction</span> <span class="attr">extends</span> <span class="attr">Function</span>&gt;</span>(</span></span><br><span class="line"><span class="xml">  target: TFunction</span></span><br><span class="line"><span class="xml">) =&gt; TFunction | void;</span></span><br></pre></td></tr></table></figure><p>ç±»è£…é¥°å™¨é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥è£…é¥°ç±»çš„ã€‚å®ƒæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼š</p><ul><li>target: TFunction - è¢«è£…é¥°çš„ç±»<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Greeter</span>(<span class="params">target: Function</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  target.prototype.greet = <span class="function"><span class="keyword">function</span> (<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello cosyer!"</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Greeter</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeting</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="comment">// å†…éƒ¨å®ç°</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myGreeting = <span class="keyword">new</span> Greeting();</span><br><span class="line">myGreeting.greet(); <span class="comment">// console output: 'Hello cosyer!';</span></span><br></pre></td></tr></table></figure></li></ul><p><code>è‡ªå®šä¹‰å‚æ•°</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Greeter</span>(<span class="params">greeting: string</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target: Function</span>) </span>&#123;</span><br><span class="line">    target.prototype.greet = <span class="function"><span class="keyword">function</span> (<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(greeting);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Greeter(<span class="string">"Hello TS!"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeting</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="comment">// å†…éƒ¨å®ç°</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myGreeting = <span class="keyword">new</span> Greeting();</span><br><span class="line">myGreeting.greet(); <span class="comment">// console output: 'Hello TS!';</span></span><br></pre></td></tr></table></figure></p><h4 id="å±æ€§è£…é¥°å™¨"><a href="#å±æ€§è£…é¥°å™¨" class="headerlink" title="å±æ€§è£…é¥°å™¨"></a>å±æ€§è£…é¥°å™¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">declare type PropertyDecorator = (target:<span class="built_in">Object</span>, </span><br><span class="line">  propertyKey: string | symbol ) =&gt; <span class="keyword">void</span>;</span><br></pre></td></tr></table></figure><p>å±æ€§è£…é¥°å™¨é¡¾åæ€ä¹‰ï¼Œç”¨æ¥è£…é¥°ç±»çš„å±æ€§ã€‚å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li>target: Object - è¢«è£…é¥°çš„ç±»</li><li>propertyKey: string | symbol - è¢«è£…é¥°ç±»çš„å±æ€§å</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logProperty</span>(<span class="params">target: any, key: string</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">delete</span> target[key];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> backingField = <span class="string">"_"</span> + key;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(target, backingField, &#123;</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// property getter</span></span><br><span class="line">  <span class="keyword">const</span> getter = <span class="function"><span class="keyword">function</span> (<span class="params">this: any</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> currVal = <span class="keyword">this</span>[backingField];</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Get: <span class="subst">$&#123;key&#125;</span> =&gt; <span class="subst">$&#123;currVal&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> currVal;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// property setter</span></span><br><span class="line">  <span class="keyword">const</span> setter = <span class="function"><span class="keyword">function</span> (<span class="params">this: any, newVal: any</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Set: <span class="subst">$&#123;key&#125;</span> =&gt; <span class="subst">$&#123;newVal&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">this</span>[backingField] = newVal;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Create new property with getter and setter</span></span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(target, key, &#123;</span><br><span class="line">    <span class="keyword">get</span>: getter,</span><br><span class="line">    <span class="keyword">set</span>: setter,</span><br><span class="line">    enumerable: true,</span><br><span class="line">    configurable: true</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Person &#123; </span><br><span class="line">  @logProperty</span><br><span class="line">  public name: string;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(name : string) &#123; </span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Person(<span class="string">"cosyer"</span>);</span><br><span class="line">p1.name = <span class="string">"chenyu"</span>;</span><br><span class="line"><span class="comment">// Set: name =&gt; cosyer</span></span><br><span class="line"><span class="comment">// Set: name =&gt; chenyu</span></span><br></pre></td></tr></table></figure><h4 id="æ–¹æ³•è£…é¥°å™¨"><a href="#æ–¹æ³•è£…é¥°å™¨" class="headerlink" title="æ–¹æ³•è£…é¥°å™¨"></a>æ–¹æ³•è£…é¥°å™¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">declare type MethodDecorator = <span class="xml"><span class="tag">&lt;<span class="name">T</span>&gt;</span>(target:Object, propertyKey: string | symbol,  </span></span><br><span class="line">  descriptor: TypePropertyDescript&lt;T&gt;) =&gt; TypedPropertyDescriptor&lt;T&gt; | void;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•è£…é¥°å™¨é¡¾åæ€ä¹‰ï¼Œç”¨æ¥è£…é¥°ç±»çš„æ–¹æ³•ã€‚å®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>target: Object - è¢«è£…é¥°çš„ç±»</li><li>propertyKey: string | symbol - æ–¹æ³•å</li><li>descriptor: TypePropertyDescript - å±æ€§æè¿°ç¬¦</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LogOutput</span>(<span class="params">tarage: Function, key: string, descriptor: any</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> originalMethod = descriptor.value;</span><br><span class="line">  <span class="keyword">let</span> newMethod = <span class="function"><span class="keyword">function</span>(<span class="params">...args: any[]</span>): <span class="title">any</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result: any = originalMethod.apply(<span class="keyword">this</span>, args);</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">this</span>.loggedOutput) &#123;</span><br><span class="line">      <span class="keyword">this</span>.loggedOutput = <span class="keyword">new</span> <span class="built_in">Array</span>&lt;any&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.loggedOutput.push(&#123;</span><br><span class="line">      method: key,</span><br><span class="line">      parameters: args,</span><br><span class="line">      output: result,</span><br><span class="line">      timestamp: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;;</span><br><span class="line">  descriptor.value = newMethod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> </span>&#123;</span><br><span class="line">  @LogOutput</span><br><span class="line">  double (num: number): number &#123;</span><br><span class="line">    <span class="keyword">return</span> num * <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> calc = <span class="keyword">new</span> Calculator();</span><br><span class="line">calc.double(<span class="number">11</span>);</span><br><span class="line"><span class="comment">// console ouput: [&#123;method: "double", output: 22, ...&#125;]</span></span><br><span class="line"><span class="built_in">console</span>.log(calc.loggedOutput);</span><br></pre></td></tr></table></figure><h4 id="å‚æ•°è£…é¥°å™¨"><a href="#å‚æ•°è£…é¥°å™¨" class="headerlink" title="å‚æ•°è£…é¥°å™¨"></a>å‚æ•°è£…é¥°å™¨</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">declare type ParameterDecorator = (target: <span class="built_in">Object</span>, <span class="attr">propertyKey</span>: string | symbol, </span><br><span class="line">  parameterIndex: number ) =&gt; <span class="keyword">void</span></span><br></pre></td></tr></table></figure><p>å‚æ•°è£…é¥°å™¨é¡¾åæ€ä¹‰ï¼Œæ˜¯ç”¨æ¥è£…é¥°å‡½æ•°å‚æ•°ï¼Œå®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>target: Object - è¢«è£…é¥°çš„ç±»</li><li>propertyKey: string | symbol - æ–¹æ³•å</li><li>parameterIndex: number - æ–¹æ³•ä¸­å‚æ•°çš„ç´¢å¼•å€¼</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Log</span>(<span class="params">target: Function, key: string, parameterIndex: number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> functionLogged = key || target.prototype.constructor.name;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`The parameter in position <span class="subst">$&#123;parameterIndex&#125;</span> at <span class="subst">$&#123;functionLogged&#125;</span> has</span></span><br><span class="line"><span class="string">been decorated`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeter</span> </span>&#123;</span><br><span class="line">  greeting: string;</span><br><span class="line">  <span class="keyword">constructor</span>(@Log phrase: string) &#123;</span><br><span class="line"><span class="keyword">this</span>.greeting = phrase; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// console output: The parameter in position 0 </span></span><br><span class="line"><span class="comment">// at Greeter has been decorated</span></span><br></pre></td></tr></table></figure><h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><h3 id="ç±»çš„å±æ€§å’Œæ–¹æ³•"><a href="#ç±»çš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="ç±»çš„å±æ€§å’Œæ–¹æ³•"></a>ç±»çš„å±æ€§å’Œæ–¹æ³•</h3><p>åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œç±»æ˜¯ä¸€ç§é¢å‘å¯¹è±¡è®¡ç®—æœºç¼–ç¨‹è¯­è¨€çš„æ„é€ ï¼Œæ˜¯åˆ›å»ºå¯¹è±¡çš„è“å›¾ï¼Œæè¿°äº†æ‰€åˆ›å»ºçš„å¯¹è±¡å…±åŒçš„å±æ€§å’Œæ–¹æ³•ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeter</span> </span>&#123;</span><br><span class="line">  <span class="comment">// é™æ€å±æ€§</span></span><br><span class="line">  <span class="keyword">static</span> cname: string = <span class="string">"Greeter"</span>;</span><br><span class="line">  <span class="comment">// æˆå‘˜å±æ€§</span></span><br><span class="line">  greeting: string;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„é€ å‡½æ•° - æ‰§è¡Œåˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">  <span class="keyword">constructor</span>(message: string) &#123;</span><br><span class="line">    <span class="keyword">this</span>.greeting = message;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">static</span> getClassName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Class name is Greeter"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æˆå‘˜æ–¹æ³•</span></span><br><span class="line">  greet() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello, "</span> + <span class="keyword">this</span>.greeting;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> greeter = <span class="keyword">new</span> Greeter(<span class="string">"world"</span>);</span><br></pre></td></tr></table></figure>ç¼–è¯‘ç”Ÿæˆï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> Greeter = <span class="comment">/** @class */</span> (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•° - æ‰§è¡Œåˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Greeter</span>(<span class="params">message</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.greeting = message;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">    Greeter.getClassName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Class name is Greeter"</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// æˆå‘˜æ–¹æ³•</span></span><br><span class="line">    Greeter.prototype.greet = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Hello, "</span> + <span class="keyword">this</span>.greeting;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// é™æ€å±æ€§</span></span><br><span class="line">    Greeter.cname = <span class="string">"Greeter"</span>;</span><br><span class="line">    <span class="keyword">return</span> Greeter;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="keyword">var</span> greeter = <span class="keyword">new</span> Greeter(<span class="string">"world"</span>);</span><br></pre></td></tr></table></figure></p><h3 id="è®¿é—®å™¨-getter-setter"><a href="#è®¿é—®å™¨-getter-setter" class="headerlink" title="è®¿é—®å™¨(getter/setter)"></a>è®¿é—®å™¨(getter/setter)</h3><p>åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ getter å’Œ setter æ–¹æ³•æ¥å®ç°æ•°æ®çš„å°è£…å’Œæœ‰æ•ˆæ€§æ ¡éªŒï¼Œé˜²æ­¢å‡ºç°å¼‚å¸¸æ•°æ®ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> passcode = <span class="string">"Hello TypeScript"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">  private _fullName: string;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> fullName(): string &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._fullName;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> fullName(newName: string) &#123;</span><br><span class="line">    <span class="keyword">if</span> (passcode &amp;&amp; passcode == <span class="string">"Hello TypeScript"</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>._fullName = newName;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"Error: Unauthorized update of employee!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> employee = <span class="keyword">new</span> Employee();</span><br><span class="line">employee.fullName = <span class="string">"cosyer"</span>;</span><br><span class="line"><span class="keyword">if</span> (employee.fullName) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(employee.fullName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>ç»§æ‰¿ (Inheritance) æ˜¯ä¸€ç§è”ç»“ç±»ä¸ç±»çš„å±‚æ¬¡æ¨¡å‹ã€‚æŒ‡çš„æ˜¯ä¸€ä¸ªç±»ï¼ˆç§°ä¸ºå­ç±»ã€å­æ¥å£ï¼‰ç»§æ‰¿å¦å¤–çš„ä¸€ä¸ªç±»ï¼ˆç§°ä¸ºçˆ¶ç±»ã€çˆ¶æ¥å£ï¼‰çš„åŠŸèƒ½ï¼Œå¹¶å¯ä»¥å¢åŠ è‡ªå·±æ–°åŠŸèƒ½çš„èƒ½åŠ›ï¼Œç»§æ‰¿æ˜¯ç±»ä¸ç±»æˆ–è€…æ¥å£ä¸æ¥å£ä¹‹é—´æœ€å¸¸è§çš„å…³ç³»ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  name: string;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">constructor</span>(theName: string) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = theName;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  move(distanceInMeters: number = <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span> moved <span class="subst">$&#123;distanceInMeters&#125;</span>m.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Snake</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  move(distanceInMeters = <span class="number">5</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Slithering..."</span>);</span><br><span class="line">    <span class="keyword">super</span>.move(distanceInMeters);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sam = <span class="keyword">new</span> Snake(<span class="string">"Sammy the Python"</span>);</span><br><span class="line">sam.move();</span><br></pre></td></tr></table></figure></p><h3 id="ç§æœ‰å­—æ®µ"><a href="#ç§æœ‰å­—æ®µ" class="headerlink" title="ç§æœ‰å­—æ®µ"></a>ç§æœ‰å­—æ®µ</h3><p>åœ¨ TypeScript 3.8 ç‰ˆæœ¬å°±å¼€å§‹æ”¯æŒECMAScript ç§æœ‰å­—æ®µ<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  #name: string;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(name: string) &#123;</span><br><span class="line">    this.#name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  greet() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hello, my name is <span class="subst">$&#123;<span class="keyword">this</span>.#name&#125;</span>!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cosyer = <span class="keyword">new</span> Person(<span class="string">"cosyer"</span>);</span><br><span class="line"></span><br><span class="line">cosyer.#name;</span><br><span class="line"><span class="comment">// Property '#name' is not accessible outside class 'Person'</span></span><br><span class="line"><span class="comment">// because it has a private identifier.</span></span><br></pre></td></tr></table></figure></p><p>ä¸å¸¸è§„å±æ€§ï¼ˆç”šè‡³ä½¿ç”¨ private ä¿®é¥°ç¬¦å£°æ˜çš„å±æ€§ï¼‰ä¸åŒï¼Œç§æœ‰å­—æ®µè¦ç‰¢è®°ä»¥ä¸‹è§„åˆ™ï¼š</p><ul><li>ç§æœ‰å­—æ®µä»¥ # å­—ç¬¦å¼€å¤´ï¼Œæœ‰æ—¶æˆ‘ä»¬ç§°ä¹‹ä¸ºç§æœ‰åç§°ï¼›</li><li>æ¯ä¸ªç§æœ‰å­—æ®µåç§°éƒ½å”¯ä¸€åœ°é™å®šäºå…¶åŒ…å«çš„ç±»ï¼›</li><li>ä¸èƒ½åœ¨ç§æœ‰å­—æ®µä¸Šä½¿ç”¨ TypeScript å¯è®¿é—®æ€§ä¿®é¥°ç¬¦ï¼ˆå¦‚ public æˆ– privateï¼‰ï¼›</li><li>ç§æœ‰å­—æ®µä¸èƒ½åœ¨åŒ…å«çš„ç±»ä¹‹å¤–è®¿é—®ï¼Œç”šè‡³ä¸èƒ½è¢«æ£€æµ‹åˆ°ã€‚</li></ul><h2 id="ç¼–è¯‘ä¸Šä¸‹æ–‡"><a href="#ç¼–è¯‘ä¸Šä¸‹æ–‡" class="headerlink" title="ç¼–è¯‘ä¸Šä¸‹æ–‡"></a>ç¼–è¯‘ä¸Šä¸‹æ–‡</h2><h3 id="tsconfig-json-çš„ä½œç”¨"><a href="#tsconfig-json-çš„ä½œç”¨" class="headerlink" title="tsconfig.json çš„ä½œç”¨"></a>tsconfig.json çš„ä½œç”¨</h3><ul><li>ç”¨äºæ ‡è¯† TypeScript é¡¹ç›®çš„æ ¹è·¯å¾„ï¼›</li><li>ç”¨äºé…ç½® TypeScript ç¼–è¯‘å™¨ï¼›</li><li>ç”¨äºæŒ‡å®šç¼–è¯‘çš„æ–‡ä»¶ã€‚</li></ul><h3 id="tsconfig-json-é‡è¦å­—æ®µ"><a href="#tsconfig-json-é‡è¦å­—æ®µ" class="headerlink" title="tsconfig.json é‡è¦å­—æ®µ"></a>tsconfig.json é‡è¦å­—æ®µ</h3><ul><li>files - è®¾ç½®è¦ç¼–è¯‘çš„æ–‡ä»¶çš„åç§°ï¼›</li><li>include - è®¾ç½®éœ€è¦è¿›è¡Œç¼–è¯‘çš„æ–‡ä»¶ï¼Œæ”¯æŒè·¯å¾„æ¨¡å¼åŒ¹é…ï¼›</li><li>exclude - è®¾ç½®æ— éœ€è¿›è¡Œç¼–è¯‘çš„æ–‡ä»¶ï¼Œæ”¯æŒè·¯å¾„æ¨¡å¼åŒ¹é…ï¼›</li><li>compilerOptions - è®¾ç½®ä¸ç¼–è¯‘æµç¨‹ç›¸å…³çš„é€‰é¡¹ã€‚</li></ul><h3 id="compilerOptions-é€‰é¡¹"><a href="#compilerOptions-é€‰é¡¹" class="headerlink" title="compilerOptions é€‰é¡¹"></a>compilerOptions é€‰é¡¹</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"compilerOptions"</span>: &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* åŸºæœ¬é€‰é¡¹ */</span></span><br><span class="line">    <span class="string">"target"</span>: <span class="string">"es5"</span>,                       <span class="comment">// æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬: 'ES3' (default), 'ES5', 'ES6'/'ES2015', 'ES2016', 'ES2017', or 'ESNEXT'</span></span><br><span class="line">    <span class="string">"module"</span>: <span class="string">"commonjs"</span>,                  <span class="comment">// æŒ‡å®šä½¿ç”¨æ¨¡å—: 'commonjs', 'amd', 'system', 'umd' or 'es2015'</span></span><br><span class="line">    <span class="string">"lib"</span>: [],                             <span class="comment">// æŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„åº“æ–‡ä»¶</span></span><br><span class="line">    <span class="string">"allowJs"</span>: <span class="literal">true</span>,                       <span class="comment">// å…è®¸ç¼–è¯‘ javascript æ–‡ä»¶</span></span><br><span class="line">    <span class="string">"checkJs"</span>: <span class="literal">true</span>,                       <span class="comment">// æŠ¥å‘Š javascript æ–‡ä»¶ä¸­çš„é”™è¯¯</span></span><br><span class="line">    <span class="string">"jsx"</span>: <span class="string">"preserve"</span>,                     <span class="comment">// æŒ‡å®š jsx ä»£ç çš„ç”Ÿæˆ: 'preserve', 'react-native', or 'react'</span></span><br><span class="line">    <span class="string">"declaration"</span>: <span class="literal">true</span>,                   <span class="comment">// ç”Ÿæˆç›¸åº”çš„ '.d.ts' æ–‡ä»¶</span></span><br><span class="line">    <span class="string">"sourceMap"</span>: <span class="literal">true</span>,                     <span class="comment">// ç”Ÿæˆç›¸åº”çš„ '.map' æ–‡ä»¶</span></span><br><span class="line">    <span class="string">"outFile"</span>: <span class="string">"./"</span>,                       <span class="comment">// å°†è¾“å‡ºæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">    <span class="string">"outDir"</span>: <span class="string">"./"</span>,                        <span class="comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">    <span class="string">"rootDir"</span>: <span class="string">"./"</span>,                       <span class="comment">// ç”¨æ¥æ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„ --outDir.</span></span><br><span class="line">    <span class="string">"removeComments"</span>: <span class="literal">true</span>,                <span class="comment">// åˆ é™¤ç¼–è¯‘åçš„æ‰€æœ‰çš„æ³¨é‡Š</span></span><br><span class="line">    <span class="string">"noEmit"</span>: <span class="literal">true</span>,                        <span class="comment">// ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶</span></span><br><span class="line">    <span class="string">"importHelpers"</span>: <span class="literal">true</span>,                 <span class="comment">// ä» tslib å¯¼å…¥è¾…åŠ©å·¥å…·å‡½æ•°</span></span><br><span class="line">    <span class="string">"isolatedModules"</span>: <span class="literal">true</span>,               <span class="comment">// å°†æ¯ä¸ªæ–‡ä»¶åšä¸ºå•ç‹¬çš„æ¨¡å— ï¼ˆä¸ 'ts.transpileModule' ç±»ä¼¼ï¼‰.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥é€‰é¡¹ */</span></span><br><span class="line">    <span class="string">"strict"</span>: <span class="literal">true</span>,                        <span class="comment">// å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹</span></span><br><span class="line">    <span class="string">"noImplicitAny"</span>: <span class="literal">true</span>,                 <span class="comment">// åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ anyç±»å‹æ—¶æŠ¥é”™</span></span><br><span class="line">    <span class="string">"strictNullChecks"</span>: <span class="literal">true</span>,              <span class="comment">// å¯ç”¨ä¸¥æ ¼çš„ null æ£€æŸ¥</span></span><br><span class="line">    <span class="string">"noImplicitThis"</span>: <span class="literal">true</span>,                <span class="comment">// å½“ this è¡¨è¾¾å¼å€¼ä¸º any ç±»å‹çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªé”™è¯¯</span></span><br><span class="line">    <span class="string">"alwaysStrict"</span>: <span class="literal">true</span>,                  <span class="comment">// ä»¥ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥æ¯ä¸ªæ¨¡å—ï¼Œå¹¶åœ¨æ¯ä¸ªæ–‡ä»¶é‡ŒåŠ å…¥ 'use strict'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* é¢å¤–çš„æ£€æŸ¥ */</span></span><br><span class="line">    <span class="string">"noUnusedLocals"</span>: <span class="literal">true</span>,                <span class="comment">// æœ‰æœªä½¿ç”¨çš„å˜é‡æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">    <span class="string">"noUnusedParameters"</span>: <span class="literal">true</span>,            <span class="comment">// æœ‰æœªä½¿ç”¨çš„å‚æ•°æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">    <span class="string">"noImplicitReturns"</span>: <span class="literal">true</span>,             <span class="comment">// å¹¶ä¸æ˜¯æ‰€æœ‰å‡½æ•°é‡Œçš„ä»£ç éƒ½æœ‰è¿”å›å€¼æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">    <span class="string">"noFallthroughCasesInSwitch"</span>: <span class="literal">true</span>,    <span class="comment">// æŠ¥å‘Š switch è¯­å¥çš„ fallthrough é”™è¯¯ã€‚ï¼ˆå³ï¼Œä¸å…è®¸ switch çš„ case è¯­å¥è´¯ç©¿ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* æ¨¡å—è§£æé€‰é¡¹ */</span></span><br><span class="line">    <span class="string">"moduleResolution"</span>: <span class="string">"node"</span>,            <span class="comment">// é€‰æ‹©æ¨¡å—è§£æç­–ç•¥ï¼š 'node' (Node.js) or 'classic' (TypeScript pre-1.6)</span></span><br><span class="line">    <span class="string">"baseUrl"</span>: <span class="string">"./"</span>,                       <span class="comment">// ç”¨äºè§£æéç›¸å¯¹æ¨¡å—åç§°çš„åŸºç›®å½•</span></span><br><span class="line">    <span class="string">"paths"</span>: &#123;&#125;,                           <span class="comment">// æ¨¡å—ååˆ°åŸºäº baseUrl çš„è·¯å¾„æ˜ å°„çš„åˆ—è¡¨</span></span><br><span class="line">    <span class="string">"rootDirs"</span>: [],                        <span class="comment">// æ ¹æ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œå…¶ç»„åˆå†…å®¹è¡¨ç¤ºé¡¹ç›®è¿è¡Œæ—¶çš„ç»“æ„å†…å®¹</span></span><br><span class="line">    <span class="string">"typeRoots"</span>: [],                       <span class="comment">// åŒ…å«ç±»å‹å£°æ˜çš„æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">    <span class="string">"types"</span>: [],                           <span class="comment">// éœ€è¦åŒ…å«çš„ç±»å‹å£°æ˜æ–‡ä»¶ååˆ—è¡¨</span></span><br><span class="line">    <span class="string">"allowSyntheticDefaultImports"</span>: <span class="literal">true</span>,  <span class="comment">// å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Source Map Options */</span></span><br><span class="line">    <span class="string">"sourceRoot"</span>: <span class="string">"./"</span>,                    <span class="comment">// æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ° TypeScript æ–‡ä»¶è€Œä¸æ˜¯æºæ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">    <span class="string">"mapRoot"</span>: <span class="string">"./"</span>,                       <span class="comment">// æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ°æ˜ å°„æ–‡ä»¶è€Œä¸æ˜¯ç”Ÿæˆæ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">    <span class="string">"inlineSourceMap"</span>: <span class="literal">true</span>,               <span class="comment">// ç”Ÿæˆå•ä¸ª soucemaps æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°† sourcemaps ç”Ÿæˆä¸åŒçš„æ–‡ä»¶</span></span><br><span class="line">    <span class="string">"inlineSources"</span>: <span class="literal">true</span>,                 <span class="comment">// å°†ä»£ç ä¸ sourcemaps ç”Ÿæˆåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¦æ±‚åŒæ—¶è®¾ç½®äº† --inlineSourceMap æˆ– --sourceMap å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* å…¶ä»–é€‰é¡¹ */</span></span><br><span class="line">    <span class="string">"experimentalDecorators"</span>: <span class="literal">true</span>,        <span class="comment">// å¯ç”¨è£…é¥°å™¨</span></span><br><span class="line">    <span class="string">"emitDecoratorMetadata"</span>: <span class="literal">true</span>          <span class="comment">// ä¸ºè£…é¥°å™¨æä¾›å…ƒæ•°æ®çš„æ”¯æŒ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»“åº“ä»£ç "><a href="#ä»“åº“ä»£ç " class="headerlink" title="ä»“åº“ä»£ç "></a>ä»“åº“ä»£ç </h2><p><a href="https://github.com/cosyer/typescript-learn" target="_blank" rel="noopener">typescript-learn</a></p><h2 id="ç›¸å…³é—®é¢˜"><a href="#ç›¸å…³é—®é¢˜" class="headerlink" title="ç›¸å…³é—®é¢˜"></a>ç›¸å…³é—®é¢˜</h2><p><a href="https://mydearest.cn/2020/TypeScript%20%E4%B8%AD%EF%BC%8Cinterface%20%E5%92%8C%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB.html">TypeScript ä¸­ï¼Œinterface å’Œ type çš„åŒºåˆ«</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E8%B6%85%E8%AF%A6%E7%BB%86%E7%9A%84TypeScript%E6%95%99%E7%A8%8B.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>XSSå­¦ä¹ &amp;å®è·µ</title>
      <link>http://mydearest.cn/2020/XSS%E5%AD%A6%E4%B9%A0&amp;%E5%AE%9E%E8%B7%B5.html</link>
      <guid>http://mydearest.cn/2020/XSS%E5%AD%A6%E4%B9%A0&amp;%E5%AE%9E%E8%B7%B5.html</guid>
      <pubDate>Tue, 23 Jun 2020 17:13:10 GMT</pubDate>
      <description>
      
        &lt;p&gt;&lt;code&gt;webå®‰å…¨&lt;/code&gt;ä¸€ç›´æ˜¯å¼€å‘ä¸­ä¸å¯å¿½è§†çš„ä¸€éƒ¨åˆ†ã€‚è€Œxssä½œä¸ºwebå¼€å‘ä¸­æœ€å¸¸è§çš„æ”»å‡»æ‰‹æ®µï¼Œé˜²èŒƒæ˜¯å¿…ç„¶çš„ã€‚åŸºäºwebæµè§ˆå™¨tricksï¼ŒJavaScriptçš„å‘å±•ï¼Œnpmç­‰å¼€æºé¡¹ç›®æ¼
æ´ï¼Œwebæ³¨å…¥ç­‰ä¼šè®©å¼€å‘è€…è¶Šæ¥è¶Šé˜²ä¸èƒœé˜²ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ’å…¥æ‰§è¡Œæ ‡ç­¾&quot;&gt;&lt;a href=&quot;#æ’å…¥æ‰§è¡Œæ ‡ç­¾&quot; class=&quot;headerlink&quot; title=&quot;æ’å…¥æ‰§è¡Œæ ‡ç­¾&quot;&gt;&lt;/a&gt;æ’å…¥æ‰§è¡Œæ ‡ç­¾&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;script&lt;/li&gt;
&lt;li&gt;img onerrorè§¦å‘&lt;/li&gt;
&lt;li&gt;iframe srcdocè§¦å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æ ‡ç­¾ç­‰æå‰é—­åˆ-æˆªæ–­&quot;&gt;&lt;a href=&quot;#æ ‡ç­¾ç­‰æå‰é—­åˆ-æˆªæ–­&quot; class=&quot;headerlink&quot; title=&quot;æ ‡ç­¾ç­‰æå‰é—­åˆ(æˆªæ–­)&quot;&gt;&lt;/a&gt;æ ‡ç­¾ç­‰æå‰é—­åˆ(æˆªæ–­)&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å¦‚åœ¨å¯Œæ–‡æœ¬, input, textarea, å¯ç¼–è¾‘divç­‰ï¼Œ&lt;a href=&quot;https://xss.haozi.me/#/0x01&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;0x01&lt;/a&gt;ï¼Œ&lt;a href=&quot;https://xss.haozi.me/#/0x02&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;0x02&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;styleæ ‡ç­¾&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;style&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&lt;span class=&quot;regexp&quot;&gt;/style &amp;gt;&amp;lt;script&amp;gt;alert(1)&amp;lt;/&lt;/span&gt;script&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;&lt;span class=&quot;regexp&quot;&gt;/style&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;æ³¨é‡Šæå‰é—­åˆ&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;--!&amp;gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;alert(1)&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p><code>webå®‰å…¨</code>ä¸€ç›´æ˜¯å¼€å‘ä¸­ä¸å¯å¿½è§†çš„ä¸€éƒ¨åˆ†ã€‚è€Œxssä½œä¸ºwebå¼€å‘ä¸­æœ€å¸¸è§çš„æ”»å‡»æ‰‹æ®µï¼Œé˜²èŒƒæ˜¯å¿…ç„¶çš„ã€‚åŸºäºwebæµè§ˆå™¨tricksï¼ŒJavaScriptçš„å‘å±•ï¼Œnpmç­‰å¼€æºé¡¹ç›®æ¼æ´ï¼Œwebæ³¨å…¥ç­‰ä¼šè®©å¼€å‘è€…è¶Šæ¥è¶Šé˜²ä¸èƒœé˜²ã€‚</p><h2 id="æ’å…¥æ‰§è¡Œæ ‡ç­¾"><a href="#æ’å…¥æ‰§è¡Œæ ‡ç­¾" class="headerlink" title="æ’å…¥æ‰§è¡Œæ ‡ç­¾"></a>æ’å…¥æ‰§è¡Œæ ‡ç­¾</h2><ul><li>script</li><li>img onerrorè§¦å‘</li><li>iframe srcdocè§¦å‘</li></ul><h2 id="æ ‡ç­¾ç­‰æå‰é—­åˆ-æˆªæ–­"><a href="#æ ‡ç­¾ç­‰æå‰é—­åˆ-æˆªæ–­" class="headerlink" title="æ ‡ç­¾ç­‰æå‰é—­åˆ(æˆªæ–­)"></a>æ ‡ç­¾ç­‰æå‰é—­åˆ(æˆªæ–­)</h2><ul><li>å¦‚åœ¨å¯Œæ–‡æœ¬, input, textarea, å¯ç¼–è¾‘divç­‰ï¼Œ<a href="https://xss.haozi.me/#/0x01" target="_blank" rel="noopener">0x01</a>ï¼Œ<a href="https://xss.haozi.me/#/0x02" target="_blank" rel="noopener">0x02</a></li><li>styleæ ‡ç­¾<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">&lt;<span class="regexp">/style &gt;&lt;script&gt;alert(1)&lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure></li><li>æ³¨é‡Šæå‰é—­åˆ<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--!&gt;<span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li></ul><hr><a id="more"></a><ul><li>input typeé‡å†™inputçš„typeï¼Œåœ¨typeä¹‹å‰å¯ä»¥é‡å†™ä¸ºimageï¼Œé€šè¿‡onerroræ³¨å…¥</li></ul><h2 id="ES6-tagæ ‡ç­¾"><a href="#ES6-tagæ ‡ç­¾" class="headerlink" title="ES6 tagæ ‡ç­¾"></a>ES6 tagæ ‡ç­¾</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert<span class="string">`1`</span>&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è½¬ä¹‰å­—ç¬¦ä»å¯æ‰§è¡Œ"><a href="#è½¬ä¹‰å­—ç¬¦ä»å¯æ‰§è¡Œ" class="headerlink" title="è½¬ä¹‰å­—ç¬¦ä»å¯æ‰§è¡Œ"></a>è½¬ä¹‰å­—ç¬¦ä»å¯æ‰§è¡Œ</h2><ul><li>scriptæ ‡ç­¾å¯æ‰§è¡Œ base64çš„htmlä»£ç ç‰‡æ®µ</li><li>onerrorå¯æ‰§è¡Œ è½¬ä¹‰ä¸º html 10è¿›åˆ¶ï¼Œ 16è¿›åˆ¶çš„ä»£ç ç‰‡æ®µ</li><li>urlè½¬ä¹‰ä¸º html 10è¿›åˆ¶ï¼Œ 16è¿›åˆ¶ ä»å¯æ‰§è¡Œ, urlçš„å®šä¹‰å¯è·å–å…¶ä»–åŸŸä¸‹çš„èµ„æºæ–‡ä»¶<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scheme:[<span class="comment">//[user:password@]host[:port]][/]path[?query][#fragment]</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="svgä¸é—­åˆä¹Ÿæ‰§è¡Œ"><a href="#svgä¸é—­åˆä¹Ÿæ‰§è¡Œ" class="headerlink" title="svgä¸é—­åˆä¹Ÿæ‰§è¡Œ"></a>svgä¸é—­åˆä¹Ÿæ‰§è¡Œ</h2><h2 id="æ­£åˆ™æ›¿æ¢ä¸é è°±"><a href="#æ­£åˆ™æ›¿æ¢ä¸é è°±" class="headerlink" title="æ­£åˆ™æ›¿æ¢ä¸é è°±"></a>æ­£åˆ™æ›¿æ¢ä¸é è°±</h2><ul><li>æ­£åˆ™æ›¿æ¢</li><li>æ­£åˆ™å‘½ä¸­</li><li>è¿½åŠ æ‰§è¡Œï¼Œæ­£åˆ™æ›¿æ¢å¤±æ•ˆ</li></ul><h2 id="é˜²æŠ¤"><a href="#é˜²æŠ¤" class="headerlink" title="é˜²æŠ¤"></a>é˜²æŠ¤</h2><ul><li>é…ç½®å®‰å…¨å¤´</li><li>xssç›‘æ§</li><li>æœåŠ¡ç«¯ç™½åå•è¿‡æ»¤</li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/XSS%E5%AD%A6%E4%B9%A0&amp;%E5%AE%9E%E8%B7%B5.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>windowså®‰è£…mysql</title>
      <link>http://mydearest.cn/2020/windows%E5%AE%89%E8%A3%85mysql.html</link>
      <guid>http://mydearest.cn/2020/windows%E5%AE%89%E8%A3%85mysql.html</guid>
      <pubDate>Tue, 23 Jun 2020 09:05:10 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;å®‰è£…åŒ…ä¸‹è½½&quot;&gt;&lt;a href=&quot;#å®‰è£…åŒ…ä¸‹è½½&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…åŒ…ä¸‹è½½&quot;&gt;&lt;/a&gt;å®‰è£…åŒ…ä¸‹è½½&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸‹è½½åœ°å€ï¼š&lt;a href=&quot;https://dev.mysql.com/downloads/mysql/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://dev.mysql.com/downloads/mysql/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mysqlå›½å†…é•œåƒï¼š&lt;a href=&quot;http://mirrors.sohu.com/mysql/MySQL-8.0/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://mirrors.sohu.com/mysql/MySQL-8.0/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹è½½å®Œæˆåï¼Œé€‰æ‹©ä¸€ä¸ªç£ç›˜å†…æ”¾ç½®å¹¶è§£å‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è®¾ç½®ç¯å¢ƒå˜é‡&quot;&gt;&lt;a href=&quot;#è®¾ç½®ç¯å¢ƒå˜é‡&quot; class=&quot;headerlink&quot; title=&quot;è®¾ç½®ç¯å¢ƒå˜é‡&quot;&gt;&lt;/a&gt;è®¾ç½®ç¯å¢ƒå˜é‡&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;å˜é‡åï¼šMYSQL_HOME&lt;/li&gt;
&lt;li&gt;å˜é‡å€¼ï¼šE:\mysql5.7.23&lt;/li&gt;
&lt;li&gt;pathé‡Œæ·»åŠ ï¼š%MYSQL_HOME%\bin&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;åˆå§‹åŒ–è®¾ç½®&quot;&gt;&lt;a href=&quot;#åˆå§‹åŒ–è®¾ç½®&quot; class=&quot;headerlink&quot; title=&quot;åˆå§‹åŒ–è®¾ç½®&quot;&gt;&lt;/a&gt;åˆå§‹åŒ–è®¾ç½®&lt;/h2&gt;&lt;h3 id=&quot;åˆ›å»ºdata-Uploadsæ–‡ä»¶å¤¹&quot;&gt;&lt;a href=&quot;#åˆ›å»ºdata-Uploadsæ–‡ä»¶å¤¹&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºdata Uploadsæ–‡ä»¶å¤¹&quot;&gt;&lt;/a&gt;åˆ›å»ºdata Uploadsæ–‡ä»¶å¤¹&lt;/h3&gt;&lt;h3 id=&quot;my-initæ–‡ä»¶&quot;&gt;&lt;a href=&quot;#my-initæ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;my.initæ–‡ä»¶&quot;&gt;&lt;/a&gt;my.initæ–‡ä»¶&lt;/h3&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[mysqld]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;port=&lt;span class=&quot;number&quot;&gt;3306&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;character_set_server=utf8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;basedir=E:\mysql5&lt;span class=&quot;number&quot;&gt;.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.23&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;datadir=E:\mysql5&lt;span class=&quot;number&quot;&gt;.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.23&lt;/span&gt;\data&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;server-id=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sql_mode=NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;lower_case_table_names=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;innodb_file_per_table = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log_timestamps=SYSTEM&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log-error   = error.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;slow_query_log = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;slow_query_log_file = slow.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;long_query_time = &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log-bin = binlog&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;binlog_format = row&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;expire_logs_days = &lt;span class=&quot;number&quot;&gt;15&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;log_bin_trust_function_creators = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;secure-file-priv=E:\mysql5&lt;span class=&quot;number&quot;&gt;.7&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.23&lt;/span&gt;\Uploads&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[client]   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;-character-&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt;=utf8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="å®‰è£…åŒ…ä¸‹è½½"><a href="#å®‰è£…åŒ…ä¸‹è½½" class="headerlink" title="å®‰è£…åŒ…ä¸‹è½½"></a>å®‰è£…åŒ…ä¸‹è½½</h2><ul><li><p>ä¸‹è½½åœ°å€ï¼š<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/</a></p></li><li><p>Mysqlå›½å†…é•œåƒï¼š<a href="http://mirrors.sohu.com/mysql/MySQL-8.0/" target="_blank" rel="noopener">http://mirrors.sohu.com/mysql/MySQL-8.0/</a></p></li></ul><p>ä¸‹è½½å®Œæˆåï¼Œé€‰æ‹©ä¸€ä¸ªç£ç›˜å†…æ”¾ç½®å¹¶è§£å‹ã€‚</p><h2 id="è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç¯å¢ƒå˜é‡</h2><ol><li>å˜é‡åï¼šMYSQL_HOME</li><li>å˜é‡å€¼ï¼šE:\mysql5.7.23</li><li>pathé‡Œæ·»åŠ ï¼š%MYSQL_HOME%\bin</li></ol><h2 id="åˆå§‹åŒ–è®¾ç½®"><a href="#åˆå§‹åŒ–è®¾ç½®" class="headerlink" title="åˆå§‹åŒ–è®¾ç½®"></a>åˆå§‹åŒ–è®¾ç½®</h2><h3 id="åˆ›å»ºdata-Uploadsæ–‡ä»¶å¤¹"><a href="#åˆ›å»ºdata-Uploadsæ–‡ä»¶å¤¹" class="headerlink" title="åˆ›å»ºdata Uploadsæ–‡ä»¶å¤¹"></a>åˆ›å»ºdata Uploadsæ–‡ä»¶å¤¹</h3><h3 id="my-initæ–‡ä»¶"><a href="#my-initæ–‡ä»¶" class="headerlink" title="my.initæ–‡ä»¶"></a>my.initæ–‡ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">port=<span class="number">3306</span></span><br><span class="line">character_set_server=utf8</span><br><span class="line">basedir=E:\mysql5<span class="number">.7</span><span class="number">.23</span></span><br><span class="line">datadir=E:\mysql5<span class="number">.7</span><span class="number">.23</span>\data</span><br><span class="line">server-id=<span class="number">1</span></span><br><span class="line">sql_mode=NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span><br><span class="line">lower_case_table_names=<span class="number">1</span></span><br><span class="line">innodb_file_per_table = <span class="number">1</span></span><br><span class="line">log_timestamps=SYSTEM</span><br><span class="line"></span><br><span class="line">log-error   = error.log</span><br><span class="line">slow_query_log = <span class="number">1</span></span><br><span class="line">slow_query_log_file = slow.log</span><br><span class="line">long_query_time = <span class="number">5</span></span><br><span class="line">log-bin = binlog</span><br><span class="line">binlog_format = row</span><br><span class="line">expire_logs_days = <span class="number">15</span></span><br><span class="line">log_bin_trust_function_creators = <span class="number">1</span></span><br><span class="line">secure-file-priv=E:\mysql5<span class="number">.7</span><span class="number">.23</span>\Uploads</span><br><span class="line"></span><br><span class="line">[client]   </span><br><span class="line"><span class="keyword">default</span>-character-<span class="keyword">set</span>=utf8</span><br></pre></td></tr></table></figure><hr><a id="more"></a><h3 id="åˆå§‹åŒ–ç”Ÿæˆdataä¸‹æ–‡ä»¶-ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd"><a href="#åˆå§‹åŒ–ç”Ÿæˆdataä¸‹æ–‡ä»¶-ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd" class="headerlink" title="åˆå§‹åŒ–ç”Ÿæˆdataä¸‹æ–‡ä»¶(ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd)"></a>åˆå§‹åŒ–ç”Ÿæˆdataä¸‹æ–‡ä»¶(ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize-insecure</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…æœåŠ¡"><a href="#å®‰è£…æœåŠ¡" class="headerlink" title="å®‰è£…æœåŠ¡"></a>å®‰è£…æœåŠ¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --install mysql8</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨å’Œåœæ­¢"><a href="#å¯åŠ¨å’Œåœæ­¢" class="headerlink" title="å¯åŠ¨å’Œåœæ­¢"></a>å¯åŠ¨å’Œåœæ­¢</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net start mysql8 </span><br><span class="line">net stop mysql8</span><br></pre></td></tr></table></figure><h2 id="MySQLåˆå§‹åŒ–rootå¯†ç "><a href="#MySQLåˆå§‹åŒ–rootå¯†ç " class="headerlink" title="MySQLåˆå§‹åŒ–rootå¯†ç "></a>MySQLåˆå§‹åŒ–rootå¯†ç </h2><ul><li>mysqlé»˜è®¤rootç”¨æˆ·æ²¡æœ‰å¯†ç ï¼Œè¾“å…¥mysql â€“u root è¿›å…¥mysql</li></ul><ol><li><p>è¿›å…¥mysqlæ•°æ®åº“</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br></pre></td></tr></table></figure></li><li><p>åˆå§‹åŒ–rootå¯†ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;update user <span class="keyword">set</span> password=PASSWORD('123456') where User='root';</span><br></pre></td></tr></table></figure></li></ol><p><code>8.0+ç‰ˆæœ¬</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER <span class="string">'root'</span>@<span class="string">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span class="string">'123456'</span>;</span><br></pre></td></tr></table></figure></p><h2 id="rootå¯†ç å¿˜è®°è§£å†³æ–¹æ³•ï¼ˆWindowsç¯å¢ƒï¼‰"><a href="#rootå¯†ç å¿˜è®°è§£å†³æ–¹æ³•ï¼ˆWindowsç¯å¢ƒï¼‰" class="headerlink" title="rootå¯†ç å¿˜è®°è§£å†³æ–¹æ³•ï¼ˆWindowsç¯å¢ƒï¼‰"></a>rootå¯†ç å¿˜è®°è§£å†³æ–¹æ³•ï¼ˆWindowsç¯å¢ƒï¼‰</h2><ol><li><p>ç¡®ä¿MySQLæœåŠ¡åœæ­¢</p></li><li><p>æ‰“å¼€ç¬¬ä¸€ä¸ªcmdçª—å£ï¼Œè¿›å…¥MySQLå®‰è£…ç›®å½•ä¸‹çš„binç›®å½•</p></li><li><p>è·³è¿‡æƒé™å®‰å…¨æ£€æŸ¥ï¼ŒMySQLæœåŠ¡è¿è¡Œèµ·æ¥åï¼Œä¸ç”¨è¾“å…¥å¯†ç å°±èƒ½è¿›å…¥æ•°æ®åº“</p></li></ol><p>ä¾‹å¦‚ï¼ŒD:\mysql-5.5.35-win32\bin&gt;mysqld â€“defaults-file=â€D:\mysql-5.5.35-win32\my.iniâ€ â€“console â€“skip-grant-tables</p><ol start="4"><li>æ‰“å¼€ç¬¬äºŒä¸ªcmdçª—å£ï¼Œè¿æ¥MySQL</li></ol><ul><li><p>è¾“å…¥å‘½ä»¤ï¼šmysql -uroot -p</p></li><li><p>å‡ºç° Enter password: ç›´æ¥å›è½¦</p></li></ul><ol start="5"><li><p>ä½¿ç”¨å‘½ä»¤åˆ‡æ¢åˆ°mysqlæ•°æ®åº“ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨å‘½ä»¤æ›´æ”¹rootå¯†ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE user SET Password=PASSWORD(<span class="string">'123456'</span>) where USER=<span class="string">'root'</span>;</span><br></pre></td></tr></table></figure></li><li><p>åˆ·æ–°æƒé™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure></li><li><p>é€€å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit;</span><br></pre></td></tr></table></figure></li><li><p>å…³é—­ä¸Šé¢æ‰“å¼€çš„ä¸¤ä¸ªcmdçª—å£ï¼Œé‡æ–°å¯åŠ¨MySQLæœåŠ¡ã€‚</p></li></ol>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/windows%E5%AE%89%E8%A3%85mysql.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å…³äºnodeçš„é‚£äº›äº‹(åŸºç¡€ç¯‡)</title>
      <link>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E5%9F%BA%E7%A1%80%E7%AF%87).html</link>
      <guid>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E5%9F%BA%E7%A1%80%E7%AF%87).html</guid>
      <pubDate>Sun, 21 Jun 2020 15:41:55 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ&quot;&gt;&lt;/a&gt;ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;è«æ…Œï¼ŒNodeä¾æ—§æ˜¯ç¤¾åŒºçƒ­æ§çš„æœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œç¯å¢ƒï¼ŒDenoçš„å‡ºç°å…¶å®æœ¬è´¨ä¸Šæ˜¯å®Œå–„ç°é˜¶æ®µçš„Nodeï¼ˆæ–°è½®å­ï¼‰ï¼ŒåŒ…æ‹¬åŸç”Ÿæ”¯æŒTSã€å®‰å…¨æ€§ã€æ”¯æŒES 
Moduleæµè§ˆå™¨æ¨¡å—ã€ç­‰ç‰¹å¾ã€‚ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œè™½ç„¶æœ‰äº†Denoï¼Œå°†æ¥å¯èƒ½å°±ä¸éœ€è¦ Node.jsï¼Œä½†æ˜¯æ–°äº‹ç‰©æ€»æ˜¯éœ€è¦ä¸æ–­æ¨æ¼”å’Œè€ƒéªŒåï¼Œæ‰€ä»¥è¿™ä¸€ç‚¹è€Œè¨€ï¼ŒNodeçŸ­æ—¶é—´å†…å¾ˆ
éš¾è¢«æ›¿æ¢ï¼Œæ¯•ç«ŸèƒŒåä¾é™„ç€å¼ºå¤§ç¤¾åŒºçš„æ”¯æ’‘ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;node-å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ&quot;&gt;&lt;a href=&quot;#node-å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;node å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ&quot;&gt;&lt;/a&gt;node å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;process.argvã€‚processæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒæä¾›å½“å‰ Node.js è¿›ç¨‹çš„æœ‰å…³ä¿¡æ¯ï¼Œè€Œprocess.argv å±æ€§åˆ™è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ä¿¡æ¯åŒ…æ‹¬å¯åŠ¨Node.jsè¿›ç¨‹æ—¶çš„å‘½ä»¤è¡Œå‚æ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;process.argv[0] : è¿”å›å¯åŠ¨Node.jsè¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„&lt;/li&gt;
&lt;li&gt;process.argv[1] : ä¸ºå½“å‰æ‰§è¡Œçš„JavaScriptæ–‡ä»¶è·¯å¾„&lt;/li&gt;
&lt;li&gt;process.argv.splice(2) : ç§»é™¤å‰ä¸¤è€…åï¼Œå‰©ä½™çš„å…ƒç´ ä¸ºå…¶ä»–å‘½ä»¤è¡Œå‚æ•°(ä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰éƒ¨åˆ†)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;script&quot;&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;serve&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;node test.js arg1 arg2 arg3&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// test.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;arguments&lt;/span&gt; = process.argv.splice(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// [arg1, arg2, arg3]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ç»“åˆcommander&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;commander.parse(process.argv)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ"><a href="#ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ" class="headerlink" title="ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ"></a>ğŸ‘¨æé—®ï¼šæœ€è¿‘Denoå¾ˆç«ï¼Œä¼šä¸ä¼šæ›¿ä»£nodeçš„æ›¿ä»£å“ï¼Œå­¦nodeæ˜¯ä¸æ˜¯æ²¡æœ‰å‰é€”ï¼Ÿ</h2><blockquote><p>è«æ…Œï¼ŒNodeä¾æ—§æ˜¯ç¤¾åŒºçƒ­æ§çš„æœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œç¯å¢ƒï¼ŒDenoçš„å‡ºç°å…¶å®æœ¬è´¨ä¸Šæ˜¯å®Œå–„ç°é˜¶æ®µçš„Nodeï¼ˆæ–°è½®å­ï¼‰ï¼ŒåŒ…æ‹¬åŸç”Ÿæ”¯æŒTSã€å®‰å…¨æ€§ã€æ”¯æŒES Moduleæµè§ˆå™¨æ¨¡å—ã€ç­‰ç‰¹å¾ã€‚ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œè™½ç„¶æœ‰äº†Denoï¼Œå°†æ¥å¯èƒ½å°±ä¸éœ€è¦ Node.jsï¼Œä½†æ˜¯æ–°äº‹ç‰©æ€»æ˜¯éœ€è¦ä¸æ–­æ¨æ¼”å’Œè€ƒéªŒåï¼Œæ‰€ä»¥è¿™ä¸€ç‚¹è€Œè¨€ï¼ŒNodeçŸ­æ—¶é—´å†…å¾ˆéš¾è¢«æ›¿æ¢ï¼Œæ¯•ç«ŸèƒŒåä¾é™„ç€å¼ºå¤§ç¤¾åŒºçš„æ”¯æ’‘ã€‚</p></blockquote><h2 id="node-å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ"><a href="#node-å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ" class="headerlink" title="node å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ"></a>node å¦‚ä½•è·å–å‘½ä»¤è¡Œä¼ æ¥çš„å‚æ•°ï¼Ÿ</h2><blockquote><p>process.argvã€‚processæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå®ƒæä¾›å½“å‰ Node.js è¿›ç¨‹çš„æœ‰å…³ä¿¡æ¯ï¼Œè€Œprocess.argv å±æ€§åˆ™è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ä¿¡æ¯åŒ…æ‹¬å¯åŠ¨Node.jsè¿›ç¨‹æ—¶çš„å‘½ä»¤è¡Œå‚æ•°ã€‚</p></blockquote><ul><li>process.argv[0] : è¿”å›å¯åŠ¨Node.jsè¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç»å¯¹è·¯å¾„</li><li>process.argv[1] : ä¸ºå½“å‰æ‰§è¡Œçš„JavaScriptæ–‡ä»¶è·¯å¾„</li><li>process.argv.splice(2) : ç§»é™¤å‰ä¸¤è€…åï¼Œå‰©ä½™çš„å…ƒç´ ä¸ºå…¶ä»–å‘½ä»¤è¡Œå‚æ•°(ä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰éƒ¨åˆ†)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"script"</span>: &#123;</span><br><span class="line">    <span class="string">"serve"</span>: <span class="string">"node test.js arg1 arg2 arg3"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">arguments</span> = process.argv.splice(<span class="number">2</span>) <span class="comment">// [arg1, arg2, arg3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“åˆcommander</span></span><br><span class="line">commander.parse(process.argv)</span><br></pre></td></tr></table></figure><hr><a id="more"></a><h2 id="nodeæœ‰å“ªäº›ç›¸å…³çš„æ–‡ä»¶è·¯å¾„ï¼Ÿ"><a href="#nodeæœ‰å“ªäº›ç›¸å…³çš„æ–‡ä»¶è·¯å¾„ï¼Ÿ" class="headerlink" title="nodeæœ‰å“ªäº›ç›¸å…³çš„æ–‡ä»¶è·¯å¾„ï¼Ÿ"></a>nodeæœ‰å“ªäº›ç›¸å…³çš„æ–‡ä»¶è·¯å¾„ï¼Ÿ</h2><blockquote><p>Node ä¸­çš„æ–‡ä»¶è·¯å¾„æœ‰ <strong>dirname, </strong>filename, process.cwd(), ./ æˆ–è€… ../</p></blockquote><ul><li>__dirname: æ€»æ˜¯è¿”å›è¢«æ‰§è¡Œçš„ js æ‰€åœ¨æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„</li><li>__filename: æ€»æ˜¯è¿”å›è¢«æ‰§è¡Œçš„ js çš„ç»å¯¹è·¯å¾„</li><li>process.cwd(): æ€»æ˜¯è¿”å›è¿è¡Œ node å‘½ä»¤æ—¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„</li></ul><h2 id="nodeç›¸å…³path-API-æœ‰å“ªäº›ï¼Ÿ"><a href="#nodeç›¸å…³path-API-æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="nodeç›¸å…³path API æœ‰å“ªäº›ï¼Ÿ"></a>nodeç›¸å…³path API æœ‰å“ªäº›ï¼Ÿ</h2><blockquote><p>path æ¨¡å—æä¾›äº†ä¸€äº›å®ç”¨å·¥å…·ï¼Œç”¨äºå¤„ç†æ–‡ä»¶å’Œç›®å½•çš„è·¯å¾„ï¼Œå¸¸ç”¨apiæœ‰ï¼špath.dirnameã€path.joinã€path.resolve å…¶ä»–çš„çœ‹æ–‡æ¡£ <a href="http://nodejs.cn/api/path.html" target="_blank" rel="noopener">Path API</a></p></blockquote><ul><li>path.dirname()ï¼š è¿”å› path çš„ç›®å½•å</li><li>path.join()ï¼šæ‰€æœ‰ç»™å®šçš„ path ç‰‡æ®µè¿æ¥åˆ°ä¸€èµ·ï¼Œç„¶åè§„èŒƒåŒ–ç”Ÿæˆçš„è·¯å¾„</li><li>path.resolve()ï¼šæ–¹æ³•ä¼šå°†è·¯å¾„æˆ–è·¯å¾„ç‰‡æ®µçš„åºåˆ—è§£æä¸ºç»å¯¹è·¯å¾„ï¼Œè§£æä¸ºç›¸å¯¹äºå½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„ï¼Œç›¸å½“äºcdå‘½ä»¤</li></ul><p>path.join(<strong>dirname, â€˜../lib/common.jsâ€™)å’Œ path.resolve(</strong>dirname, â€˜../lib/common.jsâ€™)è¿”å›çš„ç»“æœç›¸åŒï¼Œéš¾é“å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Ÿ</p><ol><li><p>joinæ˜¯æŠŠå„ä¸ªpathç‰‡æ®µè¿æ¥åœ¨ä¸€èµ·ï¼Œ resolveæŠŠ/å½“æˆæ ¹ç›®å½•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path.join(<span class="string">'/a'</span>, <span class="string">'/b'</span>) <span class="comment">// '/a/b'</span></span><br><span class="line">path.resolve(<span class="string">'/a'</span>, <span class="string">'/b'</span>) <span class="comment">//'/b'</span></span><br></pre></td></tr></table></figure></li><li><p>joinæ˜¯ç›´æ¥æ‹¼æ¥å­—æ®µï¼Œresolveæ˜¯è§£æè·¯å¾„å¹¶è¿”å›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path.join(<span class="string">"a"</span>,<span class="string">"b"</span>)  <span class="comment">// "a/b"</span></span><br><span class="line">path.resolve(<span class="string">"a"</span>, <span class="string">"b"</span>) <span class="comment">// "/Users/tree/Documents/infrastructure/KSDK/src/a/b"</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="nodeçš„æ–‡ä»¶è¯»å–æ€ä¹ˆåšçš„ï¼Ÿ"><a href="#nodeçš„æ–‡ä»¶è¯»å–æ€ä¹ˆåšçš„ï¼Ÿ" class="headerlink" title="nodeçš„æ–‡ä»¶è¯»å–æ€ä¹ˆåšçš„ï¼Ÿ"></a>nodeçš„æ–‡ä»¶è¯»å–æ€ä¹ˆåšçš„ï¼Ÿ</h2><blockquote><p>é€šè¿‡fsæ–‡ä»¶ç³»ç»Ÿæ¨¡å—æä¾›çš„APIï¼Œä¹Ÿæ˜¯nodeä¸­é‡è¦çš„æ¨¡å—ä¹‹ä¸€ï¼Œfsæ¨¡å—ä¸»è¦ç”¨äºæ–‡ä»¶çš„è¯»å†™ã€ç§»åŠ¨ã€å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½åç­‰æ“ä½œã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fs.rename(<span class="string">'a'</span>, <span class="string">'b'</span>, (err)=&gt;&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        exec(<span class="string">'rm -rf a'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, out</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>â°éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨require(â€˜fsâ€™)è½½å…¥fsæ¨¡å—ï¼Œfsæ¨¡å—ä¸­æ‰€æœ‰æ–¹æ³•éƒ½æœ‰åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å½¢å¼,åˆšåˆšæˆ‘ä»¬å±•ç¤ºçš„renameæ˜¯å¼‚æ­¥æ–¹æ³•çš„è°ƒç”¨ï¼Œå› ä¸ºåœ¨ç¹å¿™çš„è¿›ç¨‹ä¸­ï¼Œåº”ä½¿ç”¨å¼‚æ­¥æ–¹æ³•ï¼Œ åŒæ­¥çš„ç‰ˆæœ¬ä¼šé˜»å¡æ•´ä¸ªè¿›ç¨‹ï¼ˆåœæ­¢æ‰€æœ‰çš„è¿æ¥ï¼‰ï¼Œå½“ç„¶fs.renameå¯¹åº”çš„åŒæ­¥æ–¹æ³•å°±æ˜¯fs.renameSync</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥çš„ä¾‹å­</span></span><br><span class="line"><span class="keyword">let</span> isExists = fs.existsSync(<span class="string">'dirname'</span>)</span><br><span class="line"><span class="keyword">if</span> (isExists) &#123;</span><br><span class="line">    process.exit(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ— è®ºåŒæ­¥å¼‚æ­¥å°½é‡å¯¹æŠ›å‡ºçš„å¼‚å¸¸åšç›¸åº”çš„å¤„ç†</span></span><br></pre></td></tr></table></figure><h2 id="nodeçš„urlæ¨¡å—æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ"><a href="#nodeçš„urlæ¨¡å—æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ" class="headerlink" title="nodeçš„urlæ¨¡å—æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ"></a>nodeçš„urlæ¨¡å—æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ</h2><blockquote><p>ç”¨æ¥å¯¹urlçš„å­—ç¬¦ä¸²è§£æã€urlç»„æˆç­‰åŠŸèƒ½ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªAPIã€‚url.parse()ã€url.format()</p></blockquote><ul><li>url.parseï¼šå¯ä»¥å°†ä¸€ä¸ªurlçš„å­—ç¬¦ä¸²è§£æå¹¶è¿”å›ä¸€ä¸ªurlçš„å¯¹è±¡</li><li>url.format:å°†ä¼ å…¥çš„urlå¯¹è±¡è§£ææˆä¸€ä¸ªurlå­—ç¬¦ä¸²å¹¶è¿”å›</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">url.parse(<span class="string">"https://baidu.com:8080/test/h?query=js#node"</span>)</span><br><span class="line"></span><br><span class="line">Url &#123;</span><br><span class="line">  protocol: <span class="string">'http:'</span>,</span><br><span class="line">  slashes: <span class="literal">true</span>,</span><br><span class="line">  auth: <span class="literal">null</span>,</span><br><span class="line">  host: <span class="string">'baidu.com:8080'</span>,</span><br><span class="line">  port: <span class="string">'8080'</span>,</span><br><span class="line">  hostname: <span class="string">'baidu.com'</span>,</span><br><span class="line">  hash: <span class="string">'#node'</span>,</span><br><span class="line">  search: <span class="string">'?query=js'</span>,</span><br><span class="line">  query: <span class="string">'query=js'</span>,</span><br><span class="line">  pathname: <span class="string">'/test/h'</span>,</span><br><span class="line">  path: <span class="string">'/test/h?query=js'</span>,</span><br><span class="line">  href: <span class="string">'http://baidu.com:8080/test/h?query=js#node'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="nodeçš„httpæ¨¡å—åˆ›å»ºæœåŠ¡ä¸Expressæˆ–Koaæ¡†æ¶æœ‰ä½•ä¸åŒ"><a href="#nodeçš„httpæ¨¡å—åˆ›å»ºæœåŠ¡ä¸Expressæˆ–Koaæ¡†æ¶æœ‰ä½•ä¸åŒ" class="headerlink" title="nodeçš„httpæ¨¡å—åˆ›å»ºæœåŠ¡ä¸Expressæˆ–Koaæ¡†æ¶æœ‰ä½•ä¸åŒ?"></a>nodeçš„httpæ¨¡å—åˆ›å»ºæœåŠ¡ä¸Expressæˆ–Koaæ¡†æ¶æœ‰ä½•ä¸åŒ?</h2><blockquote><p>expressæ˜¯ä¸€ä¸ªæœåŠ¡ç«¯æ¡†æ¶ï¼Œæ¡†æ¶ç®€å•å°è£…äº†nodeçš„httpæ¨¡å—ï¼Œexpressæ”¯æŒnodeåŸç”Ÿçš„å†™æ³•ï¼Œexpressä¸ä»…å°è£…å¥½æœåŠ¡å™¨ï¼Œè¿˜å°è£…äº†ä¸­é—´ä»¶ã€è·¯ç”±ç­‰ç‰¹å¾ï¼Œæ–¹ä¾¿å¼€å‘webæœåŠ¡å™¨ï¼Œæ¢å¥è¯è¯´express = httpæ¨¡å— + ä¸­é—´ä»¶ + è·¯ç”±</p></blockquote><h3 id="http"><a href="#http" class="headerlink" title="http"></a>http</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">const</span> server = http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">       <span class="string">'content-type'</span>: <span class="string">'text/plain'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    res.write(<span class="string">'hello world'</span>)</span><br><span class="line">    res.end()</span><br><span class="line">&#125;)</span><br><span class="line">server.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure><h3 id="express"><a href="#express" class="headerlink" title="express"></a>express</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line">app.user(middleware)</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line">    res.send(<span class="string">'hello world'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">middleware</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="koa"><a href="#koa" class="headerlink" title="koa"></a>koa</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line">app.user(middleware)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">middleware</span>(<span class="params">ctx, next</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">await</span> next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Expresså’ŒKoaæ¡†æ¶ä¸­é—´ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"><a href="#Expresså’ŒKoaæ¡†æ¶ä¸­é—´ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ" class="headerlink" title="Expresså’ŒKoaæ¡†æ¶ä¸­é—´ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"></a>Expresså’ŒKoaæ¡†æ¶ä¸­é—´ä»¶æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h2><blockquote><p>ä¸­é—´ä»¶ï¼š app.useæ–¹æ³•å°±æ˜¯å¾€ä¸­é—´ä»¶é˜Ÿåˆ—ä¸­å¡å…¥æ–°çš„ä¸­é—´ä»¶ï¼Œexpressä¸­é—´ä»¶å¤„ç†æ–¹å¼æ˜¯çº¿æ€§çš„ï¼Œnextè¿‡åç»§ç»­å¯»æ‰¾ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå½“ç„¶å¦‚æœæ²¡æœ‰è°ƒç”¨next()çš„è¯ï¼Œå°±ä¸ä¼šè°ƒç”¨ä¸‹ä¸€ä¸ªå‡½æ•°äº†ï¼Œè°ƒç”¨å°±ä¼šè¢«ç»ˆæ­¢ã€‚</p></blockquote><ul><li>express ä¸­é—´ä»¶ï¼šæ˜¯é€šè¿‡ next çš„æœºåˆ¶ï¼Œå³ä¸Šä¸€ä¸ªä¸­é—´ä»¶ä¼šé€šè¿‡ next è§¦å‘ä¸‹ä¸€ä¸ªä¸­é—´ä»¶</li><li>koa2 ä¸­é—´ä»¶ï¼šæ˜¯é€šè¿‡ async await å®ç°çš„ï¼Œä¸­é—´ä»¶æ‰§è¡Œé¡ºåºæ˜¯â€œæ´‹è‘±åœˆâ€æ¨¡å‹ï¼ˆæ¨èï¼‰</li></ul><h2 id="ä»€ä¹ˆæ˜¯æ¨¡ç‰ˆå¼•æ“ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ¨¡ç‰ˆå¼•æ“ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ¨¡ç‰ˆå¼•æ“ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ¨¡ç‰ˆå¼•æ“ï¼Ÿ</h2><blockquote><p>æ¨¡æ¿å¼•æ“æ˜¯ä¸€ä¸ªé€šè¿‡ç»“åˆé¡µé¢æ¨¡æ¿ã€è¦å±•ç¤ºçš„æ•°æ®ç”ŸæˆHTMLé¡µé¢çš„å·¥å…·ï¼Œæœ¬è´¨ä¸Šæ˜¯åç«¯æ¸²æŸ“ï¼ˆSSRï¼‰çš„éœ€æ±‚ï¼ŒåŠ ä¸ŠNodeæ¸²æŸ“é¡µé¢æœ¬èº«æ˜¯çº¯é™æ€çš„ï¼Œå½“æˆ‘ä»¬éœ€è¦é¡µé¢å¤šæ ·åŒ–ã€æ›´çµæ´»ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨æ¨¡æ¿å¼•æ“æ¥å¼ºåŒ–é¡µé¢ï¼Œæ›´å¥½çš„å‡¸æ˜¾æœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜åŠ¿ã€‚</p></blockquote><p>å¸¸è§ä¸»æµæ¨¡ç‰ˆå¼•æ“æœ‰ï¼š</p><ul><li>art-template <a href="http://aui.github.io/art-template/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a> ï¼šå·ç§°æ•ˆç‡æœ€é«˜çš„ï¼Œæ¨¡ç‰ˆå¼•æ“</li><li>ejs  <a href="https://ejs.co/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼šæ˜¯ä¸€ä¸ªJavaScriptæ¨¡æ¿åº“ï¼Œç”¨æ¥ä»JSONæ•°æ®ä¸­ç”ŸæˆHTMLå­—ç¬¦ä¸²ã€‚</li><li>pug <a href="https://pugjs.org/api/getting-started.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼šæ˜¯ä¸€æ¬¾å¥å£®ã€çµæ´»ã€åŠŸèƒ½ä¸°å¯Œçš„æ¨¡æ¿å¼•æ“ï¼Œä¸“é—¨ä¸º Node.js å¹³å°å¼€å‘</li></ul><p><a href="https://github.com/cosyer/node-learn" target="_blank" rel="noopener">Node.jså…¥é—¨æ•™ç¨‹</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%85%B3%E4%BA%8Enode%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B(%E5%9F%BA%E7%A1%80%E7%AF%87).html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ã€Mac ç»ˆç«¯é…ç½®ã€‘iTerm2 + oh-my-zsh</title>
      <link>http://mydearest.cn/2020/Mac%20iTerm2%20+%20oh-my-zsh.html</link>
      <guid>http://mydearest.cn/2020/Mac%20iTerm2%20+%20oh-my-zsh.html</guid>
      <pubDate>Sun, 21 Jun 2020 15:41:55 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;å‰ç½®æ ¡éªŒ&quot;&gt;&lt;a href=&quot;#å‰ç½®æ ¡éªŒ&quot; class=&quot;headerlink&quot; title=&quot;å‰ç½®æ ¡éªŒ&quot;&gt;&lt;/a&gt;å‰ç½®æ ¡éªŒ&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 1ã€é»˜è®¤å·²å®‰è£… Homebrewã€iTerm2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# 2ã€æŸ¥çœ‹æ˜¯å¦å®‰è£…äº†zshï¼ŒæŸ¥çœ‹æ˜¯å¦è¿”å› /usr/bin/zsh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cat /etc/shells&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# è‹¥æœªå®‰è£…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;brew install zsh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# iTerm2 å¯åŠ¨é¡¹é…ç½®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chsh -s /bin/zsh      &lt;span class=&quot;comment&quot;&gt;# è®¾ç½®ä¸ºzsh&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chsh -s /bin/bash     &lt;span class=&quot;comment&quot;&gt;# è®¾ç½®ä¸ºbashï¼ˆMacè‡ªå¸¦é»˜è®¤ï¼‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="å‰ç½®æ ¡éªŒ"><a href="#å‰ç½®æ ¡éªŒ" class="headerlink" title="å‰ç½®æ ¡éªŒ"></a>å‰ç½®æ ¡éªŒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€é»˜è®¤å·²å®‰è£… Homebrewã€iTerm2</span></span><br><span class="line"><span class="comment"># 2ã€æŸ¥çœ‹æ˜¯å¦å®‰è£…äº†zshï¼ŒæŸ¥çœ‹æ˜¯å¦è¿”å› /usr/bin/zsh</span></span><br><span class="line">cat /etc/shells</span><br><span class="line"><span class="comment"># è‹¥æœªå®‰è£…</span></span><br><span class="line">brew install zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># iTerm2 å¯åŠ¨é¡¹é…ç½®</span></span><br><span class="line">chsh -s /bin/zsh      <span class="comment"># è®¾ç½®ä¸ºzsh</span></span><br><span class="line">chsh -s /bin/bash     <span class="comment"># è®¾ç½®ä¸ºbashï¼ˆMacè‡ªå¸¦é»˜è®¤ï¼‰</span></span><br></pre></td></tr></table></figure><hr><a id="more"></a><h2 id="å®‰è£…-ob-my-zsh"><a href="#å®‰è£…-ob-my-zsh" class="headerlink" title="å®‰è£… ob-my-zsh"></a>å®‰è£… ob-my-zsh</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–¹å¼ä¸€ï¼šwegtå®‰è£…</span></span><br><span class="line">wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹å¼äºŒï¼šcurl å®‰è£…</span></span><br><span class="line">sh -c <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨å®‰è£…</span></span><br><span class="line">git <span class="built_in">clone</span> git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh</span><br><span class="line">cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½</span></span><br><span class="line">uninstall_oh_my_zsh zsh</span><br><span class="line"></span><br><span class="line"><span class="comment"># zshé…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">~/.zshrc</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Powerline"><a href="#å®‰è£…-Powerline" class="headerlink" title="å®‰è£… Powerline"></a>å®‰è£… Powerline</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€æ£€æµ‹æ˜¯å¦å·²ç»å®‰è£…ï¼Œè‹¥æœ‰ç‰ˆæœ¬ä¿¡æ¯åˆ™å·²å®‰è£…</span></span><br><span class="line">pip show powerline-status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2ã€å°† powerline-status å®‰è£…åœ¨/usr/æ ¹ç›®å½•ä¸­</span></span><br><span class="line">pip install --user powerline-status</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸Šä¸€æ­¥è‹¥æ˜¾ç¤ºæ²¡æœ‰ pip,å…ˆå®‰è£…pip</span></span><br><span class="line">sudo easy_install pip</span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®å­—ä½“"><a href="#è®¾ç½®å­—ä½“" class="headerlink" title="è®¾ç½®å­—ä½“"></a>è®¾ç½®å­—ä½“</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1ã€æ–°å»ºæ–‡ä»¶å¤¹(å¦‚~/Desktop/OpenSource)ï¼Œæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line"><span class="built_in">cd</span> ~/Desktop/OpenSource</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/powerline/fonts.git --depth=1</span><br><span class="line"><span class="comment"># 2ã€è¿›å…¥è„šæœ¬ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> fonts</span><br><span class="line"><span class="comment"># 3ã€æ‰§è¡Œè„šæœ¬</span></span><br><span class="line">./install.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥ iTerm2 -&gt; Preferences -&gt; Profiles -&gt; Text -&gt; Font -&gt; Change Font</span></span><br><span class="line"><span class="comment"># é€‰æ‹©Meslo LG S for Powerfine, å¸¸è§„ï¼Œ 12</span></span><br></pre></td></tr></table></figure><h2 id="è®¾ç½®é…è‰²æ–¹æ¡ˆ"><a href="#è®¾ç½®é…è‰²æ–¹æ¡ˆ" class="headerlink" title="è®¾ç½®é…è‰²æ–¹æ¡ˆ"></a>è®¾ç½®é…è‰²æ–¹æ¡ˆ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›´æ¥ä¸‹è½½tar.zipåŒ…(åŒ…å«å…¨éƒ¨é…è‰²)</span></span><br><span class="line"><span class="comment"># è¿›å…¥ iTerm2 -&gt; Preferences -&gt; Profiles-&gt;Color </span></span><br><span class="line"><span class="comment"># é€‰æ‹© Color Presets-&gt;import é€‰æ‹©è§£å‹å¥½çš„ç›®å½•ä¸‹schemesç›®å½•ä¸­ç›¸åº”é…è‰²æ–¹æ¡ˆå¯¼å…¥</span></span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-oh-my-zsh-ä¸»é¢˜"><a href="#å®‰è£…-oh-my-zsh-ä¸»é¢˜" class="headerlink" title="å®‰è£… oh-my-zsh ä¸»é¢˜"></a>å®‰è£… oh-my-zsh ä¸»é¢˜</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½å®‰è£… agnoster ä¸»é¢˜ï¼Œå°†ä¸»é¢˜æ‹·è´åˆ°oh my zshçš„zshä¸­</span></span><br><span class="line"><span class="built_in">cd</span> ~/Desktop/OpenSource</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/fcamblor/oh-my-zsh-agnoster-fcamblor.git</span><br><span class="line"><span class="built_in">cd</span> oh-my-zsh-agnoster-fcamblor/</span><br><span class="line">./install</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°† ZSH_THEME å€¼æ”¹ä¸º agnosterï¼Œecs é€€å‡ºï¼Œ:wq ä¿å­˜</span></span><br><span class="line">vi ~/.zshrc</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ======================== é«˜äº®æ’ä»¶ ========================</span></span><br><span class="line"><span class="comment"># åœ¨ ~ ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶å¤¹ zsh-plugins(~/.zshrc é»˜è®¤ç›®å½•)</span></span><br><span class="line"><span class="built_in">cd</span> zsh-plugins</span><br><span class="line">git <span class="built_in">clone</span> git://github.com/zsh-users/zsh-syntax-highlighting.git</span><br><span class="line">vim .zshrc</span><br><span class="line"><span class="comment"># æ–‡æœ«æ·»åŠ ä»¥ä¸‹é…ç½®</span></span><br><span class="line"><span class="built_in">source</span> ~/zsh-pludins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh</span><br><span class="line"><span class="built_in">cd</span> ~/.oh-my-zsh/custom/plugins</span><br><span class="line">vim .zshrc</span><br><span class="line"><span class="comment"># æ–‡æœ«æ·»åŠ ä»¥ä¸‹é…ç½®</span></span><br><span class="line">plugins=(zsh-syntax-highlighting)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== è‡ªåŠ¨è¡¥é½æ’ä»¶ ========================</span></span><br><span class="line"><span class="built_in">cd</span> zsh-plugins</span><br><span class="line">http://mimosa-pudica.net/src/incr-0.2.zsh</span><br><span class="line"><span class="comment"># å°†æ–‡ä»¶æ”¾åˆ° ~/zsh-pludins/inrcä¸‹</span></span><br><span class="line">vim .zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.oh-my-zsh/plugins/incr/incr*.zsh</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Mac%20iTerm2%20+%20oh-my-zsh.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>react SSRæ•™ç¨‹</title>
      <link>http://mydearest.cn/2020/react%20SSR%E6%95%99%E7%A8%8B.html</link>
      <guid>http://mydearest.cn/2020/react%20SSR%E6%95%99%E7%A8%8B.html</guid>
      <pubDate>Wed, 10 Jun 2020 14:55:08 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡æ˜¯åŸºäºreact ssrçš„å…¥é—¨æ•™ç¨‹ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨è¿˜éœ€è¦åšæ›´å¤šçš„é…ç½®å’Œä¼˜åŒ–ï¼Œæ¯”è¾ƒé€‚åˆç¬¬ä¸€æ¬¡å°è¯•react ssrçš„å°ä¼™ä¼´ä»¬ã€‚æŠ€æœ¯æ¶‰åŠåˆ° koa2 + reactï¼Œæ¡ˆä¾‹ä½¿ç”¨create-react-appåˆ›å»ºã€‚&lt;/p&gt;
&lt;h2 id=&quot;å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“&quot;&gt;&lt;a href=&quot;#å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“&quot; class=&quot;headerlink&quot; title=&quot;å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“&quot;&gt;&lt;/a&gt;å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“&lt;/h2&gt;&lt;h3 id=&quot;å®¢æˆ·ç«¯æ¸²æŸ“&quot;&gt;&lt;a href=&quot;#å®¢æˆ·ç«¯æ¸²æŸ“&quot; class=&quot;headerlink&quot; title=&quot;å®¢æˆ·ç«¯æ¸²æŸ“&quot;&gt;&lt;/a&gt;å®¢æˆ·ç«¯æ¸²æŸ“&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œå®é™…ä¸Šå°±æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è¯·æ±‚é¡µé¢ï¼ŒæœåŠ¡ç«¯è¿”å›çš„æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ HTML é¡µé¢ï¼Œåœ¨è¿™ä¸ªé¡µé¢é‡Œï¼Œåªæœ‰å¾ˆå°‘çš„ä¸€äº› HTML æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ¸²æŸ“æ—¶ï¼Œé¡µé¢ä¸­æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„ç‚¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯ script æ ‡ç­¾ï¼Œå¯èƒ½ä¼šæœ‰å¥½å‡ ä¸ª script æ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾æ˜¯æ‰“åŒ…åçš„ js ä»£ç ï¼Œç”¨æ¥ç”Ÿæˆ DOM å…ƒç´ ï¼Œå‘é€è¯·æ±‚ï¼Œäº‹ä»¶ç»‘å®šç­‰ã€‚ä½†æ˜¯ï¼Œç”Ÿæˆçš„ DOM å…ƒç´ éœ€è¦æœ‰ä¸€ä¸ªåœ¨é¡µé¢ä¸Šå±•ç¤ºçš„å®¹å™¨ï¼Œæ‰€ä»¥å¦å¤–ä¸€ä¸ªç‚¹å°±æ˜¯å®¹å™¨ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ª id åä¸º root æˆ– app çš„ div æ ‡ç­¾ï¼Œç±»ä¼¼äºè¿™æ · &lt;code&gt;&amp;lt;div id=&amp;quot;root&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt; æˆ–&lt;code&gt;&amp;lt;div id=&amp;quot;app&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ¸²æŸ“çš„ç‰¹ç‚¹&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯åŠ è½½æ‰€æœ‰çš„ js èµ„æºï¼Œæ¸²æŸ“ DOM å…ƒç´ &lt;/li&gt;
&lt;li&gt;åœ¨æµè§ˆå™¨é¡µé¢ä¸Šçš„æ‰€æœ‰èµ„æºï¼Œéƒ½ç”±å®¢æˆ·ç«¯ä¸»åŠ¨å»è·å–ï¼ŒæœåŠ¡ç«¯åªè´Ÿè´£é™æ€èµ„æºçš„æä¾›å’Œ API æ¥å£ï¼Œä¸å†è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ï¼Œå¦‚æœé‡‡ç”¨ CDN çš„è¯ï¼ŒæœåŠ¡ç«¯ä»…ä»…éœ€è¦æä¾› API æ¥å£&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹: å‰åç«¯åˆ†ç¦»ï¼Œè´£ä»»åŒºåˆ†ï¼Œå‰ç«¯ä¸“æ³¨é¡µé¢çš„å¼€å‘ï¼Œåç«¯ä¸“æ³¨æ¥å£çš„å¼€å‘&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹: é¦–å±åŠ è½½èµ„æºå¤šï¼Œé¦–å±åŠ è½½æ—¶å“åº”æ…¢ã€‚é¡µé¢ä¸Šæ²¡æœ‰ DOM å…ƒç´ ï¼Œä¸åˆ©äº SEO ä¼˜åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;æœåŠ¡ç«¯æ¸²æŸ“&quot;&gt;&lt;a href=&quot;#æœåŠ¡ç«¯æ¸²æŸ“&quot; class=&quot;headerlink&quot; title=&quot;æœåŠ¡ç«¯æ¸²æŸ“&quot;&gt;&lt;/a&gt;æœåŠ¡ç«¯æ¸²æŸ“&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±æ˜¯å®¢æˆ·ç«¯é¡µé¢ä¸Šçš„ HTML å…ƒç´ ï¼Œéƒ½è¦ç”±æœåŠ¡ç«¯è´Ÿè´£æ¸²æŸ“ã€‚æœåŠ¡ç«¯åˆ©ç”¨æ¨¡æ¿å¼•æ“ï¼ŒæŠŠæ•°æ®å¡«å……åˆ°æ¨¡æ¿ä¸­ï¼Œç”Ÿæˆ HTML å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆæŠŠ HTML å­—ç¬¦ä¸²è¿”å›åˆ°æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ° HTML å­—ç¬¦ä¸²ï¼Œé€šè¿‡ HTML å¼•æ“è§£æï¼Œæœ€ç»ˆç”Ÿæˆ DOM å…ƒç´ ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸Š&lt;/li&gt;
&lt;li&gt;æ¯”å¦‚ Node.js å¯ä»¥æ¸²æŸ“çš„æ¨¡æ¿å¼•æ“æœ‰ ejsï¼Œnunjucksï¼Œpug ç­‰ã€‚Java æœ€å¸¸è§çš„æ˜¯ JSP æ¨¡æ¿å¼•æ“ã€‚Python æœ€å¸¸è§çš„æ˜¯ Jinja2 æ¨¡æ¿å¼•æ“ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡ç«¯æ¸²æŸ“çš„ç‰¹ç‚¹&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹: é¡µé¢èµ„æºå¤§å¤šç”±æœåŠ¡ç«¯è´Ÿè´£å¤„ç†ï¼Œæ‰€ä»¥é¡µé¢åŠ è½½é€Ÿåº¦å¿«ï¼Œç¼©çŸ­é¦–å±åŠ è½½æ—¶é—´ã€‚æœ‰åˆ©äº SEO ä¼˜åŒ–ã€‚æ— éœ€å ç”¨å®¢æˆ·ç«¯èµ„æº&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹: ä¸åˆ©äºå‰åç«¯åˆ†ç¦»ï¼Œå¼€å‘æ•ˆç‡ä½ã€‚å ç”¨æœåŠ¡å™¨èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;åŒºåˆ†ä¸é€‰æ‹©&quot;&gt;&lt;a href=&quot;#åŒºåˆ†ä¸é€‰æ‹©&quot; class=&quot;headerlink&quot; title=&quot;åŒºåˆ†ä¸é€‰æ‹©&quot;&gt;&lt;/a&gt;åŒºåˆ†ä¸é€‰æ‹©&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“æœ¬è´¨çš„åŒºåˆ«å°±æ˜¯ï¼Œæ˜¯è°è´Ÿè´£ HTML é¡µé¢çš„æ‹¼æ¥ï¼Œé‚£ä¹ˆå°±æ˜¯è°æ¸²æŸ“çš„é¡µé¢&lt;/li&gt;
&lt;li&gt;å¦‚æœå¯¹é¦–å±åŠ è½½æ—¶é—´æœ‰éå¸¸é«˜çš„éœ€æ±‚ï¼Œæˆ–è€…æ˜¯éœ€è¦ SEO ä¼˜åŒ–ï¼Œé‚£ä¹ˆå°±é€‰æ‹©æœåŠ¡ç«¯æ¸²æŸ“&lt;/li&gt;
&lt;li&gt;å¦‚æœå¯¹é¦–å±åŠ è½½æ—¶é—´æ²¡æœ‰è¦æ±‚ï¼Œä¹Ÿä¸éœ€è¦åš SEO ä¼˜åŒ–ï¼Œç±»ä¼¼äºåšåå°ç®¡ç†ç³»åˆ—çš„ä¸šåŠ¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€‰æ‹©å®¢æˆ·ç«¯æ¸²æŸ“&lt;/li&gt;
&lt;li&gt;å…·ä½“é€‰æ‹©å®¢æˆ·ç«¯æ¸²æŸ“è¿˜æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ²¡æœ‰å¼ºåˆ¶çš„è¦æ±‚ï¼Œå…·ä½“è¦æ ¹æ®é¡¹ç›®çš„éœ€æ±‚æ¥åŒºåˆ†é€‰æ‹©&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ¬æ–‡æ˜¯åŸºäºreact ssrçš„å…¥é—¨æ•™ç¨‹ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨è¿˜éœ€è¦åšæ›´å¤šçš„é…ç½®å’Œä¼˜åŒ–ï¼Œæ¯”è¾ƒé€‚åˆç¬¬ä¸€æ¬¡å°è¯•react ssrçš„å°ä¼™ä¼´ä»¬ã€‚æŠ€æœ¯æ¶‰åŠåˆ° koa2 + reactï¼Œæ¡ˆä¾‹ä½¿ç”¨create-react-appåˆ›å»ºã€‚</p><h2 id="å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“"><a href="#å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“"></a>å®¢æˆ·ç«¯æ¸²æŸ“ä¸æœåŠ¡ç«¯æ¸²æŸ“</h2><h3 id="å®¢æˆ·ç«¯æ¸²æŸ“"><a href="#å®¢æˆ·ç«¯æ¸²æŸ“" class="headerlink" title="å®¢æˆ·ç«¯æ¸²æŸ“"></a>å®¢æˆ·ç«¯æ¸²æŸ“</h3><ul><li>å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œå®é™…ä¸Šå°±æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è¯·æ±‚é¡µé¢ï¼ŒæœåŠ¡ç«¯è¿”å›çš„æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ HTML é¡µé¢ï¼Œåœ¨è¿™ä¸ªé¡µé¢é‡Œï¼Œåªæœ‰å¾ˆå°‘çš„ä¸€äº› HTML æ ‡ç­¾</li><li>å®¢æˆ·ç«¯æ¸²æŸ“æ—¶ï¼Œé¡µé¢ä¸­æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„ç‚¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯ script æ ‡ç­¾ï¼Œå¯èƒ½ä¼šæœ‰å¥½å‡ ä¸ª script æ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾æ˜¯æ‰“åŒ…åçš„ js ä»£ç ï¼Œç”¨æ¥ç”Ÿæˆ DOM å…ƒç´ ï¼Œå‘é€è¯·æ±‚ï¼Œäº‹ä»¶ç»‘å®šç­‰ã€‚ä½†æ˜¯ï¼Œç”Ÿæˆçš„ DOM å…ƒç´ éœ€è¦æœ‰ä¸€ä¸ªåœ¨é¡µé¢ä¸Šå±•ç¤ºçš„å®¹å™¨ï¼Œæ‰€ä»¥å¦å¤–ä¸€ä¸ªç‚¹å°±æ˜¯å®¹å™¨ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ª id åä¸º root æˆ– app çš„ div æ ‡ç­¾ï¼Œç±»ä¼¼äºè¿™æ · <code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code> æˆ–<code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code></li><li>å®¢æˆ·ç«¯æ¸²æŸ“çš„ç‰¹ç‚¹<ul><li>å®¢æˆ·ç«¯åŠ è½½æ‰€æœ‰çš„ js èµ„æºï¼Œæ¸²æŸ“ DOM å…ƒç´ </li><li>åœ¨æµè§ˆå™¨é¡µé¢ä¸Šçš„æ‰€æœ‰èµ„æºï¼Œéƒ½ç”±å®¢æˆ·ç«¯ä¸»åŠ¨å»è·å–ï¼ŒæœåŠ¡ç«¯åªè´Ÿè´£é™æ€èµ„æºçš„æä¾›å’Œ API æ¥å£ï¼Œä¸å†è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ï¼Œå¦‚æœé‡‡ç”¨ CDN çš„è¯ï¼ŒæœåŠ¡ç«¯ä»…ä»…éœ€è¦æä¾› API æ¥å£</li><li>ä¼˜ç‚¹: å‰åç«¯åˆ†ç¦»ï¼Œè´£ä»»åŒºåˆ†ï¼Œå‰ç«¯ä¸“æ³¨é¡µé¢çš„å¼€å‘ï¼Œåç«¯ä¸“æ³¨æ¥å£çš„å¼€å‘</li><li>ç¼ºç‚¹: é¦–å±åŠ è½½èµ„æºå¤šï¼Œé¦–å±åŠ è½½æ—¶å“åº”æ…¢ã€‚é¡µé¢ä¸Šæ²¡æœ‰ DOM å…ƒç´ ï¼Œä¸åˆ©äº SEO ä¼˜åŒ–</li></ul></li></ul><h3 id="æœåŠ¡ç«¯æ¸²æŸ“"><a href="#æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="æœåŠ¡ç«¯æ¸²æŸ“"></a>æœåŠ¡ç«¯æ¸²æŸ“</h3><ul><li>æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±æ˜¯å®¢æˆ·ç«¯é¡µé¢ä¸Šçš„ HTML å…ƒç´ ï¼Œéƒ½è¦ç”±æœåŠ¡ç«¯è´Ÿè´£æ¸²æŸ“ã€‚æœåŠ¡ç«¯åˆ©ç”¨æ¨¡æ¿å¼•æ“ï¼ŒæŠŠæ•°æ®å¡«å……åˆ°æ¨¡æ¿ä¸­ï¼Œç”Ÿæˆ HTML å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆæŠŠ HTML å­—ç¬¦ä¸²è¿”å›åˆ°æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ° HTML å­—ç¬¦ä¸²ï¼Œé€šè¿‡ HTML å¼•æ“è§£æï¼Œæœ€ç»ˆç”Ÿæˆ DOM å…ƒç´ ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢ä¸Š</li><li>æ¯”å¦‚ Node.js å¯ä»¥æ¸²æŸ“çš„æ¨¡æ¿å¼•æ“æœ‰ ejsï¼Œnunjucksï¼Œpug ç­‰ã€‚Java æœ€å¸¸è§çš„æ˜¯ JSP æ¨¡æ¿å¼•æ“ã€‚Python æœ€å¸¸è§çš„æ˜¯ Jinja2 æ¨¡æ¿å¼•æ“ã€‚</li><li>æœåŠ¡ç«¯æ¸²æŸ“çš„ç‰¹ç‚¹<ul><li>ä¼˜ç‚¹: é¡µé¢èµ„æºå¤§å¤šç”±æœåŠ¡ç«¯è´Ÿè´£å¤„ç†ï¼Œæ‰€ä»¥é¡µé¢åŠ è½½é€Ÿåº¦å¿«ï¼Œç¼©çŸ­é¦–å±åŠ è½½æ—¶é—´ã€‚æœ‰åˆ©äº SEO ä¼˜åŒ–ã€‚æ— éœ€å ç”¨å®¢æˆ·ç«¯èµ„æº</li><li>ç¼ºç‚¹: ä¸åˆ©äºå‰åç«¯åˆ†ç¦»ï¼Œå¼€å‘æ•ˆç‡ä½ã€‚å ç”¨æœåŠ¡å™¨èµ„æº</li></ul></li></ul><h3 id="åŒºåˆ†ä¸é€‰æ‹©"><a href="#åŒºåˆ†ä¸é€‰æ‹©" class="headerlink" title="åŒºåˆ†ä¸é€‰æ‹©"></a>åŒºåˆ†ä¸é€‰æ‹©</h3><ul><li>å®¢æˆ·ç«¯æ¸²æŸ“å’ŒæœåŠ¡ç«¯æ¸²æŸ“æœ¬è´¨çš„åŒºåˆ«å°±æ˜¯ï¼Œæ˜¯è°è´Ÿè´£ HTML é¡µé¢çš„æ‹¼æ¥ï¼Œé‚£ä¹ˆå°±æ˜¯è°æ¸²æŸ“çš„é¡µé¢</li><li>å¦‚æœå¯¹é¦–å±åŠ è½½æ—¶é—´æœ‰éå¸¸é«˜çš„éœ€æ±‚ï¼Œæˆ–è€…æ˜¯éœ€è¦ SEO ä¼˜åŒ–ï¼Œé‚£ä¹ˆå°±é€‰æ‹©æœåŠ¡ç«¯æ¸²æŸ“</li><li>å¦‚æœå¯¹é¦–å±åŠ è½½æ—¶é—´æ²¡æœ‰è¦æ±‚ï¼Œä¹Ÿä¸éœ€è¦åš SEO ä¼˜åŒ–ï¼Œç±»ä¼¼äºåšåå°ç®¡ç†ç³»åˆ—çš„ä¸šåŠ¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€‰æ‹©å®¢æˆ·ç«¯æ¸²æŸ“</li><li>å…·ä½“é€‰æ‹©å®¢æˆ·ç«¯æ¸²æŸ“è¿˜æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ²¡æœ‰å¼ºåˆ¶çš„è¦æ±‚ï¼Œå…·ä½“è¦æ ¹æ®é¡¹ç›®çš„éœ€æ±‚æ¥åŒºåˆ†é€‰æ‹©</li></ul><hr><a id="more"></a><h2 id="SSR-ä»‹ç»"><a href="#SSR-ä»‹ç»" class="headerlink" title="SSR ä»‹ç»"></a>SSR ä»‹ç»</h2><p>Server Slide Renderingï¼Œç¼©å†™ä¸º <strong>ssr</strong> å³æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Œè¿™ä¸ªè¦ä»SEOè¯´èµ·ï¼Œç›®å‰reactå•é¡µåº”ç”¨HTMLä»£ç æ˜¯ä¸‹é¢è¿™æ ·çš„<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"favicon.ico"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"theme-color"</span> <span class="attr">content</span>=<span class="string">"#000000"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>React App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span>You need to enable JavaScript to run this app.<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/main.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ol><li>å¦‚æœmain.js åŠ è½½æ¯”è¾ƒæ…¢ï¼Œä¼šå‡ºç°ç™½å±ä¸€é—ªçš„ç°è±¡ã€‚</li><li>ä¼ ç»Ÿçš„æœç´¢å¼•æ“çˆ¬è™«å› ä¸ºä¸èƒ½æŠ“å–JSç”Ÿæˆåçš„å†…å®¹ï¼Œé‡åˆ°å•é¡µwebé¡¹ç›®ï¼ŒæŠ“å–åˆ°çš„å†…å®¹å•¥ä¹Ÿæ²¡æœ‰ã€‚åœ¨SEOä¸Šä¼šåƒå¾ˆå¤šäºï¼Œå¾ˆéš¾æ’æœç´¢å¼•æ“åˆ°å‰é¢å»ã€‚React SSRï¼ˆreactæœåŠ¡å™¨æ¸²æŸ“ï¼‰æ­£å¥½è§£å†³äº†è¿™2ä¸ªé—®é¢˜ã€‚</li></ol><h2 id="React-SSRä»‹ç»"><a href="#React-SSRä»‹ç»" class="headerlink" title="React SSRä»‹ç»"></a>React SSRä»‹ç»</h2><p>è¿™é‡Œé€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å¸¦å¤§å®¶å…¥å‘ï¼å…ˆä½¿ç”¨create-react-appåˆ›å»ºä¸€ä¸ªreacté¡¹ç›®ã€‚å› ä¸ºè¦ä¿®æ”¹webpackï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨react-app-rewiredå¯åŠ¨é¡¹ç›®ã€‚æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªserverç›®å½•å­˜æ”¾æœåŠ¡ç«¯ä»£ç ï¼ŒæœåŠ¡ç«¯ä»£ç æˆ‘ä»¬è¿™é‡Œä½¿ç”¨koa2ã€‚</p><p>è¿™é‡Œå…ˆæ¥çœ‹çœ‹react ssræ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚</p><p><img src="http://cdn.mydearest.cn/blog/images/react-ssr.png" alt="å›¾ç‰‡æè¿°"></p><p>è¿™ä¸ªä¸šåŠ¡æµç¨‹å›¾æ¯”è¾ƒæ¸…æ™°äº†ï¼ŒæœåŠ¡ç«¯åªç”ŸæˆHTMLä»£ç ï¼Œå®é™…ä¸Šå‰ç«¯ä¼šç”Ÿæˆä¸€ä»½main.jsæä¾›ç»™æœåŠ¡ç«¯çš„HTMLä½¿ç”¨ã€‚è¿™å°±æ˜¯react ssrçš„å·¥ä½œæµç¨‹ã€‚æœ‰äº†è¿™ä¸ªå›¾ä¼šæ›´å¥½çš„ç†è§£ï¼Œå¦‚æœè¿™ä¸ªä¸šåŠ¡æ²¡ç†è§£æ¸…æ¥šï¼Œåé¢çš„ä¼°è®¡å¾ˆéš¾ç†è§£ã€‚</p><blockquote><p>reactæä¾›çš„SSRæ–¹æ³•æœ‰ä¸¤ä¸ªrenderToString å’Œ renderToStaticMarkupï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š</p></blockquote><ul><li>renderToString æ–¹æ³•æ¸²æŸ“çš„æ—¶å€™å¸¦æœ‰ data-reactid å±æ€§. åœ¨æµè§ˆå™¨è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œmain.jsèƒ½è¯†åˆ«åˆ°HTMLçš„å†…å®¹ï¼Œä¸ä¼šæ‰§è¡ŒReact.createElementäºŒæ¬¡åˆ›å»ºDOMã€‚</li><li>renderToStaticMarkup åˆ™æ²¡æœ‰ data-reactid å±æ€§ï¼Œé¡µé¢çœ‹ä¸Šå»å¹²å‡€ç‚¹ã€‚åœ¨æµè§ˆå™¨è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œmain.jsä¸èƒ½è¯†åˆ«åˆ°HTMLå†…å®¹ï¼Œä¼šæ‰§è¡Œmain.jsé‡Œé¢çš„React.createElementæ–¹æ³•é‡æ–°åˆ›å»ºDOMã€‚é€‚ç”¨äºçº¯é™æ€é¡µé¢ã€‚</li></ul><h2 id="å®ç°æµç¨‹"><a href="#å®ç°æµç¨‹" class="headerlink" title="å®ç°æµç¨‹"></a>å®ç°æµç¨‹</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"./App.css"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">"./logo.svg"</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'å“ˆå“ˆå“ˆ~ æœåŠ¡å™¨æ¸²æŸ“æˆåŠŸäº†ï¼'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">        &lt;header className=<span class="string">"App-header"</span>&gt;</span><br><span class="line">          &lt;img src=&#123;logo&#125; className=<span class="string">"App-logo"</span> alt=<span class="string">"logo"</span> /&gt;</span><br><span class="line">          &lt;p&gt;</span><br><span class="line">            Edit &lt;code&gt;src/App.js&lt;<span class="regexp">/code&gt; and save to reload.</span></span><br><span class="line"><span class="regexp">          &lt;/</span>p&gt;</span><br><span class="line">          &lt;a</span><br><span class="line">            className=<span class="string">"App-link"</span></span><br><span class="line">            href=<span class="string">"https://reactjs.org"</span></span><br><span class="line">            target=<span class="string">"_blank"</span></span><br><span class="line">            rel=<span class="string">"noopener noreferrer"</span></span><br><span class="line">          &gt;</span><br><span class="line">            Learn React</span><br><span class="line">          &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>header&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure><p>åœ¨é¡¹ç›®ä¸­æ–°å»ºserverç›®å½•ï¼Œç”¨äºå­˜æ”¾æœåŠ¡ç«¯ä»£ç ã€‚é¡¹ç›®ä¸­æˆ‘ä»¬ç”¨çš„ES6ï¼Œæ‰€ä»¥è¿˜è¦é…ç½®ä¸‹.babelrc</p><blockquote><p>.babelrc é…ç½®ï¼Œå› ä¸ºè¦ä½¿ç”¨åˆ°ES6<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"presets"</span>: [</span><br><span class="line">        <span class="string">"env"</span>,</span><br><span class="line">        <span class="string">"react"</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"plugins"</span>: [</span><br><span class="line">        <span class="string">"transform-decorators-legacy"</span>,</span><br><span class="line">        <span class="string">"transform-runtime"</span>,</span><br><span class="line">        <span class="string">"react-hot-loader/babel"</span>,</span><br><span class="line">        <span class="string">"add-module-exports"</span>,</span><br><span class="line">        <span class="string">"transform-object-rest-spread"</span>,</span><br><span class="line">        <span class="string">"transform-class-properties"</span>,</span><br><span class="line">        [</span><br><span class="line">            <span class="string">"import"</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">"libraryName"</span>: <span class="string">"antd"</span>,</span><br><span class="line">                <span class="attr">"style"</span>: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>index.js é¡¹ç›®å…¥å£åšä¸€äº›é¢„å¤„ç†ï¼Œä½¿ç”¨asset-require-hookè¿‡æ»¤æ‰ä¸€äº›ç±»ä¼¼ <code>import logo from &quot;./logo.svg&quot;;</code> è¿™æ ·çš„èµ„æºä»£ç ã€‚å› ä¸ºæˆ‘ä»¬æœåŠ¡ç«¯åªéœ€è¦çº¯çš„HTMLä»£ç ï¼Œä¸è¿‡æ»¤æ‰ä¼šæŠ¥é”™ã€‚è¿™é‡Œçš„nameï¼Œæˆ‘ä»¬æ˜¯å»æ‰äº†hashå€¼çš„ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">"asset-require-hook"</span>)(&#123;</span><br><span class="line">  extensions: [<span class="string">"svg"</span>, <span class="string">"css"</span>, <span class="string">"less"</span>, <span class="string">"jpg"</span>, <span class="string">"png"</span>, <span class="string">"gif"</span>],</span><br><span class="line">  name: <span class="string">'/static/media/[name].[ext]'</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">"babel-core/register"</span>)();</span><br><span class="line"><span class="built_in">require</span>(<span class="string">"babel-polyfill"</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">"./app"</span>);</span><br></pre></td></tr></table></figure><blockquote><p>public/index.html htmlæ¨¡ç‰ˆä»£ç è¦åšä¸ªè°ƒæ•´ï¼Œ<code></code> è¿™ä¸ªå¯ä»¥æ˜¯ä»»ä½•å¯ä»¥æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼Œç­‰ä¸‹æœåŠ¡ç«¯ä¼šæ›¿æ¢è¿™æ®µå­—ç¬¦ä¸²ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"shortcut icon"</span> <span class="attr">href</span>=<span class="string">"%PUBLIC_URL%/favicon.ico"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, shrink-to-fit=no"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"theme-color"</span> <span class="attr">content</span>=<span class="string">"#000000"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"manifest"</span> <span class="attr">href</span>=<span class="string">"%PUBLIC_URL%/manifest.json"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>React App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span>You need to enable JavaScript to run this app.<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span>&#123;&#123;root&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>app.js æœåŠ¡ç«¯æ¸²æŸ“çš„ä¸»è¦ä»£ç ï¼ŒåŠ è½½App.jsï¼Œä½¿ç”¨renderToString ç”Ÿæˆhtmlä»£ç ï¼Œå»æ›¿æ¢æ‰ index.html ä¸­çš„ <code></code> éƒ¨åˆ†</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'../src/App'</span>;</span><br><span class="line"><span class="keyword">import</span> Koa <span class="keyword">from</span> <span class="string">'koa'</span>;</span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'koa-router'</span>;</span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">'fs'</span>;</span><br><span class="line"><span class="keyword">import</span> koaStatic <span class="keyword">from</span> <span class="string">'koa-static'</span>;</span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">'path'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; renderToString &#125; <span class="keyword">from</span> <span class="string">'react-dom/server'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  port: <span class="number">3030</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ– koa</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€èµ„æº</span></span><br><span class="line">app.use(</span><br><span class="line">  koaStatic(path.join(__dirname, <span class="string">'../build'</span>), &#123;</span><br><span class="line">    maxage: <span class="number">365</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">1000</span>,</span><br><span class="line">    index: <span class="string">'root'</span> </span><br><span class="line">    <span class="comment">// è¿™é‡Œé…ç½®ä¸è¦å†™æˆ'index'å°±å¯ä»¥äº†ï¼Œå› ä¸ºåœ¨è®¿é—®localhost:3030æ—¶ï¼Œä¸èƒ½è®©æœåŠ¡é»˜è®¤å»åŠ è½½index.htmlæ–‡ä»¶ï¼Œè¿™é‡Œå¾ˆå®¹æ˜“æ‰è¿›å‘ã€‚</span></span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®è·¯ç”±</span></span><br><span class="line">app.use(</span><br><span class="line">  <span class="keyword">new</span> Router()</span><br><span class="line">    .get(<span class="string">'*'</span>, <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">      ctx.response.type = <span class="string">'html'</span>; <span class="comment">//æŒ‡å®šcontent type</span></span><br><span class="line">      <span class="keyword">let</span> shtml = <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        fs.readFile(path.join(__dirname, <span class="string">'../build/index.html'</span>), <span class="string">'utfa8'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">if</span> (err) &#123;</span><br><span class="line">            reject();</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">console</span>.log(err);</span><br><span class="line">          &#125;</span><br><span class="line">          shtml = data;</span><br><span class="line">          resolve();</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// æ›¿æ¢æ‰ &#123;&#123;root&#125;&#125; ä¸ºæˆ‘ä»¬ç”Ÿæˆåçš„HTML</span></span><br><span class="line">      ctx.response.body = shtml.replace(<span class="string">'&#123;&#123;root&#125;&#125;'</span>, renderToString(<span class="xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>));</span><br><span class="line">    &#125;)</span><br><span class="line">    .routes()</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">app.listen(config.port, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æœåŠ¡å™¨å¯åŠ¨ï¼Œç›‘å¬ portï¼š '</span> + config.port + <span class="string">'  running~'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>config-overrides.js å› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯create-react-appï¼Œè¿™é‡Œä½¿ç”¨react-app-rewiredå»æ”¹ä¸‹webpackçš„é…ç½®ã€‚å› ä¸ºæ‰§è¡Œ<strong>npm run build</strong>çš„æ—¶å€™ä¼šè‡ªåŠ¨ç»™èµ„æºåŠ äº†hashå€¼ï¼Œè€Œè¿™ä¸ªhashå€¼ï¼Œæˆ‘ä»¬åœ¨asset-require-hookçš„æ—¶å€™å»æ‰äº†hashå€¼ï¼Œé…ç½®é‡Œé¢éœ€è¦æ”¹ä¸‹ï¼Œä¸ç„¶ä¼šå‡ºç°å›¾ç‰‡ä¸æ˜¾ç¤ºçš„é—®é¢˜ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸€ä¸ªå‘ï¼Œè¦æ³¨æ„ä¸‹ã€‚</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  webpack: <span class="function"><span class="keyword">function</span>(<span class="params">config, env</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...add your webpack config</span></span><br><span class="line">    <span class="comment">// console.log(JSON.stringify(config));</span></span><br><span class="line">    <span class="comment">// å»æ‰hashå€¼ï¼Œè§£å†³asset-require-hookèµ„æºé—®é¢˜</span></span><br><span class="line">    config.module.rules.forEach(<span class="function"><span class="params">d</span> =&gt;</span> &#123;</span><br><span class="line">      d.oneOf &amp;&amp;</span><br><span class="line">        d.oneOf.forEach(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (e &amp;&amp; e.options &amp;&amp; e.options.name) &#123;</span><br><span class="line">            e.options.name = e.options.name.replace(<span class="string">'[hash:8].'</span>, <span class="string">''</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œæ‰€æœ‰çš„ä»£ç å°±è¿™äº›äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•äº†ï¼Ÿæˆ‘ä»¬koa2è¯»å–çš„é™æ€èµ„æºæ˜¯ buildç›®å½•ä¸‹é¢çš„ã€‚å…ˆæ‰§è¡Œ<strong>npm run build</strong>æ‰“åŒ…é¡¹ç›®ï¼Œå†æ‰§è¡Œ<strong>node ./server</strong> å¯åŠ¨æœåŠ¡ç«¯é¡¹ç›®ã€‚çœ‹ä¸‹<a href="http://localhost:3030" target="_blank" rel="noopener">http://localhost:3030</a> é¡µé¢çš„HTMLä»£ç æ£€æŸ¥ä¸‹ï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/react-ssr-demo.png" alt="å›¾ç‰‡æè¿°"></p><p>æ²¡æœ‰<code></code>äº†ï¼ŒæœåŠ¡å™¨æ¸²æŸ“æˆåŠŸï¼</p><blockquote><p>æ³¨: è¿™ä¸ªé¡¹ç›®åªæ˜¯ç”¨æ¥å­¦ä¹  react çš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè€Œéå®‰åˆ©å¤§å®¶ä¸€å®šè¦ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå› ä¸º react å’Œ vue çš„æœåŠ¡ç«¯æ¸²æŸ“å’Œæ™®é€šçš„æœåŠ¡ç«¯æ¸²æŸ“æœ‰å¾ˆå¤šçš„ä¸ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥å­¦ä¹ ä¸€ä¸‹ï¼Œæé«˜ä¸€ä¸‹è‡ªå·±çš„æ°´å¹³ã€‚</p></blockquote><h2 id="ä»£ç ä»“åº“åœ°å€"><a href="#ä»£ç ä»“åº“åœ°å€" class="headerlink" title="ä»£ç ä»“åº“åœ°å€"></a>ä»£ç ä»“åº“åœ°å€</h2><p><a href="https://github.com/cosyer/react-koa2-ssr" target="_blank" rel="noopener">react-koa2-ssr</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/react%20SSR%E6%95%99%E7%A8%8B.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Docker</title>
      <link>http://mydearest.cn/2020/Docker.html</link>
      <guid>http://mydearest.cn/2020/Docker.html</guid>
      <pubDate>Mon, 01 Jun 2020 08:31:45 GMT</pubDate>
      <description>
      
        &lt;p&gt;Dockerï¼Œæ˜¯ä¸€æ¬¾ç°åœ¨æœ€æµè¡Œçš„ è½¯ä»¶å®¹å™¨å¹³å°ï¼Œæä¾›äº†è½¯ä»¶è¿è¡Œæ—¶æ‰€ä¾èµ–çš„ç¯å¢ƒã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç‰©ç†æœº&quot;&gt;&lt;a href=&quot;#ç‰©ç†æœº&quot; class=&quot;headerlink&quot; title=&quot;ç‰©ç†æœº&quot;&gt;&lt;/a&gt;ç‰©ç†æœº&lt;/h2&gt;&lt;p&gt;ç¡¬ä»¶ç¯å¢ƒï¼ŒçœŸå®çš„ è®¡ç®—æœºå®ä½“ï¼ŒåŒ…å«äº†ä¾‹å¦‚ç‰©ç†å†…å­˜ï¼Œç¡¬ç›˜ç­‰ç­‰ç¡¬ä»¶ï¼›&lt;/p&gt;
&lt;h2 id=&quot;è™šæ‹Ÿæœº&quot;&gt;&lt;a href=&quot;#è™šæ‹Ÿæœº&quot; class=&quot;headerlink&quot; title=&quot;è™šæ‹Ÿæœº:&quot;&gt;&lt;/a&gt;è™šæ‹Ÿæœº:&lt;/h2&gt;&lt;p&gt;åœ¨ç‰©ç†æœºä¸Š æ¨¡æ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶ç¯å¢ƒå’Œæ“ä½œç³»ç»Ÿï¼Œåº”ç”¨è½¯ä»¶å¯ä»¥è¿è¡Œäºå…¶ä¸­ï¼Œå¹¶ä¸”æ¯«æ— æ„ŸçŸ¥ï¼Œæ˜¯ä¸€å¥—éš”ç¦»çš„å®Œæ•´ç¯å¢ƒã€‚æœ¬è´¨ä¸Šï¼Œå®ƒåªæ˜¯ç‰©ç†æœºä¸Šçš„ä¸€ä»½è¿è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ&lt;/h2&gt;&lt;h3 id=&quot;ç¯å¢ƒé…ç½®ä¸è¿ç§»&quot;&gt;&lt;a href=&quot;#ç¯å¢ƒé…ç½®ä¸è¿ç§»&quot; class=&quot;headerlink&quot; title=&quot;ç¯å¢ƒé…ç½®ä¸è¿ç§»&quot;&gt;&lt;/a&gt;ç¯å¢ƒé…ç½®ä¸è¿ç§»&lt;/h3&gt;&lt;p&gt;åœ¨è½¯ä»¶å¼€å‘å’Œè¿è¡Œä¸­ï¼Œç¯å¢ƒä¾èµ–ä¸€ç›´æ˜¯ä¸€ä¸ªå¾ˆå¤´ç–¼çš„éš¾é¢˜ï¼Œæ¯”å¦‚ä½ æƒ³è¿è¡Œ node åº”ç”¨ï¼Œé‚£è‡³å°‘ç¯å¢ƒå¾—å®‰è£… node å§ï¼Œè€Œä¸”ä¸åŒç‰ˆæœ¬ï¼Œä¸åŒç³»ç»Ÿéƒ½ä¼šå½±å“è¿è¡Œã€‚è§£å†³çš„åŠæ³•å°±æ˜¯æˆ‘ä»¬çš„åŒ…è£…åŒ…ä¸­ç›´æ¥åŒ…å«è¿è¡Œç¯å¢ƒçš„å®‰è£…ï¼Œè®©åŒä¸€ä»½ç¯å¢ƒå¯ä»¥å¿«é€Ÿå¤åˆ¶åˆ°ä»»æ„ä¸€å°ç‰©ç†æœºä¸Šã€‚&lt;/p&gt;
&lt;h3 id=&quot;èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»&quot;&gt;&lt;a href=&quot;#èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»&quot; class=&quot;headerlink&quot; title=&quot;èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»&quot;&gt;&lt;/a&gt;èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»&lt;/h3&gt;&lt;p&gt;é€šè¿‡ç¡¬ä»¶æ¨¡æ‹Ÿï¼Œå¹¶åŒ…å«ä¸€å¥—å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œåº”ç”¨å¯ä»¥ç‹¬ç«‹è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸­ï¼Œä¸å¤–ç•Œéš”ç¦»ã€‚å¹¶ä¸”å¯ä»¥åœ¨åŒä¸€å°ç‰©ç†æœºä¸Šï¼Œå¼€å¯å¤šä¸ªä¸åŒçš„è™šæ‹Ÿæœºå¯åŠ¨æœåŠ¡ï¼Œå³ä¸€å°æœåŠ¡å™¨ï¼Œæä¾›å¤šå¥—æœåŠ¡ï¼Œä¸”èµ„æºå®Œå…¨ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚ä¸ä»…èƒ½æ›´å¥½æé«˜èµ„æºåˆ©ç”¨ç‡ç‡ï¼Œé™ä½æˆæœ¬ï¼Œè€Œä¸”ä¹Ÿæœ‰åˆ©äºæœåŠ¡çš„ç¨³å®šæ€§ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹&quot;&gt;&lt;a href=&quot;#ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹&quot;&gt;&lt;/a&gt;ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹&lt;/h3&gt;&lt;h4 id=&quot;èµ„æºå ç”¨å¤§&quot;&gt;&lt;a href=&quot;#èµ„æºå ç”¨å¤§&quot; class=&quot;headerlink&quot; title=&quot;èµ„æºå ç”¨å¤§&quot;&gt;&lt;/a&gt;èµ„æºå ç”¨å¤§&lt;/h4&gt;&lt;p&gt;ç”±äºè™šæ‹Ÿæœºæ˜¯æ¨¡æ‹Ÿå‡ºä¸€å¥—å®Œæ•´ç³»ç»Ÿï¼ŒåŒ…å«ä¼—å¤šç³»ç»Ÿçº§åˆ«çš„æ–‡ä»¶å’Œåº“ï¼Œè¿è¡Œä¹Ÿéœ€è¦å ç”¨ä¸€éƒ¨åˆ†èµ„æºï¼Œå•å•å¯åŠ¨ä¸€ä¸ªç©ºçš„è™šæ‹Ÿæœºï¼Œå¯èƒ½å°±è¦å ç”¨ 100+MB çš„å†…å­˜äº†ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å¯åŠ¨ç¼“æ…¢&quot;&gt;&lt;a href=&quot;#å¯åŠ¨ç¼“æ…¢&quot; class=&quot;headerlink&quot; title=&quot;å¯åŠ¨ç¼“æ…¢&quot;&gt;&lt;/a&gt;å¯åŠ¨ç¼“æ…¢&lt;/h4&gt;&lt;p&gt;åŒæ ·æ˜¯ç”±äºå®Œæ•´ç³»ç»Ÿï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å°±éœ€è¦è¿è¡Œå„ç§ç³»ç»Ÿåº”ç”¨å’Œæ­¥éª¤ï¼Œä¹Ÿå°±æ˜¯è·Ÿæˆ‘ä»¬å¹³æ—¶å¯åŠ¨ç”µè„‘ä¸€æ ·çš„è€—æ—¶ã€‚&lt;/p&gt;
&lt;h4 id=&quot;å†—ä½™æ­¥éª¤å¤š&quot;&gt;&lt;a href=&quot;#å†—ä½™æ­¥éª¤å¤š&quot; class=&quot;headerlink&quot; title=&quot;å†—ä½™æ­¥éª¤å¤š&quot;&gt;&lt;/a&gt;å†—ä½™æ­¥éª¤å¤š&lt;/h4&gt;&lt;p&gt;ç³»ç»Ÿæœ‰è®¸å¤šå†…ç½®çš„ç³»ç»Ÿæ“ä½œï¼Œä¾‹å¦‚ç”¨æˆ·ç™»å½•ï¼Œç³»ç»Ÿæ£€æŸ¥ç­‰ç­‰ï¼Œæœ‰äº›åœºæ™¯å…¶å®æˆ‘ä»¬è¦çš„åªæ˜¯ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒï¼Œå…¶å®ä¹Ÿå°±æ˜¯è¯´ï¼Œè™šæ‹Ÿæœºå¯¹éƒ¨åˆ†éœ€æ±‚ç—›ç‚¹æ¥è¯´ï¼Œå…¶å®æ˜¯æœ‰ç‚¹è¿‡é‡çš„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Linux-å®¹å™¨&quot;&gt;&lt;a href=&quot;#Linux-å®¹å™¨&quot; class=&quot;headerlink&quot; title=&quot;Linux å®¹å™¨&quot;&gt;&lt;/a&gt;Linux å®¹å™¨&lt;/h2&gt;&lt;p&gt;Linux ä¸­çš„ä¸€é¡¹è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç§°ä¸º Linux å®¹å™¨æŠ€æœ¯(LXC)ã€‚å®ƒåœ¨è¿›ç¨‹å±‚é¢æ¨¡æ‹Ÿå‡ºä¸€å¥—éš”ç¦»çš„ç¯å¢ƒé…ç½®ï¼Œä½†å¹¶æ²¡æœ‰æ¨¡æ‹Ÿç¡¬ä»¶å’Œå®Œæ•´çš„æ“ä½œç³»ç»Ÿã€‚å› æ­¤å®ƒå®Œå…¨è§„é¿äº†ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹ï¼Œåœ¨å¯åŠ¨é€Ÿåº¦ï¼Œèµ„æºåˆ©ç”¨ä¸Šè¿œè¿œä¼˜äºè™šæ‹Ÿæœºï¼›&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>Dockerï¼Œæ˜¯ä¸€æ¬¾ç°åœ¨æœ€æµè¡Œçš„ è½¯ä»¶å®¹å™¨å¹³å°ï¼Œæä¾›äº†è½¯ä»¶è¿è¡Œæ—¶æ‰€ä¾èµ–çš„ç¯å¢ƒã€‚</p><h2 id="ç‰©ç†æœº"><a href="#ç‰©ç†æœº" class="headerlink" title="ç‰©ç†æœº"></a>ç‰©ç†æœº</h2><p>ç¡¬ä»¶ç¯å¢ƒï¼ŒçœŸå®çš„ è®¡ç®—æœºå®ä½“ï¼ŒåŒ…å«äº†ä¾‹å¦‚ç‰©ç†å†…å­˜ï¼Œç¡¬ç›˜ç­‰ç­‰ç¡¬ä»¶ï¼›</p><h2 id="è™šæ‹Ÿæœº"><a href="#è™šæ‹Ÿæœº" class="headerlink" title="è™šæ‹Ÿæœº:"></a>è™šæ‹Ÿæœº:</h2><p>åœ¨ç‰©ç†æœºä¸Š æ¨¡æ‹Ÿå‡ºä¸€å¥—ç¡¬ä»¶ç¯å¢ƒå’Œæ“ä½œç³»ç»Ÿï¼Œåº”ç”¨è½¯ä»¶å¯ä»¥è¿è¡Œäºå…¶ä¸­ï¼Œå¹¶ä¸”æ¯«æ— æ„ŸçŸ¥ï¼Œæ˜¯ä¸€å¥—éš”ç¦»çš„å®Œæ•´ç¯å¢ƒã€‚æœ¬è´¨ä¸Šï¼Œå®ƒåªæ˜¯ç‰©ç†æœºä¸Šçš„ä¸€ä»½è¿è¡Œæ–‡ä»¶ã€‚</p><h2 id="ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿæœºï¼Ÿ</h2><h3 id="ç¯å¢ƒé…ç½®ä¸è¿ç§»"><a href="#ç¯å¢ƒé…ç½®ä¸è¿ç§»" class="headerlink" title="ç¯å¢ƒé…ç½®ä¸è¿ç§»"></a>ç¯å¢ƒé…ç½®ä¸è¿ç§»</h3><p>åœ¨è½¯ä»¶å¼€å‘å’Œè¿è¡Œä¸­ï¼Œç¯å¢ƒä¾èµ–ä¸€ç›´æ˜¯ä¸€ä¸ªå¾ˆå¤´ç–¼çš„éš¾é¢˜ï¼Œæ¯”å¦‚ä½ æƒ³è¿è¡Œ node åº”ç”¨ï¼Œé‚£è‡³å°‘ç¯å¢ƒå¾—å®‰è£… node å§ï¼Œè€Œä¸”ä¸åŒç‰ˆæœ¬ï¼Œä¸åŒç³»ç»Ÿéƒ½ä¼šå½±å“è¿è¡Œã€‚è§£å†³çš„åŠæ³•å°±æ˜¯æˆ‘ä»¬çš„åŒ…è£…åŒ…ä¸­ç›´æ¥åŒ…å«è¿è¡Œç¯å¢ƒçš„å®‰è£…ï¼Œè®©åŒä¸€ä»½ç¯å¢ƒå¯ä»¥å¿«é€Ÿå¤åˆ¶åˆ°ä»»æ„ä¸€å°ç‰©ç†æœºä¸Šã€‚</p><h3 id="èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»"><a href="#èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»" class="headerlink" title="èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»"></a>èµ„æºåˆ©ç”¨ç‡ä¸éš”ç¦»</h3><p>é€šè¿‡ç¡¬ä»¶æ¨¡æ‹Ÿï¼Œå¹¶åŒ…å«ä¸€å¥—å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œåº”ç”¨å¯ä»¥ç‹¬ç«‹è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸­ï¼Œä¸å¤–ç•Œéš”ç¦»ã€‚å¹¶ä¸”å¯ä»¥åœ¨åŒä¸€å°ç‰©ç†æœºä¸Šï¼Œå¼€å¯å¤šä¸ªä¸åŒçš„è™šæ‹Ÿæœºå¯åŠ¨æœåŠ¡ï¼Œå³ä¸€å°æœåŠ¡å™¨ï¼Œæä¾›å¤šå¥—æœåŠ¡ï¼Œä¸”èµ„æºå®Œå…¨ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚ä¸ä»…èƒ½æ›´å¥½æé«˜èµ„æºåˆ©ç”¨ç‡ç‡ï¼Œé™ä½æˆæœ¬ï¼Œè€Œä¸”ä¹Ÿæœ‰åˆ©äºæœåŠ¡çš„ç¨³å®šæ€§ã€‚</p><h3 id="ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹"><a href="#ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹" class="headerlink" title="ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹"></a>ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹</h3><h4 id="èµ„æºå ç”¨å¤§"><a href="#èµ„æºå ç”¨å¤§" class="headerlink" title="èµ„æºå ç”¨å¤§"></a>èµ„æºå ç”¨å¤§</h4><p>ç”±äºè™šæ‹Ÿæœºæ˜¯æ¨¡æ‹Ÿå‡ºä¸€å¥—å®Œæ•´ç³»ç»Ÿï¼ŒåŒ…å«ä¼—å¤šç³»ç»Ÿçº§åˆ«çš„æ–‡ä»¶å’Œåº“ï¼Œè¿è¡Œä¹Ÿéœ€è¦å ç”¨ä¸€éƒ¨åˆ†èµ„æºï¼Œå•å•å¯åŠ¨ä¸€ä¸ªç©ºçš„è™šæ‹Ÿæœºï¼Œå¯èƒ½å°±è¦å ç”¨ 100+MB çš„å†…å­˜äº†ã€‚</p><h4 id="å¯åŠ¨ç¼“æ…¢"><a href="#å¯åŠ¨ç¼“æ…¢" class="headerlink" title="å¯åŠ¨ç¼“æ…¢"></a>å¯åŠ¨ç¼“æ…¢</h4><p>åŒæ ·æ˜¯ç”±äºå®Œæ•´ç³»ç»Ÿï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å°±éœ€è¦è¿è¡Œå„ç§ç³»ç»Ÿåº”ç”¨å’Œæ­¥éª¤ï¼Œä¹Ÿå°±æ˜¯è·Ÿæˆ‘ä»¬å¹³æ—¶å¯åŠ¨ç”µè„‘ä¸€æ ·çš„è€—æ—¶ã€‚</p><h4 id="å†—ä½™æ­¥éª¤å¤š"><a href="#å†—ä½™æ­¥éª¤å¤š" class="headerlink" title="å†—ä½™æ­¥éª¤å¤š"></a>å†—ä½™æ­¥éª¤å¤š</h4><p>ç³»ç»Ÿæœ‰è®¸å¤šå†…ç½®çš„ç³»ç»Ÿæ“ä½œï¼Œä¾‹å¦‚ç”¨æˆ·ç™»å½•ï¼Œç³»ç»Ÿæ£€æŸ¥ç­‰ç­‰ï¼Œæœ‰äº›åœºæ™¯å…¶å®æˆ‘ä»¬è¦çš„åªæ˜¯ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒï¼Œå…¶å®ä¹Ÿå°±æ˜¯è¯´ï¼Œè™šæ‹Ÿæœºå¯¹éƒ¨åˆ†éœ€æ±‚ç—›ç‚¹æ¥è¯´ï¼Œå…¶å®æ˜¯æœ‰ç‚¹è¿‡é‡çš„ã€‚</p><h2 id="Linux-å®¹å™¨"><a href="#Linux-å®¹å™¨" class="headerlink" title="Linux å®¹å™¨"></a>Linux å®¹å™¨</h2><p>Linux ä¸­çš„ä¸€é¡¹è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç§°ä¸º Linux å®¹å™¨æŠ€æœ¯(LXC)ã€‚å®ƒåœ¨è¿›ç¨‹å±‚é¢æ¨¡æ‹Ÿå‡ºä¸€å¥—éš”ç¦»çš„ç¯å¢ƒé…ç½®ï¼Œä½†å¹¶æ²¡æœ‰æ¨¡æ‹Ÿç¡¬ä»¶å’Œå®Œæ•´çš„æ“ä½œç³»ç»Ÿã€‚å› æ­¤å®ƒå®Œå…¨è§„é¿äº†ä¼ ç»Ÿè™šæ‹Ÿæœºçš„ç¼ºç‚¹ï¼Œåœ¨å¯åŠ¨é€Ÿåº¦ï¼Œèµ„æºåˆ©ç”¨ä¸Šè¿œè¿œä¼˜äºè™šæ‹Ÿæœºï¼›</p><hr><a id="more"></a><h2 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h2><p>Docker å°±æ˜¯åŸºäº Linux å®¹å™¨çš„ä¸€ç§ä¸Šå±‚å°è£…ï¼Œæä¾›äº†æ›´ä¸ºç®€å•æ˜“ç”¨çš„ API ç”¨äºæ“ä½œ Dockerï¼Œå±äºä¸€ç§<code>å®¹å™¨è§£å†³æ–¹æ¡ˆ</code>ã€‚åŸºæœ¬æ¦‚å¿µ: åœ¨ Docker ä¸­ï¼Œæœ‰ä¸‰ä¸ªæ ¸å¿ƒçš„æ¦‚å¿µ:</p><h3 id="é•œåƒ-Image"><a href="#é•œåƒ-Image" class="headerlink" title="é•œåƒ (Image):"></a>é•œåƒ (Image):</h3><ol><li>ä»åŸç†ä¸Šè¯´ï¼Œé•œåƒå±äºä¸€ç§<code>root æ–‡ä»¶ç³»ç»Ÿ</code>ï¼ŒåŒ…å«äº†ä¸€äº›ç³»ç»Ÿæ–‡ä»¶å’Œç¯å¢ƒé…ç½®ç­‰ï¼Œå¯ä»¥å°†å…¶ç†è§£æˆä¸€å¥—<code>æœ€å°æ“ä½œç³»ç»Ÿ</code>ã€‚ä¸ºäº†è®©é•œåƒè½»é‡åŒ–å’Œå¯ç§»æ¤ï¼ŒDocker é‡‡ç”¨äº†<code>Union FS çš„åˆ†å±‚å­˜å‚¨æ¨¡å¼</code>ã€‚å°†æ–‡ä»¶ç³»ç»Ÿåˆ†æˆä¸€å±‚ä¸€å±‚çš„ç»“æ„ï¼Œé€æ­¥ä»åº•å±‚å¾€ä¸Šå±‚æ„å»ºï¼Œæ¯å±‚æ–‡ä»¶éƒ½å¯ä»¥è¿›è¡Œç»§æ‰¿å’Œå®šåˆ¶ã€‚è¿™é‡Œä»å‰ç«¯çš„è§’åº¦æ¥ç†è§£:<code>é•œåƒå°±ç±»ä¼¼äºä»£ç ä¸­çš„ classï¼Œå¯ä»¥é€šè¿‡ç»§æ‰¿ä¸ä¸Šå±‚å°è£…è¿›è¡Œå¤ç”¨</code>ã€‚</li><li>ä»å¤–å±‚ç³»ç»Ÿçœ‹æ¥ï¼Œä¸€ä¸ªé•œåƒå°±æ˜¯ä¸€ä¸ª Image<code>äºŒè¿›åˆ¶æ–‡ä»¶</code>ï¼Œå¯ä»¥ä»»æ„è¿ç§»ï¼Œåˆ é™¤ï¼Œæ·»åŠ ï¼›</li></ol><h3 id="å®¹å™¨-Container"><a href="#å®¹å™¨-Container" class="headerlink" title="å®¹å™¨ (Container):"></a>å®¹å™¨ (Container):</h3><ol><li>é•œåƒæ˜¯ä¸€ä»½é™æ€æ–‡ä»¶ç³»ç»Ÿï¼Œæ— æ³•è¿›è¡Œè¿è¡Œæ—¶æ“ä½œï¼Œå°±å¦‚classï¼Œå¦‚æœæˆ‘ä»¬ä¸è¿›è¡Œå®ä¾‹åŒ–æ—¶ï¼Œä¾¿æ— æ³•è¿›è¡Œæ“ä½œå’Œä½¿ç”¨ã€‚å› æ­¤<code>å®¹å™¨å¯ä»¥ç†è§£æˆé•œåƒçš„å®ä¾‹</code>ï¼Œå³<code>new é•œåƒ()</code>ï¼Œè¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥åˆ›å»ºã€ä¿®æ”¹ã€æ“ä½œå®¹å™¨ï¼›ä¸€æ—¦åˆ›å»ºåï¼Œå°±å¯ä»¥ç®€å•ç†è§£æˆä¸€ä¸ªè½»é‡çº§çš„æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥åœ¨å†…éƒ¨è¿›è¡Œå„ç§æ“ä½œï¼Œä¾‹å¦‚è¿è¡Œ node åº”ç”¨ï¼Œæ‹‰å– git ç­‰ï¼›</li><li>åŸºäºé•œåƒçš„åˆ†å±‚ç»“æ„ï¼Œå®¹å™¨æ˜¯<code>ä»¥é•œåƒä¸ºåŸºç¡€åº•å±‚</code>ï¼Œåœ¨ä¸Šé¢å°è£…äº†ä¸€å±‚<code>å®¹å™¨çš„å­˜å‚¨å±‚</code>ï¼›</li></ol><ul><li>å­˜å‚¨ç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸä¸å®¹å™¨ä¸€è‡´ï¼›</li><li>è¯¥å±‚å­˜å‚¨å±‚ä¼šéšç€å®¹å™¨çš„é”€æ¯è€Œé”€æ¯ï¼›</li><li>å°½é‡é¿å…å¾€å®¹å™¨å±‚å†™å…¥æ•°æ®ï¼›</li></ul><ol start="3"><li>å®¹å™¨ä¸­çš„æ•°æ®çš„æŒä¹…åŒ–ç®¡ç†ä¸»è¦ç”±ä¸¤ç§æ–¹å¼:</li></ol><ul><li>æ•°æ®å· (Volume): ä¸€ç§å¯ä»¥åœ¨å¤šä¸ªå®¹å™¨é—´å…±äº«çš„ç‰¹æ®Šç›®å½•ï¼Œå…¶å¤„äºå®¹å™¨å¤–å±‚ï¼Œå¹¶ä¸ä¼šéšç€å®¹å™¨é”€æ¯è€Œåˆ é™¤ï¼›</li><li>æŒ‚è½½ä¸»æœºç›®å½•: ç›´æ¥å°†ä¸€ä¸ªä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­è¿›è¡Œå†™å…¥ï¼›</li></ul><h3 id="ä»“åº“-Repository"><a href="#ä»“åº“-Repository" class="headerlink" title="ä»“åº“ (Repository):"></a>ä»“åº“ (Repository):</h3><ol><li>ä¸ºäº†ä¾¿äºé•œåƒçš„ä½¿ç”¨ï¼ŒDocker æä¾›äº†ç±»ä¼¼äº git çš„ä»“åº“æœºåˆ¶ï¼Œåœ¨ä»“åº“ä¸­åŒ…å«ç€å„ç§å„æ ·ç‰ˆæœ¬çš„é•œåƒã€‚å®˜æ–¹æœåŠ¡æ˜¯ Docker Hubï¼›</li><li>å¯ä»¥å¿«é€Ÿåœ°ä»ä»“åº“ä¸­æ‹‰å–å„ç§ç±»å‹çš„é•œåƒï¼Œä¹Ÿå¯ä»¥åŸºäºæŸäº›é•œåƒè¿›è¡Œè‡ªå®šä¹‰ï¼Œç”šè‡³å‘å¸ƒåˆ°ä»“åº“ä¾›ç¤¾åŒºä½¿ç”¨ï¼›</li></ol>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Docker.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Nginx</title>
      <link>http://mydearest.cn/2020/Nginx.html</link>
      <guid>http://mydearest.cn/2020/Nginx.html</guid>
      <pubDate>Mon, 01 Jun 2020 08:00:08 GMT</pubDate>
      <description>
      
        &lt;p&gt;å®šä¹‰ï¼šè½»é‡çº§ã€é«˜æ€§èƒ½çš„ Web æœåŠ¡å™¨ï¼Œåœ¨ç°ä»Šçš„å¤§å‹åº”ç”¨ã€ç½‘ç«™åŸºæœ¬éƒ½ç¦»ä¸å¼€ Nginxï¼Œå·²ç»æˆä¸ºäº†ä¸€é¡¹å¿…é€‰çš„æŠ€æœ¯ï¼›å…¶å®å¯ä»¥æŠŠå®ƒç†è§£æˆ å…¥å£ç½‘å…³ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ä½ å»é“¶è¡ŒåŠç†ä¸šåŠ¡æ—¶ï¼Œåˆšèµ°è¿›é“¶è¡Œï¼Œéœ€è¦åˆ°å…¥é—¨å¤„çš„æœºå™¨æ’é˜Ÿå–å·ï¼Œç„¶åæŒ‰æŒ‡ä»¤åˆ°å¯¹åº”çš„æŸœå°åŠç†ä¸šåŠ¡ï¼Œæˆ–è€…ä¹Ÿæœ‰å¯èƒ½å‘Šè¯‰ä½ ï¼Œä»Šå¤©ä¸èƒ½æ’å·äº†ï¼Œå›å®¶å§ï¼
è¿™æ ·ä¸€ä¸ªåœºæ™¯ä¸­ï¼Œå–å·æœºå™¨å°±æ˜¯ Nginx(å…¥å£ç½‘å…³)ã€‚ä¸€ä¸ªä¸ªæŸœå°å°±æ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡æœåŠ¡å™¨(åŠç†ä¸šåŠ¡)ï¼›é“¶è¡Œä¸­çš„ä¿é™©ç®±å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®åº“(å­˜å–æ•°æ®)ï¼›ğŸ¤£&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/nginx.png&quot; alt=&quot;nginx&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;ç‰¹ç‚¹&quot;&gt;&lt;a href=&quot;#ç‰¹ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ç‰¹ç‚¹&quot;&gt;&lt;/a&gt;ç‰¹ç‚¹&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;è½»é‡çº§ï¼Œé…ç½®æ–¹ä¾¿çµæ´»ï¼Œæ— ä¾µå…¥æ€§ï¼›&lt;/li&gt;
&lt;li&gt;å ç”¨å†…å­˜å°‘ï¼Œå¯åŠ¨å¿«ï¼Œæ€§èƒ½å¥½ï¼›&lt;/li&gt;
&lt;li&gt;é«˜å¹¶å‘ï¼Œäº‹ä»¶é©±åŠ¨ï¼Œå¼‚æ­¥ï¼›&lt;/li&gt;
&lt;li&gt;çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹é…ç½®çƒ­ç”Ÿæ•ˆï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å®šä¹‰ï¼šè½»é‡çº§ã€é«˜æ€§èƒ½çš„ Web æœåŠ¡å™¨ï¼Œåœ¨ç°ä»Šçš„å¤§å‹åº”ç”¨ã€ç½‘ç«™åŸºæœ¬éƒ½ç¦»ä¸å¼€ Nginxï¼Œå·²ç»æˆä¸ºäº†ä¸€é¡¹å¿…é€‰çš„æŠ€æœ¯ï¼›å…¶å®å¯ä»¥æŠŠå®ƒç†è§£æˆ å…¥å£ç½‘å…³ã€‚</p><blockquote><p>å½“ä½ å»é“¶è¡ŒåŠç†ä¸šåŠ¡æ—¶ï¼Œåˆšèµ°è¿›é“¶è¡Œï¼Œéœ€è¦åˆ°å…¥é—¨å¤„çš„æœºå™¨æ’é˜Ÿå–å·ï¼Œç„¶åæŒ‰æŒ‡ä»¤åˆ°å¯¹åº”çš„æŸœå°åŠç†ä¸šåŠ¡ï¼Œæˆ–è€…ä¹Ÿæœ‰å¯èƒ½å‘Šè¯‰ä½ ï¼Œä»Šå¤©ä¸èƒ½æ’å·äº†ï¼Œå›å®¶å§ï¼è¿™æ ·ä¸€ä¸ªåœºæ™¯ä¸­ï¼Œå–å·æœºå™¨å°±æ˜¯ Nginx(å…¥å£ç½‘å…³)ã€‚ä¸€ä¸ªä¸ªæŸœå°å°±æ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡æœåŠ¡å™¨(åŠç†ä¸šåŠ¡)ï¼›é“¶è¡Œä¸­çš„ä¿é™©ç®±å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®åº“(å­˜å–æ•°æ®)ï¼›ğŸ¤£</p></blockquote><p><img src="http://cdn.mydearest.cn/blog/images/nginx.png" alt="nginx"></p><h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><ol><li>è½»é‡çº§ï¼Œé…ç½®æ–¹ä¾¿çµæ´»ï¼Œæ— ä¾µå…¥æ€§ï¼›</li><li>å ç”¨å†…å­˜å°‘ï¼Œå¯åŠ¨å¿«ï¼Œæ€§èƒ½å¥½ï¼›</li><li>é«˜å¹¶å‘ï¼Œäº‹ä»¶é©±åŠ¨ï¼Œå¼‚æ­¥ï¼›</li><li>çƒ­éƒ¨ç½²ï¼Œä¿®æ”¹é…ç½®çƒ­ç”Ÿæ•ˆï¼›</li></ol><hr><a id="more"></a><h2 id="æ¶æ„æ¨¡å‹"><a href="#æ¶æ„æ¨¡å‹" class="headerlink" title="æ¶æ„æ¨¡å‹"></a>æ¶æ„æ¨¡å‹</h2><ul><li><p>åŸºäº socket ä¸ Linux epoll (I/O äº‹ä»¶é€šçŸ¥æœºåˆ¶)ï¼Œå®ç°äº†é«˜å¹¶å‘ï¼›</p><ul><li>åŸºäº socket ä¸ Linux epoll (I/O äº‹ä»¶é€šçŸ¥æœºåˆ¶)ï¼Œå®ç°äº† é«˜å¹¶å‘ï¼›</li><li>ç£ç›˜ä¸è¶³çš„æƒ…å†µï¼Œå¯èƒ½ä¼šå¯¼è‡´é˜»å¡ï¼›</li></ul></li><li><p>Master-worker è¿›ç¨‹æ¨¡å¼</p><ul><li>Nginx å¯åŠ¨æ—¶ä¼šåœ¨å†…å­˜ä¸­å¸¸é©»ä¸€ä¸ª Master ä¸»è¿›ç¨‹<ul><li>è¯»å–é…ç½®æ–‡ä»¶</li><li>åˆ›å»ºã€ç»‘å®šã€å…³é—­ socket</li><li>å¯åŠ¨ã€ç»´æŠ¤ã€é…ç½® worker è¿›ç¨‹</li><li>ç¼–è¯‘è„šæœ¬ã€æ‰“å¼€æ—¥å¿—</li></ul></li><li>master è¿›ç¨‹ä¼šå¼€å¯é…ç½®æ•°é‡çš„ worker è¿›ç¨‹ï¼Œæ¯”å¦‚æ ¹æ® CPU æ ¸æ•°ç­‰<ul><li>åˆ©ç”¨ socket ç›‘å¬è¿æ¥ï¼Œä¸ä¼šæ–°å¼€è¿›ç¨‹æˆ–çº¿ç¨‹ï¼ŒèŠ‚çº¦äº†åˆ›å»ºä¸é”€æ¯è¿›ç¨‹çš„æˆæœ¬</li><li>æ£€æŸ¥ç½‘ç»œã€å­˜å‚¨ï¼ŒæŠŠæ–°è¿æ¥åŠ å…¥åˆ°è½®è¯¢é˜Ÿåˆ—ä¸­ï¼Œå¼‚æ­¥å¤„ç†</li><li>èƒ½æœ‰æ•ˆåˆ©ç”¨ cpu å¤šæ ¸ï¼Œå¹¶é¿å…äº†çº¿ç¨‹åˆ‡æ¢å’Œé”ç­‰å¾…</li></ul></li></ul></li><li>çƒ­éƒ¨ç½²æ¨¡å¼<ul><li>å½“æˆ‘ä»¬ä¿®æ”¹é…ç½®çƒ­é‡å¯åï¼Œmaster è¿›ç¨‹ä¼šä»¥æ–°çš„é…ç½®æ–°åˆ›å»º worker è¿›ç¨‹ï¼Œæ–°è¿æ¥ä¼šå…¨éƒ¨äº¤ç»™æ–°è¿›ç¨‹å¤„ç†</li><li>è€çš„ worker è¿›ç¨‹ä¼šåœ¨å¤„ç†å®Œä¹‹å‰çš„è¿æ¥åè¢« kill æ‰ï¼Œé€æ­¥å…¨æ›¿æ¢æˆæ–°é…ç½®çš„ worker è¿›ç¨‹</li></ul></li></ul><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><h3 id="å®˜ç½‘ä¸‹è½½"><a href="#å®˜ç½‘ä¸‹è½½" class="headerlink" title="å®˜ç½‘ä¸‹è½½"></a>å®˜ç½‘ä¸‹è½½</h3><h3 id="é…ç½®æ–‡ä»¶è·¯å¾„ï¼š-usr-local-etc-nginx-nginx-conf"><a href="#é…ç½®æ–‡ä»¶è·¯å¾„ï¼š-usr-local-etc-nginx-nginx-conf" class="headerlink" title="é…ç½®æ–‡ä»¶è·¯å¾„ï¼š /usr/local/etc/nginx/nginx.conf"></a>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š /usr/local/etc/nginx/nginx.conf</h3><h3 id="å¯åŠ¨-ç»ˆç«¯è¾“å…¥-nginxï¼Œè®¿é—®-localhost-8080-å°±èƒ½çœ‹åˆ°-Welcomeâ€¦"><a href="#å¯åŠ¨-ç»ˆç«¯è¾“å…¥-nginxï¼Œè®¿é—®-localhost-8080-å°±èƒ½çœ‹åˆ°-Welcomeâ€¦" class="headerlink" title="å¯åŠ¨: ç»ˆç«¯è¾“å…¥ nginxï¼Œè®¿é—® localhost:8080 å°±èƒ½çœ‹åˆ° Welcomeâ€¦"></a>å¯åŠ¨: ç»ˆç«¯è¾“å…¥ nginxï¼Œè®¿é—® localhost:8080 å°±èƒ½çœ‹åˆ° Welcomeâ€¦</h3><h3 id="åœæ­¢ä¸å¯åŠ¨"><a href="#åœæ­¢ä¸å¯åŠ¨" class="headerlink" title="åœæ­¢ä¸å¯åŠ¨"></a>åœæ­¢ä¸å¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx -s stop: <span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line">nginx -s reload <span class="comment"># çƒ­é‡å¯æœåŠ¡</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®ä»£ç†"><a href="#é…ç½®ä»£ç†" class="headerlink" title="é…ç½®ä»£ç†"></a>é…ç½®ä»£ç†</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://xxx.xxx.xx.xx:3000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨åœºæ™¯"><a href="#å¸¸ç”¨åœºæ™¯" class="headerlink" title="å¸¸ç”¨åœºæ™¯"></a>å¸¸ç”¨åœºæ™¯</h2><h3 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h3><p>å…¶å® Nginx å¯ä»¥ç®—ä¸€å±‚ ä»£ç†æœåŠ¡å™¨ï¼Œå°†å®¢æˆ·ç«¯çš„è¯·æ±‚å¤„ç†ä¸€å±‚åï¼Œå†è½¬å‘åˆ°ä¸šåŠ¡æœåŠ¡å™¨ï¼Œè¿™é‡Œå¯ä»¥åˆ†æˆä¸¤ç§ç±»å‹ï¼Œå…¶å®å®è´¨å°±æ˜¯è¯·æ±‚çš„è½¬å‘ï¼Œä½¿ç”¨ Nginx éå¸¸åˆé€‚ã€é«˜æ•ˆï¼›</p><h3 id="æ­£å‘ä»£ç†"><a href="#æ­£å‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†"></a>æ­£å‘ä»£ç†</h3><ul><li>å³ç”¨æˆ·é€šè¿‡è®¿é—®è¿™å±‚æ­£å‘ä»£ç†æœåŠ¡å™¨ï¼Œå†ç”±ä»£ç†æœåŠ¡å™¨å»åˆ°åŸå§‹æœåŠ¡å™¨è¯·æ±‚å†…å®¹åï¼Œå†è¿”å›ç»™ç”¨æˆ·ï¼›</li><li>ä¾‹å¦‚æˆ‘ä»¬å¸¸ä½¿ç”¨çš„ VPN å°±æ˜¯ä¸€ç§å¸¸è§çš„æ­£å‘ä»£ç†æ¨¡å¼ã€‚é€šå¸¸æˆ‘ä»¬æ— æ³•ç›´æ¥è®¿é—®è°·æ­ŒæœåŠ¡å™¨ï¼Œä½†æ˜¯é€šè¿‡è®¿é—®ä¸€å°å›½å¤–çš„æœåŠ¡å™¨ï¼Œå†ç”±è¿™å°æœåŠ¡å™¨å»è¯·æ±‚è°·æ­Œè¿”å›ç»™ç”¨æˆ·ï¼Œç”¨æˆ·å³å¯è®¿é—®è°·æ­Œï¼›</li></ul><h4 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ol><li>ä»£ç†æœåŠ¡å™¨å±äº<code>å®¢æˆ·ç«¯å±‚</code>ï¼Œç§°ä¹‹ä¸ºæ­£å‘ä»£ç†ï¼›</li><li>ä»£ç†æœåŠ¡å™¨æ˜¯<code>ä¸ºç”¨æˆ·æœåŠ¡</code>ï¼Œå¯¹äºç”¨æˆ·æ˜¯é€æ˜çš„ï¼Œç”¨æˆ·çŸ¥é“è‡ªå·±è®¿é—®ä»£ç†æœåŠ¡å™¨ï¼›</li><li>å¯¹å†…å®¹æœåŠ¡å™¨æ¥è¯´æ˜¯éšè—çš„ï¼Œå†…å®¹æœåŠ¡å™¨å¹¶æ— æ³•åˆ†æ¸…è®¿é—®æ˜¯æ¥è‡ªç”¨æˆ·æˆ–è€…ä»£ç†ï¼›</li></ol><p><img src="http://cdn.mydearest.cn/blog/images/forward-agent.png" alt="forward-agent"></p><h3 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h3><ul><li>ç”¨æˆ·è®¿é—®å¤´æ¡çš„åå‘ä»£ç†ç½‘å…³ï¼Œé€šè¿‡ç½‘å…³çš„ä¸€å±‚å¤„ç†å’Œè°ƒåº¦åï¼Œå†ç”±ç½‘å…³å°†è®¿é—®è½¬å‘åˆ°å†…éƒ¨çš„æœåŠ¡å™¨ä¸Šï¼Œè¿”å›å†…å®¹ç»™ç”¨æˆ·ï¼›</li></ul><h4 id="ç‰¹ç‚¹-2"><a href="#ç‰¹ç‚¹-2" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ol><li>ä»£ç†æœåŠ¡å™¨å±äº<code>æœåŠ¡ç«¯å±‚</code>ï¼Œå› æ­¤ç§°ä¸ºåå‘ä»£ç†ã€‚é€šå¸¸ä»£ç†æœåŠ¡å™¨ä¸å†…éƒ¨å†…å®¹æœåŠ¡å™¨ä¼šéš¶å±äºåŒä¸€å†…ç½‘æˆ–è€…é›†ç¾¤ï¼›</li><li>ä»£ç†æœåŠ¡å™¨æ˜¯<code>ä¸ºå†…å®¹æœåŠ¡å™¨</code>æœåŠ¡çš„ï¼Œå¯¹ç”¨æˆ·æ˜¯éšè—çš„ï¼Œç”¨æˆ·ä¸æ¸…æ¥šè‡ªå·±è®¿é—®çš„å…·ä½“æ˜¯å“ªå°å†…éƒ¨æœåŠ¡å™¨ï¼›</li></ol><p><img src="http://cdn.mydearest.cn/blog/images/reverse-proxy.png" alt="reverse-proxy"></p><h4 id="åå‘ä»£ç†çš„å¥½å¤„"><a href="#åå‘ä»£ç†çš„å¥½å¤„" class="headerlink" title="åå‘ä»£ç†çš„å¥½å¤„:"></a>åå‘ä»£ç†çš„å¥½å¤„:</h4><ol><li><p>å®‰å…¨ä¸æƒé™:ç”¨æˆ·è®¿é—®å¿…é¡»é€šè¿‡åå‘ä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯ä¾¿å¯ä»¥åœ¨åšè¿™å±‚åšç»Ÿä¸€çš„è¯·æ±‚æ ¡éªŒï¼Œè¿‡æ»¤æ‹¦æˆªä¸åˆæ³•ã€å±é™©çš„è¯·æ±‚ï¼Œä»è€Œå°±èƒ½æ›´å¥½çš„ä¿è¯æœåŠ¡å™¨çš„å®‰å…¨ä¸ç¨³å®šï¼›</p></li><li><p>è´Ÿè½½å‡è¡¡: èƒ½æœ‰æ•ˆåˆ†é…æµé‡ï¼Œæœ€å¤§åŒ–é›†ç¾¤çš„ç¨³å®šæ€§ï¼Œä¿è¯ç”¨æˆ·çš„è®¿é—®è´¨é‡ï¼›</p></li></ol><h5 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h5><ul><li><p>è´Ÿè½½å‡è¡¡æ˜¯åŸºäºåå‘ä»£ç†ä¸‹å®ç°çš„ä¸€ç§ æµé‡åˆ†é… åŠŸèƒ½ï¼Œç›®çš„æ˜¯ä¸ºäº†è¾¾åˆ°æœåŠ¡å™¨èµ„æºçš„å……åˆ†åˆ©ç”¨ï¼Œä»¥åŠæ›´å¿«çš„è®¿é—®å“åº”ï¼›</p></li><li><p>å…¶å®å¾ˆå¥½ç†è§£ï¼Œè¿˜æ˜¯ä»¥ä¸Šé¢é“¶è¡Œçš„ä¾‹å­æ¥çœ‹: é€šè¿‡é—¨å£çš„å–å·å™¨ï¼Œç³»ç»Ÿå°±å¯ä»¥æ ¹æ®æ¯ä¸ªæŸœå°çš„ä¸šåŠ¡æ’é˜Ÿæƒ…å†µè¿›è¡Œç”¨æˆ·çš„åˆ†é…ï¼Œä½¿æ¯ä¸ªæŸœå°éƒ½ä¿æŒåœ¨ä¸€ä¸ªæ¯”è¾ƒé«˜æ•ˆçš„è¿ä½œçŠ¶æ€ï¼Œé¿å…å‡ºç°åˆ†é…ä¸å‡çš„æƒ…å†µï¼›</p></li><li><p>ç”±äºç”¨æˆ·å¹¶ä¸çŸ¥é“å†…éƒ¨æœåŠ¡å™¨ä¸­çš„é˜Ÿåˆ—æƒ…å†µï¼Œè€Œåå‘ä»£ç†æœåŠ¡å™¨æ˜¯æ¸…æ¥šçš„ï¼Œå› æ­¤é€šè¿‡Nginxï¼Œä¾¿èƒ½å¾ˆç®€å•åœ°å®ç°æµé‡çš„å‡è¡¡åˆ†é…ï¼›</p></li><li><p>Nginx å®ç°: Upstreamæ¨¡å—ï¼Œè¿™æ ·å½“ç”¨æˆ·è®¿é—® <a href="http://xxx" target="_blank" rel="noopener">http://xxx</a> æ—¶ï¼Œæµé‡ä¾¿ä¼šè¢«æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ†é…åˆ°upstreamä¸­çš„3å°æœåŠ¡å™¨ä¸Šï¼›</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    upstream xxx &#123;</span><br><span class="line">        server <span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>:<span class="number">3001</span>;</span><br><span class="line">        server <span class="number">2.2</span><span class="number">.2</span><span class="number">.2</span>:<span class="number">3001</span>;</span><br><span class="line">        server <span class="number">3.3</span><span class="number">.3</span><span class="number">.3</span>:<span class="number">3001</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen <span class="number">8080</span>;</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http:<span class="comment">//xxx;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åˆ†é…çš„ç­–ç•¥<ul><li>åˆ†é…çš„æƒé‡(weight)<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">upstream xxx &#123;</span><br><span class="line">  server <span class="number">1.1</span><span class="number">.1</span><span class="number">.1</span>:<span class="number">3001</span> weight=<span class="number">1</span>;</span><br><span class="line">  server <span class="number">2.2</span><span class="number">.2</span><span class="number">.2</span>:<span class="number">3001</span> weight=<span class="number">1</span>;</span><br><span class="line">  server <span class="number">3.3</span><span class="number">.3</span><span class="number">.3</span>:<span class="number">3001</span> weight=<span class="number">8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æ—¶é—´é¡ºåº(é»˜è®¤): æŒ‰ç”¨æˆ·çš„è®¿é—®çš„é¡ºåºé€ä¸€çš„åˆ†é…åˆ°æ­£å¸¸è¿è¡Œçš„æœåŠ¡å™¨ä¸Šï¼›</li><li>è¿æ¥æ•°ä¼˜å…ˆ(least_conn): ä¼˜å…ˆå°†è®¿é—®åˆ†é…åˆ°åˆ—è¡¨ä¸­è¿æ¥æ•°é˜Ÿåˆ—æœ€çŸ­çš„æœåŠ¡å™¨ä¸Šï¼›</li><li>å“åº”æ—¶é—´ä¼˜å…ˆ(fair): ä¼˜å…ˆå°†è®¿é—®åˆ†é…åˆ°åˆ—è¡¨ä¸­è®¿é—®å“åº”æ—¶é—´æœ€çŸ­çš„æœåŠ¡å™¨ä¸Šï¼›</li><li>ip_hash: é€šè¿‡ ip_hash æŒ‡å®šï¼Œä½¿æ¯ä¸ª ip ç”¨æˆ·éƒ½è®¿é—®å›ºå®šçš„æœåŠ¡å™¨ä¸Šï¼Œæœ‰åˆ©äºç”¨æˆ·ç‰¹å¼‚æ€§æ•°æ®çš„ç¼“å­˜ï¼Œä¾‹å¦‚æœ¬åœ° session æœåŠ¡ç­‰</li><li>url_hash: é€šè¿‡ url_hash æŒ‡å®šï¼Œä½¿æ¯ä¸ª url éƒ½åˆ†é…åˆ°å›ºå®šçš„æœåŠ¡å™¨ä¸Šï¼Œæœ‰åˆ©äºç¼“å­˜ï¼›</li></ul></li></ul><h2 id="Nginx-å¯¹äºå‰ç«¯çš„ä½œç”¨"><a href="#Nginx-å¯¹äºå‰ç«¯çš„ä½œç”¨" class="headerlink" title="Nginx å¯¹äºå‰ç«¯çš„ä½œç”¨"></a>Nginx å¯¹äºå‰ç«¯çš„ä½œç”¨</h2><ol><li><p>å¿«é€Ÿé…ç½®é™æ€æœåŠ¡å™¨(å½“è®¿é—® localhost:80 æ—¶ï¼Œå°±ä¼šé»˜è®¤è®¿é—®åˆ° /Users/files/index.html)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen <span class="number">80</span>;                                                         </span><br><span class="line">server_name localhost;                                               </span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line">root   /Users/files;</span><br><span class="line">index  index.html;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è®¿é—®é™åˆ¶(å¯ä»¥åˆ¶å®šä¸€ç³»åˆ—çš„è§„åˆ™è¿›è¡Œè®¿é—®çš„æ§åˆ¶ï¼Œä¾‹å¦‚ç›´æ¥é€šè¿‡ ip é™åˆ¶)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å±è”½ 192.168.1.1 çš„è®¿é—®ï¼›</span></span><br><span class="line"><span class="comment"># å…è®¸ 192.168.1.2 ~ 10 çš„è®¿é—®ï¼›</span></span><br><span class="line">location / &#123;</span><br><span class="line">    deny  192.168.1.1;</span><br><span class="line">    allow 192.168.1.2/10;</span><br><span class="line">    deny  all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è§£å†³è·¨åŸŸ(å…¶å®è·¨åŸŸæ˜¯æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œè¿™æ„å‘³ç€åªè¦ä¸æ˜¯é€šè¿‡æµè§ˆå™¨ï¼Œå°±å¯ä»¥ç»•å¼€è·¨åŸŸçš„é—®é¢˜ã€‚æ‰€ä»¥åªè¦é€šè¿‡åœ¨åŒåŸŸä¸‹å¯åŠ¨ä¸€ä¸ª Nginx æœåŠ¡ï¼Œè½¬å‘è¯·æ±‚å³å¯)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">location ^~/api/ &#123;</span><br><span class="line"> <span class="comment"># é‡å†™è¯·æ±‚å¹¶ä»£ç†åˆ°å¯¹åº”åŸŸåä¸‹</span></span><br><span class="line">    rewrite ^/api/(.*)$ /<span class="variable">$1</span> <span class="built_in">break</span>;</span><br><span class="line">    proxy_pass https://www.cross-target.com/;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å›¾ç‰‡å¤„ç†(é€šè¿‡ ngx_http_image_filter_module è¿™ä¸ªæ¨¡å—ï¼Œå¯ä»¥ä½œä¸ºä¸€å±‚å›¾ç‰‡æœåŠ¡å™¨çš„ä»£ç†ï¼Œåœ¨è®¿é—®çš„æ—¶å€™ å¯¹å›¾ç‰‡è¿›è¡Œç‰¹å®šçš„æ“ä½œï¼Œä¾‹å¦‚è£å‰ªï¼Œæ—‹è½¬ï¼Œå‹ç¼©ç­‰)</p></li><li><p>æœ¬åœ°ä»£ç†ï¼Œç»•è¿‡ç™½åå•é™åˆ¶</p></li></ol><ul><li>ä¾‹å¦‚æˆ‘ä»¬åœ¨æ¥å…¥ä¸€äº›ç¬¬ä¸‰æ–¹æœåŠ¡æ—¶ç»å¸¸ä¼šæœ‰ä¸€äº›åŸŸåç™½åå•çš„é™åˆ¶ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æœ¬åœ°é€šè¿‡localhostè¿›è¡Œå¼€å‘ï¼Œä¾¿æ— æ³•å®ŒæˆåŠŸèƒ½ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥åšä¸€å±‚æœ¬åœ°ä»£ç†ï¼Œä¾¿å¯ä»¥ç›´æ¥é€šè¿‡æŒ‡å®šåŸŸåè®¿é—®æœ¬åœ°å¼€å‘ç¯å¢ƒï¼›</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">listen <span class="number">80</span>;</span><br><span class="line">server_name www.toutiao.com;</span><br><span class="line"></span><br><span class="line">location / &#123;</span><br><span class="line">    proxy_pass http:<span class="comment">//localhost:3000;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Nginx.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Hybridæ··åˆæ–¹æ¡ˆ</title>
      <link>http://mydearest.cn/2020/Hybrid.html</link>
      <guid>http://mydearest.cn/2020/Hybrid.html</guid>
      <pubDate>Mon, 01 Jun 2020 07:37:15 GMT</pubDate>
      <description>
      
        &lt;p&gt;éšç€ WebæŠ€æœ¯ å’Œ ç§»åŠ¨è®¾å¤‡ çš„å¿«é€Ÿå‘å±•ï¼Œåœ¨å„å®¶å¤§å‚ä¸­ï¼ŒHybrid æŠ€æœ¯å·²ç»æˆä¸ºä¸€ç§æœ€ä¸»æµæœ€ä¸å¯å–ä»£çš„æ¶æ„æ–¹æ¡ˆä¹‹ä¸€ã€‚ä¸€å¥—å¥½çš„ Hybrid æ¶æ„æ–¹æ¡ˆèƒ½è®© App æ—¢èƒ½æ‹¥æœ‰æè‡´çš„ä½“éªŒå’Œæ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ‹¥æœ‰WebæŠ€æœ¯çµæ´»çš„å¼€å‘æ¨¡å¼ã€è·¨å¹³å°èƒ½åŠ›ä»¥åŠçƒ­æ›´æ–°æœºåˆ¶ã€‚å› æ­¤ï¼Œç›¸å…³çš„ Hybrid é¢†åŸŸäººæ‰ä¹Ÿæ˜¯ååˆ†çš„åƒé¦™ï¼Œç²¾é€šHybrid æŠ€æœ¯å’Œç›¸å…³çš„å®æˆ˜ç»éªŒï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­ä¸€é¡¹å¤§å¤§çš„åŠ åˆ†é¡¹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ··åˆæ–¹æ¡ˆç®€æ&quot;&gt;&lt;a href=&quot;#æ··åˆæ–¹æ¡ˆç®€æ&quot; class=&quot;headerlink&quot; title=&quot;æ··åˆæ–¹æ¡ˆç®€æ&quot;&gt;&lt;/a&gt;æ··åˆæ–¹æ¡ˆç®€æ&lt;/h2&gt;&lt;p&gt;Hybrid Appï¼Œä¿—ç§° æ··åˆåº”ç”¨ï¼Œå³æ··åˆäº† NativeæŠ€æœ¯ ä¸ WebæŠ€æœ¯ è¿›è¡Œå¼€å‘çš„ç§»åŠ¨åº”ç”¨ã€‚ç°åœ¨æ¯”è¾ƒæµè¡Œçš„æ··åˆæ–¹æ¡ˆä¸»è¦æœ‰ä¸‰ç§ï¼Œä¸»è¦æ˜¯åœ¨UIæ¸²æŸ“æœºåˆ¶ä¸Šçš„ä¸åŒ:&lt;/p&gt;
&lt;h3 id=&quot;Webview-UI&quot;&gt;&lt;a href=&quot;#Webview-UI&quot; class=&quot;headerlink&quot; title=&quot;Webview UI&quot;&gt;&lt;/a&gt;Webview UI&lt;/h3&gt;&lt;h4 id=&quot;é€šè¿‡-JSBridge-å®Œæˆ-H5-ä¸-Native-çš„åŒå‘é€šè®¯ï¼Œå¹¶-åŸºäº-Webview-è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›&quot;&gt;&lt;a href=&quot;#é€šè¿‡-JSBridge-å®Œæˆ-H5-ä¸-Native-çš„åŒå‘é€šè®¯ï¼Œå¹¶-åŸºäº-Webview-è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡ JSBridge å®Œæˆ H5 ä¸ Native çš„åŒå‘é€šè®¯ï¼Œå¹¶ åŸºäº Webview è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›&quot;&gt;&lt;/a&gt;é€šè¿‡ JSBridge å®Œæˆ H5 ä¸ Native çš„åŒå‘é€šè®¯ï¼Œå¹¶ åŸºäº Webview è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›&lt;/h4&gt;&lt;h5 id=&quot;ä¼˜åŠ¿-ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›-æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›&quot;&gt;&lt;a href=&quot;#ä¼˜åŠ¿-ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›-æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŠ¿: ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›&quot;&gt;&lt;/a&gt;ä¼˜åŠ¿: ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›&lt;/h5&gt;&lt;h5 id=&quot;Webview-æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›&quot;&gt;&lt;a href=&quot;#Webview-æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›&quot; class=&quot;headerlink&quot; title=&quot;Webview æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›&quot;&gt;&lt;/a&gt;Webview æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›&lt;/h5&gt;&lt;h3 id=&quot;Native-UI&quot;&gt;&lt;a href=&quot;#Native-UI&quot; class=&quot;headerlink&quot; title=&quot;Native UI&quot;&gt;&lt;/a&gt;Native UI&lt;/h3&gt;&lt;h4 id=&quot;é€šè¿‡-JSBridge-èµ‹äºˆ-H5-åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†-JS-ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘-Virtual-DOM-ä¼ é€’è‡³-Native-å±‚ï¼Œå¹¶ä½¿ç”¨-åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚&quot;&gt;&lt;a href=&quot;#é€šè¿‡-JSBridge-èµ‹äºˆ-H5-åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†-JS-ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘-Virtual-DOM-ä¼ é€’è‡³-Native-å±‚ï¼Œå¹¶ä½¿ç”¨-åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡ JSBridge èµ‹äºˆ H5 åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°† JS ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘(Virtual DOM)ä¼ é€’è‡³ Native å±‚ï¼Œå¹¶ä½¿ç”¨ åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚&quot;&gt;&lt;/a&gt;é€šè¿‡ JSBridge èµ‹äºˆ H5 åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°† JS ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘(Virtual DOM)ä¼ é€’è‡³ Native å±‚ï¼Œå¹¶ä½¿ç”¨ åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚&lt;/h4&gt;&lt;h5 id=&quot;ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥-WebæŠ€æœ¯-å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›&quot;&gt;&lt;a href=&quot;#ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥-WebæŠ€æœ¯-å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥ WebæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›&quot;&gt;&lt;/a&gt;ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥ WebæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›&lt;/h5&gt;&lt;h5 id=&quot;ä¸Šæ‰‹-æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›&quot;&gt;&lt;a href=&quot;#ä¸Šæ‰‹-æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›&quot; class=&quot;headerlink&quot; title=&quot;ä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›&quot;&gt;&lt;/a&gt;ä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›&lt;/h5&gt;&lt;h3 id=&quot;å°ç¨‹åº&quot;&gt;&lt;a href=&quot;#å°ç¨‹åº&quot; class=&quot;headerlink&quot; title=&quot;å°ç¨‹åº&quot;&gt;&lt;/a&gt;å°ç¨‹åº&lt;/h3&gt;&lt;h4 id=&quot;é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„-JSBridgeï¼Œèµ‹äºˆäº†-Web-æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ-WebView-åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†-JSé€»è¾‘-ä¸-UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†-H5-ä¸-Native-æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›&quot;&gt;&lt;a href=&quot;#é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„-JSBridgeï¼Œèµ‹äºˆäº†-Web-æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ-WebView-åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†-JSé€»è¾‘-ä¸-UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†-H5-ä¸-Native-æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›&quot; class=&quot;headerlink&quot; title=&quot;é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„ JSBridgeï¼Œèµ‹äºˆäº† Web æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ WebView åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº† JSé€»è¾‘ ä¸ UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº† H5 ä¸ Native æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›&quot;&gt;&lt;/a&gt;é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„ JSBridgeï¼Œèµ‹äºˆäº† Web æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ WebView åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº† JSé€»è¾‘ ä¸ UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº† H5 ä¸ Native æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›&lt;/h4&gt;&lt;h5 id=&quot;ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„-Webview-æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›&quot;&gt;&lt;a href=&quot;#ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„-Webview-æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„ Webview æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›&quot;&gt;&lt;/a&gt;ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„ Webview æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›&lt;/h5&gt;&lt;h5 id=&quot;åŠ£åŠ¿-éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š&quot;&gt;&lt;a href=&quot;#åŠ£åŠ¿-éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š&quot; class=&quot;headerlink&quot; title=&quot;åŠ£åŠ¿: éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š&quot;&gt;&lt;/a&gt;åŠ£åŠ¿: éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š&lt;/h5&gt;&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>éšç€ WebæŠ€æœ¯ å’Œ ç§»åŠ¨è®¾å¤‡ çš„å¿«é€Ÿå‘å±•ï¼Œåœ¨å„å®¶å¤§å‚ä¸­ï¼ŒHybrid æŠ€æœ¯å·²ç»æˆä¸ºä¸€ç§æœ€ä¸»æµæœ€ä¸å¯å–ä»£çš„æ¶æ„æ–¹æ¡ˆä¹‹ä¸€ã€‚ä¸€å¥—å¥½çš„ Hybrid æ¶æ„æ–¹æ¡ˆèƒ½è®© App æ—¢èƒ½æ‹¥æœ‰æè‡´çš„ä½“éªŒå’Œæ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ‹¥æœ‰WebæŠ€æœ¯çµæ´»çš„å¼€å‘æ¨¡å¼ã€è·¨å¹³å°èƒ½åŠ›ä»¥åŠçƒ­æ›´æ–°æœºåˆ¶ã€‚å› æ­¤ï¼Œç›¸å…³çš„ Hybrid é¢†åŸŸäººæ‰ä¹Ÿæ˜¯ååˆ†çš„åƒé¦™ï¼Œç²¾é€šHybrid æŠ€æœ¯å’Œç›¸å…³çš„å®æˆ˜ç»éªŒï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­ä¸€é¡¹å¤§å¤§çš„åŠ åˆ†é¡¹ã€‚</p><h2 id="æ··åˆæ–¹æ¡ˆç®€æ"><a href="#æ··åˆæ–¹æ¡ˆç®€æ" class="headerlink" title="æ··åˆæ–¹æ¡ˆç®€æ"></a>æ··åˆæ–¹æ¡ˆç®€æ</h2><p>Hybrid Appï¼Œä¿—ç§° æ··åˆåº”ç”¨ï¼Œå³æ··åˆäº† NativeæŠ€æœ¯ ä¸ WebæŠ€æœ¯ è¿›è¡Œå¼€å‘çš„ç§»åŠ¨åº”ç”¨ã€‚ç°åœ¨æ¯”è¾ƒæµè¡Œçš„æ··åˆæ–¹æ¡ˆä¸»è¦æœ‰ä¸‰ç§ï¼Œä¸»è¦æ˜¯åœ¨UIæ¸²æŸ“æœºåˆ¶ä¸Šçš„ä¸åŒ:</p><h3 id="Webview-UI"><a href="#Webview-UI" class="headerlink" title="Webview UI"></a>Webview UI</h3><h4 id="é€šè¿‡-JSBridge-å®Œæˆ-H5-ä¸-Native-çš„åŒå‘é€šè®¯ï¼Œå¹¶-åŸºäº-Webview-è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›"><a href="#é€šè¿‡-JSBridge-å®Œæˆ-H5-ä¸-Native-çš„åŒå‘é€šè®¯ï¼Œå¹¶-åŸºäº-Webview-è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›" class="headerlink" title="é€šè¿‡ JSBridge å®Œæˆ H5 ä¸ Native çš„åŒå‘é€šè®¯ï¼Œå¹¶ åŸºäº Webview è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›"></a>é€šè¿‡ JSBridge å®Œæˆ H5 ä¸ Native çš„åŒå‘é€šè®¯ï¼Œå¹¶ åŸºäº Webview è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼›</h4><h5 id="ä¼˜åŠ¿-ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›-æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›"><a href="#ä¼˜åŠ¿-ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›-æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›" class="headerlink" title="ä¼˜åŠ¿: ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›"></a>ä¼˜åŠ¿: ç®€å•æ˜“ç”¨ï¼Œæ¶æ„é—¨æ§›/æˆæœ¬è¾ƒä½ï¼Œé€‚ç”¨æ€§ä¸çµæ´»æ€§æå¼ºï¼›</h5><h5 id="Webview-æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›"><a href="#Webview-æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›" class="headerlink" title="Webview æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›"></a>Webview æ€§èƒ½å±€é™ï¼Œåœ¨å¤æ‚é¡µé¢ä¸­ï¼Œè¡¨ç°è¿œä¸å¦‚åŸç”Ÿé¡µé¢ï¼›</h5><h3 id="Native-UI"><a href="#Native-UI" class="headerlink" title="Native UI"></a>Native UI</h3><h4 id="é€šè¿‡-JSBridge-èµ‹äºˆ-H5-åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†-JS-ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘-Virtual-DOM-ä¼ é€’è‡³-Native-å±‚ï¼Œå¹¶ä½¿ç”¨-åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚"><a href="#é€šè¿‡-JSBridge-èµ‹äºˆ-H5-åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°†-JS-ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘-Virtual-DOM-ä¼ é€’è‡³-Native-å±‚ï¼Œå¹¶ä½¿ç”¨-åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚" class="headerlink" title="é€šè¿‡ JSBridge èµ‹äºˆ H5 åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°† JS ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘(Virtual DOM)ä¼ é€’è‡³ Native å±‚ï¼Œå¹¶ä½¿ç”¨ åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚"></a>é€šè¿‡ JSBridge èµ‹äºˆ H5 åŸç”Ÿèƒ½åŠ›ï¼Œå¹¶è¿›ä¸€æ­¥å°† JS ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹æ ‘(Virtual DOM)ä¼ é€’è‡³ Native å±‚ï¼Œå¹¶ä½¿ç”¨ åŸç”Ÿç³»ç»Ÿæ¸²æŸ“ã€‚</h4><h5 id="ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥-WebæŠ€æœ¯-å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›"><a href="#ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥-WebæŠ€æœ¯-å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›" class="headerlink" title="ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥ WebæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›"></a>ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒåŸºæœ¬æ¥è¿‘åŸç”Ÿï¼Œä¸”èƒ½å‘æŒ¥ WebæŠ€æœ¯ å¼€å‘çµæ´»ä¸æ˜“æ›´æ–°çš„ç‰¹æ€§ï¼›</h5><h5 id="ä¸Šæ‰‹-æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›"><a href="#ä¸Šæ‰‹-æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›" class="headerlink" title="ä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›"></a>ä¸Šæ‰‹/æ”¹é€ é—¨æ§›è¾ƒé«˜ï¼Œæœ€å¥½éœ€è¦æŒæ¡ä¸€å®šç¨‹åº¦çš„å®¢æˆ·ç«¯æŠ€æœ¯ã€‚ç›¸æ¯”äºå¸¸è§„Webå¼€å‘ï¼Œéœ€è¦æ›´é«˜çš„å¼€å‘è°ƒè¯•ã€é—®é¢˜æ’æŸ¥æˆæœ¬ï¼›</h5><h3 id="å°ç¨‹åº"><a href="#å°ç¨‹åº" class="headerlink" title="å°ç¨‹åº"></a>å°ç¨‹åº</h3><h4 id="é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„-JSBridgeï¼Œèµ‹äºˆäº†-Web-æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ-WebView-åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†-JSé€»è¾‘-ä¸-UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†-H5-ä¸-Native-æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›"><a href="#é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„-JSBridgeï¼Œèµ‹äºˆäº†-Web-æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ-WebView-åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº†-JSé€»è¾‘-ä¸-UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº†-H5-ä¸-Native-æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›" class="headerlink" title="é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„ JSBridgeï¼Œèµ‹äºˆäº† Web æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ WebView åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº† JSé€»è¾‘ ä¸ UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº† H5 ä¸ Native æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›"></a>é€šè¿‡æ›´åŠ å®šåˆ¶åŒ–çš„ JSBridgeï¼Œèµ‹äºˆäº† Web æ›´å¤§çš„æƒé™ï¼Œå¹¶ä½¿ç”¨åŒ WebView åŒçº¿ç¨‹çš„æ¨¡å¼éš”ç¦»äº† JSé€»è¾‘ ä¸ UIæ¸²æŸ“ï¼Œå½¢æˆäº†ç‰¹æ®Šçš„å¼€å‘æ¨¡å¼ï¼ŒåŠ å¼ºäº† H5 ä¸ Native æ··åˆç¨‹åº¦ï¼Œå±äºç¬¬ä¸€ç§æ–¹æ¡ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼›</h4><h5 id="ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„-Webview-æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›"><a href="#ä¼˜åŠ¿-ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„-Webview-æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›" class="headerlink" title="ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„ Webview æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›"></a>ä¼˜åŠ¿: ç”¨æˆ·ä½“éªŒå¥½äºå¸¸è§„ Webview æ–¹æ¡ˆï¼Œä¸”é€šå¸¸ä¾æ‰˜çš„å¹³å°ä¹Ÿèƒ½æä¾›æ›´ä¸ºå‹å¥½çš„å¼€å‘è°ƒè¯•ä½“éªŒä»¥åŠåŠŸèƒ½ï¼›</h5><h5 id="åŠ£åŠ¿-éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š"><a href="#åŠ£åŠ¿-éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š" class="headerlink" title="åŠ£åŠ¿: éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š"></a>åŠ£åŠ¿: éœ€è¦ä¾æ‰˜äºç‰¹å®šçš„å¹³å°çš„è§„èŒƒé™å®š</h5><hr><a id="more"></a><h2 id="Webview"><a href="#Webview" class="headerlink" title="Webview"></a>Webview</h2><p>Webview æ˜¯ Native App ä¸­å†…ç½®çš„ä¸€æ¬¾åŸºäºWebkitå†…æ ¸çš„æµè§ˆå™¨ï¼Œä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆ:</p><ul><li>WebCore æ’ç‰ˆå¼•æ“</li><li>JSCore è§£æå¼•æ“</li></ul><p>åœ¨åŸç”Ÿå¼€å‘ SDK ä¸­ Webview è¢«å°è£…æˆäº†ä¸€ä¸ªç»„ä»¶ï¼Œç”¨äºä½œä¸º Webé¡µé¢ çš„å®¹å™¨ã€‚å› æ­¤ä½œä¸ºå®¿ä¸»çš„å®¢æˆ·ç«¯ä¸­æ‹¥æœ‰æ›´é«˜çš„æƒé™ï¼Œå¯ä»¥å¯¹ Webview ä¸­çš„Webé¡µé¢è¿›è¡Œé…ç½®å’Œå¼€å‘ã€‚HybridæŠ€æœ¯ä¸­åŒç«¯çš„äº¤äº’åŸç†ï¼Œä¾¿æ˜¯åŸºäº Webview çš„ä¸€äº› API å’Œç‰¹æ€§ã€‚</p><h2 id="äº¤äº’åŸç†"><a href="#äº¤äº’åŸç†" class="headerlink" title="äº¤äº’åŸç†"></a>äº¤äº’åŸç†</h2><p>HybridæŠ€æœ¯ä¸­æœ€æ ¸å¿ƒçš„ç‚¹å°±æ˜¯Nativeç«¯ä¸H5ç«¯ä¹‹é—´çš„åŒå‘é€šè®¯å±‚ï¼Œå…¶å®è¿™é‡Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬éœ€è¦ä¸€å¥—è·¨è¯­è¨€é€šè®¯æ–¹æ¡ˆï¼Œä¾¿æ˜¯æˆ‘ä»¬å¸¸å¬åˆ°çš„JSBridgeã€‚</p><h3 id="JavaScript-é€šçŸ¥-Native"><a href="#JavaScript-é€šçŸ¥-Native" class="headerlink" title="JavaScript é€šçŸ¥ Native"></a>JavaScript é€šçŸ¥ Native</h3><ol><li>APIæ³¨å…¥ï¼ŒNative ç›´æ¥åœ¨ JS ä¸Šä¸‹æ–‡ä¸­æŒ‚è½½æ•°æ®æˆ–è€…æ–¹æ³•</li></ol><p>å»¶è¿Ÿè¾ƒä½ï¼Œåœ¨å®‰å“4.1ä»¥ä¸‹å…·æœ‰å®‰å…¨æ€§é—®é¢˜ï¼Œé£é™©è¾ƒé«˜</p><ol start="2"><li>WebView URL Scheme è·³è½¬æ‹¦æˆª</li></ol><p>å…¼å®¹æ€§å¥½ï¼Œä½†å»¶è¿Ÿè¾ƒé«˜ï¼Œä¸”æœ‰é•¿åº¦é™åˆ¶</p><ol start="3"><li>WebView ä¸­çš„ prompt/console/alertæ‹¦æˆª(é€šå¸¸ä½¿ç”¨ prompt)</li></ol><h3 id="Native-é€šçŸ¥-Javascript"><a href="#Native-é€šçŸ¥-Javascript" class="headerlink" title="Native é€šçŸ¥ Javascript"></a>Native é€šçŸ¥ Javascript</h3><ol><li><p>IOS: stringByEvaluatingJavaScriptFromString</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Swift</span></span><br><span class="line">webview.stringByEvaluatingJavaScriptFromString(<span class="string">"alert('NativeCall')"</span>)</span><br></pre></td></tr></table></figure></li><li><p>Android: loadUrl (4.4-)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è°ƒç”¨jsä¸­çš„JSBridge.triggeræ–¹æ³•</span></span><br><span class="line"><span class="comment">// è¯¥æ–¹æ³•çš„å¼Šç«¯æ˜¯æ— æ³•è·å–å‡½æ•°è¿”å›å€¼ï¼›</span></span><br><span class="line">webView.loadUrl(<span class="string">"javascript:JSBridge.trigger('NativeCall')"</span>)</span><br></pre></td></tr></table></figure></li><li><p>Android: evaluateJavascript (4.4+)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4.4+åä½¿ç”¨è¯¥æ–¹æ³•ä¾¿å¯è°ƒç”¨å¹¶è·å–å‡½æ•°è¿”å›å€¼ï¼›</span></span><br><span class="line">mWebView.evaluateJavascriptï¼ˆ<span class="string">"javascript:JSBridge.trigger('NativeCall')"</span>, <span class="keyword">new</span> ValueCallback&lt;<span class="built_in">String</span>&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public <span class="keyword">void</span> onReceiveValue(<span class="built_in">String</span> value) &#123;</span><br><span class="line">        <span class="comment">//æ­¤å¤„ä¸º js è¿”å›çš„ç»“æœ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ¥å…¥æ–¹æ¡ˆ"><a href="#æ¥å…¥æ–¹æ¡ˆ" class="headerlink" title="æ¥å…¥æ–¹æ¡ˆ"></a>æ¥å…¥æ–¹æ¡ˆ</h2><p>æ•´å¥—æ–¹æ¡ˆéœ€è¦ Web ä¸ Native ä¸¤éƒ¨åˆ†å…±åŒæ¥å®Œæˆ:</p><ul><li>Native: è´Ÿè´£å®ç°URLæ‹¦æˆªä¸è§£æã€ç¯å¢ƒä¿¡æ¯çš„æ³¨å…¥ã€æ‹“å±•åŠŸèƒ½çš„æ˜ å°„ã€ç‰ˆæœ¬æ›´æ–°ç­‰åŠŸèƒ½ï¼›</li><li>JavaScirpt: è´Ÿè´£å®ç°åŠŸèƒ½åè®®çš„æ‹¼è£…ã€åè®®çš„å‘é€ã€å‚æ•°çš„ä¼ é€’ã€å›è°ƒç­‰ä¸€ç³»åˆ—åŸºç¡€åŠŸèƒ½ã€‚</li></ul><p>æ¥å…¥æ–¹å¼:</p><ul><li><p>åœ¨çº¿H5: ç›´æ¥å°†é¡¹ç›®éƒ¨ç½²äºçº¿ä¸ŠæœåŠ¡å™¨ï¼Œå¹¶ç”±å®¢æˆ·ç«¯åœ¨ HTML å¤´éƒ¨æ³¨å…¥å¯¹åº”çš„ Bridgeã€‚</p><ul><li>ä¼˜åŠ¿: æ¥å…¥/å¼€å‘æˆæœ¬ä½ï¼Œå¯¹ App çš„ä¾µå…¥å°ï¼›</li><li>åŠ£åŠ¿: é‡åº¦ä¾èµ–ç½‘ç»œï¼Œæ— æ³•ç¦»çº¿ä½¿ç”¨ï¼Œé¦–å±åŠ è½½æ…¢ï¼›</li></ul></li><li><p>å†…ç½®ç¦»çº¿åŒ…: å°†ä»£ç ç›´æ¥å†…ç½®äº App ä¸­ï¼Œå³æœ¬åœ°å­˜å‚¨ä¸­ï¼Œå¯ç”± H5 æˆ–è€… å®¢æˆ·ç«¯å¼•ç”¨ Bridgeã€‚</p><ul><li>ä¼˜åŠ¿: é¦–å±åŠ è½½å¿«ï¼Œå¯ç¦»çº¿åŒ–ä½¿ç”¨ï¼›</li><li>åŠ£åŠ¿: å¼€å‘ã€è°ƒè¯•æˆæœ¬å˜é«˜ï¼Œéœ€è¦å¤šç«¯åˆä½œï¼Œä¸”ä¼šå¢åŠ  App åŒ…ä½“ç§¯</li></ul></li></ul><h2 id="5-ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°"><a href="#5-ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°" class="headerlink" title="5. ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°"></a>5. ä¼˜åŒ–æ–¹æ¡ˆç®€è¿°</h2><ul><li>Webview é¢„åŠ è½½: Webview çš„åˆå§‹åŒ–å…¶å®æŒºè€—æ—¶çš„ã€‚æˆ‘ä»¬æµ‹è¯•è¿‡ï¼Œå¤§æ¦‚åœ¨100~200msä¹‹é—´ï¼Œå› æ­¤å¦‚æœèƒ½å‰ç½®åšå¥½åˆå§‹åŒ–äºå†…å­˜ä¸­ï¼Œä¼šå¤§å¤§åŠ å¿«æ¸²æŸ“é€Ÿåº¦ã€‚</li><li>æ›´æ–°æœºåˆ¶: ä½¿ç”¨ç¦»çº¿åŒ…çš„æ—¶å€™ï¼Œä¾¿ä¼šæ¶‰åŠåˆ°æœ¬åœ°ç¦»çº¿ä»£ç çš„æ›´æ–°é—®é¢˜ï¼Œå› æ­¤éœ€è¦å»ºç«‹ä¸€å¥—äº‘ç«¯ä¸‹å‘åŒ…çš„æœºåˆ¶ï¼Œç”±å®¢æˆ·ç«¯ä¸‹è½½äº‘ç«¯æœ€æ–°ä»£ç åŒ… (zipåŒ…)ï¼Œå¹¶è§£å‹æ›¿æ¢æœ¬åœ°ä»£ç ã€‚<ul><li>å¢é‡æ›´æ–°: ç”±äºä¸‹å‘åŒ…æ˜¯ä¸€ä¸ªä¸‹è½½çš„è¿‡ç¨‹ï¼Œå› æ­¤åŒ…çš„ä½“ç§¯è¶Šå°ï¼Œä¸‹è½½é€Ÿåº¦è¶Šå¿«ï¼Œæµé‡æŸè€—è¶Šä½ã€‚åªæ‰“åŒ…æ”¹å˜çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸‹è½½åè¦†ç›–å¼æ›¿æ¢ï¼Œèƒ½å¤§å¤§å‡å°æ¯æ¬¡æ›´æ–°åŒ…çš„ä½“ç§¯ã€‚   </li><li>æ¡ä»¶åˆ†å‘: äº‘å¹³å°ä¸‹å‘æ›´æ–°åŒ…æ—¶ï¼Œå¯ä»¥é…åˆå®¢æˆ·ç«¯è®¾ç½®ä¸€ç³»åˆ—çš„æ¡ä»¶ä¸è§„åˆ™ï¼Œä»è€Œå®ç°ä»£ç çš„æ¡ä»¶æ›´æ–°:<ul><li>å• åœ°åŒº æ›´æ–°: ä¾‹å¦‚ä¸€ä¸ªåªæœ‰ä¸­å›½åœ°åŒºæ‰èƒ½æ›´æ–°çš„ç‰ˆæœ¬ï¼›</li><li>æŒ‰ è¯­è¨€ æ›´æ–°: ä¾‹å¦‚åªæœ‰ä¸­æ–‡ç‰ˆæœ¬ä¼šæ›´æ–°ï¼›</li><li>æŒ‰ App ç‰ˆæœ¬ æ›´æ–°: ä¾‹å¦‚åªæœ‰æœ€æ–°ç‰ˆæœ¬çš„ App æ‰ä¼šæ›´æ–°ï¼›</li><li>ç°åº¦ æ›´æ–°: åªæœ‰å°æ¯”ä¾‹ç”¨æˆ·ä¼šæ›´æ–°ï¼›</li><li>ABæµ‹è¯•: åªæœ‰å‘½ä¸­çš„ç”¨æˆ·ä¼šæ›´æ–°ï¼›</li></ul></li></ul></li><li><p>é™çº§æœºåˆ¶: å½“ç”¨æˆ·ä¸‹è½½æˆ–è§£å‹ä»£ç åŒ…å¤±è´¥æ—¶ï¼Œéœ€è¦æœ‰å¥—é™çº§æ–¹æ¡ˆï¼Œé€šå¸¸æœ‰ä¸¤ç§åšæ³•:</p><ul><li>æœ¬åœ°å†…ç½®: éšç€ App æ‰“åŒ…æ—¶å†…ç½®ä¸€ä»½çº¿ä¸Šæœ€æ–°å®Œæ•´ä»£ç åŒ…ï¼Œä¿è¯æœ¬åœ°ä»£ç æ–‡ä»¶çš„å­˜åœ¨ï¼Œèµ„æºåŠ è½½å‡ä½¿ç”¨æœ¬åœ°åŒ–è·¯å¾„ï¼›</li><li>åŸŸåæ‹¦æˆª: èµ„æºåŠ è½½ä½¿ç”¨çº¿ä¸ŠåŸŸåï¼Œé€šè¿‡æ‹¦æˆªåŸŸåæ˜ å°„åˆ°æœ¬åœ°è·¯å¾„ã€‚å½“æœ¬åœ°ä¸å­˜åœ¨æ—¶ï¼Œåˆ™è¯·æ±‚çº¿ä¸Šæ–‡ä»¶ï¼Œå½“å­˜åœ¨æ—¶ï¼Œç›´æ¥åŠ è½½ï¼›</li></ul></li><li><p>è·¨å¹³å°éƒ¨ç½²: Bridgeå±‚ å¯ä»¥åšä¸€å¥—æµè§ˆå™¨é€‚é…ï¼Œåœ¨ä¸€äº›æ— æ³•é€‚é…çš„åŠŸèƒ½ï¼Œåšå¥½é™çº§å¤„ç†ï¼Œä»è€Œä¿è¯ä»£ç åœ¨ä»»ä½•ç¯å¢ƒçš„å¯ç”¨æ€§ï¼Œä¸€å¥—ä»£ç å¯åŒæ—¶è¿è¡Œäº Appå†… ä¸ æ™®é€šæµè§ˆå™¨ï¼›-ç¯å¢ƒç³»ç»Ÿ: ä¸å®¢æˆ·ç«¯è¿›è¡Œç»Ÿä¸€é…åˆï¼Œæ­å»ºå‡º æ­£å¼ / é¢„ä¸Šçº¿ / æµ‹è¯• / å¼€å‘ç¯å¢ƒï¼Œèƒ½å¤§å¤§æé«˜é¡¹ç›®ç¨³å®šæ€§ä¸é—®é¢˜æ’æŸ¥ï¼›</p></li><li>å¼€å‘æ¨¡å¼:<ul><li>èƒ½è¿æ¥PC Chrome/safari è¿›è¡Œä»£ç è°ƒè¯•ï¼›</li><li>å…·æœ‰å¼€å‘è°ƒè¯•å…¥å£ï¼Œå¯ä»¥ä½¿ç”¨åŒæ ·çš„ Webview åŠ è½½å¼€å‘æ—¶çš„æœ¬åœ°ä»£ç ï¼›</li><li>å…·å¤‡æ—¥å¿—ç³»ç»Ÿï¼Œå¯ä»¥æŸ¥çœ‹ Log ä¿¡æ¯ï¼›</li></ul></li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/Hybrid.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å¦‚ä½•åœ¨ create-react-app ä¸­ä½¿ç”¨ CSS Modules</title>
      <link>http://mydearest.cn/2020/%E5%A6%82%E4%BD%95%E5%9C%A8%20create-react-app%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20CSS%20Modules.html</link>
      <guid>http://mydearest.cn/2020/%E5%A6%82%E4%BD%95%E5%9C%A8%20create-react-app%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20CSS%20Modules.html</guid>
      <pubDate>Mon, 18 May 2020 03:17:50 GMT</pubDate>
      <description>
      
        &lt;p&gt;å…ˆç®€å•äº†è§£ä¸‹ä»€ä¹ˆæ˜¯ &lt;a href=&quot;https://github.com/css-modules/css-modules&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;CSS Modules&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A CSS Module is a CSS file in which all class names and animation names are scoped locally by default&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç®€å•ç‚¹è¯´ CSS Module æ˜¯å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„ css æ–‡ä»¶ã€‚æ—¢ç„¶æåˆ°äº†å±€éƒ¨ä½œç”¨åŸŸï¼Œé‚£ä¹ˆè‚¯å®šæœ‰å…¨å±€ä½œç”¨åŸŸï¼Œåœ¨ create-react-app ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥ css æ–‡ä»¶é€šå¸¸ä¸ºä»¥ä¸‹å½¢å¼ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/* index.css */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.color&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: red;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/* index.tsx */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; React, &amp;#123; Component &amp;#125; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;react&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;./index.css&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Index&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Component&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;// ...&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å…ˆç®€å•äº†è§£ä¸‹ä»€ä¹ˆæ˜¯ <a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener">CSS Modules</a></p><blockquote><p>A CSS Module is a CSS file in which all class names and animation names are scoped locally by default</p></blockquote><p>ç®€å•ç‚¹è¯´ CSS Module æ˜¯å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„ css æ–‡ä»¶ã€‚æ—¢ç„¶æåˆ°äº†å±€éƒ¨ä½œç”¨åŸŸï¼Œé‚£ä¹ˆè‚¯å®šæœ‰å…¨å±€ä½œç”¨åŸŸï¼Œåœ¨ create-react-app ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥ css æ–‡ä»¶é€šå¸¸ä¸ºä»¥ä¸‹å½¢å¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* index.css */</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* index.tsx */</span></span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./index.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><a id="more"></a><h2 id="å…¨å±€æ±¡æŸ“å’Œé”™è¯¯è¦†ç›–"><a href="#å…¨å±€æ±¡æŸ“å’Œé”™è¯¯è¦†ç›–" class="headerlink" title="å…¨å±€æ±¡æŸ“å’Œé”™è¯¯è¦†ç›–"></a>å…¨å±€æ±¡æŸ“å’Œé”™è¯¯è¦†ç›–</h2><p>è¿™ç§å¼•å…¥æ–¹æ³•å°±ä¼šå‡ºç°å…¨å±€æ±¡æŸ“çš„é—®é¢˜ï¼ŒCSS ä½¿ç”¨å…¨å±€é€‰æ‹©å™¨æœºåˆ¶æ¥è®¾ç½®æ ·å¼ï¼Œä¼˜ç‚¹æ˜¯æ–¹ä¾¿é‡å†™æ ·å¼ï¼Œç¼ºç‚¹æ˜¯æ‰€æœ‰çš„æ ·å¼éƒ½æ˜¯å…¨å±€ç”Ÿæ•ˆï¼Œæ ·å¼å¯èƒ½è¢«é”™è¯¯è¦†ç›–ã€‚å‡å®šä¸€ä¸ªé¡µé¢æœ‰ä»¥ä¸‹ä¸¤ä¸ªç»„ä»¶ï¼š</p><ul><li><p><Header>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</Header></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./header.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"color"</span>&gt;</span>Header color<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>header.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><Content>, å†…å®¹å¦‚ä¸‹ï¼š</Content></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./content.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"color"</span>&gt;</span>Content color<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>content.css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>æˆ‘ä»¬æœŸå¾…åœ¨é¡µé¢ä¸Š Header color çš„å­—çš„é¢œè‰²ä¸º redï¼ŒContent color ä¸º greenï¼Œä½†å®é™…ä¸Šæ˜¯ä¸¤ä¸ªéƒ½ä¸º greenï¼Œè¿™å°±æ˜¯å› ä¸ºæˆ‘ä»¬ç›´æ¥å¼•å…¥ header.css å’Œ content.css åï¼Œæ ·å¼æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸï¼Œè€Œç›¸åŒçš„æ ·å¼åˆå¯èƒ½å‡ºç°é”™è¯¯åœ°è¦†ç›–ï¼Œå› æ­¤å°±å‡ºç°äº†ä¸Šé¢çš„æƒ…å†µã€‚</p><p>é¿å…è¿™ç§æƒ…å†µåœ¨ create-react-app çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨ CSS Modulesï¼Œä½¿ç”¨æ–¹æ³•å°±æ˜¯å°†å¯¹åº”çš„ css æ–‡ä»¶åç§°å‘½åä¸º [name].module.css çš„å½¢å¼ï¼ˆä½¿ç”¨ less æˆ–è€… sass ç±»ä¼¼ï¼‰ï¼Œä»¥ Header ç»„ä»¶ä¸ºä¾‹ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* header.module.css */</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> headerStyle <span class="keyword">from</span> <span class="string">'./header.module.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Index</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;headerStyle.color&#125;</span>&gt;</span>Header color<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ · Header color çš„é¢œè‰²å°±ä¼šä¸º redã€‚</p><p>å®ƒçš„å®ç°è¿‡ç¨‹å°±æ˜¯åˆ©ç”¨ Webpack çš„ css-loader ç”Ÿæˆï¼ˆåŸºæœ¬ï¼‰å”¯ä¸€çš„ class åç§°ï¼Œåœ¨ create-react-app ä¸­ä¼šä»¥ [filename]_[classname]__[hash] çš„å‘½åè§„åˆ™æ¥ç”Ÿæˆ class åç§°ï¼Œä¾‹å¦‚ Header ç»„ä»¶ç”Ÿæˆåçš„ html å¦‚ä¸‹ï¼š<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header_color__2Oqjl"</span>&gt;</span>Header color<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨äº† CSS Modules åï¼Œå°±ç›¸å½“äºç»™æ¯ä¸ª class åå¤–åŠ åŠ äº†ä¸€ä¸ª :localï¼Œä»¥æ­¤æ¥å®ç°æ ·å¼çš„å±€éƒ¨åŒ–ï¼Œå¦‚æœä½ æƒ³åˆ‡æ¢åˆ°å…¨å±€æ¨¡å¼ï¼Œä½¿ç”¨å¯¹åº”çš„ :globalã€‚:local ä¸ :global çš„åŒºåˆ«æ˜¯ CSS Modules åªä¼šå¯¹ :local å—çš„ class æ ·å¼åšè§„åˆ™å¤„ç†ï¼Œ:global çš„æ ·å¼ç¼–è¯‘åä¸å˜ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä»¥ä¸Šä¸ä¸‹é¢ç­‰ä»· */</span></span><br><span class="line"><span class="selector-pseudo">:local(.color)</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®šä¹‰å…¨å±€æ ·å¼ */</span></span><br><span class="line"><span class="selector-pseudo">:global(.global-bg)</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="composeså¤„ç†å¤ç”¨"><a href="#composeså¤„ç†å¤ç”¨" class="headerlink" title="composeså¤„ç†å¤ç”¨"></a>composeså¤„ç†å¤ç”¨</h2><p>åœ¨å¼€å‘ä¸­ä¼šé‡åˆ°æ ·å¼çš„å¤ç”¨é—®é¢˜ï¼ŒCSS Modules åªæä¾›äº†å”¯ä¸€çš„æ–¹å¼æ¥å¤„ç†ï¼š<code>composes</code> ç»„åˆ:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åŸºç¡€æ ·å¼ */</span></span><br><span class="line"><span class="selector-class">.base</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#82D7F7</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">composes</span>: base;</span><br><span class="line">  <span class="comment">/* ç»„åˆå¤–éƒ¨æ–‡ä»¶ */</span></span><br><span class="line">  <span class="attribute">composes</span>: bold from <span class="string">'./content.module.css'</span>;</span><br><span class="line">  <span class="comment">/* active å…¶ä»–æ ·å¼ */</span></span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ active ä¸­ composes baseï¼Œç¼–è¯‘åä¼š active ä¼šå˜æˆä¸‰ä¸ª class<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"composes-demo_active__27azZ composes-demo_base__MLJCB content_bold__vgYTg"</span>&gt;</span>active<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åœ¨ create-react-app ä¸­ä½¿ç”¨ CSS Modules ä¼šé¢‘ç¹çš„è¾“å…¥ styles.<strong>ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://github.com/gajus/react-css-modules" target="_blank" rel="noopener">react-css-modules</a>æ¥é¿å…è¿™ç‚¹ï¼Œå®ƒé€šè¿‡é«˜é˜¶å‡½æ•°çš„å½¢å¼æ¥é¿å…é‡å¤è¾“å…¥ styles.</strong>ã€‚</p><p>æ —å­â†“<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> CSSModules <span class="keyword">from</span> <span class="string">'react-css-modules'</span>;</span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">'./table.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Table</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    render () &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">styleName</span>=<span class="string">'table'</span>&gt;</span></span></span><br><span class="line">            &lt;div styleName='row'&gt;</span><br><span class="line">                &lt;div styleName='cell'&gt;A0&lt;/div&gt;</span><br><span class="line">                &lt;div styleName='cell'&gt;B0&lt;/div&gt;</span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> CSSModules(Table, styles);</span><br></pre></td></tr></table></figure></p><p>æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å‚è€ƒæ¨¡æ‹Ÿä¸‹<code>react-css-modules</code>çš„å®ç°ã€‚</p><p>æ€»çš„æ¥è¯´åœ¨ create-react-app ä¸­ä½¿ç”¨ CSS Modules è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ï¼Œå¦‚æœè¿˜æ²¡æœ‰åœ¨é¡¹ç›®ä¸­å°è¯•çš„è¯éå¸¸å€¼å¾—å»ä½¿ç”¨ CSS ModulesğŸ‘ğŸ‘ğŸ‘ã€‚</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%A6%82%E4%BD%95%E5%9C%A8%20create-react-app%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20CSS%20Modules.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>TypeScript ä¸­ï¼Œinterface å’Œ type çš„åŒºåˆ«</title>
      <link>http://mydearest.cn/2020/TypeScript%20%E4%B8%AD%EF%BC%8Cinterface%20%E5%92%8C%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB.html</link>
      <guid>http://mydearest.cn/2020/TypeScript%20%E4%B8%AD%EF%BC%8Cinterface%20%E5%92%8C%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB.html</guid>
      <pubDate>Mon, 18 May 2020 02:10:54 GMT</pubDate>
      <description>
      
        &lt;p&gt;åœ¨ &lt;code&gt;TypeScript&lt;/code&gt; ä¸­ï¼Œ&lt;code&gt;interface&lt;/code&gt; å’Œ &lt;code&gt;type&lt;/code&gt; ä¸»è¦ç”¨äºç±»å‹çš„å£°æ˜ï¼Œå®ƒä»¬çš„ç›¸åŒç‚¹ä»¥åŠåŒºåˆ«å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>åœ¨ <code>TypeScript</code> ä¸­ï¼Œ<code>interface</code> å’Œ <code>type</code> ä¸»è¦ç”¨äºç±»å‹çš„å£°æ˜ï¼Œå®ƒä»¬çš„ç›¸åŒç‚¹ä»¥åŠåŒºåˆ«å¦‚ä¸‹ï¼š</p><hr><a id="more"></a><h2 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h2><h3 id="éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°"><a href="#éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°" class="headerlink" title="éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°"></a>éƒ½å¯ä»¥æè¿°ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* interface */</span></span><br><span class="line">interface User &#123;</span><br><span class="line">  name: string</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface SetUser &#123;</span><br><span class="line">  (name: string, <span class="attr">age</span>: number): string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* type */</span></span><br><span class="line">type User = &#123;</span><br><span class="line">  name: string</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type SetUser = &#123;</span><br><span class="line">  (name: string, <span class="attr">age</span>: number): string</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éƒ½å¯ä»¥è¿›è¡Œæ‹“å±•"><a href="#éƒ½å¯ä»¥è¿›è¡Œæ‹“å±•" class="headerlink" title="éƒ½å¯ä»¥è¿›è¡Œæ‹“å±•"></a>éƒ½å¯ä»¥è¿›è¡Œæ‹“å±•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* interface */</span></span><br><span class="line">interface User &#123;</span><br><span class="line">  name: string</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface ProUser extends User &#123;</span><br><span class="line">  email: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type VipUserType = &#123;</span><br><span class="line">  readonly vip: boolean</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* interface å’Œ type æ‹“å±•*/</span></span><br><span class="line">interface VipUserInterfce extends VipUserType &#123;</span><br><span class="line">  member: boolean</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* type */</span></span><br><span class="line">type User = &#123;</span><br><span class="line">  name: string</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type ProUser = User &amp; &#123;</span><br><span class="line">  email: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface VipUserInterface &#123;</span><br><span class="line">  readonly vip: boolean</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* type ä¸ interface æ‹“å±• */</span></span><br><span class="line">type VipUserType = VipUserInterface &amp; &#123;</span><br><span class="line">  member: boolean</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><h3 id="type-å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç±»å‹ï¼Œè€Œ-interface-ä¸å¯ä»¥"><a href="#type-å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç±»å‹ï¼Œè€Œ-interface-ä¸å¯ä»¥" class="headerlink" title="type å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç±»å‹ï¼Œè€Œ interface ä¸å¯ä»¥"></a>type å¯ä»¥å£°æ˜åŸºæœ¬ç±»å‹åˆ«åï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ç±»å‹ï¼Œè€Œ interface ä¸å¯ä»¥</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åŸºæœ¬ç±»å‹ */</span></span><br><span class="line">type Name = string</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è”åˆç±»å‹ */</span></span><br><span class="line">interface Dog &#123;&#125;</span><br><span class="line">interface Cat &#123;&#125;</span><br><span class="line"></span><br><span class="line">type Pet = Dog | Cat</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å…ƒç»„ç±»å‹ */</span></span><br><span class="line">type PetList = [Dog, Cat]</span><br></pre></td></tr></table></figure><h3 id="interface-å¯ä»¥è¿›è¡Œç±»å‹åˆå¹¶ï¼Œè€Œ-type-ä¸å¯ä»¥"><a href="#interface-å¯ä»¥è¿›è¡Œç±»å‹åˆå¹¶ï¼Œè€Œ-type-ä¸å¯ä»¥" class="headerlink" title="interface å¯ä»¥è¿›è¡Œç±»å‹åˆå¹¶ï¼Œè€Œ type ä¸å¯ä»¥"></a>interface å¯ä»¥è¿›è¡Œç±»å‹åˆå¹¶ï¼Œè€Œ type ä¸å¯ä»¥</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">interface Cloner &#123;</span><br><span class="line">  clone(animal: Animal): Animal</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Cloner &#123;</span><br><span class="line">  clone(animal: Sheep): Sheep</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Cloner &#123;</span><br><span class="line">  clone(animal: Dog): Dog</span><br><span class="line">  clone(animal: Cat): Cat</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸Šä¸‰ä¸ª interface ä¼šè¢«åˆå¹¶æˆä¸€ä¸ªå£°æ˜</span></span><br><span class="line">interface Cloner &#123;</span><br><span class="line">  clone(animal: Dog): Dog</span><br><span class="line">  clone(animal: Cat): Cat</span><br><span class="line">  clone(animal: Sheep): Sheep</span><br><span class="line">  clone(animal: Animal): Animal</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.typescriptlang.org/docs/handbook/declaration-merging.html" target="_blank" rel="noopener">å…³äº declaration-merging</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/TypeScript%20%E4%B8%AD%EF%BC%8Cinterface%20%E5%92%8C%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ä¼˜åŒ–</title>
      <link>http://mydearest.cn/2020/%E5%A4%A7%E6%96%87%E4%BB%B6%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0%E4%BC%98%E5%8C%96.html</link>
      <guid>http://mydearest.cn/2020/%E5%A4%A7%E6%96%87%E4%BB%B6%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0%E4%BC%98%E5%8C%96.html</guid>
      <pubDate>Sat, 16 May 2020 17:07:08 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šé‡åˆ°åœ¨ç½‘ç«™ä¸Šä¼  100 MB ä»¥ä¸Šçš„æ–‡ä»¶ç»å¸¸å¤±è´¥ï¼Œé‡è¯•ä¹Ÿè¦ç­‰è€åŠå¤©ã€‚é‚£ä¹ˆåº”è¯¥æ€ä¹ˆåšæ‰èƒ½å¿«é€Ÿä¸Šä¼ ï¼Œå°±ç®—å¤±è´¥äº†å†æ¬¡å‘é€ä¹Ÿèƒ½ä»ä¸Šæ¬¡ä¸­æ–­çš„åœ°æ–¹ç»§ç»­ä¸Šä¼ å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ•´ä½“æ€è·¯&quot;&gt;&lt;a href=&quot;#æ•´ä½“æ€è·¯&quot; class=&quot;headerlink&quot; title=&quot;æ•´ä½“æ€è·¯&quot;&gt;&lt;/a&gt;æ•´ä½“æ€è·¯&lt;/h2&gt;&lt;p&gt;ç¬¬ä¸€æ­¥æ˜¯ç»“åˆé¡¹ç›®èƒŒæ™¯ï¼Œè°ƒç ”æ¯”è¾ƒä¼˜åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚
æ–‡ä»¶ä¸Šä¼ å¤±è´¥æ˜¯è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œå¸¸ç”¨æ–¹æ¡ˆæ˜¯å°†ä¸€ä¸ªå¤§æ–‡ä»¶åˆ‡ç‰‡æˆå¤šä¸ªå°æ–‡ä»¶ï¼Œå¹¶è¡Œè¯·æ±‚æ¥å£è¿›è¡Œä¸Šä¼ ï¼Œæ‰€æœ‰è¯·æ±‚å¾—åˆ°å“åº”åï¼Œåœ¨æœåŠ¡å™¨ç«¯åˆå¹¶æ‰€æœ‰çš„åˆ†ç‰‡æ–‡ä»¶ã€‚å½“åˆ†ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œå¯ä»¥åœ¨é‡æ–°ä¸Šä¼ æ—¶è¿›è¡Œåˆ¤æ–­ï¼Œåªä¸Šä¼ ä¸Šæ¬¡å¤±è´¥çš„éƒ¨åˆ†ï¼Œå‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ï¼Œç¼“è§£æœåŠ¡å™¨å‹åŠ›ã€‚è¿™å°±æ˜¯åˆ†ç‰‡ä¸Šä¼ æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æµç¨‹å›¾å¦‚ä¸‹ï¼š
&lt;img src=&quot;http://cdn.mydearest.cn/blog/images/upload-flow.png&quot; alt=&quot;upload-flow&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¼šé‡åˆ°åœ¨ç½‘ç«™ä¸Šä¼  100 MB ä»¥ä¸Šçš„æ–‡ä»¶ç»å¸¸å¤±è´¥ï¼Œé‡è¯•ä¹Ÿè¦ç­‰è€åŠå¤©ã€‚é‚£ä¹ˆåº”è¯¥æ€ä¹ˆåšæ‰èƒ½å¿«é€Ÿä¸Šä¼ ï¼Œå°±ç®—å¤±è´¥äº†å†æ¬¡å‘é€ä¹Ÿèƒ½ä»ä¸Šæ¬¡ä¸­æ–­çš„åœ°æ–¹ç»§ç»­ä¸Šä¼ å‘¢ï¼Ÿ</p></blockquote><h2 id="æ•´ä½“æ€è·¯"><a href="#æ•´ä½“æ€è·¯" class="headerlink" title="æ•´ä½“æ€è·¯"></a>æ•´ä½“æ€è·¯</h2><p>ç¬¬ä¸€æ­¥æ˜¯ç»“åˆé¡¹ç›®èƒŒæ™¯ï¼Œè°ƒç ”æ¯”è¾ƒä¼˜åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚æ–‡ä»¶ä¸Šä¼ å¤±è´¥æ˜¯è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜ï¼Œå¸¸ç”¨æ–¹æ¡ˆæ˜¯å°†ä¸€ä¸ªå¤§æ–‡ä»¶åˆ‡ç‰‡æˆå¤šä¸ªå°æ–‡ä»¶ï¼Œå¹¶è¡Œè¯·æ±‚æ¥å£è¿›è¡Œä¸Šä¼ ï¼Œæ‰€æœ‰è¯·æ±‚å¾—åˆ°å“åº”åï¼Œåœ¨æœåŠ¡å™¨ç«¯åˆå¹¶æ‰€æœ‰çš„åˆ†ç‰‡æ–‡ä»¶ã€‚å½“åˆ†ç‰‡ä¸Šä¼ å¤±è´¥ï¼Œå¯ä»¥åœ¨é‡æ–°ä¸Šä¼ æ—¶è¿›è¡Œåˆ¤æ–­ï¼Œåªä¸Šä¼ ä¸Šæ¬¡å¤±è´¥çš„éƒ¨åˆ†ï¼Œå‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ï¼Œç¼“è§£æœåŠ¡å™¨å‹åŠ›ã€‚è¿™å°±æ˜¯åˆ†ç‰‡ä¸Šä¼ æ–‡ä»¶ã€‚</p><p>æµç¨‹å›¾å¦‚ä¸‹ï¼š<img src="http://cdn.mydearest.cn/blog/images/upload-flow.png" alt="upload-flow"></p><hr><a id="more"></a><h3 id="æ–‡ä»¶-MD5-åŠ å¯†"><a href="#æ–‡ä»¶-MD5-åŠ å¯†" class="headerlink" title="æ–‡ä»¶ MD5 åŠ å¯†"></a>æ–‡ä»¶ MD5 åŠ å¯†</h3><ul><li>MD5 æ˜¯æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼Œå¯ä»¥åˆ©ç”¨æ–‡ä»¶çš„ MD5 æŸ¥è¯¢æ–‡ä»¶çš„ä¸Šä¼ çŠ¶æ€ã€‚</li></ul><p>æ ¹æ®æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶åç§°ã€æœ€åä¿®æ”¹æ—¶é—´ç­‰ä¿¡æ¯ï¼Œé€šè¿‡ <a href="https://www.npmjs.com/package/spark-md5" target="_blank" rel="noopener">spark-md5</a> ç”Ÿæˆæ–‡ä»¶çš„ MD5ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¤§è§„æ ¼æ–‡ä»¶éœ€è¦åˆ†ç‰‡è¯»å–æ–‡ä»¶ï¼Œå°†è¯»å–çš„æ–‡ä»¶å†…å®¹æ·»åŠ åˆ° é€šè¿‡ <a href="https://www.npmjs.com/package/spark-md5" target="_blank" rel="noopener">spark-md5</a> çš„ hash è®¡ç®—ä¸­ï¼Œç›´åˆ°æ–‡ä»¶è¯»å–å®Œæ¯•ï¼Œæœ€åè¿”å›æœ€ç»ˆçš„ hash ç åˆ° callback å›è°ƒå‡½æ•°é‡Œé¢ã€‚è¿™é‡Œå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ æ–‡ä»¶è¯»å–çš„è¿›åº¦æ¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">md5File</span>(<span class="params">file</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> blobSlice =</span><br><span class="line">            File.prototype.slice ||</span><br><span class="line">            File.prototype.mozSlice ||</span><br><span class="line">            File.prototype.webkitSlice,</span><br><span class="line">        chunkSize = file.size / <span class="number">100</span>, <span class="comment">// åˆ†æˆ100ä»½</span></span><br><span class="line">        chunks = <span class="number">100</span>,</span><br><span class="line">        currentChunk = <span class="number">0</span>,</span><br><span class="line">        spark = <span class="keyword">new</span> SparkMD5.ArrayBuffer(),</span><br><span class="line">        fileReader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">        fileReader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"read chunk nr"</span>, currentChunk + <span class="number">1</span>, <span class="string">"of"</span>, chunks);</span><br><span class="line">        spark.append(e.target.result); <span class="comment">// Append array buffer</span></span><br><span class="line">        currentChunk++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (currentChunk &lt; chunks) &#123;</span><br><span class="line">            loadNext();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> cur = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"finished loading"</span>);</span><br><span class="line">            <span class="comment">// alert(spark.end() + '---' + (cur - pre)); // Compute hash</span></span><br><span class="line">            <span class="keyword">let</span> result = spark.end();</span><br><span class="line">            resolve(result);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        fileReader.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.warn(<span class="string">"oops, something went wrong."</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">loadNext</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> start = currentChunk * chunkSize,</span><br><span class="line">            end =</span><br><span class="line">            start + chunkSize &gt;= file.size ? file.size : start + chunkSize;</span><br><span class="line"></span><br><span class="line">        fileReader.readAsArrayBuffer(blobSlice.call(file, start, end));</span><br><span class="line">        $(<span class="string">"#checkProcessStyle"</span>).css(&#123;</span><br><span class="line">            width: currentChunk + <span class="number">1</span> + <span class="string">"%"</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">        $(<span class="string">"#checkProcessValue"</span>).html(currentChunk + <span class="number">1</span> + <span class="string">"%"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        loadNext();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€"><a href="#æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€" class="headerlink" title="æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€"></a>æŸ¥è¯¢æ–‡ä»¶çŠ¶æ€</h3><p>å‰ç«¯å¾—åˆ°æ–‡ä»¶çš„ MD5 åï¼Œä»åå°æŸ¥è¯¢æ˜¯å¦å­˜åœ¨åç§°ä¸º MD5 çš„æ–‡ä»¶å¤¹ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ—å‡ºæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œå¾—åˆ°å·²ä¸Šä¼ çš„åˆ‡ç‰‡åˆ—è¡¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å·²ä¸Šä¼ çš„åˆ‡ç‰‡åˆ—è¡¨ä¸ºç©ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¡éªŒæ–‡ä»¶çš„MD5</span></span><br><span class="line">checkFileMD5 (file, fileName, fileMd5Value, onError) &#123;</span><br><span class="line">  <span class="keyword">const</span> fileSize = file.size</span><br><span class="line">  <span class="keyword">const</span> &#123; chunkSize, uploadProgress &#125; = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">this</span>.chunks = <span class="built_in">Math</span>.ceil(fileSize / chunkSize)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="keyword">async</span> (resolve, reject) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> params = &#123;</span><br><span class="line">      fileName: fileName,</span><br><span class="line">      fileMd5Value: fileMd5Value,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> &#123; ok, data &#125; = <span class="keyword">await</span> services.checkFile(params)</span><br><span class="line">    <span class="keyword">if</span> (ok) &#123;</span><br><span class="line">      <span class="keyword">this</span>.hasUploaded = data.chunkList.length</span><br><span class="line">      uploadProgress(file)</span><br><span class="line">      resolve(data)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      reject(ok)</span><br><span class="line">      onError()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶åˆ†ç‰‡"><a href="#æ–‡ä»¶åˆ†ç‰‡" class="headerlink" title="æ–‡ä»¶åˆ†ç‰‡"></a>æ–‡ä»¶åˆ†ç‰‡</h3><p>æ–‡ä»¶ä¸Šä¼ ä¼˜åŒ–çš„æ ¸å¿ƒå°±æ˜¯æ–‡ä»¶åˆ†ç‰‡ï¼ŒBlob å¯¹è±¡ä¸­çš„ slice æ–¹æ³•å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œåˆ‡å‰²ï¼ŒFile å¯¹è±¡æ˜¯ç»§æ‰¿ Blob å¯¹è±¡çš„ï¼Œå› æ­¤ File å¯¹è±¡ä¹Ÿæœ‰ slice æ–¹æ³•ã€‚å®šä¹‰æ¯ä¸€ä¸ªåˆ†ç‰‡æ–‡ä»¶çš„å¤§å°å˜é‡ä¸º chunkSizeï¼Œé€šè¿‡æ–‡ä»¶å¤§å° FileSize å’Œåˆ†ç‰‡å¤§å° chunkSize å¾—åˆ°åˆ†ç‰‡æ•°é‡ chunksï¼Œä½¿ç”¨ for å¾ªç¯å’Œ file.slice() æ–¹æ³•å¯¹æ–‡ä»¶è¿›è¡Œåˆ†ç‰‡ï¼Œåºå·ä¸º 0 - nï¼Œå’Œå·²ä¸Šä¼ çš„åˆ‡ç‰‡åˆ—è¡¨åšæ¯”å¯¹ï¼Œå¾—åˆ°æ‰€æœ‰æœªä¸Šä¼ çš„åˆ†ç‰‡ï¼Œpush åˆ°è¯·æ±‚åˆ—è¡¨ requestListã€‚</p><p><img src="http://cdn.mydearest.cn/blog/images/chunk.png" alt="chunk"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> checkAndUploadChunk (file, fileMd5Value, chunkList) &#123;</span><br><span class="line">  <span class="keyword">let</span> &#123; chunks, upload &#125; = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">const</span> requestList = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; chunks; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> exit = chunkList.indexOf(i + <span class="string">''</span>) &gt; <span class="number">-1</span></span><br><span class="line">    <span class="comment">// å¦‚æœå·²ç»å­˜åœ¨, åˆ™ä¸ç”¨å†ä¸Šä¼ å½“å‰å—</span></span><br><span class="line">    <span class="keyword">if</span> (!exit) &#123;</span><br><span class="line">      requestList.push(upload(i, fileMd5Value, file))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(&#123; requestList &#125;)</span><br><span class="line">  <span class="keyword">const</span> result =</span><br><span class="line">    requestList.length &gt; <span class="number">0</span></span><br><span class="line">      ? <span class="keyword">await</span> <span class="built_in">Promise</span>.all(requestList)</span><br><span class="line">        .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(&#123; result &#125;)</span><br><span class="line">          <span class="keyword">return</span> result.every(<span class="function"><span class="params">i</span> =&gt;</span> i.ok)</span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> err</span><br><span class="line">        &#125;)</span><br><span class="line">      : <span class="literal">true</span></span><br><span class="line">  <span class="built_in">console</span>.log(&#123; result &#125;)</span><br><span class="line">  <span class="keyword">return</span> result === <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸Šä¼ åˆ†ç‰‡"><a href="#ä¸Šä¼ åˆ†ç‰‡" class="headerlink" title="ä¸Šä¼ åˆ†ç‰‡"></a>ä¸Šä¼ åˆ†ç‰‡</h3><p>è°ƒç”¨ <code>Promise.all</code> å¹¶å‘ä¸Šä¼ æ‰€æœ‰çš„åˆ‡ç‰‡ï¼Œå°†åˆ‡ç‰‡åºå·ã€åˆ‡ç‰‡æ–‡ä»¶ã€æ–‡ä»¶ <code>MD5</code> ä¼ ç»™åå°ã€‚åå°æ¥æ”¶åˆ°ä¸Šä¼ è¯·æ±‚åï¼Œé¦–å…ˆæŸ¥çœ‹åç§°ä¸ºæ–‡ä»¶ MD5 çš„æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œç„¶åé€šè¿‡ <code>fs-extra</code> çš„ rename æ–¹æ³•ï¼Œå°†åˆ‡ç‰‡ä»ä¸´æ—¶è·¯å¾„ç§»åŠ¨åˆ‡ç‰‡æ–‡ä»¶å¤¹ä¸­ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/file-chunk.png" alt="file-chunk"></p><p>å½“å…¨éƒ¨åˆ†ç‰‡ä¸Šä¼ æˆåŠŸï¼Œé€šçŸ¥æœåŠ¡ç«¯è¿›è¡Œåˆå¹¶ï¼Œå½“æœ‰ä¸€ä¸ªåˆ†ç‰‡ä¸Šä¼ å¤±è´¥æ—¶ï¼Œæç¤ºâ€œä¸Šä¼ å¤±è´¥â€ã€‚åœ¨é‡æ–°ä¸Šä¼ æ—¶ï¼Œé€šè¿‡æ–‡ä»¶ MD5 å¾—åˆ°æ–‡ä»¶çš„ä¸Šä¼ çŠ¶æ€ï¼Œå½“æœåŠ¡å™¨å·²ç»æœ‰è¯¥ MD5 å¯¹åº”çš„åˆ‡ç‰‡æ—¶ï¼Œä»£è¡¨è¯¥åˆ‡ç‰‡å·²ç»ä¸Šä¼ è¿‡ï¼Œæ— éœ€å†æ¬¡ä¸Šä¼ ï¼Œå½“æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯¥ MD5 å¯¹åº”çš„åˆ‡ç‰‡æ—¶ï¼Œä»£è¡¨è¯¥åˆ‡ç‰‡éœ€è¦ä¸Šä¼ ï¼Œç”¨æˆ·åªéœ€ä¸Šä¼ è¿™éƒ¨åˆ†åˆ‡ç‰‡ï¼Œå°±å¯ä»¥å®Œæ•´ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶ï¼Œè¿™å°±æ˜¯æ–‡ä»¶çš„æ–­ç‚¹ç»­ä¼ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸Šä¼ chunk</span></span><br><span class="line">upload (i, fileMd5Value, file) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; uploadProgress, chunks &#125; = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; chunkSize &#125; = <span class="keyword">this</span></span><br><span class="line">    <span class="comment">// æ„é€ ä¸€ä¸ªè¡¨å•ï¼ŒFormDataæ˜¯HTML5æ–°å¢çš„</span></span><br><span class="line">    <span class="keyword">let</span> end =</span><br><span class="line">      (i + <span class="number">1</span>) * chunkSize &gt;= file.size ? file.size : (i + <span class="number">1</span>) * chunkSize</span><br><span class="line">    <span class="keyword">let</span> form = <span class="keyword">new</span> FormData()</span><br><span class="line">    form.append(<span class="string">'data'</span>, file.slice(i * chunkSize, end)) <span class="comment">// fileå¯¹è±¡çš„sliceæ–¹æ³•ç”¨äºåˆ‡å‡ºæ–‡ä»¶çš„ä¸€éƒ¨åˆ†</span></span><br><span class="line">    form.append(<span class="string">'total'</span>, chunks) <span class="comment">// æ€»ç‰‡æ•°</span></span><br><span class="line">    form.append(<span class="string">'index'</span>, i) <span class="comment">// å½“å‰æ˜¯ç¬¬å‡ ç‰‡</span></span><br><span class="line">    form.append(<span class="string">'fileMd5Value'</span>, fileMd5Value)</span><br><span class="line">    services</span><br><span class="line">      .uploadLarge(form)</span><br><span class="line">      .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (data.ok) &#123;</span><br><span class="line">          <span class="keyword">this</span>.hasUploaded++</span><br><span class="line">          uploadProgress(file)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(&#123; data &#125;)</span><br><span class="line">        resolve(data)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸Šä¼ è¿›åº¦"><a href="#ä¸Šä¼ è¿›åº¦" class="headerlink" title="ä¸Šä¼ è¿›åº¦"></a>ä¸Šä¼ è¿›åº¦</h3><p>è™½ç„¶åˆ†ç‰‡æ‰¹é‡ä¸Šä¼ æ¯”å¤§æ–‡ä»¶å•æ¬¡ä¸Šä¼ ä¼šå¿«å¾ˆå¤šï¼Œä¹Ÿè¿˜æ˜¯æœ‰ä¸€æ®µåŠ è½½æ—¶é—´ï¼Œè¿™æ—¶åº”è¯¥åŠ ä¸Šä¸Šä¼ è¿›åº¦çš„æç¤ºï¼Œå®æ—¶æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ è¿›åº¦ã€‚åŸç”Ÿ Javascript çš„ XMLHttpRequest æœ‰æä¾› progress äº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶ä¼šè¿”å›æ–‡ä»¶å·²ä¸Šä¼ çš„å¤§å°å’Œæ€»å¤§å°ã€‚é¡¹ç›®ä½¿ç”¨ <a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener">axios</a> å¯¹ ajax è¿›è¡Œå°è£…ï¼Œå¯ä»¥åœ¨ config ä¸­å¢åŠ  <code>onUploadProgress</code> æ–¹æ³•ï¼Œç›‘å¬æ–‡ä»¶ä¸Šä¼ è¿›åº¦ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  onUploadProgress: <span class="function"><span class="params">progressEvent</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> complete = (progressEvent.loaded / progressEvent.total * <span class="number">100</span> | <span class="number">0</span>) + <span class="string">'%'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">services.uploadChunk(form, config)</span><br></pre></td></tr></table></figure><h3 id="åˆå¹¶åˆ†ç‰‡"><a href="#åˆå¹¶åˆ†ç‰‡" class="headerlink" title="åˆå¹¶åˆ†ç‰‡"></a>åˆå¹¶åˆ†ç‰‡</h3><p>ä¸Šä¼ å®Œæ‰€æœ‰æ–‡ä»¶åˆ†ç‰‡åï¼Œå‰ç«¯ä¸»åŠ¨é€šçŸ¥æœåŠ¡ç«¯è¿›è¡Œåˆå¹¶ï¼ŒæœåŠ¡ç«¯æ¥å—åˆ°è¿™ä¸ªè¯·æ±‚æ—¶ä¸»åŠ¨åˆå¹¶åˆ‡ç‰‡ï¼Œé€šè¿‡æ–‡ä»¶ MD5 åœ¨æœåŠ¡å™¨çš„æ–‡ä»¶ä¸Šä¼ è·¯å¾„ä¸­æ‰¾åˆ°åŒåæ–‡ä»¶å¤¹ã€‚ä»ä¸Šæ–‡å¯çŸ¥ï¼Œæ–‡ä»¶åˆ†ç‰‡æ˜¯æŒ‰ç…§åˆ†ç‰‡åºå·å‘½åçš„ï¼Œè€Œåˆ†ç‰‡ä¸Šä¼ æ¥å£æ˜¯å¼‚æ­¥çš„ï¼Œæ— æ³•ä¿è¯æœåŠ¡å™¨æ¥æ”¶åˆ°çš„åˆ‡ç‰‡æ˜¯æŒ‰ç…§è¯·æ±‚é¡ºåºæ‹¼æ¥ã€‚æ‰€ä»¥åº”è¯¥åœ¨åˆå¹¶æ–‡ä»¶å¤¹é‡Œçš„åˆ†ç‰‡æ–‡ä»¶å‰ï¼Œæ ¹æ®æ–‡ä»¶åè¿›è¡Œæ’åºï¼Œç„¶åå†é€šè¿‡ <code>concat-files</code> åˆå¹¶åˆ†ç‰‡æ–‡ä»¶ï¼Œå¾—åˆ°ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ã€‚è‡³æ­¤å¤§æ–‡ä»¶ä¸Šä¼ å°±å®Œæˆäº†ã€‚</p><p><img src="http://cdn.mydearest.cn/blog/images/file-merge.png" alt="file-merge"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// node</span></span><br><span class="line"><span class="comment">// åˆå¹¶æ–‡ä»¶</span></span><br><span class="line">exports.merge = &#123;</span><br><span class="line">  validate: &#123;</span><br><span class="line">    query: &#123;</span><br><span class="line">      fileName: Joi.string()</span><br><span class="line">        .trim()</span><br><span class="line">        .required()</span><br><span class="line">        .description(<span class="string">'æ–‡ä»¶åç§°'</span>),</span><br><span class="line">      md5: Joi.string()</span><br><span class="line">        .trim()</span><br><span class="line">        .required()</span><br><span class="line">        .description(<span class="string">'æ–‡ä»¶md5'</span>),</span><br><span class="line">      size: Joi.string()</span><br><span class="line">        .trim()</span><br><span class="line">        .required()</span><br><span class="line">        .description(<span class="string">'æ–‡ä»¶å¤§å°'</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  permission: &#123;</span><br><span class="line">    roles: [<span class="string">'user'</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">async</span> handler (ctx) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; fileName, md5, size &#125; = ctx.request.query</span><br><span class="line">    <span class="keyword">let</span> &#123; name, <span class="attr">base</span>: filename, ext &#125; = path.parse(fileName)</span><br><span class="line">    <span class="keyword">const</span> newFileName = randomFilename(name, ext)</span><br><span class="line">    <span class="keyword">await</span> mergeFiles(path.join(uploadDir, md5), uploadDir, newFileName, size)</span><br><span class="line">      .then(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> file = &#123;</span><br><span class="line">          key: newFileName,</span><br><span class="line">          name: filename,</span><br><span class="line">          mime_type: mime.getType(<span class="string">`<span class="subst">$&#123;uploadDir&#125;</span>/<span class="subst">$&#123;newFileName&#125;</span>`</span>),</span><br><span class="line">          ext,</span><br><span class="line">          path: <span class="string">`<span class="subst">$&#123;uploadDir&#125;</span>/<span class="subst">$&#123;newFileName&#125;</span>`</span>,</span><br><span class="line">          provider: <span class="string">'oss'</span>,</span><br><span class="line">          size,</span><br><span class="line">          owner: ctx.state.user.id,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> key = <span class="built_in">encodeURIComponent</span>(file.key)</span><br><span class="line">          .replace(<span class="regexp">/%/g</span>, <span class="string">''</span>)</span><br><span class="line">          .slice(<span class="number">-100</span>)</span><br><span class="line">        file.url = <span class="keyword">await</span> uploadLocalFileToOss(file.path, key)</span><br><span class="line">        file.url = getFileUrl(file)</span><br><span class="line">        <span class="keyword">const</span> f = <span class="keyword">await</span> File.create(omit(file, <span class="string">'path'</span>))</span><br><span class="line">        <span class="keyword">const</span> files = []</span><br><span class="line">        files.push(f)</span><br><span class="line">        ctx.body = invokeMap(files, <span class="string">'toJSON'</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> Boom.badData(<span class="string">'å¤§æ–‡ä»¶åˆ†ç‰‡åˆå¹¶å¤±è´¥ï¼Œè¯·ç¨å€™é‡è¯•~'</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»“åº“ä»£ç "><a href="#ä»“åº“ä»£ç " class="headerlink" title="ä»“åº“ä»£ç "></a>ä»“åº“ä»£ç </h2><p><a href="https://github.com/cosyer/nodeFileUploadDemo" target="_blank" rel="noopener">nodeFileUploadDemo</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬æ–‡è®²è¿°äº†å¤§è§„æ ¼æ–‡ä»¶ä¸Šä¼ ä¼˜åŒ–çš„ä¸€äº›åšæ³•ï¼Œæ€»ç»“ä¸ºä»¥ä¸‹ 4 ç‚¹ï¼š</p><ol><li><code>Blob.slice</code> å°†æ–‡ä»¶åˆ‡ç‰‡ï¼Œå¹¶å‘ä¸Šä¼ å¤šä¸ªåˆ‡ç‰‡ï¼Œæ‰€æœ‰åˆ‡ç‰‡ä¸Šä¼ åå‘ŠçŸ¥æœåŠ¡å™¨åˆå¹¶ï¼Œå®ç°å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ï¼›</li><li>åŸç”Ÿ XMLHttpRequest çš„ <code>onprogress</code> å¯¹åˆ‡ç‰‡ä¸Šä¼ è¿›åº¦çš„ç›‘å¬ï¼Œå®æ—¶è·å–æ–‡ä»¶ä¸Šä¼ è¿›åº¦ï¼›</li><li><code>spark-md5</code>æ ¹æ®æ–‡ä»¶å†…å®¹ç®—å‡ºæ–‡ä»¶ MD5ï¼Œå¾—åˆ°æ–‡ä»¶å”¯ä¸€æ ‡è¯†ï¼Œä¸æ–‡ä»¶ä¸Šä¼ çŠ¶æ€ç»‘å®šï¼›</li><li>åˆ†ç‰‡ä¸Šä¼ å‰é€šè¿‡æ–‡ä»¶ MD5 æŸ¥è¯¢å·²ä¸Šä¼ åˆ‡ç‰‡åˆ—è¡¨ï¼Œä¸Šä¼ æ—¶åªä¸Šä¼ æœªä¸Šä¼ è¿‡çš„åˆ‡ç‰‡ï¼Œå®ç°æ–­ç‚¹ç»­ä¼ ã€‚</li></ol>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%A4%A7%E6%96%87%E4%BB%B6%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0%E4%BC%98%E5%8C%96.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>30åˆ†é’Ÿç²¾é€šReact Hooks</title>
      <link>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html</link>
      <guid>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html</guid>
      <pubDate>Tue, 12 May 2020 03:40:08 GMT</pubDate>
      <description>
      
        &lt;p&gt;å®ƒæ¥äº†ï¼Œå®ƒæ¥äº†ï¼Œ16.8ç‰ˆæœ¬&lt;code&gt;hooks&lt;/code&gt;æˆåŠŸåŠ å…¥(&lt;em&gt;^â–½^&lt;/em&gt;)&lt;/p&gt;
&lt;p&gt;ä½ è¿˜åœ¨ä¸ºè¯¥ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼ˆFunctionï¼‰è¿˜æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆClassï¼‰è€Œçƒ¦æ¼å—ï¼Ÿ
â€”â€” æ‹¥æœ‰äº†hooksï¼Œä½ å†ä¹Ÿä¸éœ€è¦å†™Classäº†ï¼Œä½ çš„æ‰€æœ‰ç»„ä»¶éƒ½å°†æ˜¯Functionã€‚&lt;/p&gt;
&lt;p&gt;ä½ è¿˜åœ¨ä¸ºæä¸æ¸…ä½¿ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°è€Œæ—¥å¤œéš¾çœ å—ï¼Ÿ
â€”â€” æ‹¥æœ‰äº†Hooksï¼Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å¯ä»¥å…ˆä¸¢ä¸€è¾¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½ åœ¨è¿˜åœ¨ä¸ºç»„ä»¶ä¸­çš„thisæŒ‡å‘è€Œæ™•å¤´è½¬å‘å—ï¼Ÿ
â€”â€” æ—¢ç„¶Classéƒ½ä¸¢æ‰äº†ï¼Œå“ªé‡Œè¿˜æœ‰thisï¼Ÿä½ çš„äººç”Ÿç¬¬ä¸€æ¬¡ä¸å†éœ€è¦é¢å¯¹thisã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>å®ƒæ¥äº†ï¼Œå®ƒæ¥äº†ï¼Œ16.8ç‰ˆæœ¬<code>hooks</code>æˆåŠŸåŠ å…¥(<em>^â–½^</em>)</p><p>ä½ è¿˜åœ¨ä¸ºè¯¥ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼ˆFunctionï¼‰è¿˜æ˜¯æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆClassï¼‰è€Œçƒ¦æ¼å—ï¼Ÿâ€”â€” æ‹¥æœ‰äº†hooksï¼Œä½ å†ä¹Ÿä¸éœ€è¦å†™Classäº†ï¼Œä½ çš„æ‰€æœ‰ç»„ä»¶éƒ½å°†æ˜¯Functionã€‚</p><p>ä½ è¿˜åœ¨ä¸ºæä¸æ¸…ä½¿ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°è€Œæ—¥å¤œéš¾çœ å—ï¼Ÿâ€”â€” æ‹¥æœ‰äº†Hooksï¼Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å¯ä»¥å…ˆä¸¢ä¸€è¾¹äº†ã€‚</p><p>ä½ åœ¨è¿˜åœ¨ä¸ºç»„ä»¶ä¸­çš„thisæŒ‡å‘è€Œæ™•å¤´è½¬å‘å—ï¼Ÿâ€”â€” æ—¢ç„¶Classéƒ½ä¸¢æ‰äº†ï¼Œå“ªé‡Œè¿˜æœ‰thisï¼Ÿä½ çš„äººç”Ÿç¬¬ä¸€æ¬¡ä¸å†éœ€è¦é¢å¯¹thisã€‚</p><hr><a id="more"></a><h2 id="Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ"><a href="#Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ" class="headerlink" title="Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ"></a>Reactä¸ºä»€ä¹ˆè¦æä¸€ä¸ªHooksï¼Ÿ</h2><p><strong><em>æƒ³è¦å¤ç”¨ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶å¤ªéº»çƒ¦äº†ï¼</em></strong>æˆ‘ä»¬éƒ½çŸ¥é“reactçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå°†ä¸€ä¸ªé¡µé¢æ‹†æˆä¸€å †ç‹¬ç«‹çš„ï¼Œå¯å¤ç”¨çš„ç»„ä»¶ï¼Œå¹¶ä¸”ç”¨è‡ªä¸Šè€Œä¸‹çš„å•å‘æ•°æ®æµçš„å½¢å¼å°†è¿™äº›ç»„ä»¶ä¸²è”èµ·æ¥ã€‚ä½†å‡å¦‚ä½ åœ¨å¤§å‹çš„å·¥ä½œé¡¹ç›®ä¸­ç”¨reactï¼Œä½ ä¼šå‘ç°ä½ çš„é¡¹ç›®ä¸­å®é™…ä¸Šå¾ˆå¤šreactç»„ä»¶å†—é•¿ä¸”éš¾ä»¥å¤ç”¨ã€‚å°¤å…¶æ˜¯é‚£äº›å†™æˆclassçš„ç»„ä»¶ï¼Œå®ƒä»¬æœ¬èº«åŒ…å«äº†çŠ¶æ€ï¼ˆstateï¼‰ï¼Œæ‰€ä»¥å¤ç”¨è¿™ç±»ç»„ä»¶å°±å˜å¾—å¾ˆéº»çƒ¦ã€‚</p><p>é‚£ä¹‹å‰ï¼Œå®˜æ–¹æ¨èæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼š<a href="https://reactjs.org/docs/render-props.html" target="_blank" rel="noopener">æ¸²æŸ“å±æ€§ï¼ˆRender Propsï¼‰</a>å’Œ<a href="https://reactjs.org/docs/higher-order-components.html" target="_blank" rel="noopener">é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Componentsï¼‰</a>ã€‚</p><h3 id="æ¸²æŸ“å±æ€§"><a href="#æ¸²æŸ“å±æ€§" class="headerlink" title="æ¸²æŸ“å±æ€§"></a>æ¸²æŸ“å±æ€§</h3><p>æ¸²æŸ“å±æ€§æŒ‡çš„æ˜¯ä½¿ç”¨ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„propæ¥ä¼ é€’éœ€è¦åŠ¨æ€æ¸²æŸ“çš„nodesæˆ–ç»„ä»¶ã€‚å¦‚ä¸‹é¢çš„ä»£ç å¯ä»¥çœ‹åˆ°DataProviderç»„ä»¶åŒ…å«äº†æ‰€æœ‰è·ŸçŠ¶æ€ç›¸å…³çš„ä»£ç ï¼Œè€ŒCatç»„ä»¶åˆ™å¯ä»¥æ˜¯ä¸€ä¸ªå•çº¯çš„å±•ç¤ºå‹ç»„ä»¶ï¼Œè¿™æ ·ä¸€æ¥DataProviderå°±å¯ä»¥å•ç‹¬å¤ç”¨äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Cat <span class="keyword">from</span> <span class="string">'components/cat'</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataProvider</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123; <span class="attr">target</span>: <span class="string">'Zac'</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;<span class="keyword">this</span>.props.render(<span class="keyword">this</span>.state)&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;DataProvider render=&#123;data =&gt; (</span></span><br><span class="line"><span class="regexp">  &lt;Cat target=&#123;data.target&#125; /</span>&gt;</span><br><span class="line">)&#125;/&gt;</span><br></pre></td></tr></table></figure><p>è™½ç„¶è¿™ä¸ªæ¨¡å¼å«Render Propsï¼Œä½†ä¸æ˜¯è¯´éç”¨ä¸€ä¸ªå«renderçš„propsä¸å¯ï¼Œä¹ æƒ¯ä¸Šå¤§å®¶æ›´å¸¸å†™æˆä¸‹é¢è¿™ç§ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;DataProvider&gt;</span><br><span class="line">  &#123;data =&gt; (</span><br><span class="line">    &lt;Cat target=&#123;data.target&#125; /&gt;</span><br><span class="line">  )&#125;</span><br><span class="line">&lt;<span class="regexp">/DataProvider&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="å…¶ä»–ğŸŒ°"><a href="#å…¶ä»–ğŸŒ°" class="headerlink" title="å…¶ä»–ğŸŒ°"></a>å…¶ä»–ğŸŒ°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GithubProfile</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">PureComponent</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  state: IStates = &#123;</span><br><span class="line">    profile: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">          profile: res</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">        &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">        &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">        &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå…¶å®ƒé¡µé¢ä¹Ÿæœ‰ç›¸åŒçš„éœ€æ±‚ï¼Œæˆ–è€…æ•°æ®ä¸€æ ·ï¼Œä»…ä»… UI ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿå…¶å®è¿™ä¸ªé—®é¢˜ç›®çš„å¾ˆç®€å•ï¼Œé‚£å°±æ˜¯ï¼šå¦‚ä½•å®ç°ä»£ç å¤ç”¨ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Render Props</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Profile</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props:IProps) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props)</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      profile: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">          profile: res</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">React.Fragment</span>&gt;</span>&#123;this.props.children(profile)&#125;<span class="tag">&lt;/<span class="name">React.Fragment</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>å®šä¹‰ props æ¸²æŸ“å‡½æ•°ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProfileRenderProps</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">PureComponent</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;Profile&gt;</span><br><span class="line">        &#123;(profile:any) =&gt; (</span><br><span class="line">          &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">            &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">            &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">            &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>div&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;<span class="regexp">/Profile&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure></p><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>å›è°ƒåœ°ç‹±</li></ul><h3 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h3><p>è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç»è¿‡ä¸€ç³»åˆ—åŠ å·¥åï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚</p><p>çœ‹ä¸ªæ —å­<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> withUser = <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> user = sessionStorage.getItem(<span class="string">"user"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">props</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> <span class="attr">user</span>=<span class="string">&#123;user&#125;</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> UserPage = <span class="function"><span class="params">props</span> =&gt;</span> (</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"user-container"</span>&gt;</span><br><span class="line">    &lt;p&gt;My name is &#123;props.user&#125;!&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> withUser(UserPage);</span><br></pre></td></tr></table></figure><code>withUser</code>å‡½æ•°å°±æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å…·æœ‰äº†å®ƒæä¾›çš„è·å–ç”¨æˆ·ä¿¡æ¯çš„åŠŸèƒ½ã€‚ä½†æ˜¯è¿™ä¸¤ç§æ¨¡å¼ä¼šå¢åŠ ä»£ç çš„å±‚çº§å…³ç³»ï¼Œè€Œhooksç®€æ´å¤šäº†ï¼Œæ²¡æœ‰å¤šä½™çš„å±‚çº§åµŒå¥—ï¼ŒæŠŠå„ç§æƒ³è¦çš„åŠŸèƒ½å†™æˆä¸€ä¸ªä¸€ä¸ªå¯å¤ç”¨çš„è‡ªå®šä¹‰hookï¼Œå½“ä½ çš„ç»„ä»¶æƒ³ç”¨ä»€ä¹ˆåŠŸèƒ½æ—¶ï¼Œç›´æ¥åœ¨ç»„ä»¶é‡Œè°ƒç”¨è¿™ä¸ªhookå³å¯ã€‚</p><p><strong><em>ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œçš„é€»è¾‘å¤ªä¹±äº†å§ï¼</em></strong>æˆ‘ä»¬é€šå¸¸å¸Œæœ›ä¸€ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹æƒ…ï¼Œä½†æˆ‘ä»¬çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°é‡Œé€šå¸¸åŒæ—¶åšäº†å¾ˆå¤šäº‹æƒ…ã€‚æ¯”å¦‚æˆ‘ä»¬éœ€è¦åœ¨componentDidMountä¸­å‘èµ·ajaxè¯·æ±‚è·å–æ•°æ®ï¼Œç»‘å®šä¸€äº›äº‹ä»¶ç›‘å¬ç­‰ç­‰ã€‚åŒæ—¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦åœ¨componentDidUpdateåšä¸€éåŒæ ·çš„äº‹æƒ…ã€‚å½“é¡¹ç›®å˜å¤æ‚åï¼Œè¿™ä¸€å—çš„ä»£ç ä¹Ÿå˜å¾—ä¸é‚£ä¹ˆç›´è§‚ã€‚</p><p><strong><em>classçœŸçš„å¤ªè®©äººå›°æƒ‘äº†ï¼</em></strong>æˆ‘ä»¬ç”¨classæ¥åˆ›å»ºreactç»„ä»¶æ—¶ï¼Œè¿˜æœ‰ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œå°±æ˜¯thisçš„æŒ‡å‘é—®é¢˜ã€‚ä¸ºäº†ä¿è¯thisçš„æŒ‡å‘æ­£ç¡®ï¼Œæˆ‘ä»¬è¦ç»å¸¸å†™è¿™æ ·çš„ä»£ç ï¼š<code>this.handleClick = this.handleClick.bind(this)</code>ï¼Œæˆ–è€…æ˜¯è¿™æ ·çš„ä»£ç ï¼š<code>&lt;button onClick={() =&gt; this.handleClick(e)}&gt;</code>ã€‚ä¸€æ—¦æˆ‘ä»¬ä¸å°å¿ƒå¿˜äº†ç»‘å®šthisï¼Œå„ç§bugå°±éšä¹‹è€Œæ¥ï¼Œå¾ˆéº»çƒ¦ã€‚</p><p>è¿˜æœ‰å°±æ˜¯æ— çŠ¶æ€ç»„ä»¶å› ä¸ºéœ€æ±‚çš„å˜åŠ¨éœ€è¦æœ‰è‡ªå·±çš„stateï¼Œåˆå¾—å¾ˆéº»çƒ¦çš„æ”¹æˆclassç»„ä»¶ã€‚</p><p>åœ¨ React 16.8 ä¹‹å‰ function æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>function ç»„ä»¶ä¸å¾—ä¸è¿”å›ä¸€äº› UI ä¿¡æ¯ï¼Œå³ JSX ä»£ç </li><li><p>function ç»„ä»¶å†…éƒ¨ä¸èƒ½æ‹¥æœ‰ state</p></li><li><p>Hooks è®©å‡½æ•°å¼ç»„ä»¶æ‹¥æœ‰ç±»ç»„ä»¶ä¸€æ ·çš„åŠŸèƒ½ï¼Œstate ï¼Œlifecycle ä»¥åŠ contextã€‚</p></li><li>Hooks ä¸æ˜¯ React çš„æ–°åŠŸèƒ½ï¼Œå¯ä»¥å°†å®ƒç†è§£ä¸ºä¸€ä¸ªâ€œé’©å­â€ï¼Œå¯ä»¥è®©ä½ åœ¨ä¸å†™ç±»ç»„ä»¶çš„æƒ…å†µä¸‹â€œå‹¾ä½â€React çš„æ‰€æœ‰åŠŸèƒ½ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// withGithubProfile</span></span><br><span class="line"><span class="keyword">const</span> withGithubProfile = <span class="function">(<span class="params">WrappedComponent:any</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props:IProps) &#123;</span><br><span class="line">      <span class="keyword">super</span>(props)</span><br><span class="line">      <span class="keyword">this</span>.state = &#123;</span><br><span class="line">        profile: &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">      fetch(<span class="string">'https://api.github.com/users/cosyer'</span>)</span><br><span class="line">        .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> response.json()</span><br><span class="line">        &#125;)</span><br><span class="line">        .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            profile: res</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.state</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> <span class="attr">profile</span>=<span class="string">&#123;profile&#125;</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼•å…¥é«˜é˜¶ç»„ä»¶ï¼Œä½¿ç”¨å…¶profile<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GithubProfileHoc</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">IProps</span>, <span class="title">IStates</span>&gt; </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; profile &#125; = <span class="keyword">this</span>.props</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"profile"</span>&gt;</span><br><span class="line">        &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">        &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;div&gt;followers: &#123;profile.followers&#125;&lt;/</span>div&gt;</span><br><span class="line">        &lt;div&gt;following: &#123;profile.following&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> WithGithubProfile(GithubProfileHoc)</span><br></pre></td></tr></table></figure></p><h4 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>ä½¿ç”¨å¤šä¸ªé«˜é˜¶ç»„ä»¶æ—¶ï¼Œæ— æ³•ç¡®å®š props æ¥æº</li><li>ç›¸åŒçš„ props ä¼šå­˜åœ¨è¦†ç›–çš„æƒ…å†µ</li><li>å¢åŠ è°ƒè¯•éš¾åº¦</li></ul><h2 id="State-Hooks"><a href="#State-Hooks" class="headerlink" title="State Hooks"></a>State Hooks</h2><h3 id="çŠ¶æ€ç»„ä»¶"><a href="#çŠ¶æ€ç»„ä»¶" class="headerlink" title="çŠ¶æ€ç»„ä»¶"></a>çŠ¶æ€ç»„ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;p&gt;You clicked &#123;<span class="keyword">this</span>.state.count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button onClick=&#123;() =&gt; this.setState(&#123; count: this.state.count + 1 &#125;)&#125;&gt;</span></span><br><span class="line"><span class="regexp">          Click me</span></span><br><span class="line"><span class="regexp">        &lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="hooksæ”¹é€ "><a href="#hooksæ”¹é€ " class="headerlink" title="hooksæ”¹é€ "></a>hooksæ”¹é€ </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>æ˜¯ä¸æ˜¯ç®€å•å¤šäº†ï¼å¯ä»¥çœ‹åˆ°ï¼ŒExampleå˜æˆäº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†è¿™ä¸ªå‡½æ•°å´æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ˆcountï¼‰ï¼ŒåŒæ—¶å®ƒè¿˜å¯ä»¥æ›´æ–°è‡ªå·±çš„çŠ¶æ€ï¼ˆsetCountï¼‰ã€‚</p><p>é™¤äº†<code>useState</code>è¿™ä¸ªhookå¤–ï¼Œè¿˜æœ‰å¾ˆå¤šåˆ«çš„hookï¼Œæ¯”å¦‚<code>useEffect</code>æä¾›äº†ç±»ä¼¼äº<code>componentDidMount</code>ç­‰ç”Ÿå‘½å‘¨æœŸé’©å­çš„åŠŸèƒ½ï¼Œ<code>useContext</code>æä¾›äº†ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰çš„åŠŸèƒ½ç­‰ç­‰ã€‚</p><p><code>useState</code>æ˜¯reactè‡ªå¸¦çš„ä¸€ä¸ªhookå‡½æ•°ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ç”¨æ¥å£°æ˜çŠ¶æ€å˜é‡ã€‚useStateè¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯æˆ‘ä»¬çš„çŠ¶æ€åˆå§‹å€¼ï¼ˆinitial stateï¼‰ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„ç¬¬[0]é¡¹æ˜¯å½“å‰çš„çŠ¶æ€å€¼ï¼Œç¬¬[1]é¡¹æ˜¯å¯ä»¥æ”¹å˜çŠ¶æ€å€¼çš„æ–¹æ³•å‡½æ•°ã€‚</p><p>å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨setCountå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯ä¿®æ”¹è¿‡çš„æ–°çŠ¶æ€å€¼ã€‚æ¥ä¸‹æ¥çš„äº‹æƒ…å°±äº¤ç»™reactäº†ï¼Œreactå°†ä¼šé‡æ–°æ¸²æŸ“æˆ‘ä»¬çš„Exampleç»„ä»¶ï¼Œå¹¶ä¸”ä½¿ç”¨çš„æ˜¯æ›´æ–°åçš„æ–°çš„çŠ¶æ€ï¼Œå³count=1ã€‚Exampleæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œä¸ºä»€ä¹ˆå®ƒå¯ä»¥è®°ä½ä¹‹å‰çš„çŠ¶æ€ï¼ŸExampleå‡½æ•°æ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œéƒ½æ˜¯æ‹¿çš„ä¸Šä¸€æ¬¡æ‰§è¡Œå®Œçš„çŠ¶æ€å€¼ä½œä¸ºåˆå§‹å€¼ï¼Ÿ</p><h3 id="ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼"><a href="#ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼" class="headerlink" title="ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼"></a>ç»„ä»¶æœ‰å¤šä¸ªçŠ¶æ€å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleWithManyStates</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [age, setAge] = useState(<span class="number">42</span>);</span><br><span class="line">  <span class="keyword">const</span> [fruit, setFruit] = useState(<span class="string">'banana'</span>);</span><br><span class="line">  <span class="keyword">const</span> [todos, setTodos] = useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>useState</code>æ¥æ”¶çš„åˆå§‹å€¼æ²¡æœ‰è§„å®šä¸€å®šè¦æ˜¯<code>string/number/boolean</code>è¿™ç§ç®€å•æ•°æ®ç±»å‹ï¼Œå®ƒå®Œå…¨å¯ä»¥æ¥æ”¶å¯¹è±¡æˆ–è€…æ•°ç»„ä½œä¸ºå‚æ•°ã€‚å”¯ä¸€éœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œä¹‹å‰æˆ‘ä»¬çš„<code>this.setState</code>åšçš„æ˜¯åˆå¹¶çŠ¶æ€åè¿”å›ä¸€ä¸ªæ–°çŠ¶æ€ï¼Œè€Œ<code>useState</code>æ˜¯ç›´æ¥æ›¿æ¢è€çŠ¶æ€åè¿”å›æ–°çŠ¶æ€ã€‚æœ€åï¼Œreactä¹Ÿç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>useReducer</code>çš„hookï¼Œå¦‚æœä½ æ›´å–œæ¬¢reduxå¼çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆçš„è¯ã€‚</p><p>ä»<code>ExampleWithManyStates</code>å‡½æ•°æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ<code>useState</code>æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ï¼Œç›¸äº’ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ã€‚å…¶å®æˆ‘ä»¬çœ‹hookçš„â€œå½¢æ€â€ï¼Œæœ‰ç‚¹ç±»ä¼¼ä¹‹å‰è¢«å®˜æ–¹å¦å®šæ‰çš„<code>Mixins</code>è¿™ç§æ–¹æ¡ˆï¼Œéƒ½æ˜¯æä¾›ä¸€ç§â€œæ’æ‹”å¼çš„åŠŸèƒ½æ³¨å…¥â€çš„èƒ½åŠ›ã€‚è€Œ<code>Mixins</code>ä¹‹æ‰€ä»¥è¢«å¦å®šï¼Œæ˜¯å› ä¸º<code>Mixins</code>æœºåˆ¶æ˜¯è®©å¤šä¸ªMixinså…±äº«ä¸€ä¸ªå¯¹è±¡çš„æ•°æ®ç©ºé—´ï¼Œè¿™æ ·å°±å¾ˆéš¾ç¡®ä¿ä¸åŒ<code>Mixins</code>ä¾èµ–çš„çŠ¶æ€ä¸å‘ç”Ÿå†²çªã€‚ä¸åŒç»„ä»¶è°ƒç”¨åŒä¸€ä¸ªhookä¹Ÿèƒ½ä¿è¯å„è‡ªçŠ¶æ€çš„ç‹¬ç«‹æ€§ï¼Œè¿™å°±æ˜¯ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«ã€‚</p><h3 id="reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ"><a href="#reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ" class="headerlink" title="reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ"></a>reactæ˜¯æ€ä¹ˆä¿è¯å¤šä¸ªuseStateçš„ç›¸äº’ç‹¬ç«‹çš„ï¼Ÿ</h3><p>çœ‹ä¸Šé¢ç»™å‡ºçš„<code>ExampleWithManyStates</code>ä¾‹å­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†ä¸‰æ¬¡<code>useState</code>ï¼Œæ¯æ¬¡æˆ‘ä»¬ä¼ çš„å‚æ•°åªæ˜¯ä¸€ä¸ªå€¼ï¼ˆå¦‚42ï¼Œâ€˜bananaâ€™ï¼‰ï¼Œæˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰å‘Šè¯‰reactè¿™äº›å€¼å¯¹åº”çš„keyæ˜¯å“ªä¸ªï¼Œé‚£reactæ˜¯æ€ä¹ˆä¿è¯è¿™ä¸‰ä¸ªuseStateæ‰¾åˆ°å®ƒå¯¹åº”çš„stateå‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//å°†ageåˆå§‹åŒ–ä¸º42</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//å°†fruitåˆå§‹åŒ–ä¸ºbanana</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒæ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡ageçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°42ç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡fruitçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°bananaç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯ï¼Œreactæ˜¯æ ¹æ®<code>useState</code>å‡ºç°çš„é¡ºåºæ¥å®šçš„ã€‚æˆ‘ä»¬å…·ä½“æ¥çœ‹ä¸€ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> showFruit = <span class="literal">true</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleWithManyStates</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [age, setAge] = useState(<span class="number">42</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(showFruit) &#123;</span><br><span class="line">    <span class="keyword">const</span> [fruit, setFruit] = useState(<span class="string">'banana'</span>);</span><br><span class="line">    showFruit = <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">const</span> [todos, setTodos] = useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//å°†ageåˆå§‹åŒ–ä¸º42</span></span><br><span class="line">useState(<span class="string">'banana'</span>);  <span class="comment">//å°†fruitåˆå§‹åŒ–ä¸ºbanana</span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒæ¬¡æ¸²æŸ“</span></span><br><span class="line">useState(<span class="number">42</span>);  <span class="comment">//è¯»å–çŠ¶æ€å˜é‡ageçš„å€¼ï¼ˆè¿™æ—¶å€™ä¼ çš„å‚æ•°42ç›´æ¥è¢«å¿½ç•¥ï¼‰</span></span><br><span class="line"><span class="comment">// useState('banana');  </span></span><br><span class="line">useState([&#123; <span class="attr">text</span>: <span class="string">'Learn Hooks'</span> &#125;]); <span class="comment">//è¯»å–åˆ°çš„å´æ˜¯çŠ¶æ€å˜é‡fruitçš„å€¼ï¼Œå¯¼è‡´æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥reactè§„å®šæˆ‘ä»¬å¿…é¡»æŠŠhookså†™åœ¨å‡½æ•°çš„æœ€å¤–å±‚ï¼Œä¸èƒ½å†™åœ¨ifelseç­‰æ¡ä»¶è¯­å¥å½“ä¸­ï¼Œæ¥ç¡®ä¿hooksçš„æ‰§è¡Œé¡ºåºä¸€è‡´ã€‚</p><h2 id="Effect-Hooks"><a href="#Effect-Hooks" class="headerlink" title="Effect Hooks"></a>Effect Hooks</h2><p>åŒæ ·æ˜¯ä¸Šä¸ªæ —å­ï¼Œä¿ºä»¬å¢åŠ ä¸€ä¸ªæ–°åŠŸèƒ½ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç±»ä¼¼äºcomponentDidMount å’Œ componentDidUpdate:</span></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°æ–‡æ¡£çš„æ ‡é¢˜</span></span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        Click me</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>æˆ‘ä»¬å†™çš„æœ‰çŠ¶æ€ç»„ä»¶ï¼Œé€šå¸¸ä¼šäº§ç”Ÿå¾ˆå¤šçš„å‰¯ä½œç”¨ï¼ˆside effectï¼‰ï¼Œæ¯”å¦‚å‘èµ·ajaxè¯·æ±‚è·å–æ•°æ®ï¼Œæ·»åŠ ä¸€äº›ç›‘å¬çš„æ³¨å†Œå’Œå–æ¶ˆæ³¨å†Œï¼Œæ‰‹åŠ¨ä¿®æ”¹domç­‰ç­‰ã€‚æˆ‘ä»¬ä¹‹å‰éƒ½æŠŠè¿™äº›å‰¯ä½œç”¨çš„å‡½æ•°å†™åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°é’©å­é‡Œï¼Œæ¯”å¦‚<code>componentDidMount</code>ï¼Œ<code>componentDidUpdate</code>å’Œ<code>componentWillUnmount</code>ã€‚è€Œç°åœ¨çš„useEffectå°±ç›¸å½“ä¸è¿™äº›å£°æ˜å‘¨æœŸå‡½æ•°é’©å­çš„é›†åˆä½“ã€‚å®ƒä»¥ä¸€æŠµä¸‰ï¼Œå‰å®³äº†ï¼</p><p>åŒæ—¶ï¼Œç”±äºå‰æ–‡æ‰€è¯´hookså¯ä»¥åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œç›¸äº’ç‹¬ç«‹ã€‚æ‰€ä»¥æˆ‘ä»¬åˆç†çš„åšæ³•æ˜¯ï¼Œç»™æ¯ä¸€ä¸ªå‰¯ä½œç”¨ä¸€ä¸ªå•ç‹¬çš„useEffecté’©å­ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™äº›å‰¯ä½œç”¨ä¸å†ä¸€è‚¡è„‘å †åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œï¼Œä»£ç å˜å¾—æ›´åŠ æ¸…æ™°ã€‚</p><h3 id="useEffectåšäº†ä»€ä¹ˆï¼Ÿ"><a href="#useEffectåšäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="useEffectåšäº†ä»€ä¹ˆï¼Ÿ"></a>useEffectåšäº†ä»€ä¹ˆï¼Ÿ</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡countï¼Œå°†å®ƒçš„åˆå§‹å€¼è®¾ä¸º0ã€‚ç„¶åæˆ‘ä»¬å‘Šè¯‰reactï¼Œæˆ‘ä»¬çš„è¿™ä¸ªç»„ä»¶æœ‰ä¸€ä¸ªå‰¯ä½œç”¨ã€‚æˆ‘ä»¬ç»™<code>useEffect hook</code>ä¼ äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°å°±æ˜¯æˆ‘ä»¬çš„å‰¯ä½œç”¨ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬çš„å‰¯ä½œç”¨æ˜¯è°ƒç”¨<code>browser API</code>æ¥ä¿®æ”¹æ–‡æ¡£æ ‡é¢˜ã€‚å½“reactè¦æ¸²æŸ“æˆ‘ä»¬çš„ç»„ä»¶æ—¶ï¼Œå®ƒä¼šå…ˆè®°ä½æˆ‘ä»¬ç”¨åˆ°çš„å‰¯ä½œç”¨ã€‚ç­‰reactæ›´æ–°äº†DOMä¹‹åï¼Œå®ƒå†ä¾æ¬¡æ‰§è¡Œæˆ‘ä»¬å®šä¹‰çš„å‰¯ä½œç”¨å‡½æ•°ã€‚</p><p>è¿™é‡Œè¦æ³¨æ„ï¼š</p><ol><li><p>reacté¦–æ¬¡æ¸²æŸ“å’Œä¹‹åçš„æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šè°ƒç”¨ä¸€éä¼ ç»™useEffectçš„å‡½æ•°ã€‚è€Œä¹‹å‰æˆ‘ä»¬è¦ç”¨ä¸¤ä¸ªå£°æ˜å‘¨æœŸå‡½æ•°æ¥åˆ†åˆ«è¡¨ç¤ºé¦–æ¬¡æ¸²æŸ“<code>componentDidMount</code>ï¼Œå’Œä¹‹åçš„æ›´æ–°å¯¼è‡´çš„é‡æ–°æ¸²æŸ“<code>componentDidUpdate</code>ã€‚</p></li><li><p><code>useEffect</code>ä¸­å®šä¹‰çš„å‰¯ä½œç”¨å‡½æ•°çš„æ‰§è¡Œä¸ä¼šé˜»ç¢æµè§ˆå™¨æ›´æ–°è§†å›¾ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›å‡½æ•°æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œè€Œä¹‹å‰çš„<code>componentDidMount</code>æˆ–<code>componentDidUpdate</code>ä¸­çš„ä»£ç åˆ™æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚è¿™ç§å®‰æ’å¯¹å¤§å¤šæ•°å‰¯ä½œç”¨è¯´éƒ½æ˜¯åˆç†çš„ï¼Œä½†æœ‰çš„æƒ…å†µé™¤å¤–ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦å…ˆæ ¹æ®DOMè®¡ç®—å‡ºæŸä¸ªå…ƒç´ çš„å°ºå¯¸å†é‡æ–°æ¸²æŸ“ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¸Œæœ›è¿™æ¬¡é‡æ–°æ¸²æŸ“æ˜¯åŒæ­¥å‘ç”Ÿçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šåœ¨æµè§ˆå™¨çœŸçš„å»ç»˜åˆ¶è¿™ä¸ªé¡µé¢å‰å‘ç”Ÿã€‚</p></li></ol><h3 id="useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ"><a href="#useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ" class="headerlink" title="useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ"></a>useEffectæ€ä¹ˆè§£ç»‘ä¸€äº›å‰¯ä½œç”¨ï¼Ÿ</h3><p>è¿™ç§åœºæ™¯å¾ˆå¸¸è§ï¼Œå½“æˆ‘ä»¬åœ¨<code>componentDidMount</code>é‡Œæ·»åŠ äº†ä¸€ä¸ªæ³¨å†Œï¼Œæˆ‘ä»¬å¾—åœ¨<code>componentWillUnmount</code>ä¸­ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶è¢«æ³¨é”€ä¹‹å‰æ¸…é™¤æ‰æˆ‘ä»¬æ·»åŠ çš„æ³¨å†Œï¼Œå¦åˆ™å†…å­˜æ³„æ¼çš„é—®é¢˜å°±å‡ºç°äº†ã€‚</p><p>æ€ä¹ˆæ¸…é™¤å‘¢ï¼Ÿè®©æˆ‘ä»¬ä¼ ç»™<code>useEffect</code>çš„å‰¯ä½œç”¨å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å³å¯ã€‚è¿™ä¸ªæ–°çš„å‡½æ•°å°†ä¼šåœ¨ç»„ä»¶ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“ä¹‹åæ‰§è¡Œã€‚è¿™ç§æ¨¡å¼åœ¨ä¸€äº›pubsubæ¨¡å¼çš„å®ç°ä¸­å¾ˆå¸¸è§ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    <span class="comment">// ä¸€å®šæ³¨æ„ä¸‹è¿™ä¸ªé¡ºåºï¼šå‘Šè¯‰reactåœ¨ä¸‹æ¬¡é‡æ–°æ¸²æŸ“ç»„ä»¶ä¹‹åï¼ŒåŒæ—¶æ˜¯ä¸‹æ¬¡è°ƒç”¨ChatAPI.subscribeToFriendStatusä¹‹å‰æ‰§è¡Œcleanup</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">cleanup</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Loading...'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>è¿™é‡Œæœ‰ä¸€ä¸ªç‚¹éœ€è¦é‡è§†ï¼è¿™ç§è§£ç»‘çš„æ¨¡å¼è·Ÿ<code>componentWillUnmount</code>ä¸ä¸€æ ·ã€‚<code>componentWillUnmount</code>åªä¼šåœ¨ç»„ä»¶è¢«é”€æ¯å‰æ‰§è¡Œä¸€æ¬¡è€Œå·²ï¼Œè€ŒuseEffecté‡Œçš„å‡½æ•°ï¼Œæ¯æ¬¡ç»„ä»¶æ¸²æŸ“åéƒ½ä¼šæ‰§è¡Œä¸€éï¼ŒåŒ…æ‹¬å‰¯ä½œç”¨å‡½æ•°è¿”å›çš„è¿™ä¸ªæ¸…ç†å‡½æ•°ä¹Ÿä¼šé‡æ–°æ‰§è¡Œä¸€éã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼š</p><h3 id="ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦è®©å‰¯ä½œç”¨å‡½æ•°æ¯æ¬¡ç»„ä»¶æ›´æ–°éƒ½æ‰§è¡Œä¸€éï¼Ÿ</h3><p>æˆ‘ä»¬å…ˆçœ‹ä»¥å‰çš„æ¨¡å¼ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  ChatAPI.subscribeToFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentWillUnmount() &#123;</span><br><span class="line">  ChatAPI.unsubscribeFromFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>æˆ‘ä»¬åœ¨<code>componentDidMount</code>æ³¨å†Œï¼Œå†åœ¨<code>componentWillUnmount</code>æ¸…é™¤æ³¨å†Œã€‚ä½†å‡å¦‚è¿™æ—¶å€™props.friend.idå˜äº†æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬ä¸å¾—ä¸å†æ·»åŠ ä¸€ä¸ªcomponentDidUpdateæ¥å¤„ç†è¿™ç§æƒ…å†µï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">componentDidUpdate(prevProps) &#123;</span><br><span class="line">  <span class="comment">// å…ˆæŠŠä¸Šä¸€ä¸ªfriend.idè§£ç»‘</span></span><br><span class="line">  ChatAPI.unsubscribeFromFriendStatus(</span><br><span class="line">    prevProps.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">  <span class="comment">// å†é‡æ–°æ³¨å†Œæ–°ä½†friend.id</span></span><br><span class="line">  ChatAPI.subscribeToFriendStatus(</span><br><span class="line">    <span class="keyword">this</span>.props.friend.id,</span><br><span class="line">    <span class="keyword">this</span>.handleStatusChange</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>å¾ˆç¹çï¼Œè€Œæˆ‘ä»¬ä½†<code>useEffect</code>åˆ™æ²¡è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒåœ¨æ¯æ¬¡ç»„ä»¶æ›´æ–°åéƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€éã€‚æ‰€ä»¥ä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.é¡µé¢é¦–æ¬¡æ¸²æŸ“</span><br><span class="line">2.æ›¿friend.id&#x3D;1çš„æœ‹å‹æ³¨å†Œ</span><br><span class="line"></span><br><span class="line">3.çªç„¶friend.idå˜æˆäº†2</span><br><span class="line">4.é¡µé¢é‡æ–°æ¸²æŸ“</span><br><span class="line">5.æ¸…é™¤friend.id&#x3D;1çš„ç»‘å®š</span><br><span class="line">6.æ›¿friend.id&#x3D;2çš„æœ‹å‹æ³¨å†Œ</span><br></pre></td></tr></table></figure></p><h3 id="æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ"><a href="#æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ" class="headerlink" title="æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ"></a>æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„å‰¯ä½œç”¨å‡½æ•°ï¼Ÿ</h3><p>æŒ‰ç…§ä¸Šä¸€èŠ‚çš„æ€è·¯ï¼Œæ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½è¦æ‰§è¡Œä¸€éè¿™äº›å‰¯ä½œç”¨å‡½æ•°ï¼Œæ˜¾ç„¶æ˜¯ä¸ç»æµçš„ã€‚æ€ä¹ˆè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„è®¡ç®—å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦ç»™useEffectä¼ ç¬¬äºŒä¸ªå‚æ•°å³å¯ã€‚ç”¨ç¬¬äºŒä¸ªå‚æ•°æ¥å‘Šè¯‰reactåªæœ‰å½“è¿™ä¸ªå‚æ•°çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰æ‰§è¡Œæˆ‘ä»¬ä¼ çš„å‰¯ä½œç”¨å‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">&#125;, [count]); <span class="comment">// åªæœ‰å½“countçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°æ‰§è¡Œ`document.title`è¿™ä¸€å¥</span></span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ç¬¬äºŒä¸ªå‚æ•°ä¼ ä¸€ä¸ªç©ºæ•°ç»„[]æ—¶ï¼Œå…¶å®å°±ç›¸å½“äºåªåœ¨é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯<code>componentDidMount</code>åŠ <code>componentWillUnmount</code>çš„æ¨¡å¼ã€‚ä¸è¿‡è¿™ç§ç”¨æ³•å¯èƒ½å¸¦æ¥bugï¼Œå°‘ç”¨ã€‚</p><h2 id="æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect-Hooks"><a href="#æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect-Hooks" class="headerlink" title="æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect Hooks?"></a>æ€ä¹ˆå†™è‡ªå®šä¹‰çš„Effect Hooks?</h2><p>ä¸ºä»€ä¹ˆè¦è‡ªå·±å»å†™ä¸€ä¸ªEffect Hooks? è¿™æ ·æˆ‘ä»¬æ‰èƒ½æŠŠå¯ä»¥å¤ç”¨çš„é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œå˜æˆä¸€ä¸ªä¸ªå¯ä»¥éšæ„æ’æ‹”çš„â€œæ’é”€â€ï¼Œå“ªä¸ªç»„ä»¶è¦ç”¨æ¥ï¼Œæˆ‘å°±æ’è¿›å“ªä¸ªç»„ä»¶é‡Œï¼Œso easyï¼çœ‹ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œä½ å°±æ˜ç™½äº†ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æŠŠä¸Šé¢å†™çš„FriendStatusç»„ä»¶ä¸­åˆ¤æ–­æœ‹å‹æ˜¯å¦åœ¨çº¿çš„åŠŸèƒ½æŠ½å‡ºæ¥ï¼Œæ–°å»ºä¸€ä¸ªuseFriendStatusçš„hookä¸“é—¨ç”¨æ¥åˆ¤æ–­æŸä¸ªidæ˜¯å¦åœ¨çº¿ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params">friendID</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>è¿™æ—¶å€™FriendStatusç»„ä»¶å°±å¯ä»¥ç®€å†™ä¸ºï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Loading...'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>å‡å¦‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åˆæœ‰ä¸€ä¸ªæœ‹å‹åˆ—è¡¨ä¹Ÿéœ€è¦æ˜¾ç¤ºæ˜¯å¦åœ¨çº¿çš„ä¿¡æ¯ä¹Ÿå¯ä»¥å¤ç”¨ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendListItem</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;li style=&#123;&#123; <span class="attr">color</span>: isOnline ? <span class="string">'green'</span> : <span class="string">'black'</span> &#125;&#125;&gt;</span><br><span class="line">      &#123;props.friend.name&#125;</span><br><span class="line">    &lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>funky!!!</p><p>æ¯”å¦‚è¿˜æœ‰</p><h3 id="useProfile-ä½¿ç”¨-Hooks-å®ç°-API-è¯·æ±‚"><a href="#useProfile-ä½¿ç”¨-Hooks-å®ç°-API-è¯·æ±‚" class="headerlink" title="useProfile ä½¿ç”¨ Hooks å®ç° API è¯·æ±‚"></a>useProfile ä½¿ç”¨ Hooks å®ç° API è¯·æ±‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// useProfile</span></span><br><span class="line"><span class="keyword">const</span> useProfile = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [profile, setProfile] = useState(&#123;&#125; <span class="keyword">as</span> TProfile)</span><br><span class="line">  <span class="keyword">const</span> [loading, setLoading] = useState(<span class="literal">false</span>)</span><br><span class="line">  <span class="keyword">const</span> [isError, setIsError] = useState(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setLoading(<span class="literal">true</span>)</span><br><span class="line">    fetch(<span class="string">'https://api.github.com/users/gaearon'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> response.json()</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        setProfile(res <span class="keyword">as</span> TProfile)</span><br><span class="line">        setIsError(<span class="literal">false</span>)</span><br><span class="line">        setLoading(<span class="literal">false</span>)</span><br><span class="line">      &#125;).catch(<span class="function"><span class="params">()</span>=&gt;</span> &#123;</span><br><span class="line">        setIsError(<span class="literal">true</span>)</span><br><span class="line">        setLoading(<span class="literal">false</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; profile, loading,isError &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>useProfile</code> Hooksï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UseProfilePage = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; profile, loading, isError &#125; = useProfile()</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;React.Fragment&gt;</span><br><span class="line">      &#123;isError ? (</span><br><span class="line">        &lt;div&gt;Network <span class="built_in">Error</span>...&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      ) : (</span></span><br><span class="line"><span class="regexp">        &lt;div className="profile"&gt;</span></span><br><span class="line"><span class="regexp">          &#123;loading ? (</span></span><br><span class="line"><span class="regexp">            &lt;div&gt;loading profile...&lt;/</span>div&gt;</span><br><span class="line">          ) : (</span><br><span class="line">            &lt;React.Fragment&gt;</span><br><span class="line">              &lt;img src=&#123;profile.avatar_url&#125; alt=<span class="string">"avatar"</span> width=<span class="string">"200px"</span> /&gt;</span><br><span class="line">              &lt;div&gt;name: &#123;profile.name&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">              &lt;div&gt;company: &#123;profile.company&#125;&lt;/</span>div&gt;</span><br><span class="line">              &lt;div&gt;bio: &#123;profile.bio&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>React.Fragment&gt;</span><br><span class="line">          )&#125;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      )&#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>React.Fragment&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="useInput-ä½¿ç”¨-Hooks-å®ç°-input-è¾“å…¥é€»è¾‘"><a href="#useInput-ä½¿ç”¨-Hooks-å®ç°-input-è¾“å…¥é€»è¾‘" class="headerlink" title="useInput ä½¿ç”¨ Hooks å®ç° input è¾“å…¥é€»è¾‘"></a>useInput ä½¿ç”¨ Hooks å®ç° input è¾“å…¥é€»è¾‘</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> useInput = <span class="function">(<span class="params">initialValue:string</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(initialValue)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleChange = <span class="function">(<span class="params">e:any</span>) =&gt;</span> &#123;</span><br><span class="line">    setValue(e.target.value)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    value,</span><br><span class="line">    onChange: handleChange</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> useInputDemo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> value = useInput(<span class="string">'KuangPF'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"use-input"</span>&gt;</span><br><span class="line">      &lt;p&gt;current name: &#123;value.value&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;input &#123;...value&#125; /</span>&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h2><p><code>useContext</code> æ˜¯ä¸ºäº†åœ¨ function ç»„ä»¶ä¸­ä½¿ç”¨ç±»ç»„ä»¶çš„ <a href="https://reactjs.org/docs/context.html" target="_blank" rel="noopener">context</a> APIï¼Œä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ª contextï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> local = <span class="string">'ğŸ‡¨ğŸ‡³'</span></span><br><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(local)</span><br></pre></td></tr></table></figure>ç„¶ååœ¨ <code>useContext hook</code> ä½¿ç”¨ contextï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseContextDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> local = useContext(ThemeContext)</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;local: &#123;local&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// render: ğŸ‡¨ğŸ‡³</span></span><br></pre></td></tr></table></figure>åœ¨ class ç»„ä»¶ä¸­ï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹ context çš„å€¼ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ Provider æä¾› value å€¼ï¼ŒåŒæ ·ï¼Œåœ¨ function ç»„ä»¶ä¸­ä¹Ÿå¯ä»¥ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ThemeContext = React.createContext(<span class="string">'ğŸ‡¨ğŸ‡³'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Context</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> local = useContext(ThemeContext)</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>local: &#123;local&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ThemeContext.Provider value=&#123;<span class="string">'ğŸ‡ºğŸ‡¸'</span>&#125;&gt;</span><br><span class="line">      &lt;Context /&gt;</span><br><span class="line">    &lt;<span class="regexp">/ThemeContext.Provider&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ render: ğŸ‡ºğŸ‡¸</span></span><br></pre></td></tr></table></figure></p><h2 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h2><p><code>useReducer</code> æ˜¯ <code>useState</code> çš„ä¸€ç§ä»£æ›¿æ–¹æ¡ˆï¼Œç”¨äº state ä¹‹é—´æœ‰ä¾èµ–å…³ç³»æˆ–è€…æ¯”è¾ƒå¤æ‚çš„åœºæ™¯ã€‚<code>useReducer</code> æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>reducerï¼š(state, action) =&gt; newState</li><li>initialArgï¼š åˆå§‹åŒ–å‚æ•°</li><li>Initï¼š æƒ°æ€§åˆå§‹åŒ–,è¿”å›åˆå§‹åŒ–æ•°æ®</li></ul><p>è¿”å›å½“å‰ state ä»¥åŠé…å¥—çš„ dispatch æ–¹æ³•ã€‚é¦–å…ˆçœ‹ä¸‹ <code>useReducer</code> å¤„ç†ç®€å•çš„ stateï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseReducerDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, dispatch] = useReducer(<span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> state + <span class="number">1</span></span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          dispatch()</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        add</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>è¿™ä¸ªä¾‹å­å’Œä½¿ç”¨ <code>useState</code> ä¸€æ ·ï¼Œéƒ½è¾¾åˆ°äº†è®¡æ•°çš„æ•ˆæœã€‚ è¯¥ä¾‹å­ä¸­ï¼Œ<code>useReducer</code> åˆå§‹åŒ–äº† count å€¼ä¸º 0ï¼Œä¼ å…¥çš„ reducer å¾ˆç®€å•ï¼Œå½“æ¥æ”¶åˆ°ä¸€ä¸ª dispatch æ—¶ï¼Œå°† count çš„å€¼å¢åŠ  1ã€‚</p><h3 id="å¤„ç†-state-æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯"><a href="#å¤„ç†-state-æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯" class="headerlink" title="å¤„ç† state æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯"></a>å¤„ç† state æœ‰ç›¸äº’ä¾èµ–çš„åœºæ™¯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [frozen, setFrozen] = useState(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> increase = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setCount(<span class="function"><span class="params">prevCount</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (frozen) &#123;</span><br><span class="line">        <span class="keyword">return</span> prevCount</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> prevCount + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    increase()</span><br><span class="line">    setFrozen(<span class="literal">true</span>)</span><br><span class="line">    increase()</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>count &#123;count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// render 1</span></span><br></pre></td></tr></table></figure><p>åŸå› åœ¨äº function ç»„ä»¶çš„æ›´æ–°æœºåˆ¶ï¼Œå½“å¼•å…¥ hooks ä»¥åï¼Œfunction ç»„ä»¶ä¹Ÿæ‹¥æœ‰äº† state çš„åŠŸèƒ½ï¼Œå½“æˆ‘ä»¬ setState æ—¶ï¼ŒUI ä¼šé‡æ–°æ¸²æŸ“ï¼Œä½†åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­<strong>function ç»„ä»¶ä¸­ï¼Œstate ä»¥åŠ props éƒ½æ˜¯é™æ€å€¼ï¼Œä¸å­˜åœ¨å¼•ç”¨ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ç†è§£ä¸º state å’Œ props æ˜¯ä¸€ä¸ª capture valueï¼Œæ¯æ¬¡æ¸²æŸ“çš„ state å’Œ props éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚</strong></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”±äº useEffect ä¼ å…¥çš„ä¾èµ–ä¸º []ï¼Œå³è¯¥å‰¯ä½œç”¨åªä¼šåœ¨ UI ç¬¬ä¸€æ¬¡æ¸²æŸ“ç»“æŸåæ‰§è¡Œä¸€æ¬¡ã€‚è€Œåœ¨è¿™æ¬¡ render ä¸­ï¼Œcount çš„å€¼ä¸º 0ï¼Œ frozen å€¼ä¸º falseï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡æ‰§è¡Œ increase æ—¶ï¼Œfrozen å€¼ä¾ç„¶ä¸º falseï¼Œ setCount è¿”å›çš„ prevCount ä¸º 1 ï¼Œç„¶åå¢åŠ  1ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæœ€å render çš„ç»“æœä¸º 2ï¼Œè€Œä¸æ˜¯ 1ã€‚</p><p>å¯¹äº state æœ‰ç›¸äº’ä¾èµ–çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>useReducer</code> æ¥å¤„ç†ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> INCREASE = <span class="string">'INCREASE'</span></span><br><span class="line"><span class="keyword">const</span> SET_FROZEN = <span class="string">'SET_FROZEN'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">  count: <span class="number">0</span>,</span><br><span class="line">  frozen: <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> reducer = <span class="function">(<span class="params">state: any, action: any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">      <span class="keyword">case</span> INCREASE:</span><br><span class="line">        <span class="keyword">if</span> (state.frozen) &#123;</span><br><span class="line">          <span class="keyword">return</span> state</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          ...state,</span><br><span class="line">          count: state.count + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> SET_FROZEN:</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          ...state,</span><br><span class="line">          frozen: action.frozen</span><br><span class="line">        &#125;</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> state</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> [state, dispath] = useReducer(reducer, initialState)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: INCREASE &#125;)</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: SET_FROZEN, <span class="attr">frozen</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    dispath(&#123; <span class="attr">type</span>: INCREASE &#125;)</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>current count: &#123;state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="å¦‚ä½•ç”¨useStateå®ç°useReducer"><a href="#å¦‚ä½•ç”¨useStateå®ç°useReducer" class="headerlink" title="å¦‚ä½•ç”¨useStateå®ç°useReducer"></a>å¦‚ä½•ç”¨useStateå®ç°useReducer</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CountApp = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = useState(&#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">    frozen: <span class="literal">false</span>,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> increase = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (prevState.frozen) &#123;</span><br><span class="line">        <span class="keyword">return</span> prevState;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...prevState,</span><br><span class="line">        count: state.count + <span class="number">1</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> setFrozen = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...prevState,</span><br><span class="line">        frozen: <span class="literal">true</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    increase();</span><br><span class="line">    setFrozen();</span><br><span class="line">    increase();</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>current count: &#123;state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>;</span><br><span class="line">  <span class="comment">// renderï¼š1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>useReducer</code> å’Œ <code>useState</code> ç›¸æ¯”ï¼Œä¼˜åŠ¿åœ¨äºå¯ä»¥å°†ä½¿ç”¨ reducer å°†ä¸€äº›é€»è¾‘è¿›è¡ŒæŠ½ç¦»ï¼Œè¿›è¡Œé›†ä¸­åŒ–ç®¡ç†ã€‚</p><h2 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h2><p><code>useCallback</code> å¯ä»¥ç†è§£ä¸ºå°†å‡½æ•°è¿›è¡Œäº†ç¼“å­˜ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°å’Œä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œåªæœ‰å½“ä¾èµ–æ•°ç»„ä¸­çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¯¥å›è°ƒå‡½æ•°æ‰ä¼šæ›´æ–°ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseCallbackDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleResize = useCallback(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`the current count is: <span class="subst">$&#123;count&#125;</span>`</span>)</span><br><span class="line">  &#125;, [count])</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, handleResize)</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">window</span>.removeEventListener(<span class="string">'resize'</span>, handleResize)</span><br><span class="line">  &#125;, [handleResize])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button</span><br><span class="line">        onClick=&#123;() =&gt; &#123;</span><br><span class="line">          setCount(count + <span class="number">1</span>)</span><br><span class="line">        &#125;&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        click</span><br><span class="line">      &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;current count: &#123;count&#125;&lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>è¯¥ä¾‹å­ä¸­ï¼Œå½“æ”¹å˜ count åï¼Œç„¶åæ”¹å˜æµè§ˆå™¨çª—å£å¤§å°ï¼Œå¯ä»¥è·å–åˆ°æœ€æ–°çš„ count ã€‚å¦‚æœä¼ å…¥çš„ä¾èµ–ä¸º []ï¼ŒhandleResize ä¸ä¼šæ›´æ–°ï¼Œåˆ™æ”¹å˜æµè§ˆå™¨çª—å£æ—¶ï¼Œ count çš„å€¼å§‹ç»ˆä¸º 0 ã€‚</p><h2 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h2><p><code>useMemo</code> å¯¹å€¼è¿›è¡Œäº†ç¼“å­˜ï¼Œä¸ <code>useCallback</code> ç±»ä¼¼ï¼Œæ¥æ”¶ä¸€ä¸ªåˆ›å»ºå€¼çš„å‡½æ•°å’Œä¸€ä¸ªä¾èµ–æ•°ç»„ï¼Œå®ƒä»…ä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®— memoized å€¼ï¼Œè¿™ç§ä¼˜åŒ–æœ‰åŠ©äºé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseMemoDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(<span class="string">''</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> useMemoChild = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">count</span>=<span class="string">&#123;count&#125;</span> /&gt;</span></span>, [count])</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;&#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          setCount(count + 1)</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        click</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">      &lt;br /&gt;</span><br><span class="line">      &lt;input value=&#123;value&#125; onChange=&#123;e =&gt; setValue(e.target.value)&#125; /&gt;</span><br><span class="line">      &#123;useMemoChild&#125;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function Child(&#123; count &#125;: &#123; count: number &#125;) &#123;</span></span><br><span class="line"><span class="regexp">  console.log('child render')</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;Fragment&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p&gt;useMemo hooks&lt;/</span>p&gt;</span><br><span class="line">      &lt;p&gt;child count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>Fragment&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥ä¾‹å­ä¸­ï¼ŒUseMemoDemo ç»„ä»¶å¼•ç”¨äº† Child ç»„ä»¶ï¼Œåœ¨ UseMemoDemo ç»„ä»¶ä¸­ï¼Œå®šä¹‰äº† count å’Œ value ä¸¤ä¸ª stateï¼Œå¦‚æœä¸ä½¿ç”¨ <code>useMemo</code>ï¼Œé‚£ä¹ˆæ¯å½“ UseMemoDemo ä¸­ input å‘ç”Ÿæ”¹å˜æ—¶ï¼ŒChild ç»„ä»¶å°±ä¼šé‡æ–°æ¸²æŸ“ã€‚ä½† Child ç»„ä»¶ UI åªå’Œ count æœ‰å…³ï¼Œé‚£ä¹ˆè¿™æ ·å°±ä¼šé€ æˆ Child ç»„ä»¶æ— æ•ˆæ›´æ–°ï¼Œå› æ­¤å°±å¼•å…¥äº† <code>useMemo</code>ï¼Œå°† count ä½œä¸ºä¾èµ–ä¼ å…¥ï¼Œè¿™æ ·åªæœ‰å½“ count å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œ Child ç»„ä»¶æ‰ä¼šé‡æ–°æ¸²æŸ“ã€‚</p><h2 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h2><p><code>useRef</code> è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ .current å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•° ï¼ˆinitialValueï¼‰ã€‚è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚åœ¨ function ç»„ä»¶ä¸­ï¼Œ ä½¿ç”¨ <code>useRef</code> ä¸»è¦å¯ä»¥å®Œæˆä»¥ä¸‹ä¸¤ä»¶äº‹ï¼š</p><ol><li>è·å– dom ç»“æ„</li><li>ä¿å­˜å˜é‡</li></ol><p>å…ˆçœ‹ä¸€ä¸ªè·å– dom èŠ‚ç‚¹, ç‚¹å‡» button æ—¶ï¼Œinput èšç„¦ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UseRefDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef(<span class="literal">null</span> <span class="keyword">as</span> any)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleFocusInput = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    inputRef.current.focus()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input ref=&#123;inputRef&#125; /&gt;</span><br><span class="line">      &lt;button onClick=&#123;handleFocusInput&#125;&gt;click focus&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>å®˜æ–¹demo<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>)</span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;Click me&lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>å¦‚æœæˆ‘ä»¬ 3s ç‚¹å¤šæ¬¡ç‚¹å‡» buttonï¼Œé‚£ä¹ˆæ§åˆ¶å°è¾“å‡ºçš„ç»“æœä¼šæ˜¯ 0,1,2,3â€¦ï¼Œ è¿™æ˜¯ç”±äºæ¯æ¬¡æ¸²æŸ“æ—¶ count çš„å€¼éƒ½æ˜¯å›ºå®šçš„ã€‚ä½†ç±»ä¼¼çš„é€»è¾‘åœ¨ class ç»„ä»¶ä¸­è¡¨ç°ä¸ä¸€æ ·ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">componentDidUpdate() &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;<span class="keyword">this</span>.state.count&#125;</span> times`</span>);</span><br><span class="line">  &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>åœ¨ class ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬åœ¨ 3s å†…å¤šæ¬¡ç‚¹å‡» buttonï¼Œæœ€ååœ¨æ§åˆ¶å°è¾“å‡ºçš„ç»“æœæ˜¯æœ€åä¸€æ¬¡ count æ›´æ–°çš„å€¼ã€‚è€Œåœ¨ function ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>useRef</code>å®ç°è¿™ä¸ªæ•ˆæœ <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useRefDemo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">const</span> countRef = useRef(count)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    countRef.current = count</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;countRef.current&#125;</span> times`</span>)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;, [count])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;count: &#123;count&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">      &lt;button</span></span><br><span class="line"><span class="regexp">        onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">          setCount(count + 1)</span></span><br><span class="line"><span class="regexp">        &#125;&#125;</span></span><br><span class="line"><span class="regexp">      &gt;</span></span><br><span class="line"><span class="regexp">        click</span></span><br><span class="line"><span class="regexp">      &lt;/</span>button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>useRef è¿”å›çš„å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ï¼Œæ¯æ¬¡æ¸²æŸ“æ—¶è¿”å›çš„æ˜¯åŒä¸€ä¸ªrefå¯¹è±¡ï¼Œå› æ­¤ countRef.current å§‹ç»ˆæ˜¯æœ€æ–°çš„ count å€¼ã€‚</p><h2 id="useImperativeHandle"><a href="#useImperativeHandle" class="headerlink" title="useImperativeHandle"></a>useImperativeHandle</h2><p><code>useImperativeHandle</code> å¯ä»¥è®©ä½ åœ¨ä½¿ç”¨ ref æ—¶ï¼Œè‡ªå®šä¹‰æš´éœ²ç»™çˆ¶ç»„ä»¶çš„å®ä¾‹å€¼ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”å½“é¿å…ä½¿ç”¨ ref è¿™æ ·çš„å‘½ä»¤å¼ä»£ç ã€‚<code>useImperativeHandle</code> åº”å½“ä¸ <code>forwardRef</code> ä¸€èµ·ä½¿ç”¨ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyInput</span>(<span class="params">props, ref</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef(<span class="literal">null</span> <span class="keyword">as</span> any)</span><br><span class="line">  useImperativeHandle(ref, () =&gt; (&#123;</span><br><span class="line">    focus: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      inputRef.current.focus()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;))</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> FancyInputRef = forwardRef(FancyInput)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useImperativeHandleDemo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> inputRef = useRef(<span class="literal">null</span> <span class="keyword">as</span> any)</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    inputRef.current.focus()</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">FancyInputRef</span> <span class="attr">ref</span>=<span class="string">&#123;inputRef&#125;</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h2><p>å…¶å‡½æ•°ç­¾å ä¸ <code>useEffect</code> ç›¸åŒï¼Œä½†å®ƒä¼šåœ¨æ‰€æœ‰çš„ DOM å˜æ›´ä¹‹ååŒæ­¥è°ƒç”¨ effectã€‚å¯ä»¥ä½¿ç”¨å®ƒæ¥è¯»å– DOM å¸ƒå±€å¹¶åŒæ­¥è§¦å‘é‡æ¸²æŸ“ã€‚åœ¨æµè§ˆå™¨æ‰§è¡Œç»˜åˆ¶ä¹‹å‰ï¼Œ<code>useLayoutEffect</code> å†…éƒ¨çš„æ›´æ–°è®¡åˆ’å°†è¢«åŒæ­¥åˆ·æ–°ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> BlinkyRender = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [value, setValue] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value === <span class="number">0</span>) &#123;</span><br><span class="line">      setValue(<span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">200</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, [value]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;() =&gt; setValue(<span class="number">0</span>)&#125;&gt;value: &#123;value&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>å½“æˆ‘ä»¬å¿«é€Ÿç‚¹å‡»æ—¶ï¼Œvalue ä¼šå‘ç”Ÿéšæœºå˜åŒ–ï¼Œä½† <code>useEffect</code> æ˜¯ UI å·²ç»æ¸²æŸ“åˆ°å±å¹•ä¸Šä»¥åæ‰ä¼šæ‰§è¡Œï¼Œvalue ä¼šå…ˆæ¸²æŸ“ä¸º 0ï¼Œç„¶ååœ¨æ¸²æŸ“æˆéšæœºæ•°ï¼Œå› æ­¤å±å¹•ä¼šå‡ºç°é—ªçƒã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">useLayoutEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (value === <span class="number">0</span>) &#123;</span><br><span class="line">    setValue(<span class="number">10</span> + <span class="built_in">Math</span>.random() * <span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [value]);</span><br></pre></td></tr></table></figure>ç›¸æ¯”ä½¿ç”¨ <code>useEffect</code>ï¼Œå½“ç‚¹å‡» divï¼Œvalue æ›´æ–°ä¸º 0ï¼Œæ­¤æ—¶é¡µé¢å¹¶ä¸ä¼šæ¸²æŸ“ï¼Œè€Œæ˜¯ç­‰å¾… useLayoutEffect å†…éƒ¨çŠ¶æ€ä¿®æ”¹åï¼Œæ‰ä¼šå»æ›´æ–°é¡µé¢ï¼Œæ‰€ä»¥é¡µé¢ä¸ä¼šé—ªçƒã€‚</p><h2 id="useDebugValue"><a href="#useDebugValue" class="headerlink" title="useDebugValue"></a>useDebugValue</h2><p><code>useDebugValue</code> å¯ç”¨äºåœ¨ React å¼€å‘è€…å·¥å…·ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰ hook çš„æ ‡ç­¾ã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline] = useState(<span class="literal">null</span>)</span><br><span class="line">  useDebugValue(isOnline ? <span class="string">'Online'</span> : <span class="string">'Offline'</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;isOnline&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ ¼å¼åŒ–å€¼çš„æ˜¾ç¤ºå¯èƒ½æ˜¯ä¸€é¡¹å¼€é”€å¾ˆå¤§çš„æ“ä½œï¼Œå› æ­¤ï¼Œ<code>useDebugValue</code> æ¥å—ä¸€ä¸ªæ ¼å¼åŒ–å‡½æ•°ä½œä¸ºå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚è¯¥å‡½æ•°åªæœ‰åœ¨ Hook è¢«æ£€æŸ¥ï¼ˆæ‰“å¼€ React å¼€å‘è€…å·¥å…·ï¼‰æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚å®ƒæ¥å— debug å€¼ä½œä¸ºå‚æ•°ï¼Œå¹¶ä¸”ä¼šè¿”å›ä¸€ä¸ªæ ¼å¼åŒ–çš„æ˜¾ç¤ºå€¼ã€‚ä¾‹å¦‚ï¼Œ ä¸€ä¸ªè¿”å› Date å€¼çš„è‡ªå®šä¹‰ Hook å¯ä»¥é€šè¿‡æ ¼å¼åŒ–å‡½æ•°æ¥é¿å…ä¸å¿…è¦çš„ toDateString å‡½æ•°è°ƒç”¨:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useDebugValue(date, date =&gt; date.toDateString());</span><br></pre></td></tr></table></figure></p><h2 id="ä»“åº“ä»£ç "><a href="#ä»“åº“ä»£ç " class="headerlink" title="ä»“åº“ä»£ç "></a>ä»“åº“ä»£ç </h2><p><a href="https://github.com/cosyer/react-hooks-demo" target="_blank" rel="noopener">react-hooks-demo</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ç¯‡æ–‡ç« å°† React Hooks è¯­æ³•è¿›è¡Œäº†ç®€å•ä»‹ç»ï¼ŒHooks åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå¦‚æœçœ‹å®Œæ–‡ç« è¿˜ä¸æ˜¯å¾ˆç†è§£çš„è¯ï¼Œå»ºè®®æŠŠè¿™äº› demo è‡ªå·±å†æ‰‹åŠ¨å®ç°ä¸€éï¼Œè¿™æ ·æ”¶è·ä¼šæ›´å¤šã€‚å¦‚æœæ–‡ç« å†…å®¹æœ‰å“ªäº›æè¿°é”™è¯¯æˆ–è€…ä¸æ¸…çš„åœ°æ–¹ï¼Œæ¬¢è¿å„ä½çº æ­£å¹¶ä¸€èµ·äº¤æµã€‚ğŸ‘ğŸ‘ğŸ‘</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/30%E5%88%86%E9%92%9F%E7%B2%BE%E9%80%9AReact%20Hooks.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>é¢è¯•é—®é¢˜é›†é”¦</title>
      <link>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html</link>
      <guid>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html</guid>
      <pubDate>Tue, 12 May 2020 01:23:30 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot;&gt;&lt;a href=&quot;#è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&quot;&gt;&lt;/a&gt;è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å›ç­”æç¤ºï¼š&lt;/strong&gt; ä¸€èˆ¬äººå›ç­”è¿™ä¸ªé—®é¢˜è¿‡äºå¹³å¸¸ï¼Œåªè¯´å§“åã€å¹´é¾„ã€å·¥ä½œç»éªŒï¼Œè¿™äº›åœ¨ç®€å†ä¸Šéƒ½æœ‰ã€‚å…¶å®ï¼Œä¼ä¸šæœ€å¸Œæœ›çŸ¥é“çš„æ˜¯æ±‚èŒè€…èƒ½å¦èƒœä»»å·¥ä½œï¼ŒåŒ…æ‹¬ï¼šæœ€å¼ºçš„æŠ€èƒ½ã€æœ€æ·±å…¥ç ”ç©¶çš„çŸ¥è¯†é¢†åŸŸã€ä¸ªæ€§ä¸­æœ€ç§¯æçš„éƒ¨åˆ†ã€åšè¿‡çš„æœ€æˆåŠŸçš„äº‹ï¼Œä¸»è¦çš„æˆå°±ç­‰ï¼Œè¦çªå‡ºç§¯æçš„ä¸ªæ€§å’Œåšäº‹çš„èƒ½åŠ›ï¼Œè¯´çš„åˆæƒ…åˆç†ä¼ä¸šæ‰ä¼šç›¸ä¿¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å›ç­”æç¤ºï¼š&lt;/strong&gt; æ²‰ç€å†·é™ã€æ¡ç†æ¸…æ¥šã€ç«‹åœºåšå®šã€ä¹äºåŠ©äººç­‰ï¼ŒåŠ ä¸Šä¾‹å­å¦‚ï¼šæˆ‘åœ¨XXç»è¿‡ä¸€åˆ°ä¸¤å¹´çš„åŸ¹è®­åŠé¡¹ç›®å®æˆ˜ï¼ŒåŠ ä¸Šå®ä¹ å·¥ä½œï¼Œæˆ‘æƒ³æˆ‘é€‚åˆè¿™ä»½å·¥ä½œã€‚&lt;/p&gt;
&lt;h2 id=&quot;è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ&quot;&gt;&lt;a href=&quot;#è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ&quot;&gt;&lt;/a&gt;è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;å›ç­”æç¤ºï¼š&lt;/strong&gt; è¿™ä¸ªé—®é¢˜ä¼ä¸šé—®çš„æ¦‚ç‡å¾ˆå¤§ï¼Œé€šå¸¸ä¸å¸Œæœ›å¬åˆ°ç›´æ¥å›ç­”çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆç­‰ï¼Œå¦‚æœæ±‚èŒè€…è¯´è‡ªå·±å°å¿ƒçœ¼ã€éå¸¸æ‡’ã€å·¥ä½œæ•ˆç‡ä½ï¼Œä¼ä¸šè‚¯å®šä¸ä¼šå½•ç”¨ä½ ã€‚è¦ä»è‡ªå·±çš„ä¼˜ç‚¹è¯´èµ·ï¼Œä¸­é—´åŠ ä¸€äº›å°ç¼ºç‚¹ï¼Œæœ€åå†æŠŠé—®ç­”è½¬å›åˆ°ä¼˜ç‚¹ä¸Šï¼Œçªå‡ºä¼˜ç‚¹çš„éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»"><a href="#è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»" class="headerlink" title="è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»"></a>è¯·åšä¸€ä¸‹è‡ªæˆ‘ä»‹ç»</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¸€èˆ¬äººå›ç­”è¿™ä¸ªé—®é¢˜è¿‡äºå¹³å¸¸ï¼Œåªè¯´å§“åã€å¹´é¾„ã€å·¥ä½œç»éªŒï¼Œè¿™äº›åœ¨ç®€å†ä¸Šéƒ½æœ‰ã€‚å…¶å®ï¼Œä¼ä¸šæœ€å¸Œæœ›çŸ¥é“çš„æ˜¯æ±‚èŒè€…èƒ½å¦èƒœä»»å·¥ä½œï¼ŒåŒ…æ‹¬ï¼šæœ€å¼ºçš„æŠ€èƒ½ã€æœ€æ·±å…¥ç ”ç©¶çš„çŸ¥è¯†é¢†åŸŸã€ä¸ªæ€§ä¸­æœ€ç§¯æçš„éƒ¨åˆ†ã€åšè¿‡çš„æœ€æˆåŠŸçš„äº‹ï¼Œä¸»è¦çš„æˆå°±ç­‰ï¼Œè¦çªå‡ºç§¯æçš„ä¸ªæ€§å’Œåšäº‹çš„èƒ½åŠ›ï¼Œè¯´çš„åˆæƒ…åˆç†ä¼ä¸šæ‰ä¼šç›¸ä¿¡ã€‚</p><h2 id="ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä½ æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æ²‰ç€å†·é™ã€æ¡ç†æ¸…æ¥šã€ç«‹åœºåšå®šã€ä¹äºåŠ©äººç­‰ï¼ŒåŠ ä¸Šä¾‹å­å¦‚ï¼šæˆ‘åœ¨XXç»è¿‡ä¸€åˆ°ä¸¤å¹´çš„åŸ¹è®­åŠé¡¹ç›®å®æˆ˜ï¼ŒåŠ ä¸Šå®ä¹ å·¥ä½œï¼Œæˆ‘æƒ³æˆ‘é€‚åˆè¿™ä»½å·¥ä½œã€‚</p><h2 id="è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ"><a href="#è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ"></a>è¯´è¯´ä½ æœ€å¤§çš„ç¼ºç‚¹ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™ä¸ªé—®é¢˜ä¼ä¸šé—®çš„æ¦‚ç‡å¾ˆå¤§ï¼Œé€šå¸¸ä¸å¸Œæœ›å¬åˆ°ç›´æ¥å›ç­”çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆç­‰ï¼Œå¦‚æœæ±‚èŒè€…è¯´è‡ªå·±å°å¿ƒçœ¼ã€éå¸¸æ‡’ã€å·¥ä½œæ•ˆç‡ä½ï¼Œä¼ä¸šè‚¯å®šä¸ä¼šå½•ç”¨ä½ ã€‚è¦ä»è‡ªå·±çš„ä¼˜ç‚¹è¯´èµ·ï¼Œä¸­é—´åŠ ä¸€äº›å°ç¼ºç‚¹ï¼Œæœ€åå†æŠŠé—®ç­”è½¬å›åˆ°ä¼˜ç‚¹ä¸Šï¼Œçªå‡ºä¼˜ç‚¹çš„éƒ¨åˆ†ã€‚</p><hr><a id="more"></a><h2 id="è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ"><a href="#è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ"></a>è¯´è¯´ä½ å¯¹åŠ ç­çš„çœ‹æ³•ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å®é™…ä¸Šå¥½å¤šå…¬å¸é—®è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸è¯æ˜ä¸€å®šè¦åŠ ç­ï¼Œåªæ˜¯æƒ³æµ‹è¯•ä½ æ˜¯å¦æ„¿æ„ä¸ºå…¬å¸å¥‰çŒ®ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å¦‚æœæ˜¯å·¥ä½œéœ€è¦æˆ‘ä¼šä¹‰ä¸å®¹è¾åŠ ç­ï¼Œæˆ‘ç°åœ¨å•èº«ï¼Œæ²¡æœ‰ä»»ä½•å®¶åº­è´Ÿæ‹…ï¼Œå¯ä»¥å…¨èº«å¿ƒçš„æŠ•å…¥å·¥ä½œã€‚ä½†åŒæ—¶ï¼Œæˆ‘ä¹Ÿä¼šæé«˜å·¥ä½œæ•ˆç‡ï¼Œå‡å°‘ä¸å¿…è¦çš„åŠ ç­ã€‚</p><h2 id="è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ"><a href="#è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ" class="headerlink" title="è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ"></a>è¯´è¯´ä½ å¯¹è–ªèµ„çš„è¦æ±‚ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¦‚æœä½ å¯¹è–ªèµ„çš„è¦æ±‚å¤ªä½ï¼Œé‚£æ˜¾ç„¶è´¬ä½è‡ªå·±çš„èƒ½åŠ›ï¼›å¦‚æœä½ å¯¹è–ªèµ„çš„è¦æ±‚å¤ªé«˜ï¼Œé‚£åˆä¼šæ˜¾å¾—ä½ åˆ†é‡è¿‡é‡ï¼Œå…¬å¸å—ç”¨ä¸èµ·ã€‚ä¸€äº›é›‡ä¸»é€šå¸¸éƒ½äº‹å…ˆå¯¹æ±‚è˜çš„èŒä½å®šä¸‹å¼€æ”¯é¢„ç®—ï¼Œå› è€Œä»–ä»¬ç¬¬ä¸€æ¬¡æå‡ºçš„ä»·é’±å¾€å¾€æ˜¯ä»–ä»¬æ‰€èƒ½ç»™äºˆçš„æœ€é«˜ä»·é’±ï¼Œä»–ä»¬é—®ä½ åªä¸è¿‡æƒ³è¯å®ä¸€ä¸‹è¿™ç¬”é’±æ˜¯å¦è¶³ä»¥å¼•èµ·ä½ å¯¹è¯¥å·¥ä½œçš„å…´è¶£ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong></p><p>â‘ æˆ‘å¯¹å·¥èµ„æ²¡æœ‰ç¡¬æ€§è¦æ±‚ï¼Œæˆ‘ç›¸ä¿¡è´µå…¬å¸ä¼šå‹å–„åˆç†ã€‚æˆ‘æ³¨é‡çš„æ˜¯æ‰¾åˆ°å·¥ä½œæœºä¼šï¼Œæ‰€ä»¥åªè¦æ¡ä»¶å…¬å¹³ï¼Œæˆ‘åˆ™ä¸ä¼šè®¡è¾ƒå¤ªå¤šã€‚</p><p>â‘¡æˆ‘å—è¿‡ç³»ç»Ÿçš„è½¯ä»¶ç¼–ç¨‹çš„è®­ç»ƒï¼Œä¸éœ€è¦è¿›è¡Œå¤§é‡çš„åŸ¹è®­ï¼Œè€Œä¸”æˆ‘æœ¬äººä¹Ÿå¯¹ç¼–ç¨‹ç‰¹åˆ«æ„Ÿå…´è¶£ã€‚å› æ­¤ï¼Œæˆ‘å¸Œæœ›å…¬å¸èƒ½æ ¹æ®æˆ‘çš„æƒ…å†µå’Œå¸‚åœºæ ‡å‡†çš„æ°´å¹³ï¼Œç»™æˆ‘åˆç†çš„è–ªæ°´ã€‚</p><p>â‘¢å¦‚æœä½ å¿…é¡»è‡ªå·±è¯´å‡ºå…·ä½“æ•°ç›®ï¼Œè¯·ä¸è¦è¯´ä¸€ä¸ªå®½æ³›çš„èŒƒå›´ï¼Œé‚£æ ·ä½ å°†åªèƒ½å¾—åˆ°æœ€ä½é™åº¦çš„æ•°å­—ã€‚æœ€å¥½ç»™å‡ºä¸€ä¸ªå…·ä½“çš„æ•°å­—ï¼Œè¿™æ ·è¡¨æ˜ä½ å·²ç»å¯¹å½“ä»Šçš„äººæ‰å¸‚åœºåšäº†è°ƒæŸ¥ï¼ŒçŸ¥é“åƒè‡ªå·±è¿™æ ·å­¦å†çš„é›‡å‘˜æœ‰ä»€ä¹ˆæ ·çš„ä»·å€¼ã€‚</p><h2 id="åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ"><a href="#åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ" class="headerlink" title="åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ"></a>åœ¨äº”å¹´å†…ï¼Œä½ çš„èŒä¸šè§„åˆ’ï¼Ÿ</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯æ¯ä¸€ä¸ªåº”è˜è€…éƒ½ä¸å¸Œæœ›è¢«é—®åˆ°çš„é—®é¢˜ï¼Œä½†æ˜¯å‡ ä¹æ¯ä¸ªäººéƒ½ä¼šè¢«é—®åˆ°ï¼Œæ¯”è¾ƒå¤šçš„ç­”æ¡ˆæ˜¯â€œç®¡ç†è€…â€ã€‚å½“ç„¶ï¼Œè¯´å‡ºå…¶ä»–ä¸€äº›ä½ æ„Ÿå…´è¶£çš„èŒä½ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚è¦çŸ¥é“ï¼Œè€ƒå®˜æ€»æ˜¯å–œæ¬¢æœ‰è¿›å–å¿ƒçš„åº”è˜è€…ï¼Œæ­¤æ—¶å¦‚æœè¯´â€œä¸çŸ¥é“â€ï¼Œæˆ–è®¸å°±ä¼šä½¿ä½ ä¸§å¤±ä¸€ä¸ªå¥½æœºä¼šã€‚æœ€æ™®é€šçš„å›ç­”åº”è¯¥æ˜¯â€œæˆ‘å‡†å¤‡åœ¨æŠ€æœ¯é¢†åŸŸæœ‰æ‰€ä½œä¸ºâ€æˆ–â€œæˆ‘å¸Œæœ›èƒ½æŒ‰ç…§å…¬å¸çš„ç®¡ç†æ€è·¯å‘å±•â€ã€‚</p><h2 id="ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·"><a href="#ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·" class="headerlink" title="ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·?"></a>ä½ æœ‹å‹å¯¹ä½ çš„è¯„ä»·?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æƒ³ä»ä¾§é¢äº†è§£ä¸€ä¸‹ä½ çš„æ€§æ ¼åŠä¸äººç›¸å¤„çš„é—®é¢˜ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong></p><p>â‘ æˆ‘æœ‹å‹éƒ½è¯´æˆ‘æ˜¯ä¸€ä¸ªå¯ä»¥ä¿¡èµ–çš„äººã€‚å› ä¸ºï¼Œæˆ‘ä¸€æ—¦ç­”åº”åˆ«äººçš„äº‹æƒ…ï¼Œå°±ä¸€å®šä¼šåšåˆ°ã€‚å¦‚æœæˆ‘åšä¸åˆ°ï¼Œæˆ‘å°±ä¸ä¼šè½»æ˜“è®¸è¯ºã€‚</p><p>â‘¡æˆ‘è§‰çš„æˆ‘æ˜¯ä¸€ä¸ªæ¯”è¾ƒéšå’Œçš„äººï¼Œä¸ä¸åŒçš„äººéƒ½å¯ä»¥å‹å¥½ç›¸å¤„ã€‚åœ¨æˆ‘ä¸äººç›¸å¤„æ—¶ï¼Œæˆ‘æ€»æ˜¯èƒ½ç«™åœ¨åˆ«äººçš„è§’åº¦è€ƒè™‘é—®é¢˜ã€‚</p><h2 id="ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—"><a href="#ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—" class="headerlink" title="ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—?"></a>ä½ è¿˜æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®å—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šçš„è¿™ä¸ªé—®é¢˜çœ‹ä¸Šå»å¯æœ‰å¯æ— ï¼Œå…¶å®å¾ˆå…³é”®ï¼Œä¼ä¸šä¸å–œæ¬¢è¯´â€œæ²¡é—®é¢˜â€çš„äººï¼Œå› ä¸ºå…¶å¾ˆæ³¨é‡å‘˜å·¥çš„ä¸ªæ€§å’Œåˆ›æ–°èƒ½åŠ›ã€‚ä¼ä¸šä¸å–œæ¬¢æ±‚èŒè€…é—®ä¸ªäººç¦åˆ©ä¹‹ç±»çš„é—®é¢˜ï¼Œå¦‚æœæœ‰äººè¿™æ ·é—®ï¼šè´µå…¬å¸å¯¹æ–°å…¥å…¬å¸çš„å‘˜å·¥æœ‰æ²¡æœ‰ä»€ä¹ˆåŸ¹è®­é¡¹ç›®ï¼Œæˆ‘å¯ä»¥å‚åŠ å—ï¼Ÿæˆ–è€…è¯´è´µå…¬å¸çš„æ™‹å‡æœºåˆ¶æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿä¼ä¸šå°†å¾ˆæ¬¢è¿ï¼Œå› ä¸ºä½“ç°å‡ºä½ å¯¹å­¦ä¹ çš„çƒ­æƒ…å’Œå¯¹å…¬å¸çš„å¿ è¯šåº¦ä»¥åŠä½ çš„ä¸Šè¿›å¿ƒã€‚</p><h2 id="å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ"><a href="#å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ" class="headerlink" title="å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ?"></a>å½•ç”¨åå‘ç°ä¸é€‚åˆè¿™ä¸ªèŒä½ï¼Œæ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å·¥ä½œä¸€æ®µæ—¶é—´å‘ç°å·¥ä½œä¸é€‚åˆï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p><p>â‘ å¦‚æœä½ ç¡®å®çƒ­çˆ±è¿™ä¸ªèŒä¸šï¼Œé‚£å°±è¦ä¸æ–­å­¦ä¹ ï¼Œè™šå¿ƒå‘é¢†å¯¼å’ŒåŒäº‹å­¦ä¹ ä¸šåŠ¡çŸ¥è¯†å’Œå¤„äº‹ç»éªŒï¼Œäº†è§£è¿™ä¸ªèŒä¸šçš„ç²¾ç¥å†…æ¶µå’ŒèŒä¸šè¦æ±‚ï¼ŒåŠ›äº‰å‡å°‘å·®è·ï¼›</p><p>â‘¡ä½ è§‰å¾—è¿™ä¸ªèŒä¸šå¯æœ‰å¯æ— ï¼Œé‚£è¿˜æ˜¯è¶æ—©æ¢ä¸ªèŒä¸šï¼Œå»å‘ç°é€‚åˆä½ çš„ï¼Œä½ çƒ­çˆ±çš„èŒä¸šï¼Œé‚£æ ·ä½ çš„å‘å±•å‰é€”ä¹Ÿä¼šå¤§ç‚¹ï¼Œå¯¹å•ä½å’Œä¸ªäººéƒ½æœ‰å¥½å¤„ã€‚</p><h2 id="å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ"><a href="#å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ" class="headerlink" title="å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ?"></a>å·¥ä½œæ—¶è·Ÿé¢†å¯¼æ„è§ä¸åŒæ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ åŸåˆ™ä¸Šæˆ‘ä¼šå°Šé‡å’Œæœä»é¢†å¯¼çš„å·¥ä½œå®‰æ’ï¼ŒåŒæ—¶ç§åº•ä¸‹æ‰¾æœºä¼šä»¥è¯·æ•™çš„å£å»ï¼Œå©‰è½¬åœ°è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ï¼Œçœ‹çœ‹é¢†å¯¼æ˜¯å¦èƒ½æ”¹å˜æƒ³æ³•ã€‚</p><p>â‘¡å¦‚æœé¢†å¯¼æ²¡æœ‰é‡‡çº³æˆ‘çš„å»ºè®®ï¼Œæˆ‘ä¹ŸåŒæ ·ä¼šæŒ‰é¢†å¯¼çš„è¦æ±‚è®¤çœŸåœ°å»å®Œæˆè¿™é¡¹å·¥ä½œã€‚</p><p>â‘¢è¿˜æœ‰ä¸€ç§æƒ…å†µï¼Œå‡å¦‚é¢†å¯¼è¦æ±‚çš„æ–¹å¼è¿èƒŒåŸåˆ™ï¼Œæˆ‘ä¼šåšå†³æå‡ºåå¯¹æ„è§ï¼Œå¦‚é¢†å¯¼ä»å›ºæ‰§å·±è§ï¼Œæˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°å†å‘ä¸Šçº§é¢†å¯¼åæ˜ ã€‚</p><h2 id="å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš"><a href="#å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš" class="headerlink" title="å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš?"></a>å·¥ä½œå‡ºç°å¤±è¯¯å¹¶é€ æˆæŸå¤±ï¼Œä½ ä¼šæ€ä¹ˆåš?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æˆ‘æœ¬æ„æ˜¯ä¸ºå…¬å¸åŠªåŠ›å·¥ä½œï¼Œå¦‚æœé€ æˆç»æµæŸå¤±ï¼Œæˆ‘è®¤ä¸ºé¦–è¦çš„é—®é¢˜æ˜¯æƒ³æ–¹è®¾æ³•å»å¼¥è¡¥æˆ–æŒ½å›ç»æµæŸå¤±ã€‚å¦‚æœæˆ‘æ— èƒ½åŠ›è´Ÿè´£ï¼Œå¸Œæœ›å•ä½å¸®åŠ©è§£å†³ã€‚</p><p>â‘¡åˆ†æ¸…è´£ä»»ï¼Œå„è´Ÿå…¶è´£ï¼Œå¦‚æœæ˜¯æˆ‘çš„è´£ä»»ï¼Œæˆ‘ç”˜æ„¿å—ç½šï¼›å¦‚æœæ˜¯ä¸€ä¸ªæˆ‘è´Ÿè´£çš„å›¢é˜Ÿä¸­åˆ«äººçš„å¤±è¯¯ï¼Œä¹Ÿä¸èƒ½å¹¸ç¾ä¹ç¥¸ï¼Œä½œä¸ºä¸€ä¸ªå›¢é˜Ÿï¼Œéœ€è¦äº’ç›¸ææºå…±åŒæˆå·¥ä½œï¼Œå®‰æ…°åŒäº‹å¹¶ä¸”å¸®åŠ©åŒäº‹æŸ¥æ‰¾åŸå› æ€»ç»“ç»éªŒã€‚</p><p>â‘¢ä¸ªäººçš„ä¸€ç”Ÿä¸å¯èƒ½ä¸çŠ¯é”™è¯¯ï¼Œé‡è¦çš„æ˜¯èƒ½ä»è‡ªå·±çš„æˆ–è€…æ˜¯åˆ«äººçš„é”™è¯¯ä¸­å¸å–ç»éªŒæ•™è®­ï¼Œè¦æ£€è®¨è‡ªå·±çš„å·¥ä½œæ–¹æ³•ã€åˆ†æé—®é¢˜çš„æ·±åº¦å’ŒåŠ›åº¦ã€‚</p><h2 id="è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•"><a href="#è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•" class="headerlink" title="è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•?"></a>è°ˆè°ˆä½ å¯¹è·³æ§½çš„çœ‹æ³•?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æ­£å¸¸çš„â€œè·³æ§½â€èƒ½å¤Ÿä¿ƒè¿›äººæ‰åˆç†æµåŠ¨ï¼Œåº”è¯¥æ”¯æŒã€‚</p><p>â‘¡é¢‘ç¹çš„è·³æ§½å¯¹å•ä½å’Œä¸ªäººåŒæ–¹éƒ½ä¸åˆ©ï¼Œåº”è¯¥åå¯¹ã€‚</p><p>##å’ŒåŒäº‹ã€ä¸Šå¸éš¾ä»¥ç›¸å¤„ï¼Œä½ æ€ä¹ˆåŠ?<strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æˆ‘ä¼šæœä»é¢†å¯¼çš„æŒ‡æŒ¥ï¼Œé…åˆåŒäº‹çš„å·¥ä½œã€‚</p><p>â‘¡æˆ‘ä¼šä»è‡ªèº«æ‰¾åŸå› ï¼Œä»”ç»†åˆ†ææ˜¯ä¸æ˜¯è‡ªå·±å·¥ä½œåšå¾—ä¸å¥½ã€‚è¿˜è¦çœ‹çœ‹æ˜¯ä¸æ˜¯ä¸ºäººå¤„ä¸–æ–¹é¢åšå¾—ä¸å¥½ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯æˆ‘ä¼šåŠªåŠ›æ”¹æ­£ã€‚</p><p>â‘¢å¦‚æœæˆ‘æ‰¾ä¸åˆ°åŸå› ï¼Œæˆ‘ä¼šæ‰¾æœºä¼šè·Ÿä»–ä»¬æ²Ÿé€šï¼Œè¯·ä»–ä»¬æŒ‡å‡ºæˆ‘çš„ä¸è¶³ï¼ŒåŠæ—¶æ”¹æ­£ã€‚</p><p>â‘£ä½œä¸ºä¼˜ç§€çš„å‘˜å·¥ï¼Œåº”è¯¥æ—¶åˆ»ä»¥å¤§å±€ä¸ºé‡ï¼Œå³ä½¿åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œé¢†å¯¼å’ŒåŒäº‹å¯¹æˆ‘ä¸ç†è§£ï¼Œæˆ‘ä¹Ÿä¼šåšå¥½æœ¬èŒå·¥ä½œï¼Œè™šå¿ƒå‘ä»–ä»¬å­¦ä¹ ï¼Œæˆ‘ç›¸ä¿¡ï¼Œä»–ä»¬ä¼šçœ‹è§æˆ‘çš„åŠªåŠ›ã€‚</p><p>##ä¸Šçº§é¢†å¯¼æŠ¢äº†ä½ çš„åŠŸåŠ³æ€ä¹ˆåŠ?<strong>å›ç­”æ ·æœ¬ï¼š</strong> é¦–å…ˆæˆ‘ä¸ä¼šæ‰¾é‚£ä½ä¸Šçº§é¢†å¯¼è¯´æ˜è¿™äº‹ï¼Œæˆ‘ä¼šä¸»åŠ¨æ‰¾æˆ‘çš„ä¸»ç®¡é¢†å¯¼æ¥æ²Ÿé€šï¼Œå› ä¸ºæ²Ÿé€šæ˜¯è§£å†³äººé™…å…³ç³»çš„æœ€å¥½åŠæ³•ï¼Œä½†ç»“æœä¼šæœ‰ä¸¤ç§ï¼š</p><p>â‘ æˆ‘çš„ä¸»ç®¡é¢†å¯¼è®¤è¯†åˆ°è‡ªå·±çš„é”™è¯¯ï¼Œæˆ‘æƒ³æˆ‘ä¼šè§†å…·ä½“æƒ…å†µå†³å®šæ˜¯å¦åŸè°…ä»–ã€‚</p><p>â‘¡ä»–æ›´åŠ å˜æœ¬åŠ å‰çš„æ¥å¨èƒæˆ‘ï¼Œé‚£æˆ‘ä¼šæ¯«ä¸çŠ¹è±«åœ°æ‰¾æˆ‘çš„ä¸Šçº§é¢†å¯¼åæ˜ æ­¤äº‹ï¼Œå› ä¸ºä»–è¿™æ ·åšä¼šé€ æˆè´Ÿé¢å½±å“ï¼Œå¯¹ä»Šåçš„å·¥ä½œä¸åˆ©ã€‚</p><h2 id="åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ"><a href="#åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ" class="headerlink" title="åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ?"></a>åŒäº‹å­¤ç«‹ä½ ï¼Œä½ æ€ä¹ˆåŠ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ æ£€è®¨ä¸€ä¸‹è‡ªå·±æ˜¯ä¸æ˜¯å¯¹å·¥ä½œçš„çƒ­å¿ƒåº¦è¶…è¿‡åŒäº‹é—´äº¤å¾€çš„çƒ­å¿ƒäº†ï¼ŒåŠ å¼ºåŒäº‹é—´çš„äº¤å¾€åŠå…±åŒçš„å…´è¶£çˆ±å¥½ã€‚</p><p>â‘¡å·¥ä½œä¸­ï¼Œåˆ‡å‹¿ä¼¤å®³åˆ«äººçš„è‡ªå°Šå¿ƒã€‚</p><p>â‘¢ä¸åœ¨é¢†å¯¼å‰æ‹¨å¼„æ˜¯éã€‚</p><h2 id="ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹"><a href="#ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹" class="headerlink" title="ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹?"></a>ä½ æœ€è¿‘æ˜¯å¦å‚åŠ äº†åŸ¹è®­è¯¾ç¨‹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è‡ªè´¹å‚åŠ ï¼Œå°±æ˜¯XXçš„åŸ¹è®­è¯¾ç¨‹ï¼ˆå¯ä»¥å¤šè°ˆè°ˆè‡ªå·±å­¦çš„æŠ€æœ¯ï¼‰ã€‚</p><h2 id="ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘"><a href="#ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘" class="headerlink" title="ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘?"></a>ä½ å¯¹äºæˆ‘ä»¬å…¬å¸äº†è§£å¤šå°‘?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åœ¨å»å…¬å¸é¢è¯•å‰ä¸Šç½‘æŸ¥ä¸€ä¸‹è¯¥å…¬å¸ä¸»è¥ä¸šåŠ¡ã€‚å¯ç±»ä¼¼å›ç­”ï¼šè´µå…¬å¸æœ‰æ„æ”¹å˜ç­–ç•¥ï¼ŒåŠ å¼ºä¸å›½å¤–å¤§å‚çš„OEMåˆä½œï¼Œè‡ªæœ‰å“ç‰Œçš„éƒ¨åˆ†åˆ™é€è¿‡æµ·å¤–ç»é”€å•†ã€‚</p><h2 id="ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ"><a href="#ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ?"></a>ä½ æœ€æ“…é•¿çš„æŠ€æœ¯æ–¹å‘æ˜¯ä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯´å’Œä½ è¦åº”è˜çš„èŒä½ç›¸å…³çš„æŠ€æœ¯ï¼Œè¡¨ç°ä¸€ä¸‹è‡ªå·±çš„çƒ­è¯šæ²¡æœ‰ä»€ä¹ˆåå¤„ã€‚</p><h2 id="è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº"><a href="#è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº" class="headerlink" title="è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº?"></a>è¯·è¯´å‡ºä½ é€‰æ‹©è¿™ä»½å·¥ä½œçš„åŠ¨æœº?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯æƒ³çŸ¥é“é¢è¯•è€…å¯¹è¿™ä»½å·¥ä½œçš„çƒ­å¿±åŠç†è§£åº¦ï¼Œå¹¶ç­›é€‰å› ä¸€æ—¶å…´èµ·è€Œæ¥åº”è¯•çš„äººï¼Œå¦‚æœæ˜¯æ— ç»éªŒè€…ï¼Œå¯ä»¥å¼ºè°ƒâ€œå°±ç®—èŒç§ä¸åŒï¼Œä¹Ÿå¸Œæœ›æœ‰æœºä¼šå‘æŒ¥ä¹‹å‰çš„ç»éªŒâ€ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å› ä¸ºæˆ‘å¾ˆçƒ­çˆ±è¿™ä¸ªå·¥ä½œï¼Œå¾ˆæƒ³ä»äº‹è¿™æ–¹é¢çš„å·¥ä½œã€‚</p><h2 id="ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢"><a href="#ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢" class="headerlink" title="ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢?"></a>ä½ èƒ½ä¸ºæˆ‘ä»¬å…¬å¸å¸¦æ¥ä»€ä¹ˆå‘¢?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å‡å¦‚ä½ å¯ä»¥çš„è¯ï¼Œè¯•ç€å‘Šè¯‰ä»–ä»¬ä½ å¯ä»¥å‡ä½ä»–ä»¬çš„è´¹ç”¨â€œæˆ‘å·²ç»æ¥å—è¿‡XXè¿‘ä¸¤å¹´ä¸“ä¸šçš„åŸ¹è®­ï¼Œç«‹åˆ»å°±å¯ä»¥ä¸Šå²—å·¥ä½œâ€ã€‚</p><p>â‘¡ä¼ä¸šå¾ˆæƒ³çŸ¥é“æœªæ¥çš„å‘˜å·¥èƒ½ä¸ºä¼ä¸šåšä»€ä¹ˆï¼Œæ±‚èŒè€…åº”å†æ¬¡é‡å¤è‡ªå·±çš„ä¼˜åŠ¿ï¼Œç„¶åè¡¨ç¤ºï¼šâ€œå°±æˆ‘çš„èƒ½åŠ›ï¼Œæˆ‘å¯ä»¥åšä¸€ä¸ªä¼˜ç§€çš„å‘˜å·¥åœ¨ç»„ç»‡ä¸­å‘æŒ¥èƒ½åŠ›ï¼Œç»™ç»„ç»‡å¸¦æ¥é«˜æ•ˆç‡å’Œæ›´å¤šçš„æ”¶ç›Šâ€ã€‚ä¼ä¸šå–œæ¬¢æ±‚èŒè€…å°±ç”³è¯·çš„èŒä½è¡¨æ˜è‡ªå·±çš„èƒ½åŠ›ï¼Œæ¯”å¦‚ç”³è¯·è¥é”€ä¹‹ç±»çš„èŒä½ï¼Œå¯ä»¥è¯´ï¼šâ€œæˆ‘å¯ä»¥å¼€å‘å¤§é‡çš„æ–°å®¢æˆ·ï¼ŒåŒæ—¶ï¼Œå¯¹è€å®¢æˆ·åšæ›´å…¨é¢å‘¨åˆ°çš„æœåŠ¡ï¼Œå¼€å‘è€å®¢æˆ·çš„æ–°éœ€æ±‚å’Œæ¶ˆè´¹ã€‚â€ ç­‰ç­‰ã€‚</p><h2 id="æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯"><a href="#æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯" class="headerlink" title="æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯?"></a>æœ€èƒ½æ¦‚æ‹¬ä½ è‡ªå·±çš„ä¸‰ä¸ªè¯?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æˆ‘ç»å¸¸ç”¨çš„ä¸‰ä¸ªè¯æ˜¯ï¼šé€‚åº”èƒ½åŠ›å¼ºï¼Œæœ‰è´£ä»»å¿ƒå’Œåšäº‹æœ‰å§‹ç»ˆï¼Œå¹¶ç»“åˆå…·ä½“ä¾‹å­å‘ä¸»è€ƒå®˜è§£é‡Šã€‚</p><h2 id="ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†"><a href="#ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†" class="headerlink" title="ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†?"></a>ä½œä¸ºè¢«é¢è¯•è€…ç»™æˆ‘æ‰“ä¸€ä¸‹åˆ†?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯•ç€åˆ—å‡ºå››ä¸ªä¼˜ç‚¹å’Œä¸€ä¸ªéå¸¸éå¸¸éå¸¸å°çš„ç¼ºç‚¹ï¼ˆå¯ä»¥æŠ±æ€¨ä¸€ä¸‹è®¾æ–½ï¼Œæ²¡æœ‰æ˜ç¡®è´£ä»»äººçš„ç¼ºç‚¹æ˜¯ä¸ä¼šæœ‰äººä»‹æ„çš„ï¼‰ã€‚</p><h2 id="ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½"><a href="#ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½" class="headerlink" title="ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½?"></a>ä½ æ€ä¹ˆç†è§£ä½ åº”è˜çš„èŒä½?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯ä»¥æŠŠå²—ä½èŒè´£å’Œä»»åŠ¡åŠå·¥ä½œæ€åº¦é˜è¿°ä¸‹ã€‚</p><h2 id="å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹"><a href="#å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹" class="headerlink" title="å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹?"></a>å–œæ¬¢è¿™ä»½å·¥ä½œçš„å“ªä¸€ç‚¹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åœ¨å›ç­”é¢è¯•å®˜è¿™ä¸ªé—®é¢˜æ—¶ä¸èƒ½å¤ªç›´æ¥å°±æŠŠè‡ªå·±å¿ƒç†çš„è¯è¯´å‡ºæ¥ï¼Œå°¤å…¶æ˜¯è–ªèµ„æ–¹é¢çš„é—®é¢˜ï¼Œä¸è¿‡ä¸€äº›æ— ä¼¤å¤§é›…çš„å›ç­”æ˜¯ä¸é”™çš„è€ƒè™‘ï¼Œå¦‚äº¤é€šæ–¹ä¾¿ï¼Œå·¥ä½œæ€§è´¨åŠå†…å®¹é¢‡èƒ½ç¬¦åˆè‡ªå·±çš„å…´è¶£ç­‰ç­‰éƒ½æ˜¯ä¸é”™çš„ç­”æ¡ˆï¼Œä¸è¿‡å¦‚æœè¿™æ—¶è‡ªå·±èƒ½ä»”ç»†æ€è€ƒå‡ºè¿™ä»½å·¥ä½œçš„ä¸ä¼—ä¸åŒä¹‹å¤„ï¼Œç›¸ä¿¡åœ¨é¢è¯•ä¸Šä¼šå¤§å¤§åŠ åˆ†ã€‚</p><h2 id="ä¸ºä»€ä¹ˆè¦ç¦»èŒ"><a href="#ä¸ºä»€ä¹ˆè¦ç¦»èŒ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç¦»èŒ?"></a>ä¸ºä»€ä¹ˆè¦ç¦»èŒ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å›ç­”è¿™ä¸ªé—®é¢˜æ—¶ä¸€å®šè¦å°å¿ƒï¼Œå°±ç®—åœ¨å‰ä¸€ä¸ªå·¥ä½œå—åˆ°å†å¤§çš„å§”å±ˆï¼Œå¯¹å…¬å¸æœ‰å¤šå°‘çš„æ€¨è¨€éƒ½åƒä¸‡ä¸è¦è¡¨ç°å‡ºæ¥ï¼Œå°¤å…¶è¦é¿å…å¯¹å…¬å¸æœ¬èº«ä¸»ç®¡çš„æ‰¹è¯„ï¼Œé¿å…é¢è¯•å®˜çš„è´Ÿé¢æƒ…ç»ªåŠå°è±¡ã€‚å»ºè®®æ­¤æ—¶æœ€å¥½çš„å›ç­”æ–¹å¼æ˜¯å°†é—®é¢˜å½’å’åœ¨è‡ªå·±èº«ä¸Šï¼Œä¾‹å¦‚è§‰å¾—å·¥ä½œæ²¡æœ‰å­¦ä¹ å‘å±•çš„ç©ºé—´ï¼Œè‡ªå·±æƒ³åœ¨é¢è¯•å·¥ä½œçš„ç›¸å…³äº§ä¸šä¸­å¤šåŠ å­¦ä¹ ï¼Œæˆ–æ˜¯å‰ä¸€ä»½å·¥ä½œä¸è‡ªå·±çš„ç”Ÿæ¶¯è§„åˆ’ä¸åˆç­‰ç­‰ï¼Œå›ç­”çš„ç­”æ¡ˆæœ€å¥½æ˜¯ç§¯ææ­£é¢çš„ã€‚</p><p>â‘¡æˆ‘å¸Œæœ›èƒ½è·å¾—ä¸€ä»½æ›´å¥½çš„å·¥ä½œï¼Œå¦‚æœæœºä¼šæ¥ä¸´ï¼Œæˆ‘ä¼šæŠ“ä½ã€‚æˆ‘è§‰å¾—ç›®å‰çš„å·¥ä½œï¼Œå·²ç»è¾¾åˆ°é¡¶å³°ï¼Œå³æ²¡æœ‰å‡è¿æœºä¼šã€‚</p><h2 id="è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•"><a href="#è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•" class="headerlink" title="è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•?"></a>è¯´è¯´ä½ å¯¹è¡Œä¸šã€æŠ€æœ¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šå¯¹è¿™ä¸ªé—®é¢˜å¾ˆæ„Ÿå…´è¶£ï¼Œåªæœ‰æœ‰å¤‡è€Œæ¥çš„æ±‚èŒè€…èƒ½å¤Ÿè¿‡å…³ã€‚æ±‚èŒè€…å¯ä»¥ç›´æ¥åœ¨ç½‘ä¸ŠæŸ¥æ‰¾å¯¹ä½ æ‰€ç”³è¯·çš„è¡Œä¸šéƒ¨é—¨çš„ä¿¡æ¯ï¼Œåªæœ‰æ·±å…¥äº†è§£æ‰èƒ½äº§ç”Ÿç‹¬ç‰¹çš„è§è§£ã€‚ä¼ä¸šè®¤ä¸ºæœ€èªæ˜çš„æ±‚èŒè€…æ˜¯å¯¹æ‰€é¢è¯•çš„å…¬å¸é¢„å…ˆäº†è§£å¾ˆå¤šï¼ŒåŒ…æ‹¬å…¬å¸å„ä¸ªéƒ¨é—¨ï¼Œå‘å±•æƒ…å†µï¼Œåœ¨é¢è¯•å›ç­”é—®é¢˜çš„æ—¶å€™å¯ä»¥æåˆ°æ‰€äº†è§£çš„æƒ…å†µï¼Œä¼ä¸šæ¬¢è¿è¿›å…¥ä¼ä¸šçš„äººæ˜¯â€œçŸ¥å·±â€ï¼Œè€Œä¸æ˜¯â€œç›²äººâ€ã€‚</p><h2 id="å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨"><a href="#å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨" class="headerlink" title="å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨?"></a>å¯¹å·¥ä½œçš„æœŸæœ›ä¸ç›®æ ‡ä½•åœ¨?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯é¢è¯•è€…ç”¨æ¥è¯„æ–­æ±‚èŒè€…æ˜¯å¦å¯¹è‡ªå·±æœ‰ä¸€å®šç¨‹åº¦çš„æœŸæœ›ã€å¯¹è¿™ä»½å·¥ä½œæ˜¯å¦äº†è§£çš„é—®é¢˜ã€‚ å¯¹äºå·¥ä½œæœ‰ç¡®å®å­¦ä¹ ç›®æ ‡çš„äººé€šå¸¸å­¦ä¹ è¾ƒå¿«ï¼Œå¯¹äºæ–°å·¥ä½œè‡ªç„¶è¾ƒå®¹æ˜“è¿›å…¥çŠ¶å†µï¼Œè¿™æ—¶å»ºè®®ä½ ï¼Œæœ€å¥½é’ˆå¯¹å·¥ä½œçš„æ€§è´¨æ‰¾å‡ºä¸€ä¸ªç¡®å®çš„ç­”æ¡ˆï¼Œå¦‚ä¸šåŠ¡å‘˜çš„å·¥ä½œå¯ä»¥è¿™æ ·å›ç­”ï¼šâ€œæˆ‘çš„ç›®æ ‡æ˜¯èƒ½æˆä¸ºä¸€ä¸ªè¶…çº§ä¸šåŠ¡å‘˜ï¼Œå°†å…¬å¸çš„äº§å“å¹¿æ³›çš„æ¨é”€å‡ºå»ï¼Œè¾¾åˆ°æœ€å¥½çš„ä¸šç»©æˆæ•ˆï¼›ä¸ºè¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä¸€å®šä¼šåŠªåŠ›å­¦ä¹ ï¼Œè€Œæˆ‘ç›¸ä¿¡ä»¥æˆ‘è®¤çœŸè´Ÿè´£çš„æ€åº¦ï¼Œä¸€å®šå¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®æ ‡ã€‚â€ å…¶ä»–ç±»çš„å·¥ä½œä¹Ÿå¯ä»¥æ¯”ç…§è¿™ä¸ªæ–¹å¼å›ç­”ï¼Œåªè¦åœ¨ç›®æ ‡æ–¹é¢ç¨å¾®ä¿®æ”¹ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p><h2 id="è°ˆè°ˆä½ çš„å®¶åº­"><a href="#è°ˆè°ˆä½ çš„å®¶åº­" class="headerlink" title="è°ˆè°ˆä½ çš„å®¶åº­?"></a>è°ˆè°ˆä½ çš„å®¶åº­?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šé¢è¯•æ—¶è¯¢é—®å®¶åº­é—®é¢˜ä¸æ˜¯éè¦çŸ¥é“æ±‚èŒè€…å®¶åº­çš„æƒ…å†µï¼Œè€Œæ˜¯è¦äº†è§£å®¶åº­èƒŒæ™¯å¯¹æ±‚èŒè€…çš„å¡‘é€ å’Œå½±å“ã€‚ä¼ä¸šå¸Œæœ›å¬åˆ°çš„é‡ç‚¹ä¹Ÿåœ¨äºå®¶åº­å¯¹æ±‚èŒè€…çš„ç§¯æå½±å“ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æˆ‘å¾ˆçˆ±æˆ‘çš„å®¶åº­ï¼Œæˆ‘ä»¬å®¶ä¸€å‘å¾ˆå’Œç¦ï¼Œè™½ç„¶æˆ‘çš„çˆ¶äº²å’Œæ¯äº²éƒ½æ˜¯æ™®é€šäººï¼Œä½†æ˜¯ä»å°ï¼Œæˆ‘å°±çœ‹åˆ°æˆ‘çˆ¶äº²èµ·æ—©è´ªé»‘ï¼Œæ¯å¤©å·¥ä½œç‰¹åˆ«å‹¤åŠ³ï¼Œä»–çš„è¡ŒåŠ¨æ— å½¢ä¸­åŸ¹å…»äº†æˆ‘è®¤çœŸè´Ÿè´£çš„æ€åº¦å’Œå‹¤åŠ³çš„ç²¾ç¥ã€‚æˆ‘æ¯äº²ä¸ºäººå–„è‰¯ï¼Œå¯¹äººçƒ­æƒ…ï¼Œç‰¹åˆ«ä¹äºåŠ©äººï¼Œæ‰€ä»¥åœ¨å•ä½äººç¼˜å¾ˆå¥½ï¼Œå¥¹çš„ä¸€è¨€ä¸€è¡Œä¹Ÿä¸€ç›´åœ¨æ•™å¯¼æˆ‘åšäººçš„é“ç†ã€‚</p><h2 id="ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ"><a href="#ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ" class="headerlink" title="ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ?"></a>ä½ è®¤ä¸ºè‡ªå·±ç”³è¯·è¿™ä¸ªèŒä½è¿˜æ¬ ç¼ºä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¼ä¸šå–œæ¬¢é—®æ±‚èŒè€…å¼±ç‚¹ï¼Œä½†ç²¾æ˜çš„æ±‚èŒè€…ä¸€èˆ¬ä¸ç›´æ¥å›ç­”ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ç»§ç»­é‡å¤è‡ªå·±çš„ä¼˜åŠ¿ï¼Œç„¶åè¯´ï¼šâ€œå¯¹äºè¿™ä¸ªèŒä½å’Œæˆ‘çš„èƒ½åŠ›æ¥è¯´ï¼Œæˆ‘ç›¸ä¿¡è‡ªå·±æ˜¯å¯ä»¥èƒœä»»çš„ï¼Œåªæ˜¯ç¼ºä¹ç»éªŒï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥è¿›å…¥å…¬å¸ä»¥åä»¥æœ€çŸ­çš„æ—¶é—´æ¥è§£å†³ï¼Œæˆ‘çš„å­¦ä¹ èƒ½åŠ›å¾ˆå¼ºï¼Œæˆ‘ç›¸ä¿¡å¯ä»¥å¾ˆå¿«èå…¥å…¬å¸çš„ä¼ä¸šæ–‡åŒ–ï¼Œè¿›å…¥å·¥ä½œçŠ¶æ€ã€‚</p><h2 id="ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº"><a href="#ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº" class="headerlink" title="ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº?"></a>ä½ æ¬£èµå“ªç§æ€§æ ¼çš„äºº?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¯šå®ã€ä¸æ­»æ¿è€Œä¸”å®¹æ˜“ç›¸å¤„çš„äººã€æœ‰å®é™…è¡ŒåŠ¨çš„äººï¼ŒåŠ ä¸Šå…·ä½“ä¾‹å­ã€‚</p><h2 id="ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„"><a href="#ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„" class="headerlink" title="ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„?"></a>ä½ é€šå¸¸å¦‚ä½•å¤„ç†åˆ«äººçš„æ‰¹è¯„?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ æ²‰é»˜æ˜¯é‡‘ï¼Œä¸å¿…è¯´ä»€ä¹ˆï¼Œå¦åˆ™æƒ…å†µæ›´ç³Ÿï¼Œä¸è¿‡æˆ‘ä¼šæ¥å—å»ºè®¾æ€§çš„æ‰¹è¯„ã€‚</p><p>â‘¡æˆ‘ä¼šç­‰å¤§å®¶å†·é™ä¸‹æ¥å†è®¨è®ºã€‚</p><h2 id="æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥"><a href="#æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥" class="headerlink" title="æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥?"></a>æ€æ ·å¯¹å¾…è‡ªå·±çš„å¤±è´¥?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¤§æ„ï¼šæˆ‘ä»¬ç”Ÿæ¥éƒ½ä¸æ˜¯åå…¨åç¾çš„ï¼Œæˆ‘ç›¸ä¿¡æˆ‘æœ‰ç¬¬äºŒä¸ªæœºä¼šæ”¹æ­£æˆ‘çš„é”™è¯¯ã€‚</p><h2 id="ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ"><a href="#ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ" class="headerlink" title="ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ?"></a>ä»€ä¹ˆä¼šè®©ä½ æœ‰æˆå°±æ„Ÿ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> ä¸ºè´µå…¬å¸ç«­åŠ›æ•ˆåŠ³ï¼Œå°½æˆ‘æ‰€èƒ½ï¼Œå®Œæˆä¸€ä¸ªé¡¹ç›®ã€‚</p><h2 id="çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ"><a href="#çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ" class="headerlink" title="çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ?"></a>çœ¼ä¸‹ä½ ç”Ÿæ´»ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯¹æˆ‘æ¥è¯´ï¼Œèƒ½åœ¨è¿™ä¸ªé¢†åŸŸæ‰¾åˆ°å·¥ä½œæ˜¯æœ€é‡è¦çš„ï¼Œèƒ½åœ¨è´µå…¬å¸ä»»èŒå¯¹æˆ‘è¯´æœ€é‡è¦ã€‚</p><h2 id="ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ"><a href="#ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ" class="headerlink" title="ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ?"></a>ä½ ä¸ºä»€ä¹ˆæ„¿æ„åˆ°æˆ‘ä»¬å…¬å¸æ¥å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œä½ è¦æ ¼å¤–å°å¿ƒï¼Œå¦‚æœä½ å·²ç»å¯¹è¯¥å•ä½ä½œäº†ç ”ç©¶ï¼Œä½ å¯ä»¥å›ç­”ä¸€äº›è¯¦ç»†çš„åŸå› ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ å…¬å¸æœ¬èº«é«˜æŠ€æœ¯å¼€å‘ç¯å¢ƒå¾ˆå¸å¼•æˆ‘æˆ‘åŒå…¬å¸å‡ºç”Ÿåœ¨åŒæ ·çš„æ—¶ä»£ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿè¿›å…¥ä¸€å®¶ä¸æˆ‘å…±åŒæˆé•¿çš„å…¬å¸ã€‚</p><p>â‘¡ä½ ä»¬å…¬å¸ä¸€ç›´éƒ½ç¨³å®šå‘å±•ï¼Œåœ¨è¿‘å‡ å¹´æ¥åœ¨å¸‚åœºä¸Šæœ‰ç«äº‰åŠ›ã€‚æˆ‘è®¤ä¸ºè´µå…¬å¸èƒ½å¤Ÿç»™æˆ‘æä¾›ä¸€ä¸ªä¸ä¼—ä¸åŒçš„å‘å±•é“è·¯ã€‚</p><h2 id="ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—"><a href="#ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—" class="headerlink" title="ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—?"></a>ä½ å’Œåˆ«äººå‘ç”Ÿè¿‡äº‰æ‰§å—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯é¢è¯•ä¸­æœ€é™©æ¶çš„é—®é¢˜ï¼Œå…¶å®æ˜¯è€ƒå®˜å¸ƒä¸‹çš„ä¸€ä¸ªé™·é˜±ï¼ŒæˆåŠŸè§£å†³çŸ›ç›¾æ˜¯ä¸€ä¸ªåä½œå›¢ä½“ä¸­æˆå‘˜æ‰€å¿…å¤‡çš„èƒ½åŠ›ã€‚å‡å¦‚ä½ å·¥ä½œåœ¨ä¸€ä¸ªæœåŠ¡è¡Œä¸šï¼Œè¿™ä¸ªé—®é¢˜ç®€ç›´æˆäº†æœ€é‡è¦çš„ä¸ªç¯èŠ‚ã€‚ä½ æ˜¯å¦èƒ½è·å¾—è¿™ä»½å·¥ä½œï¼Œå°†å–å†³äºè¿™ä¸ªé—®é¢˜çš„å›ç­”ã€‚è€ƒå®˜å¸Œæœ›çœ‹åˆ°ä½ æ˜¯æˆç†Ÿä¸”ä¹äºå¥‰çŒ®çš„ã€‚ä»–ä»¬é€šè¿‡è¿™ä¸ªé—®é¢˜äº†è§£ä½ çš„æˆç†Ÿåº¦å’Œå¤„ä¸–èƒ½åŠ›ã€‚åœ¨æ²¡æœ‰å¤–ç•Œå¹²æ¶‰çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å¦¥åçš„æ–¹å¼æ¥è§£å†³æ‰æ˜¯æ­£ç¡®ç­”æ¡ˆã€‚</p><h2 id="ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²"><a href="#ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²" class="headerlink" title="ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²?"></a>ä½ åšè¿‡çš„å“ªä»¶äº‹æœ€ä»¤è‡ªå·±æ„Ÿåˆ°éª„å‚²?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯è€ƒå®˜ç»™ä½ çš„ä¸€ä¸ªæœºä¼šï¼Œè®©ä½ å±•ç¤ºè‡ªå·±æŠŠæ¡å‘½è¿çš„èƒ½åŠ›ã€‚è¿™ä¼šä½“ç°ä½ æ½œåœ¨çš„é¢†å¯¼èƒ½åŠ›ä»¥åŠä½ è¢«æå‡çš„å¯èƒ½æ€§ã€‚å‡å¦‚ä½ åº”è˜äºä¸€ä¸ªæœåŠ¡æ€§è´¨çš„å•ä½ï¼Œä½ å¾ˆå¯èƒ½ä¼šè¢«é‚€è¯·èšé¤ã€‚è®°ä½ï¼šä½ çš„å‰é€”å–å†³äºä½ çš„çŸ¥è¯†ã€ä½ çš„ç¤¾äº¤èƒ½åŠ›å’Œç»¼åˆè¡¨ç°ã€‚</p><h2 id="å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾"><a href="#å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾" class="headerlink" title="å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾?"></a>å¯¹è¿™é¡¹å·¥ä½œï¼Œä½ æœ‰å“ªäº›å¯é¢„è§çš„å›°éš¾?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ ä¸å®œç›´æ¥è¯´å‡ºå…·ä½“çš„å›°éš¾ï¼Œå¦åˆ™å¯èƒ½ä»¤å¯¹æ–¹æ€€ç–‘åº”è˜è€…ä¸è¡Œã€‚</p><p>â‘¡å¯ä»¥å°è¯•è¿‚å›æˆ˜æœ¯ï¼Œè¯´å‡ºåº”è˜è€…å¯¹å›°éš¾æ‰€æŒæœ‰çš„æ€åº¦å·¥ä½œä¸­å‡ºç°ä¸€äº›å›°éš¾æ˜¯æ­£å¸¸çš„ï¼Œä¹Ÿæ˜¯éš¾å…çš„ï¼Œä½†æ˜¯åªè¦æœ‰åšå¿ä¸æ‹”çš„æ¯…åŠ›ã€è‰¯å¥½çš„åˆä½œç²¾ç¥ä»¥åŠäº‹å‰å‘¨å¯†è€Œå……åˆ†çš„å‡†å¤‡ï¼Œä»»ä½•å›°éš¾éƒ½æ˜¯å¯ä»¥å…‹æœã€‚</p><h2 id="å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ"><a href="#å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ" class="headerlink" title="å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ?"></a>å½•ç”¨åä½ å°†æ€æ ·å¼€å±•å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å¦‚æœåº”è˜è€…å¯¹äºåº”è˜çš„èŒä½ç¼ºä¹è¶³å¤Ÿçš„äº†è§£ï¼Œæœ€å¥½ä¸è¦ç›´æ¥è¯´å‡ºè‡ªå·±å¼€å±•å·¥ä½œçš„å…·ä½“åŠæ³•ã€‚</p><p>â‘¡å¯ä»¥å°è¯•é‡‡ç”¨è¿‚å›æˆ˜æœ¯æ¥å›ç­”ï¼Œå¦‚â€œé¦–å…ˆå¬å–é¢†å¯¼çš„æŒ‡ç¤ºå’Œè¦æ±‚ï¼Œç„¶åå°±æœ‰å…³æƒ…å†µè¿›è¡Œäº†è§£å’Œç†Ÿæ‚‰ï¼Œæ¥ä¸‹æ¥åˆ¶å®šä¸€ä»½è¿‘æœŸçš„å·¥ä½œè®¡åˆ’å¹¶æŠ¥é¢†å¯¼æ‰¹å‡†ï¼Œæœ€åæ ¹æ®è®¡åˆ’å¼€å±•å·¥ä½œã€‚â€ã€‚</p><h2 id="ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹"><a href="#ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹" class="headerlink" title="ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹?"></a>ä½ å¸Œæœ›ä¸ä»€ä¹ˆæ ·çš„ä¸Šçº§å…±äº‹?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ é€šè¿‡åº”è˜è€…å¯¹ä¸Šçº§çš„â€œå¸Œæœ›â€å¯ä»¥åˆ¤æ–­å‡ºåº”è˜è€…å¯¹è‡ªæˆ‘è¦æ±‚çš„æ„è¯†ï¼Œè¿™æ—¢ä¸Šä¸€ä¸ªé™·é˜±ï¼Œåˆæ˜¯ä¸€æ¬¡æœºä¼šã€‚</p><p>â‘¡æœ€å¥½å›é¿å¯¹ä¸Šçº§å…·ä½“çš„å¸Œæœ›ï¼Œå¤šè°ˆå¯¹è‡ªå·±çš„è¦æ±‚ã€‚å¦‚â€œåšä¸ºåˆšæ­¥å…¥ç¤¾ä¼šçš„æ–°äººï¼Œæˆ‘åº”è¯¥å¤šè¦æ±‚è‡ªå·±å°½å¿«ç†Ÿæ‚‰ç¯å¢ƒã€é€‚åº”ç¯å¢ƒï¼Œè€Œä¸åº”è¯¥å¯¹ç¯å¢ƒæå‡ºä»€ä¹ˆè¦æ±‚ï¼Œåªè¦èƒ½å‘æŒ¥æˆ‘çš„ä¸“é•¿å°±å¯ä»¥äº†ã€‚</p><h2 id="ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ"><a href="#ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ" class="headerlink" title="ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ?"></a>ä½ å·¥ä½œç»éªŒæ¬ ç¼ºï¼Œå¦‚ä½•èƒ½èƒœä»»è¿™é¡¹å·¥ä½œ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> </p><p>â‘ å¦‚æœæ‹›è˜å•ä½å¯¹åº”å±Šæ¯•ä¸šç”Ÿçš„åº”è˜è€…æå‡ºè¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜æ‹›è˜å…¬å¸å¹¶ä¸çœŸæ­£åœ¨ä¹ç»éªŒï¼Œå…³é”®çœ‹åº”è˜è€…æ€æ ·å›ç­”ã€‚</p><p>â‘¡å¯¹è¿™ä¸ªé—®é¢˜çš„å›ç­”æœ€å¥½è¦ä½“ç°å‡ºåº”è˜è€…çš„è¯šæ³ã€æœºæ™ºã€æœæ•¢åŠæ•¬ä¸šã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ä½œä¸ºåº”å±Šæ¯•ä¸šç”Ÿï¼Œåœ¨å·¥ä½œç»éªŒæ–¹é¢çš„ç¡®ä¼šæœ‰æ‰€æ¬ ç¼ºï¼Œå› æ­¤åœ¨è¯»ä¹¦æœŸé—´æˆ‘ä¸€ç›´åˆ©ç”¨å„ç§æœºä¼šåœ¨è¿™ä¸ªè¡Œä¸šé‡Œåšå…¼èŒã€‚æˆ‘ä¹Ÿå‘ç°ï¼Œå®é™…å·¥ä½œè¿œæ¯”ä¹¦æœ¬çŸ¥è¯†ä¸°å¯Œã€å¤æ‚ã€‚ä½†æˆ‘æœ‰è¾ƒå¼ºçš„è´£ä»»å¿ƒã€é€‚åº”èƒ½åŠ›å’Œå­¦ä¹ èƒ½åŠ›ï¼Œè€Œä¸”æ¯”è¾ƒå‹¤å¥‹ï¼Œæ‰€ä»¥åœ¨å…¼èŒä¸­å‡èƒ½åœ†æ»¡å®Œæˆå„é¡¹å·¥ä½œï¼Œä»ä¸­è·å–çš„ç»éªŒä¹Ÿä»¤æˆ‘å—ç›Šéæµ…ã€‚è¯·è´µå…¬å¸æ”¾å¿ƒï¼Œå­¦æ ¡æ‰€å­¦åŠå…¼èŒçš„å·¥ä½œç»éªŒä½¿æˆ‘ä¸€å®šèƒ½èƒœä»»è¿™ä¸ªèŒä½ã€‚</p><h2 id="ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©"><a href="#ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©" class="headerlink" title="ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©?"></a>ä½ ä¼šæ€æ ·è·å¾—åŒäº‹çš„å¸®åŠ©?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> æ¯ä¸ªå…¬å¸éƒ½åœ¨ä¸æ–­å˜åŒ–å‘å±•çš„è¿‡ç¨‹ä¸­ï¼Œä½ å½“ç„¶å¸Œæœ›ä½ çš„å‘˜å·¥ä¹Ÿæ˜¯è¿™æ ·ã€‚ä½ å¸Œæœ›å¾—åˆ°é‚£äº›å¸Œæœ›å¹¶æ¬¢è¿å˜åŒ–çš„äººï¼Œå› ä¸ºè¿™äº›æ˜ç™½ï¼Œä¸ºäº†å…¬å¸çš„å‘å±•ï¼Œå˜åŒ–æ˜¯å…¬å¸æ—¥å¸¸ç”Ÿæ´»ä¸­é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è¿™æ ·çš„å‘˜å·¥å¾€å¾€å¾ˆå®¹æ˜“é€‚åº”å…¬å¸çš„å˜åŒ–ï¼Œå¹¶ä¼šå¯¹å˜åŒ–åšå‡ºç§¯æçš„å“åº”ã€‚</p><h2 id="å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—"><a href="#å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—" class="headerlink" title="å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—?"></a>å¦‚æœä½ æ²¡è¢«å½•ç”¨ï¼Œä½ æ€ä¹ˆæ‰“ç®—?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> ç°åœ¨çš„ç¤¾ä¼šæ˜¯ä¸€ä¸ªç«äº‰çš„ç¤¾ä¼šï¼Œä»è¿™æ¬¡é¢è¯•ä¸­ä¹Ÿå¯çœ‹å‡ºè¿™ä¸€ç‚¹ï¼Œæœ‰ç«äº‰å°±å¿…ç„¶æœ‰ä¼˜åŠ£ï¼Œæœ‰æˆåŠŸå¿…å®šå°±ä¼šæœ‰å¤±è´¥ã€‚å¾€å¾€æˆåŠŸçš„èƒŒåæœ‰è®¸å¤šçš„å›°éš¾å’ŒæŒ«æŠ˜ï¼Œå¦‚æœè¿™æ¬¡å¤±è´¥äº†ä¹Ÿä»…ä»…æ˜¯ä¸€æ¬¡è€Œå·²ï¼Œåªæœ‰ç»è¿‡ç»éªŒç»å†çš„ç§¯ç´¯æ‰èƒ½å¡‘é€ å‡ºä¸€ä¸ªå®Œå…¨çš„æˆåŠŸè€…ã€‚æˆ‘ä¼šä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥æ­£ç¡®çœ‹å¾…è¿™æ¬¡å¤±è´¥ï¼šâ‘ è¦æ•¢äºé¢å¯¹ï¼Œé¢å¯¹è¿™æ¬¡å¤±è´¥ä¸æ°”é¦ï¼Œæ¥å—å·²ç»å¤±å»äº†è¿™æ¬¡æœºä¼šå°±ä¸ä¼šå›å¤´è¿™ä¸ªç°å®ï¼Œä»å¿ƒç†æ„å¿—å’Œç°å‡ºå¯¹è¿™æ¬¡å¤±è´¥çš„æŠµæŠ—åŠ›ã€‚è¦æœ‰è‡ªä¿¡ï¼Œç›¸ä¿¡è‡ªå·±ç»å†äº†è¿™æ¬¡ä¹‹åç»è¿‡åŠªåŠ›ä¸€å®šèƒ½è¡Œï¼Œèƒ½å¤Ÿè¶…è¶Šè‡ªæˆ‘ã€‚â‘¡å–„äºåæ€ï¼Œå¯¹äºè¿™æ¬¡é¢è¯•ç»éªŒè¦è®¤çœŸæ€»ç»“ï¼Œæ€è€ƒå‰–æï¼Œèƒ½å¤Ÿä»è‡ªèº«çš„è§’åº¦æ‰¾å·®è·æ­£ç¡®å¯¹è‡ªå·±ï¼Œå®äº‹æ±‚æ˜¯åœ°è¯„ä»·è‡ªå·±ï¼Œè¾©è¯çš„çœ‹å¾…è‡ªå·±çš„é•¿çŸ­å¾—å¤±ï¼Œåšä¸€ä¸ªæ˜ç™½äººã€‚â‘¢èµ°å‡ºé˜´å½±ï¼Œå…‹æœè¿™ä¸€æ¬¡å¤±è´¥å¸¦ç»™è‡ªå·±çš„å¿ƒç†å‹åŠ›ï¼Œæ—¶åˆ»ç‰¢è®°è‡ªå·±å¼±ç‚¹ï¼Œé˜²æ‚£äºæœªç„¶ï¼ŒåŠ å¼ºå­¦ä¹ ï¼Œæé«˜è‡ªèº«ç´ è´¨ã€‚â‘£è®¤çœŸå·¥ä½œï¼Œå›åˆ°åŸå•ä½å²—ä½ä¸Šåï¼Œè¦å®å®åœ¨åœ¨ã€è¸è¸å®å®åœ°å·¥ä½œï¼Œä¸‰åå…­è¡Œè¡Œè¡Œå‡ºçŠ¶å…ƒï¼Œäº‰å–åœ¨æœ¬å²—ä½ä¸Šåšå‡ºä¸€å®šçš„æˆç»©ã€‚â‘¤å†æ¥å†å‰ï¼Œä»¥åå¦‚æœæœ‰æœºä¼šæˆ‘ä»ç„¶åå†æ¬¡å‚åŠ ç«äº‰ã€‚</p><h2 id="æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…"><a href="#æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…" class="headerlink" title="æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…?"></a>æœ€ä»¤ä½ æ²®ä¸§çš„äº‹æƒ…?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ›¾ç»æ¥è§¦è¿‡ä¸€ä¸ªå®¢æˆ·ï¼ŒåŸæœ¬å°±æœ‰è€³é—»ä»–ä»¥æŒ‘å‰”å‡ºåï¼Œæ‰€ä»¥äº‹å‰çš„å‡†å¤‡åŠŸå¤«åšå¾—ååˆ†å……åˆ†ï¼Œä¹ŸæŠ•å…¥äº†ç›¸å½“å¤šçš„æ—¶é—´ä¸ç²¾åŠ›ï¼Œæœ€åå®¢æˆ·è™½ç„¶å¹¶æ²¡æœ‰ç…§å•å…¨æ”¶ï¼Œä½†æ˜¯æ¥å—çš„ç¨‹åº¦å·²ç»å‡ºä¹æˆ‘ä»¬æ„æ–™ä¹‹å¤–äº†ã€‚åŸä»¥ä¸ºä»æ­¤å¯ä»¥åˆä½œæ„‰å¿«ï¼Œå´å¾—çŸ¥å®¢æˆ·æœ€åå› ä¸ºé¢„ç®—å…³ç³»é€‰æ‹©äº†å¦ä¸€å®¶ä»£ç†å•†ï¼Œä¹‹å‰çš„åŠªåŠ›å› è€Œä»˜è¯¸æµæ°´ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯ä»è¿™æ¬¡çš„ç»éªŒå­¦åˆ°å¾ˆå¤šï¼Œå¦‚å¯¹è¯¥äº§ä¸šçš„äº†è§£ï¼Œæ•´ä¸ªteamçš„é»˜å¥‘ä¹Ÿæ›´å¥½äº†ã€‚</p><h2 id="æƒ³è¿‡åˆ›ä¸šå—"><a href="#æƒ³è¿‡åˆ›ä¸šå—" class="headerlink" title="æƒ³è¿‡åˆ›ä¸šå—?"></a>æƒ³è¿‡åˆ›ä¸šå—?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™ä¸ªé—®é¢˜å¯ä»¥æ˜¾ç¤ºä½ çš„å†²åŠ²ï¼Œä½†å¦‚æœä½ çš„å›ç­”æ˜¯â€œæœ‰â€çš„è¯ï¼Œåƒä¸‡å°å¿ƒï¼Œä¸‹ä¸€ä¸ªé—®é¢˜å¯èƒ½å°±æ˜¯ï¼šé‚£ä¹ˆä¸ºä»€ä¹ˆä½ ä¸è¿™æ ·åšå‘¢?</p><h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ "><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ " class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ ?"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸­é€‰æ‹©ä½ ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> åˆ«è¿‡åº¦å¹å˜˜è‡ªå·±çš„èƒ½åŠ›ï¼Œæˆ–ä¿¡å£å¼€æ²³åœ°ä¹±å¼€æ”¯ç¥¨ï¼Œä¾‹å¦‚ä¸€å®šä¼šä¸ºè¯¥å…¬å¸å¸¦æ¥å¤šå°‘é’±çš„ä¸šåŠ¡ç­‰ï¼Œè¿™æ ·å¾ˆå®¹æ˜“ç»™äººä¸€ç§çˆ±è¯´å¤§è¯ã€ä¸åˆ‡å®é™…çš„æ„Ÿè§‰ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ ¹æ®æˆ‘å¯¹è´µå…¬å¸çš„äº†è§£ï¼Œä»¥åŠæˆ‘åœ¨è¿™ä»½å·¥ä½œä¸Šæ‰€ç´¯ç§¯çš„ä¸“ä¸šã€ç»éªŒåŠäººè„‰ï¼Œç›¸ä¿¡æ­£æ˜¯è´µå…¬å¸æ‰€æ‰¾å¯»çš„äººæ‰ã€‚è€Œæˆ‘åœ¨å·¥ä½œæ€åº¦ã€EQä¸Šï¼Œä¹Ÿæœ‰åœ†èã€æˆç†Ÿçš„ä¸€é¢ï¼Œå’Œä¸»ç®¡ã€åŒäº‹éƒ½èƒ½åˆä½œæ„‰å¿«ã€‚</p><h2 id="é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸"><a href="#é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸" class="headerlink" title="é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸?"></a>é™¤äº†æœ¬å…¬å¸å¤–ï¼Œè¿˜åº”è˜äº†å“ªäº›å…¬å¸?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> è¿™æ˜¯ç›¸å½“å¤šå…¬å¸ä¼šé—®çš„é—®é¢˜ï¼Œå…¶ç”¨æ„æ˜¯è¦æ¦‚ç•¥çŸ¥é“åº”å¾è€…çš„æ±‚èŒå¿—å‘ï¼Œæ‰€ä»¥è¿™å¹¶éç»å¯¹æ˜¯è´Ÿé¢ç­”æ¡ˆï¼Œå°±ç®—ä¸ä¾¿è¯´å‡ºå…¬å¸åç§°ï¼Œä¹Ÿåº”å›ç­”â€œé”€å”®åŒç§äº§å“çš„å…¬å¸â€ï¼Œå¦‚æœåº”è˜çš„å…¶ä»–å…¬å¸æ˜¯ä¸åŒä¸šç•Œï¼Œå®¹æ˜“è®©äººäº§ç”Ÿæ— æ³•ä¿¡ä»»çš„æ„Ÿè§‰ã€‚</p><h2 id="ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡"><a href="#ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡" class="headerlink" title="ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡?"></a>ä½ å¹¶éæ¯•ä¸šäºåç‰Œé™¢æ ¡?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> æ˜¯å¦æ¯•ä¸šäºåç‰Œé™¢æ ¡ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯æœ‰èƒ½åŠ›å®Œæˆæ‚¨äº¤ç»™æˆ‘çš„å·¥ä½œï¼Œæˆ‘æ¥å—äº†XXçš„èŒä¸šåŸ¹è®­ï¼ŒæŒæ¡çš„æŠ€èƒ½å®Œå…¨å¯ä»¥èƒœä»»è´µå…¬å¸ç°åœ¨å·¥ä½œï¼Œè€Œä¸”æˆ‘æ¯”ä¸€äº›åç‰Œé™¢æ ¡çš„åº”å±Šæ¯•ä¸šç”Ÿçš„åŠ¨æ‰‹èƒ½åŠ›è¿˜è¦å¼ºï¼Œæˆ‘æƒ³æˆ‘æ›´é€‚åˆè´µå…¬å¸è¿™ä¸ªèŒä½ã€‚</p><h2 id="æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›"><a href="#æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›" class="headerlink" title="æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›?"></a>æ€æ ·çœ‹å¾…å­¦å†å’Œèƒ½åŠ›?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å­¦å†æˆ‘æƒ³åªè¦æ˜¯å¤§å­¦ä¸“ç§‘çš„å­¦å†ï¼Œå°±è¡¨æ˜è§‰å¾—æˆ‘å…·å¤‡äº†æ ¹æœ¬çš„å­¦ä¹ èƒ½åŠ›ã€‚å‰©ä¸‹çš„ï¼Œä½ æ˜¯å­¦å£«ä¹Ÿå¥½ï¼Œè¿˜æ˜¯åšå£«ä¹Ÿå¥½ï¼Œå¯¹äºè¿™ä¸€ç‚¹çš„è®¨è®ºï¼Œä¸æ˜¯çœ‹ä½ å­¦äº†å¤šå°‘çŸ¥è¯†ï¼Œè€Œæ˜¯çœ‹ä½ åœ¨è¿™ä¸ªé¢†åŸŸä¸Šå‘æŒ¥äº†ä»€ä¹ˆï¼Œä¹Ÿå°±æ˜¯æ‰€è¯´çš„èƒ½åŠ›é—®é¢˜ã€‚ä¸€ä¸ªäººå·¥ä½œèƒ½åŠ›çš„é«˜ä½ç›´æ¥å†³å®šå…¶èŒåœºå‘½è¿ï¼Œè€Œå­¦å†çš„é«˜ä½åªæ˜¯è¿›å…¥ä¸€ä¸ªä¼ä¸šçš„æ•²é—¨ç –ï¼Œå¦‚æœå…¬å¸æŠŠå­¦å†å¡åœ¨åšå£«ä¸Šæˆ‘å°±æ— æ³•è¿›å…¥è´µå…¬å¸ï¼Œå½“ç„¶è¿™ä¸ä¸€å®šåªæ˜¯æˆ‘ä¸ªäººçš„æŸå¤±ï¼Œå¦‚æœä¸€ä¸ªä¸“ç§‘ç”Ÿéƒ½èƒ½å®Œæˆçš„å·¥ä½œï¼Œæ‚¨åˆä½•å¿…éè¦æ‹›è˜ä¸€ä½åšå£«ç”Ÿå‘¢?</p><h2 id="è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ"><a href="#è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ" class="headerlink" title="è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ?"></a>è°ˆè°ˆå¦‚ä½•é€‚åº”åŠå…¬å®¤å·¥ä½œçš„æ–°ç¯å¢ƒ?</h2><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> </p><p>â‘ åŠå…¬å®¤é‡Œæ¯ä¸ªäººéƒ½æœ‰å„è‡ªçš„å²—ä½ä¸èŒè´£ï¼Œä¸å¾—æ“…ç¦»å²—ä½ã€‚</p><p>â‘¡æ ¹æ®é¢†å¯¼æŒ‡ç¤ºå’Œå·¥ä½œå®‰æ’ï¼Œåˆ¶å®šå·¥ä½œè®¡åˆ’ï¼Œæå‰é¢„å¤‡ï¼Œå¹¶æŒ‰è®¡åˆ’å®Œæˆã€‚</p><p>â‘¢å¤šè¯·ç¤ºå¹¶åŠæ—¶æ±‡æŠ¥ï¼Œé‡åˆ°ä¸æ˜ç™½çš„è¦è™šå¿ƒè¯·æ•™ã€‚â‘£æŠ“é—´éš™æ—¶é—´ï¼Œå¤šå­¦ä¹ ï¼ŒåŠªåŠ›æé«˜è‡ªå·±çš„æ”¿æ²»ç´ è´¨å’Œä¸šåŠ¡æ°´å¹³ã€‚</p><h2 id="è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸"><a href="#è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸" class="headerlink" title="è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸?"></a>è°ˆè°ˆå¯¹è¿™ä¸ªèŒåŠ¡çš„æœŸè®¸?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å›ç­”å‰ä¸å¦¨å…ˆè¯¢é—®å…¬å¸å¯¹è¿™é¡¹èŒåŠ¡çš„è´£ä»»è®¤å®šåŠå½’å±ï¼Œå› ä¸ºæ¯ä¸€å®¶å…¬å¸çš„çŠ¶å†µä¸å°½ç›¸åŒï¼Œä»¥å…è¯´äº†ä¸€å †ç†æƒ³æŠ±è´Ÿå´å‘ç°ç‰›å¤´ä¸å¯¹é©¬å˜´ã€‚</p><p><strong>å›ç­”æ ·æœ¬ï¼š</strong> å¸Œæœ›èƒ½å€Ÿæ­¤å‘æŒ¥æˆ‘çš„æ‰€å­¦åŠä¸“é•¿ï¼ŒåŒæ—¶ä¹Ÿå¸æ”¶è´µå…¬å¸åœ¨è¿™æ–¹é¢çš„ç»éªŒï¼Œå°±å…¬å¸ã€æˆ‘ä¸ªäººè€Œè¨€ï¼Œç¼”é€ åŒèµ¢çš„å±€é¢ã€‚</p><h2 id="ä½•æ—¶å¯ä»¥åˆ°èŒ"><a href="#ä½•æ—¶å¯ä»¥åˆ°èŒ" class="headerlink" title="ä½•æ—¶å¯ä»¥åˆ°èŒ?"></a>ä½•æ—¶å¯ä»¥åˆ°èŒ?</h2><p><strong>å›ç­”æç¤ºï¼š</strong> å¤§å¤šæ•°ä¼ä¸šä¼šå…³å¿ƒå°±èŒæ—¶é—´ï¼Œæœ€å¥½æ˜¯å›ç­”ï¼šâ€œå¦‚æœè¢«å½•ç”¨çš„è¯ï¼Œåˆ°èŒæ—¥å¯ä»¥æŒ‰å…¬å¸è§„å®šä¸Šç­â€ï¼Œä½†æ˜¯å¦‚æœè¿˜æœªè¾å»ä¸Šä¸€ä¸ªå·¥ä½œã€ä¸Šç­æ—¶é—´åˆå¤ªè¿‘ï¼Œä¼¼ä¹æœ‰äº›å¼ºäººæ‰€éš¾ï¼Œå› ä¸ºäº¤æ¥è‡³å°‘è¦ä¸€ä¸ªæœˆçš„æ—¶é—´ï¼Œåº”è¿›ä¸€æ­¥è¯´æ˜åŸå› ï¼Œå½•å–å…¬å¸åº”è¯¥ä¼šé€šèçš„ã€‚</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>ä¸‰æ å¸ƒå±€æ€»ç»“ï¼ˆå·¦å³å›ºå®šå®½åº¦ ä¸­é—´è‡ªé€‚åº”ï¼‰</title>
      <link>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html</link>
      <guid>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html</guid>
      <pubDate>Fri, 08 May 2020 16:15:34 GMT</pubDate>
      <description>
      
        &lt;p&gt;åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€(å…¶å®æ˜¯ä¸€å›äº‹)éƒ½æ˜¯å®ç°çš„ä¸‰æ å¸ƒå±€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æµ®åŠ¨å¸ƒå±€-float-margin&quot;&gt;&lt;a href=&quot;#æµ®åŠ¨å¸ƒå±€-float-margin&quot; class=&quot;headerlink&quot; title=&quot;æµ®åŠ¨å¸ƒå±€(float + margin)&quot;&gt;&lt;/a&gt;æµ®åŠ¨å¸ƒå±€(float + margin)&lt;/h2&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;div class=&quot;container&quot;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;left&quot;&amp;gt;Left&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;     &amp;lt;!&lt;span class=&quot;selector-tag&quot;&gt;--&lt;/span&gt; å³æ éƒ¨åˆ†è¦å†™åœ¨ä¸­é—´å†…å®¹ä¹‹å‰ &lt;span class=&quot;selector-tag&quot;&gt;--&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;right&quot;&amp;gt;Right&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;div class=&quot;main&quot;&amp;gt;Main&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt;,&lt;span class=&quot;selector-tag&quot;&gt;html&lt;/span&gt;,&lt;span class=&quot;selector-class&quot;&gt;.container&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*å·¦è¾¹æ å·¦æµ®åŠ¨*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.left&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;float&lt;/span&gt;:left;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#333&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*ä¸­é—´æ è‡ªé€‚åº”*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.main&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: red;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*å³è¾¹æ å³æµ®åŠ¨*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.right&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;float&lt;/span&gt;:right;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;100%&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;200px&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;#333&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå¿«æ· ç®€å• å…¼å®¹æ€§è¾ƒå¥½&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹: æœ‰å±€é™æ€§ è„±ç¦»æ–‡æ¡£æµ éœ€è¦æ¸…é™¤æµ®åŠ¨ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€(å…¶å®æ˜¯ä¸€å›äº‹)éƒ½æ˜¯å®ç°çš„ä¸‰æ å¸ƒå±€ã€‚</p><h2 id="æµ®åŠ¨å¸ƒå±€-float-margin"><a href="#æµ®åŠ¨å¸ƒå±€-float-margin" class="headerlink" title="æµ®åŠ¨å¸ƒå±€(float + margin)"></a>æµ®åŠ¨å¸ƒå±€(float + margin)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">     &lt;!<span class="selector-tag">--</span> å³æ éƒ¨åˆ†è¦å†™åœ¨ä¸­é—´å†…å®¹ä¹‹å‰ <span class="selector-tag">--</span>&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>,<span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å·¦è¾¹æ å·¦æµ®åŠ¨*/</span></span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ä¸­é—´æ è‡ªé€‚åº”*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å³è¾¹æ å³æµ®åŠ¨*/</span></span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:right;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#333</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå¿«æ· ç®€å• å…¼å®¹æ€§è¾ƒå¥½</li><li>ç¼ºç‚¹: æœ‰å±€é™æ€§ è„±ç¦»æ–‡æ¡£æµ éœ€è¦æ¸…é™¤æµ®åŠ¨ç­‰</li></ul><hr><a id="more"></a><h2 id="ç»å¯¹å¸ƒå±€-position"><a href="#ç»å¯¹å¸ƒå±€-position" class="headerlink" title="ç»å¯¹å¸ƒå±€(position)"></a>ç»å¯¹å¸ƒå±€(position)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>,<span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å·¦å³è¿›è¡Œç»å¯¹å®šä½*/</span></span><br><span class="line"><span class="selector-class">.left</span>,<span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*ä¸­é—´ç”¨marginç©ºå‡ºå·¦å³å…ƒç´ æ‰€å çš„ç©ºé—´*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*æˆ–è€…ä¸­é—´ä¹Ÿè¿›è¡Œç»å¯¹å®šä½*/</span></span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šç®€å•ç²—æš´</li><li>ç¼ºç‚¹: è„±ç¦»æ–‡æ¡£æµ é«˜åº¦æœªçŸ¥ä¼šå‡ºç°é—®é¢˜ å¯ç”¨æ€§å·®</li></ul><h2 id="å¼¹æ€§ç›’å­å¸ƒå±€-flex"><a href="#å¼¹æ€§ç›’å­å¸ƒå±€-flex" class="headerlink" title="å¼¹æ€§ç›’å­å¸ƒå±€(flex)"></a>å¼¹æ€§ç›’å­å¸ƒå±€(flex)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šæ¯”è¾ƒå®Œç¾ ç§»åŠ¨ç«¯é¦–é€‰</li><li>ç¼ºç‚¹: ä¸å…¼å®¹ ie9 åŠä»¥ä¸‹</li></ul><h2 id="è¡¨æ ¼å¸ƒå±€-table"><a href="#è¡¨æ ¼å¸ƒå±€-table" class="headerlink" title="è¡¨æ ¼å¸ƒå±€(table)"></a>è¡¨æ ¼å¸ƒå±€(table)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&gt;<span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¾ˆå¥½ï¼ˆie8 åŠä»¥ä¸Šï¼‰ çˆ¶å…ƒç´ é«˜åº¦ä¼šè¢«å­å…ƒç´ æ’‘å¼€ï¼ˆä¸æ‹…å¿ƒé«˜åº¦å¡Œé™·ï¼‰</li><li>ç¼ºç‚¹: seo ä¸å‹å¥½ å½“å…¶ä¸­ä¸€ä¸ªå•å…ƒæ ¼é«˜åº¦è¶…å‡ºçš„æ—¶å€™ï¼Œå…¶ä»–çš„å•å…ƒæ ¼ä¹Ÿæ˜¯ä¼šè·Ÿç€ä¸€èµ·å˜é«˜çš„</li></ul><h2 id="ç½‘æ ¼å¸ƒå±€-Grid"><a href="#ç½‘æ ¼å¸ƒå±€-Grid" class="headerlink" title="ç½‘æ ¼å¸ƒå±€(Grid)"></a>ç½‘æ ¼å¸ƒå±€(Grid)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="container"&gt;</span><br><span class="line">    &lt;div class="left"&gt;Left&lt;/div&gt;</span><br><span class="line">    &lt;div class="main"&gt;Main&lt;/div&gt;</span><br><span class="line">    &lt;div class="right"&gt;Right&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">100px</span>;  <span class="comment">/*è®¾ç½®è¡Œé«˜*/</span></span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">200px</span> auto <span class="number">200px</span>;  <span class="comment">/*è®¾ç½®åˆ—æ•°å±æ€§*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šç®€å•å¼ºå¤§ è§£å†³äºŒç»´å¸ƒå±€é—®é¢˜</li><li>ç¼ºç‚¹: ä¸å…¼å®¹ ie9 åŠä»¥ä¸‹</li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80%E6%80%BB%E7%BB%93.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>jsäºŒè¿›åˆ¶å’Œä½è¿ç®—</title>
      <link>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html</link>
      <guid>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html</guid>
      <pubDate>Wed, 06 May 2020 06:27:55 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot;&gt;&lt;a href=&quot;#js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot; class=&quot;headerlink&quot; title=&quot;js äºŒè¿›åˆ¶ä¸ä½è¿ç®—&quot;&gt;&lt;/a&gt;js äºŒè¿›åˆ¶ä¸ä½è¿ç®—&lt;/h1&gt;&lt;p&gt;ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„æ˜¯ä»¥åè¿›åˆ¶ä¸ºå•ä½ï¼Œè¿›ä½æ˜¯æ»¡ 10 è¿› 1ï¼Œè€Œè®¡ç®—æœºæ˜¯ç”¨äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆå°±æ˜¯æ»¡ 2 è¿› 1 å–½ï¼Œä¸ºä»€ä¹ˆé‡‡ç”¨äºŒè¿›åˆ¶å‘¢ï¼Ÿç®€å•è¯´ä¸‹ï¼ŒTaçš„ç”±æ¥å…¶å®æ˜¯æ ¹æ®ç”µè·¯çš„å¼€å…³é—­åˆï¼Œç”µè·¯åªæœ‰ 0 å’Œ 1ï¼Œå…·ä½“çš„è¯¦æƒ…è¿™é‡Œä¸å¤šåšè§£é‡Šäº†ï¼Œå¯ä»¥è‡ªè¡Œç™¾ç§‘^_^ã€‚javascript é‡‡ç”¨æœ‰ç¬¦å· 32 ä½çš„ 2 è¿›åˆ¶ï¼Œå¯è¡¨ç¤º 4294967295 ä¸ªæ•´æ•°(å«æ­£è´Ÿ)ï¼ŒèŒƒå›´æ˜¯ -2147483648(2 çš„ 32 æ¬¡æ–¹) ~ 2147483647ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&quot;&gt;&lt;/a&gt;å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ&lt;/h2&gt;&lt;p&gt;åœ¨è®¡ç®—æœºä¸­è§„å®šæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œ0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚æ­£æ•°è¡¨ç¤ºæ˜¯åŸç ï¼Œè´Ÿæ•°æ˜¯åŸç çš„è¡¥ç ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åŸç &quot;&gt;&lt;a href=&quot;#åŸç &quot; class=&quot;headerlink&quot; title=&quot;åŸç &quot;&gt;&lt;/a&gt;åŸç &lt;/h3&gt;&lt;p&gt;é™¤å»ç¬¦å·ä½ï¼Œå…¶ä»– 32 ä½éƒ½ä¸ºæ­£ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹ï¼š00000000000000000000000000001010 åŸç  00000000000000000000000000001010ã€‚&lt;/p&gt;
&lt;h3 id=&quot;åç &quot;&gt;&lt;a href=&quot;#åç &quot; class=&quot;headerlink&quot; title=&quot;åç &quot;&gt;&lt;/a&gt;åç &lt;/h3&gt;&lt;p&gt;æ‰€è°“åç ï¼Œé™¤ç¬¦å·ä½å¤–ï¼Œå…¶ä»–ä½ 0 å˜ 1ï¼Œ1 å˜ 0ã€‚
ä¾‹ï¼š1010 åç  1101&lt;/p&gt;
&lt;h3 id=&quot;è¡¥ç &quot;&gt;&lt;a href=&quot;#è¡¥ç &quot; class=&quot;headerlink&quot; title=&quot;è¡¥ç &quot;&gt;&lt;/a&gt;è¡¥ç &lt;/h3&gt;&lt;p&gt;æ‰€è°“è¡¥ç ï¼Œå°±åƒæ˜¯å°å­¦å­¦è¿‡çš„ 10 è¿›åˆ¶è¡¥æ•°ï¼Œä¸¾ä¸ªä¾‹å­å°±å¾ˆå¥½ç†è§£ï¼Œ3 çš„è¡¥æ•°æ˜¯å¤šå°‘ï¼Ÿæ˜¯ 7ã€‚4 çš„è¡¥æ•°æ˜¯ 6ï¼Œè¡¥æ•°å°±æ˜¯ 10 å‡å»è¿™ä¸ªæ•°ã€‚åœ¨äºŒè¿›åˆ¶çš„è¡¥ç å°±æ˜¯ç›¸åŠ ç­‰äº 0ï¼Œäº’ä¸ºç›¸åæ•°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0 çš„è¡¥ç 
0 çš„åŸç ã€åç ã€è¡¥ç å‡ä¸º 0&lt;/li&gt;
&lt;li&gt;æ­£æ•°çš„è¡¥ç 
åŸç &lt;/li&gt;
&lt;li&gt;è´Ÿæ•°çš„è¡¥ç 
åŸç é™¤ç¬¦å·ä½å¤–çš„æ‰€æœ‰ä½å–å+1ã€‚å¦‚ä½•æ¨å‡ºæ¥çš„ï¼Œçœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼ŒæŒºæœ‰æ„æ€ã€‚&lt;a href=&quot;https://blog.csdn.net/wenxinwukui234/article/details/42119265&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç‚¹å‡»æŸ¥çœ‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—"><a href="#js-äºŒè¿›åˆ¶ä¸ä½è¿ç®—" class="headerlink" title="js äºŒè¿›åˆ¶ä¸ä½è¿ç®—"></a>js äºŒè¿›åˆ¶ä¸ä½è¿ç®—</h1><p>ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„æ˜¯ä»¥åè¿›åˆ¶ä¸ºå•ä½ï¼Œè¿›ä½æ˜¯æ»¡ 10 è¿› 1ï¼Œè€Œè®¡ç®—æœºæ˜¯ç”¨äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆå°±æ˜¯æ»¡ 2 è¿› 1 å–½ï¼Œä¸ºä»€ä¹ˆé‡‡ç”¨äºŒè¿›åˆ¶å‘¢ï¼Ÿç®€å•è¯´ä¸‹ï¼ŒTaçš„ç”±æ¥å…¶å®æ˜¯æ ¹æ®ç”µè·¯çš„å¼€å…³é—­åˆï¼Œç”µè·¯åªæœ‰ 0 å’Œ 1ï¼Œå…·ä½“çš„è¯¦æƒ…è¿™é‡Œä¸å¤šåšè§£é‡Šäº†ï¼Œå¯ä»¥è‡ªè¡Œç™¾ç§‘^_^ã€‚javascript é‡‡ç”¨æœ‰ç¬¦å· 32 ä½çš„ 2 è¿›åˆ¶ï¼Œå¯è¡¨ç¤º 4294967295 ä¸ªæ•´æ•°(å«æ­£è´Ÿ)ï¼ŒèŒƒå›´æ˜¯ -2147483648(2 çš„ 32 æ¬¡æ–¹) ~ 2147483647ã€‚</p><h2 id="å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ"><a href="#å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ" class="headerlink" title="å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ"></a>å¸¦ç¬¦å·äºŒè¿›åˆ¶åŸºæœ¬è§„åˆ™ä¸å‡ ä¸ªæ¦‚å¿µ</h2><p>åœ¨è®¡ç®—æœºä¸­è§„å®šæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œ0 ä¸ºæ­£ï¼Œ1 ä¸ºè´Ÿã€‚æ­£æ•°è¡¨ç¤ºæ˜¯åŸç ï¼Œè´Ÿæ•°æ˜¯åŸç çš„è¡¥ç ã€‚</p><h3 id="åŸç "><a href="#åŸç " class="headerlink" title="åŸç "></a>åŸç </h3><p>é™¤å»ç¬¦å·ä½ï¼Œå…¶ä»– 32 ä½éƒ½ä¸ºæ­£ã€‚</p><p>ä¾‹ï¼š00000000000000000000000000001010 åŸç  00000000000000000000000000001010ã€‚</p><h3 id="åç "><a href="#åç " class="headerlink" title="åç "></a>åç </h3><p>æ‰€è°“åç ï¼Œé™¤ç¬¦å·ä½å¤–ï¼Œå…¶ä»–ä½ 0 å˜ 1ï¼Œ1 å˜ 0ã€‚ä¾‹ï¼š1010 åç  1101</p><h3 id="è¡¥ç "><a href="#è¡¥ç " class="headerlink" title="è¡¥ç "></a>è¡¥ç </h3><p>æ‰€è°“è¡¥ç ï¼Œå°±åƒæ˜¯å°å­¦å­¦è¿‡çš„ 10 è¿›åˆ¶è¡¥æ•°ï¼Œä¸¾ä¸ªä¾‹å­å°±å¾ˆå¥½ç†è§£ï¼Œ3 çš„è¡¥æ•°æ˜¯å¤šå°‘ï¼Ÿæ˜¯ 7ã€‚4 çš„è¡¥æ•°æ˜¯ 6ï¼Œè¡¥æ•°å°±æ˜¯ 10 å‡å»è¿™ä¸ªæ•°ã€‚åœ¨äºŒè¿›åˆ¶çš„è¡¥ç å°±æ˜¯ç›¸åŠ ç­‰äº 0ï¼Œäº’ä¸ºç›¸åæ•°ã€‚</p><ul><li>0 çš„è¡¥ç 0 çš„åŸç ã€åç ã€è¡¥ç å‡ä¸º 0</li><li>æ­£æ•°çš„è¡¥ç åŸç </li><li>è´Ÿæ•°çš„è¡¥ç åŸç é™¤ç¬¦å·ä½å¤–çš„æ‰€æœ‰ä½å–å+1ã€‚å¦‚ä½•æ¨å‡ºæ¥çš„ï¼Œçœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼ŒæŒºæœ‰æ„æ€ã€‚<a href="https://blog.csdn.net/wenxinwukui234/article/details/42119265" target="_blank" rel="noopener">ç‚¹å‡»æŸ¥çœ‹</a></li></ul><hr><a id="more"></a><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><h3 id="æŒ‰ä½ä¸ï¼ˆANDï¼‰-amp"><a href="#æŒ‰ä½ä¸ï¼ˆANDï¼‰-amp" class="headerlink" title="æŒ‰ä½ä¸ï¼ˆANDï¼‰ &amp;"></a>æŒ‰ä½ä¸ï¼ˆANDï¼‰ &amp;</h3><p>æè¿°ï¼ša &amp; b å¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œåªæœ‰ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½éƒ½æ˜¯ 1 æ—¶ï¼Œç»“æœæ‰ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 &amp; 3 = 2    0000 0010&amp; 0000 0011â€”â€”â€”â€”â€”â€”â€”    0000 0010</p><h4 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯:"></a>åº”ç”¨åœºæ™¯:</h4><p>åˆ¤æ–­å¥‡å¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(num &amp; <span class="number">1</span>) <span class="comment">// 1 æ˜¯å¥‡æ•°  0æ˜¯å¶æ•°</span></span><br></pre></td></tr></table></figure><p><strong>æƒé™è®¾ç½®ï¼šè§£æƒé™</strong></p><p>å› ä¸ºå¥‡æ•°çš„æœ€åä¸€ä½æ°¸è¿œæ˜¯ 1ã€‚ä¸¾ä¾‹ï¼šnum æ˜¯ 30000 00110000 0001â€”â€”â€”â€”â€”0000 0001</p><h3 id="æŒ‰ä½æˆ–ï¼ˆORï¼‰"><a href="#æŒ‰ä½æˆ–ï¼ˆORï¼‰" class="headerlink" title="æŒ‰ä½æˆ–ï¼ˆORï¼‰|"></a>æŒ‰ä½æˆ–ï¼ˆORï¼‰|</h3><p>æè¿°ï¼šå¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½è‡³å°‘æœ‰ä¸€ä¸ª 1 æ—¶ï¼Œç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 | 3 = 3   0000 0010 | 0000 0011â€”â€”â€”â€”â€”â€”â€”    0000 0011</p><h4 id="åº”ç”¨åœºæ™¯ï¼š"><a href="#åº”ç”¨åœºæ™¯ï¼š" class="headerlink" title="åº”ç”¨åœºæ™¯ï¼š"></a>åº”ç”¨åœºæ™¯ï¼š</h4><p><strong>å°æ•°å–æ•´</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> n | <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">3.2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><p><strong>æƒé™</strong></p><p>å‡è®¾æˆ‘ä»¬è¯»çš„æƒé™æ˜¯ 1 å†™çš„æƒé™æ˜¯ 2ï¼Œå¦‚æœä¸€ä¸ªç”¨æˆ·åŒæ—¶æ‹¥æœ‰è¯»å’Œå†™ä¸¤ç§æƒé™ï¼Œæ­£å¸¸æ¥åˆ†é…å°±æ˜¯ç”¨ä¸€ä¸ªæ•°ç»„[1,2]ï¼Œé‚£ä¹ˆç”¨æˆ–è¿ç®—ç¬¦å¦‚ä½•åˆ†é…å‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Permission</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.instance = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">this</span>.permissions = &#123;</span><br><span class="line">      r: <span class="number">1</span>, <span class="comment">// è¯»</span></span><br><span class="line">      w: <span class="number">2</span>, <span class="comment">// å†™</span></span><br><span class="line">      e: <span class="number">4</span> <span class="comment">// æ‰§è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  getR() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r &#125;</span><br><span class="line">  getW() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.w &#125;</span><br><span class="line">  getE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  </span><br><span class="line">  getRW() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.w &#125;</span><br><span class="line">  getRE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  getWE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.w | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  </span><br><span class="line">  getRWE() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.permissions.r | <span class="keyword">this</span>.permissions.w | <span class="keyword">this</span>.permissions.e &#125;</span><br><span class="line">  getAll() &#123; <span class="keyword">return</span> <span class="built_in">Object</span>.values(<span class="keyword">this</span>.permissions).reduce((p1, p2, i) =p1 | p2) &#125;</span><br><span class="line">  </span><br><span class="line">  isR(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.r) &#125;</span><br><span class="line">  isW(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.w) &#125;</span><br><span class="line">  isE(per) &#123; <span class="keyword">return</span> <span class="built_in">Boolean</span>(per &amp; <span class="keyword">this</span>.permissions.e) &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> getInstance() &#123;</span><br><span class="line">    !<span class="keyword">this</span>.instance &amp;&amp; (<span class="keyword">this</span>.instance = <span class="keyword">new</span> Permission())</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.instance</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> per = Permission.getInstance()</span><br><span class="line">per.getRW() <span class="comment">// è¯»å†™æƒé™ï¼š3</span></span><br><span class="line">per.getAll() <span class="comment">// æ‰€æœ‰æƒé™ï¼š7</span></span><br><span class="line">per.isR(<span class="number">3</span>) <span class="comment">// true æ˜¯å¦æœ‰è¯»çš„æƒé™</span></span><br><span class="line">per.isW(<span class="number">5</span>) <span class="comment">// false æ˜¯å¦æœ‰å†™çš„æƒé™</span></span><br><span class="line">per.isE(<span class="number">5</span>) <span class="comment">// true æ˜¯å¦æœ‰æ‰§è¡Œçš„æƒé™</span></span><br></pre></td></tr></table></figure><p>æ³¨ï¼šåŸºæœ¬è¿ç®—è¿‡ç¨‹1 | 2 =&gt;  0000 0001| 0000 0010â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”0000 0011=3</p><h3 id="æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰"><a href="#æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰" class="headerlink" title="æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰^"></a>æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰^</h3><p>æè¿°ï¼šå¯¹äºæ¯ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°ç›¸åº”çš„æ¯”ç‰¹ä½æœ‰ä¸”åªæœ‰ä¸€ä¸ª 1 æ—¶ï¼Œç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚(æ‘˜è‡ª MDN)</p><p>ä¸¾ä¾‹ï¼š2 ^ 3   0000 0010^ 0000 0011â€”â€”â€”â€”â€”â€”    0000 0001</p><h4 id="åº”ç”¨åœºæ™¯-1"><a href="#åº”ç”¨åœºæ™¯-1" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><p>å˜é‡äº¤æ¢æˆ‘ä»¬ä¼šç”¨åˆ°ä¸¤ä¸ªå˜é‡çš„å€¼è¿›è¡Œäº¤æ¢ï¼Œæ¯”å¦‚å†’æ³¡æ’åºçš„ä¸¤ä¸¤å¯¹æ¯”ï¼Œè‹¥å‰è€…æ¯”åè€…å¤§å°±äº¤æ¢ä½ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span></span><br><span class="line"><span class="keyword">var</span> temp = a</span><br><span class="line"><span class="keyword">var</span> a = b</span><br><span class="line"><span class="keyword">var</span> b = temp</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å£°æ˜ç¬¬ä¸‰ä¸ªå˜é‡æ¥å®ç°äº¤æ¢ã€‚é‚£ä¹ˆï¼Œç”¨æŒ‰ä½å¼‚æˆ–å¯ä»¥è¿™ä¹ˆåšï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>,</span><br><span class="line">  b = <span class="number">2</span></span><br><span class="line">a ^= b</span><br><span class="line">b ^= a</span><br><span class="line">a ^= b</span><br></pre></td></tr></table></figure><p>åˆ†è§£ä¸€ä¸‹ä¸Šé¢çš„ï¼ša += 1 å’Œ a ^= b è¡¨è¾¾å¼è§„åˆ™æ˜¯ä¸€æ ·çš„æ‰€ä»¥ a ^= b =a = a ^ bï¼Œ çœ‹ä¸‹é¢è¿ç®—è¿‡ç¨‹ï¼š    0000 0001 ^ 0000 0010â€”â€”â€”â€”â€”â€”    0000 0011æ­¤æ—¶ï¼Œa å°±å˜æˆäº† 3ã€‚b ^= a =b = b ^ a    0000 0010 ^ 0000 0011â€”â€”â€”â€”â€”â€”    0000 0001æ­¤æ—¶ï¼Œb å˜æˆäº† 1ã€‚é‡å¤ç¬¬ä¸€æ­¥ï¼š    0000 0011 ^ 0000 0001â€”â€”â€”â€”â€”â€”    0000 0010æ­¤æ—¶ï¼Œa å˜æˆäº† 2ã€‚æœ€ç»ˆ a=2,b=1 å®ç°äº†å˜é‡çš„äº¤æ¢ã€‚å¥½å¤„æ˜¯å°‘å£°æ˜äº†ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œæ•ˆç‡ä¸Šï¼Œäº²æµ‹ç»“æœ å¼‚æˆ–è¿ç®—äº¤æ¢å¹¶ä¸æ¯”ç¬¬ä¸‰å˜é‡çš„æ•ˆç‡é«˜(æµ‹è¯•äº¤æ¢ 100 æ¬¡)ã€‚</p><h2 id="æŒ‰ä½éï¼ˆNOTï¼‰"><a href="#æŒ‰ä½éï¼ˆNOTï¼‰" class="headerlink" title="æŒ‰ä½éï¼ˆNOTï¼‰~"></a>æŒ‰ä½éï¼ˆNOTï¼‰~</h2><p>æè¿°ï¼šåè½¬æ“ä½œæ•°çš„æ¯”ç‰¹ä½ï¼Œå³ 0 å˜æˆ 1ï¼Œ1 å˜æˆ 0ã€‚çœ‹åˆ°è¿™ä¸ªå¯èƒ½ä¼šæƒ³åˆ°ä¸Šé¢æ‰€è¯´çš„åç ï¼Œè¿™ä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ï¼Œåç æ˜¯<strong>æŒ‰ç…§æœ‰ç¬¦å·å’Œæ— ç¬¦å·ç®—çš„</strong>,å–åæ˜¯ä¸ç®¡æœ‰æ²¡æœ‰ç¬¦å·å…¨éƒ¨ 0 å˜ 1,1 å˜ 0 çš„</p><h3 id="åº”ç”¨åœºæ™¯-2"><a href="#åº”ç”¨åœºæ™¯-2" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p><strong>å°æ•°å–æ•´</strong>è¿˜æœ‰ä¸€ä¸ªç‰¹å¾æ˜¯å–åæ˜¯ä¸èƒ½ç”¨äºæµ®ç‚¹å‹ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥å‘ä¸‹å–æ•´ï¼Œæ•ˆæœå’Œ Math.floor()ä¸€æ ·ï¼Œ~~æ•ˆç‡è¦é«˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> ~~n</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">3.2</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h2 id="å·¦ç§»ï¼ˆLeft-shiftï¼‰-lt-lt"><a href="#å·¦ç§»ï¼ˆLeft-shiftï¼‰-lt-lt" class="headerlink" title="å·¦ç§»ï¼ˆLeft shiftï¼‰&lt;&lt;"></a>å·¦ç§»ï¼ˆLeft shiftï¼‰&lt;&lt;</h2><p>æè¿°ï¼ša &lt;&lt; b ,å°† a çš„äºŒè¿›åˆ¶å½¢å¼å‘å·¦ç§» b (&lt; 32) æ¯”ç‰¹ä½ï¼Œå³è¾¹ç”¨ 0 å¡«å……ã€‚(æ‘˜è‡ª MDN)ä¸¾ä¾‹ï¼š3 &lt;&lt; 40000 0011 å‘å·¦ç§»åŠ¨ 4 ä½ =0011 0000å¯çŸ¥ï¼Œå·¦ç§»æ•°æ˜¯è¶Šæ¥è¶Šå¤§çš„ã€‚<strong>ç§»åŠ¨è¿ç®—ç¬¦è¿ç®—æ•ˆç‡è¾ƒé«˜</strong></p><h3 id="åº”ç”¨åœºæ™¯-3"><a href="#åº”ç”¨åœºæ™¯-3" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>x ä¹˜ä»¥ y çš„ n æ¬¡æ–¹ï¼š<strong>x &lt;&lt; y</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;&lt; <span class="number">3</span> =<span class="number">0000</span> <span class="number">1000</span> åŒ–æˆ<span class="number">10</span>è¿›åˆ¶ =<span class="number">1</span> * <span class="number">2</span>çš„<span class="number">3</span>æ¬¡æ–¹ =<span class="number">8</span></span><br></pre></td></tr></table></figure><p>2 è¿›åˆ¶åŒ–æˆ 10 è¿›åˆ¶ å°±æ˜¯ 2 çš„ n æ¬¡æ–¹ ä¹˜ä»¥ å½“å‰ä½ã€‚</p><h2 id="æœ‰ç¬¦å·å³ç§»-a-gt-b"><a href="#æœ‰ç¬¦å·å³ç§»-a-gt-b" class="headerlink" title="æœ‰ç¬¦å·å³ç§» a &gt;b"></a>æœ‰ç¬¦å·å³ç§» a &gt;b</h2><p>æè¿°ï¼šå°† a çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§» b (&lt; 32) ä½ï¼Œä¸¢å¼ƒè¢«ç§»å‡ºçš„ä½ã€‚è¯¥æ“ä½œç¬¦ä¼šå°†ç¬¬ä¸€ä¸ªæ“ä½œæ•°å‘å³ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ã€‚å‘å³è¢«ç§»å‡ºçš„ä½è¢«ä¸¢å¼ƒï¼Œæ‹·è´æœ€å·¦ä¾§çš„ä½ä»¥å¡«å……å·¦ä¾§ã€‚ç”±äºæ–°çš„æœ€å·¦ä¾§çš„ä½æ€»æ˜¯å’Œä»¥å‰ç›¸åŒï¼Œç¬¦å·ä½æ²¡æœ‰è¢«æ”¹å˜ã€‚æ‰€ä»¥è¢«ç§°ä½œâ€œç¬¦å·ä¼ æ’­â€ã€‚ä¸¾ä¾‹ï¼šæ­£æ•°å³ç§»ï¼š4 &gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span></span><br><span class="line">&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">   <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span></span><br></pre></td></tr></table></figure><p>æ­£æ•°å³ç§»ï¼Œä¸å¤Ÿçš„ä½æ•°ç”¨ç¬¦å·ä½ 0 è¡¥å…¨ï¼Œå¯ä»¥å‘ç°è§„å¾‹ï¼Œç»“æœæ˜¯ 4 / (2 çš„ 2 æ¬¡æ–¹) =å½“å‰ä½/(2 çš„ç§»ä½çš„ä½æ•°çš„æ¬¡æ–¹)</p><p>è´Ÿæ•°å³ç§»ï¼š-3 &gt;4</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0011</span> çš„è¡¥ç æ˜¯=&gt;</span><br><span class="line">   <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1101</span> å‘å³ç§»åŠ¨<span class="number">4</span>ä½ï¼Œå³è¾¹èˆå»ï¼Œå·¦ä¾§ç”¨ç¬¦å·ä½è¡¥é½</span><br><span class="line">&gt;                                      <span class="number">4</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">   <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> è¡¥ç æ˜¯=&gt;</span><br><span class="line">   <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span> æ‰€ä»¥,æœ€ç»ˆæ˜¯<span class="number">-1</span></span><br></pre></td></tr></table></figure><h2 id="æ— ç¬¦å·å³ç§»-a-gt-gt-b"><a href="#æ— ç¬¦å·å³ç§»-a-gt-gt-b" class="headerlink" title="æ— ç¬¦å·å³ç§» a &gt;&gt;b"></a>æ— ç¬¦å·å³ç§» a &gt;&gt;b</h2><p>æè¿°ï¼šå°† a çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§» b (&lt; 32) ä½ï¼Œä¸¢å¼ƒè¢«ç§»å‡ºçš„ä½ï¼Œå¹¶ä½¿ç”¨ 0 åœ¨å·¦ä¾§å¡«å……ã€‚æ­£æ•°å³ç§»ï¼š4 &gt;&gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span></span><br><span class="line">&gt;&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0001</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç° 4 &gt;&gt;2 å’Œ 4 &gt;2 ç»“æœéƒ½æ˜¯ 1ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºéè´Ÿæ•°æ¥è¯´ï¼Œæœ‰æ— ç¬¦å·å³ç§»ç»“æœéƒ½æ˜¯ç›¸åŒã€‚è´Ÿæ•°å³ç§»ï¼š-4 &gt;&gt;2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">1000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0100</span> è¡¥ç =&gt;</span><br><span class="line">    <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1100</span></span><br><span class="line">&gt;&gt;                                      <span class="number">2</span></span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">    <span class="number">0011</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span></span><br><span class="line">    åŒ–æˆ<span class="number">10</span>è¿›åˆ¶=<span class="number">2</span>^<span class="number">29.</span>.<span class="number">.2</span>^<span class="number">1</span>+<span class="number">1</span> = <span class="number">1073741823</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p><strong>ä½è¿ç®— ä¼˜åŠ¿ï¼šä¹˜é™¤ï¼Œå–æ¨¡ï¼Œè¿ç®—æ•ˆç‡é«˜ åŠ£åŠ¿ï¼šå¯è¯»æ€§è¾ƒä½ï¼Œå¯¹åˆå­¦è€…æœ‰éš¾åº¦ï¼Œå·¥ä½œä¸­åº”å½“æŒ‰éœ€æ‰€å–ï¼Œä¸åº”ä¸ºç‚«æŠ€æ»¥ç”¨ã€‚</strong> å¥½å¤šæºç éƒ½æœ‰ç”¨åˆ°ä½è¿ç®—ï¼ˆexpressã€koaã€koa-bodyï¼‰ï¼Œç°åœ¨å­¦ä¹ äº†ä½è¿ç®—ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸æ‹…å¿ƒè¯»ä¸æ‡‚æºç äº†ï¼</p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/js%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>HTML5ä¸­çš„Web Notificationæ¡Œé¢é€šçŸ¥</title>
      <link>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html</link>
      <guid>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html</guid>
      <pubDate>Wed, 06 May 2020 06:27:55 GMT</pubDate>
      <description>
      
        &lt;p&gt;Web Notifications æŠ€æœ¯ä½¿é¡µé¢å¯ä»¥å‘å‡ºé€šçŸ¥ï¼Œé€šçŸ¥å°†è¢«æ˜¾ç¤ºåœ¨é¡µé¢ä¹‹å¤–çš„ç³»ç»Ÿå±‚é¢ä¸Šã€‚èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒï¼Œå³ä½¿ç”¨æˆ·å¿™äºå…¶ä»–å·¥ä½œæ—¶ä¹Ÿå¯ä»¥æ”¶åˆ°æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯é€šçŸ¥ï¼Œä¾‹å¦‚ä¸€ä¸ªæ–°é‚®ä»¶çš„æé†’ï¼Œæˆ–è€…ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤æ”¶åˆ°çš„æ¶ˆæ¯æé†’ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PSï¼šé™¤äº†IEå¤–ï¼Œå„å¤§ç°ä»£æµè§ˆå™¨éƒ½å¯¹è¿™ä¸ªæ¡Œé¢æ¨é€æœ‰äº†åŸºæœ¬çš„æ”¯æŒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>Web Notifications æŠ€æœ¯ä½¿é¡µé¢å¯ä»¥å‘å‡ºé€šçŸ¥ï¼Œé€šçŸ¥å°†è¢«æ˜¾ç¤ºåœ¨é¡µé¢ä¹‹å¤–çš„ç³»ç»Ÿå±‚é¢ä¸Šã€‚èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒï¼Œå³ä½¿ç”¨æˆ·å¿™äºå…¶ä»–å·¥ä½œæ—¶ä¹Ÿå¯ä»¥æ”¶åˆ°æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯é€šçŸ¥ï¼Œä¾‹å¦‚ä¸€ä¸ªæ–°é‚®ä»¶çš„æé†’ï¼Œæˆ–è€…ä¸€ä¸ªåœ¨çº¿èŠå¤©å®¤æ”¶åˆ°çš„æ¶ˆæ¯æé†’ç­‰ç­‰ã€‚</p><blockquote><p>PSï¼šé™¤äº†IEå¤–ï¼Œå„å¤§ç°ä»£æµè§ˆå™¨éƒ½å¯¹è¿™ä¸ªæ¡Œé¢æ¨é€æœ‰äº†åŸºæœ¬çš„æ”¯æŒã€‚</p></blockquote><hr><a id="more"></a><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>è¦åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯é€šçŸ¥ï¼Œéå¸¸ç®€å•ï¼Œç›´æ¥ä½¿ç”¨ window å¯¹è±¡ä¸‹é¢çš„Notificationç±»å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="keyword">new</span> Notification(<span class="string">"æ¡Œé¢æ¨é€"</span>, &#123;</span><br><span class="line">icon: <span class="string">'img/icon.png'</span>,</span><br><span class="line">body: <span class="string">'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€æ¡æ¡Œé¢é€šçŸ¥ã€‚'</span>,</span><br><span class="line">    image:<span class="string">'img/1.jpg'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><blockquote><p>PSï¼šæ¶ˆæ¯é€šçŸ¥åªæœ‰é€šè¿‡WebæœåŠ¡è®¿é—®è¯¥é¡µé¢æ—¶æ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœç›´æ¥åŒå‡»æ‰“å¼€æœ¬åœ°æ–‡ä»¶ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ çš„æ–‡ä»¶éœ€è¦ä½¿ç”¨æœåŠ¡å™¨çš„å½¢å¼æ‰“å¼€ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°æ–‡ä»¶ã€‚</p></blockquote><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myNotification = <span class="keyword">new</span> Notification(title, options);</span><br></pre></td></tr></table></figure><ul><li><p>titleï¼šå®šä¹‰ä¸€ä¸ªé€šçŸ¥çš„æ ‡é¢˜ï¼Œå½“å®ƒè¢«è§¦å‘æ—¶ï¼Œå®ƒå°†æ˜¾ç¤ºåœ¨é€šçŸ¥çª—å£çš„é¡¶éƒ¨ã€‚</p></li><li><p>optionsï¼ˆå¯é€‰ï¼‰å¯¹è±¡åŒ…å«åº”ç”¨äºé€šçŸ¥çš„ä»»ä½•è‡ªå®šä¹‰è®¾ç½®é€‰é¡¹ã€‚</p></li></ul><p>å¸¸ç”¨çš„é€‰é¡¹æœ‰ï¼š</p><ul><li><p>body: é€šçŸ¥çš„æ­£æ–‡ï¼Œå°†æ˜¾ç¤ºåœ¨æ ‡é¢˜ä¸‹æ–¹ã€‚</p></li><li><p>tag: ç±»ä¼¼æ¯ä¸ªé€šçŸ¥çš„IDï¼Œä»¥ä¾¿åœ¨å¿…è¦çš„æ—¶å€™å¯¹é€šçŸ¥è¿›è¡Œåˆ·æ–°ã€æ›¿æ¢æˆ–ç§»é™¤ã€‚</p></li><li><p>icon: æ˜¾ç¤ºé€šçŸ¥çš„å›¾æ ‡</p></li><li><p>image: åœ¨é€šçŸ¥æ­£æ–‡ä¸­æ˜¾ç¤ºçš„å›¾åƒçš„URLã€‚</p></li><li><p>data: æ‚¨æƒ³è¦ä¸é€šçŸ¥ç›¸å…³è”çš„ä»»æ„æ•°æ®ã€‚è¿™å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ã€‚</p></li><li><p>renotify: ä¸€ä¸ª Boolean æŒ‡å®šåœ¨æ–°é€šçŸ¥æ›¿æ¢æ—§é€šçŸ¥åæ˜¯å¦åº”é€šçŸ¥ç”¨æˆ·ã€‚é»˜è®¤å€¼ä¸ºfalseï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä¸ä¼šè¢«é€šçŸ¥ã€‚</p></li><li><p>requireInteraction: è¡¨ç¤ºé€šçŸ¥åº”ä¿æŒæœ‰æ•ˆï¼Œç›´åˆ°ç”¨æˆ·ç‚¹å‡»æˆ–å…³é—­å®ƒï¼Œè€Œä¸æ˜¯è‡ªåŠ¨å…³é—­ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</p></li></ul><p>å½“è¿™æ®µä»£ç æ‰§è¡Œæ—¶ï¼Œæµè§ˆå™¨ä¼šè¯¢é—®ç”¨æˆ·ï¼Œæ˜¯å¦å…è®¸è¯¥ç«™ç‚¹æ˜¾ç¤ºæ¶ˆæ¯é€šçŸ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="http://cdn.mydearest.cn/blog/images/notification.png" alt="notification"></p><p>åªæœ‰ç”¨æˆ·ç‚¹å‡»äº†å…è®¸ï¼Œæˆæƒäº†é€šçŸ¥ï¼Œé€šçŸ¥æ‰ä¼šè¢«æ˜¾ç¤ºå‡ºæ¥ã€‚</p><h2 id="æˆæƒ"><a href="#æˆæƒ" class="headerlink" title="æˆæƒ"></a>æˆæƒ</h2><p><strong>å¦‚ä½•è·å–åˆ°ç”¨æˆ·ç‚¹å‡»çš„æ˜¯â€œå…è®¸â€è¿˜æ˜¯â€œé˜»æ­¢â€å‘¢ï¼Ÿ</strong></p><p>windowçš„ Notificationå®ä¾‹æœ‰ä¸€ä¸ª requestPermission å‡½æ•°ç”¨æ¥è·å–ç”¨æˆ·çš„æˆæƒçŠ¶æ€ï¼š<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¦–å…ˆï¼Œæˆ‘ä»¬æ£€æŸ¥æ˜¯å¦å…·æœ‰æƒé™æ˜¾ç¤ºé€šçŸ¥</span></span><br><span class="line"><span class="comment">// å¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬å°±ç”³è¯·æƒé™</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.Notification &amp;&amp; Notification.permission !== <span class="string">"granted"</span>) &#123;</span><br><span class="line">    Notification.requestPermission(<span class="function"><span class="keyword">function</span> (<span class="params">status</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// statusæ˜¯æˆæƒçŠ¶æ€ã€‚</span></span><br><span class="line">    <span class="comment">// å¦‚æœç”¨æˆ·ç‚¹å‡»çš„å…è®¸ï¼Œåˆ™statusä¸º'granted'</span></span><br><span class="line">    <span class="comment">// å¦‚æœç”¨æˆ·ç‚¹å‡»çš„ç¦æ­¢ï¼Œåˆ™statusä¸º'denied'</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿™å°†ä½¿æˆ‘ä»¬èƒ½åœ¨ Chrome/Safari ä¸­ä½¿ç”¨ Notification.permission</span></span><br><span class="line">    <span class="keyword">if</span> (Notification.permission !== status) &#123;</span><br><span class="line">            Notification.permission = status;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>æ³¨æ„ï¼šå¦‚æœç”¨æˆ·ç‚¹å‡»äº†æˆæƒå³ä¸Šè§’çš„å…³é—­æŒ‰é’®ï¼Œåˆ™statusçš„å€¼ä¸ºdefaultã€‚</p></blockquote><p>ä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­ status çš„å€¼æ˜¯å¦ä¸ºgrantedï¼Œæ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºé€šçŸ¥ã€‚</p><h2 id="é€šçŸ¥äº‹ä»¶"><a href="#é€šçŸ¥äº‹ä»¶" class="headerlink" title="é€šçŸ¥äº‹ä»¶"></a>é€šçŸ¥äº‹ä»¶</h2><p>ä½†æ˜¯å•çº¯çš„æ˜¾ç¤ºä¸€ä¸ªæ¶ˆæ¯æ¡†æ˜¯æ²¡æœ‰ä»»ä½•å¸å¼•åŠ›çš„ï¼Œæ‰€ä»¥æ¶ˆæ¯é€šçŸ¥åº”è¯¥å…·æœ‰ä¸€å®šçš„äº¤äº’æ€§ï¼Œåœ¨æ˜¾ç¤ºæ¶ˆæ¯çš„å‰å‰ååéƒ½åº”è¯¥æœ‰äº‹ä»¶çš„å‚ä¸ã€‚</p><p>Notificationä¸€å¼€å§‹å°±åˆ¶å®šå¥½äº†ä¸€ç³»åˆ—äº‹ä»¶å‡½æ•°ï¼Œå¼€å‘è€…å¯ä»¥å¾ˆæ–¹é¢çš„ä½¿ç”¨è¿™äº›å‡½æ•°å¤„ç†ç”¨æˆ·äº¤äº’ï¼š</p><p>æœ‰ï¼šonshow,onclick,onerror,oncloseã€‚<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="keyword">new</span> Notification(<span class="string">"æ¡Œé¢æ¨é€"</span>, &#123;</span><br><span class="line">icon: <span class="string">'img/icon.png'</span>,</span><br><span class="line">body: <span class="string">'è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€æ¡æ¡Œé¢é€šçŸ¥ã€‚'</span></span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//onshowå‡½æ•°åœ¨æ¶ˆæ¯æ¡†æ˜¾ç¤ºæ—¶è§¦å‘</span></span><br><span class="line"><span class="comment">//å¯ä»¥åšä¸€äº›æ•°æ®è®°å½•åŠå®šæ—¶å…³é—­æ¶ˆæ¯æ¡†ç­‰</span></span><br><span class="line">n.onshow = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'æ˜¾ç¤ºæ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">//5ç§’åå…³é—­æ¶ˆæ¯æ¡†</span></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">n.close();</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ¶ˆæ¯æ¡†è¢«ç‚¹å‡»æ—¶è¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">//å¯ä»¥æ‰“å¼€ç›¸å…³çš„è§†å›¾ï¼ŒåŒæ—¶å…³é—­è¯¥æ¶ˆæ¯æ¡†ç­‰æ“ä½œ</span></span><br><span class="line">n.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'ç‚¹å‡»æ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">// æ‰“å¼€ç›¸å…³çš„è§†å›¾</span></span><br><span class="line">n.close();</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//å½“æœ‰é”™è¯¯å‘ç”Ÿæ—¶ä¼šonerrorå‡½æ•°ä¼šè¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">//å¦‚æœæ²¡æœ‰grantedæˆæƒï¼Œåˆ›å»ºNotificationå¯¹è±¡å®ä¾‹æ—¶ï¼Œä¹Ÿä¼šæ‰§è¡Œonerrorå‡½æ•°</span></span><br><span class="line">n.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'æ¶ˆæ¯æ¡†é”™è¯¯'</span>);</span><br><span class="line"><span class="comment">// åšäº›å…¶ä»–çš„äº‹</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//ä¸€ä¸ªæ¶ˆæ¯æ¡†å…³é—­æ—¶oncloseå‡½æ•°ä¼šè¢«è°ƒç”¨</span></span><br><span class="line">n.onclose = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'å…³é—­æ¶ˆæ¯æ¡†'</span>);</span><br><span class="line"><span class="comment">//åšäº›å…¶ä»–çš„äº‹</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h2 id="é¡¹ç›®å®ä¾‹"><a href="#é¡¹ç›®å®ä¾‹" class="headerlink" title="é¡¹ç›®å®ä¾‹"></a>é¡¹ç›®å®ä¾‹</h2><p><a href="https://github.com/cosyer/pwa-tour" target="_blank" rel="noopener">pwaç‰ˆæ—…æ¸¸ç«™ç‚¹H5</a></p>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/HTML5%E4%B8%AD%E7%9A%84Web%20Notification%E6%A1%8C%E9%9D%A2%E9%80%9A%E7%9F%A5.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>å‰ç«¯åŠ¨ç”»çš„å®ç°æ–¹å¼æ€»ç»“</title>
      <link>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html</link>
      <guid>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html</guid>
      <pubDate>Wed, 29 Apr 2020 16:48:40 GMT</pubDate>
      <description>
      
        &lt;p&gt;é€šå¸¸åœ¨å‰ç«¯ä¸­ï¼Œå®ç°åŠ¨ç”»çš„æ–¹æ¡ˆä¸»è¦æœ‰6ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;js ç›´æ¥å®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SVGï¼ˆå¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CSS3 transition&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CSS3 animation&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CanvasåŠ¨ç”»&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;requestAnimationFrame&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p>é€šå¸¸åœ¨å‰ç«¯ä¸­ï¼Œå®ç°åŠ¨ç”»çš„æ–¹æ¡ˆä¸»è¦æœ‰6ç§ï¼š</p><ul><li><p>js ç›´æ¥å®ç°</p></li><li><p>SVGï¼ˆå¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢</p></li><li><p>CSS3 transition</p></li><li><p>CSS3 animation</p></li><li><p>CanvasåŠ¨ç”»</p></li><li><p>requestAnimationFrame</p></li></ul><hr><a id="more"></a><h2 id="js-ç›´æ¥å®ç°åŠ¨ç”»"><a href="#js-ç›´æ¥å®ç°åŠ¨ç”»" class="headerlink" title="js ç›´æ¥å®ç°åŠ¨ç”»"></a>js ç›´æ¥å®ç°åŠ¨ç”»</h2><blockquote><p>å…¶ä¸»è¦æ€æƒ³æ˜¯é€šè¿‡setIntervalæˆ–setTimeoutæ–¹æ³•çš„å›è°ƒå‡½æ•°æ¥æŒç»­è°ƒç”¨æ”¹å˜æŸä¸ªå…ƒç´ çš„CSSæ ·å¼ä»¥è¾¾åˆ°å…ƒç´ æ ·å¼å˜åŒ–çš„æ•ˆæœã€‚</p></blockquote><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#rect</span> &#123;</span></span><br><span class="line">            width: 200px;</span><br><span class="line">            height: 200px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"rect"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">'rect'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(left&lt;<span class="built_in">window</span>.innerWidth<span class="number">-200</span>)&#123;</span></span><br><span class="line"><span class="actionscript">                elem.style.marginLeft = left+<span class="string">'px'</span>;</span></span><br><span class="line">                left ++;</span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line">                clearInterval(timer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,16);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ç¼ºç‚¹ï¼šjs å®ç°åŠ¨ç”»é€šå¸¸ä¼šå¯¼è‡´é¡µé¢é¢‘ç¹æ€§é‡æ’é‡ç»˜ï¼Œæ¶ˆè€—æ€§èƒ½ï¼Œä¸€èˆ¬åº”è¯¥åœ¨æ¡Œé¢ç«¯æµè§ˆå™¨ã€‚åœ¨ç§»åŠ¨ç«¯ä¸Šä½¿ç”¨ä¼šæœ‰æ˜æ˜¾çš„å¡é¡¿ã€‚</li></ul><h3 id="Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms"><a href="#Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms" class="headerlink" title="Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms"></a>Tipï¼šä¸ºä»€ä¹ˆæ˜¯16ms</h3><p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è®¾ç½®çš„setIntervalæ—¶é—´é—´éš”æ˜¯16msã€‚ä¸€èˆ¬è®¤ä¸ºäººçœ¼èƒ½è¾¨è¯†çš„æµç•…åŠ¨ç”»ä¸ºæ¯ç§’60å¸§ï¼Œè¿™é‡Œ16msæ¯”(1000ms/60)å¸§ç•¥å°ä¸€äº›ï¼Œä½†æ˜¯ä¸€èˆ¬å¯ä»ä¸ºè¯¥åŠ¨ç”»æ˜¯æµç•…çš„ã€‚ </p><p>åœ¨å¾ˆå¤šç§»åŠ¨ç«¯åŠ¨ç”»æ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œä¸€èˆ¬ä½¿ç”¨16msæ¥è¿›è¡ŒèŠ‚æµå¤„ç†è¿ç»­è§¦å‘çš„æµè§ˆå™¨äº‹ä»¶ã€‚ä¾‹å¦‚å¯¹touchmoveã€scrolläº‹ä»¶è¿›è¡ŒèŠ‚æµç­‰ã€‚é€šè¿‡è¿™ç§æ–¹å¼å‡å°‘æŒç»­äº‹ä»¶çš„è§¦å‘é¢‘ç‡ï¼Œå¯ä»¥å¤§å¤§æå‡åŠ¨ç”»çš„æµç•…æ€§ã€‚</p><h2 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h2><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    *&#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"400"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">version</span>=<span class="string">"1.1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">""</span> <span class="attr">y</span>=<span class="string">""</span> <span class="attr">width</span>=<span class="string">"100"</span> <span class="attr">height</span>=<span class="string">"100"</span> <span class="attr">fill</span>=<span class="string">"rgb(255,0,0);"</span> <span class="attr">stroke</span>=<span class="string">""</span> <span class="attr">stroke-width</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span> <span class="attr">attributeName</span>=<span class="string">"x"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">to</span>=<span class="string">"100"</span> <span class="attr">begin</span>=<span class="string">"4s"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animate</span> <span class="attr">attributeName</span>=<span class="string">"x"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">from</span>=<span class="string">"0"</span> <span class="attr">to</span>=<span class="string">"300"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animate</span> <span class="attr">attributeName</span>=<span class="string">"y"</span> <span class="attr">attributeType</span>=<span class="string">"XML"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">from</span>=<span class="string">"0"</span> <span class="attr">to</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animateTransform</span> <span class="attr">attributeName</span>=<span class="string">"transform"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">type</span>=<span class="string">"scale"</span> <span class="attr">from</span>=<span class="string">"1"</span> <span class="attr">to</span>=<span class="string">"2"</span> <span class="attr">repeatCount</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">animateMotion</span> <span class="attr">path</span>=<span class="string">"M10,80 q100,120 120,20 q140,-50 160,0"</span> <span class="attr">begin</span>=<span class="string">"0s"</span> <span class="attr">dur</span>=<span class="string">"4s"</span> <span class="attr">repeatCount</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rect</span>&gt;</span>     </span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ä¼˜ç¼ºç‚¹</li></ul><p>SVGçš„ä¸€å¤§ä¼˜åŠ¿æ˜¯å«æœ‰è¾ƒä¸ºä¸°å¯Œçš„åŠ¨ç”»åŠŸèƒ½ï¼ŒåŸç”Ÿç»˜åˆ¶å„ç§å›¾å½¢ã€æ»¤é•œå’ŒåŠ¨ç”»ï¼Œå¹¶ä¸”èƒ½è¢«jsè°ƒç”¨ã€‚htmlæ˜¯å¯¹domçš„æ¸²æŸ“ï¼Œé‚£ä¹ˆsvgå°±æ˜¯å¯¹å›¾å½¢çš„æ¸²æŸ“ã€‚ ä½†æ˜¯ï¼Œå¦ä¸€æ–¹é¢å…ƒç´ è¾ƒå¤šä¸”å¤æ‚çš„åŠ¨ç”»ä½¿ç”¨svgæ¸²æŸ“ä¼šæ¯”è¾ƒæ…¢ï¼Œè€Œä¸”SVGæ ¼å¼çš„åŠ¨ç”»ç»˜åˆ¶æ–¹å¼å¿…é¡»è®©å†…å®¹åµŒå…¥åˆ°HTMLä¸­ä½¿ç”¨ã€‚CSS3çš„å‡ºç°è®©svgçš„åº”ç”¨å˜å¾—ç›¸å¯¹å°‘äº†ã€‚</p><h2 id="CSS3-transition"><a href="#CSS3-transition" class="headerlink" title="CSS3 transition"></a>CSS3 transition</h2><p>transitionæ˜¯è¿‡åº¦åŠ¨ç”»ã€‚ä½†æ˜¯transitionå¹¶ä¸èƒ½å®ç°ç‹¬ç«‹çš„åŠ¨ç”»ï¼Œåªèƒ½åœ¨æŸä¸ªæ ‡ç­¾å…ƒç´ æ ·å¼æˆ–çŠ¶æ€æ”¹å˜æ—¶è¿›è¡Œå¹³æ»‘çš„åŠ¨ç”»æ•ˆæœè¿‡æ¸¡ï¼Œè€Œä¸æ˜¯é©¬ä¸Šæ”¹å˜ã€‚</p><h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><p>åœ¨ç§»åŠ¨ç«¯å¼€å‘ä¸­ï¼Œç›´æ¥ä½¿ç”¨transitionåŠ¨ç”»ä¼šè®©é¡µé¢å˜æ…¢ç”šè‡³å¡é¡¿ã€‚æ‰€ä»¥æˆ‘ä»¬é€šå¸¸æ·»åŠ transform:translate3D(0,0,0)æˆ–transform:translateZ(0)æ¥å¼€å¯ç§»åŠ¨ç«¯åŠ¨ç”»çš„GPUåŠ é€Ÿï¼Œè®©åŠ¨ç”»è¿‡ç¨‹æ›´åŠ æµç•…ã€‚</p><h2 id="CSS3-animation"><a href="#CSS3-animation" class="headerlink" title="CSS3 animation"></a>CSS3 animation</h2><p>animation ç®—æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„CSS3åŠ¨ç”»ã€‚é€šè¿‡å¯¹å…³é”®å¸§å’Œå¾ªç¯æ¬¡æ•°çš„æ§åˆ¶ï¼Œé¡µé¢æ ‡ç­¾å…ƒç´ ä¼šæ ¹æ®è®¾å®šå¥½çš„æ ·å¼æ”¹å˜è¿›è¡Œå¹³æ»‘è¿‡æ¸¡ã€‚è€Œä¸”å…³é”®å¸§çŠ¶æ€çš„æ§åˆ¶æ˜¯é€šè¿‡ç™¾åˆ†æ¯”æ¥æ§åˆ¶çš„ã€‚</p><ul><li>ä¼˜ç‚¹CSS3æœ€å¤§çš„ä¼˜åŠ¿æ˜¯æ‘†è„±äº†jsçš„æ§åˆ¶ï¼Œå¹¶ä¸”èƒ½åˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿä»¥åŠå®ç°å¤æ‚åŠ¨ç”»æ•ˆæœã€‚</li></ul><h2 id="CanvasåŠ¨ç”»"><a href="#CanvasåŠ¨ç”»" class="headerlink" title="CanvasåŠ¨ç”»"></a>CanvasåŠ¨ç”»</h2><blockquote><p>canvasä½œä¸ºH5æ–°å¢å…ƒç´ ï¼Œæ˜¯å€ŸåŠ©Web APIæ¥å®ç°åŠ¨ç”»çš„ã€‚</p></blockquote><p>ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    *&#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">width</span>=<span class="string">"700"</span> <span class="attr">height</span>=<span class="string">"550"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">// é€šè¿‡getContext()è·å–å…ƒç´ çš„ç»˜åˆ¶å¯¹è±¡ï¼Œé€šè¿‡clearRectä¸æ–­æ¸…ç©ºç”»å¸ƒå¹¶åœ¨æ–°çš„ä½ç½®ä¸Šä½¿ç”¨fillStyleç»˜åˆ¶æ–°çŸ©å½¢å†…å®¹å®ç°é¡µé¢åŠ¨ç”»æ•ˆæœ</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">            ctx.clearRect(0,0,700,550);</span><br><span class="line">            ctx.beginPath();</span><br><span class="line"><span class="actionscript">            ctx.fillStyle = <span class="string">"#ccc"</span>;</span></span><br><span class="line">            ctx.fillRect(left,0,100,100);</span><br><span class="line">            ctx.stroke();</span><br><span class="line">            if(left&gt;700)&#123;</span><br><span class="line">                clearInterval(timer);</span><br><span class="line">            &#125;</span><br><span class="line">            left += 1;</span><br><span class="line">        &#125;,16);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>ä¼˜ç‚¹Canvasä¸»è¦ä¼˜åŠ¿æ˜¯å¯ä»¥åº”å¯¹é¡µé¢ä¸­å¤šä¸ªåŠ¨ç”»å…ƒç´ æ¸²æŸ“è¾ƒæ…¢çš„æƒ…å†µï¼Œå®Œå…¨é€šè¿‡javascriptæ¥æ¸²æŸ“æ§åˆ¶åŠ¨ç”»çš„æ‰§è¡Œã€‚å¯ç”¨äºå®ç°è¾ƒå¤æ‚åŠ¨ç”»ã€‚</li></ul><h2 id="requestAnimationFrame"><a href="#requestAnimationFrame" class="headerlink" title="requestAnimationFrame"></a>requestAnimationFrame</h2><p>requestAnimationFrameæ˜¯å¦ä¸€ç§Web APIï¼ŒåŸç†ä¸setTimeoutå’ŒsetIntervalç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡javascriptæŒç»­å¾ªç¯çš„æ–¹æ³•è°ƒç”¨æ¥è§¦å‘åŠ¨ç”»åŠ¨ä½œã€‚ä½†æ˜¯requestAnimationFrameæ˜¯æµè§ˆå™¨é’ˆå¯¹åŠ¨ç”»ä¸“é—¨ä¼˜åŒ–å½¢æˆçš„APiï¼Œåœ¨æ€§èƒ½ä¸Šæ¯”å¦ä¸¤è€…è¦å¥½ã€‚</p><p>æ —å­ğŸŒ°<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">        * &#123;</span><br><span class="line"><span class="css">            <span class="selector-tag">margin</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        div &#123;</span><br><span class="line">            width: 200px;</span><br><span class="line">            height: 200px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"rect"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.requestAnimationFrame = <span class="built_in">window</span>.requestAnimationFrame || <span class="built_in">window</span>.mozRequestAnimationFrame || <span class="built_in">window</span>.webkitRequestAnimationFrame ||</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.msRequestAnimationFrame;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">"rect"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> left = <span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//è‡ªåŠ¨æ‰§è¡ŒæŒç»­æ€§å›è°ƒ</span></span></span><br><span class="line">    requestAnimationFrame(step);</span><br><span class="line"><span class="actionscript">    <span class="comment">//æŒç»­è¯¥æ”¹å˜å…ƒç´ ä½ç½®</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">step</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>(left&lt;<span class="built_in">window</span>.innerWidth<span class="number">-200</span>)&#123;</span></span><br><span class="line">            left+=1;</span><br><span class="line"><span class="actionscript">            elem.style.marginLeft = left+<span class="string">"px"</span>;</span></span><br><span class="line">            requestAnimationFrame(step);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¤æ‚çš„åŠ¨ç”»æ˜¯é€šè¿‡ä¸€ä¸ªä¸ªç®€å•çš„åŠ¨ç”»ç»„åˆå®ç°çš„ã€‚åŸºäºå…¼å®¹æ€§é—®é¢˜ï¼Œé€šå¸¸åœ¨é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬åœ¨</p><ul><li>æ¡Œé¢ç«¯æµè§ˆå™¨æ¨èä½¿ç”¨javascriptç›´æ¥å®ç°åŠ¨ç”»æˆ–SVGæ–¹å¼ï¼›</li><li>ç§»åŠ¨ç«¯å¯ä»¥è€ƒè™‘ä½¿ç”¨CSS3 transitionã€CSS3 animationã€Canvasæˆ–requestAnimationFrameæ–¹å¼**ã€‚</li></ul>]]></content:encoded>
      
      <comments>http://mydearest.cn/2020/%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
